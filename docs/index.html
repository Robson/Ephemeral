<!DOCTYPE html>
<html lang="en">
	<head>
		<title>22:06 23-Sep - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Flash floods and heavy rain batter England and Wales</b><br/>More than two month\'s worth of rain has fallen in some areas, causing disruption." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn4zy0mp8ldo">Flash floods and heavy rain batter England and Wales</a></li><li class="ttt" data-tt="<b>Harrods investigating if current staff involved in Fayed allegations</b><br/>One former employee tells the BBC a manager, who still works at the store, failed to investigate when she complained."><a href="https://www.bbc.com/news/articles/cdxr20lv8xvo">Harrods investigating if current staff involved in Fayed allegations</a></li><li class="ttt" data-tt="<b>BBC report on unlawful SAS killings \'broadly accurate\', MoD concluded</b><br/>Officials wrote a letter saying a Panorama report on alleged war crimes in Afghanistan was accurate, despite public denials."><a href="https://www.bbc.com/news/articles/cx2l0vzrv25o">BBC report on unlawful SAS killings \'broadly accurate\', MoD concluded</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn4zy0mp8ldo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0ea1/live/b54579d0-79dc-11ef-8c1a-df523ba43a9a.jpg" class="ttt" data-tt="A woman wearing a plastic ran poncho cycles through floodwater after the River Thames overtopped its banks in London" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Why \'Comrade Kamala\' memes are spreading among Latino exiles</b><br/>The Democratic presidential nominee has been the target of misinformation portraying her as a communist." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn8jg11ynj7o">Why \'Comrade Kamala\' memes are spreading among Latino exiles</a></li><li class="ttt" data-tt="<b>What latest FBI data shows about violent crime</b><br/>BBC Verify looks at violent crime rates in the US following the release of new data from the FBI."><a href="https://www.bbc.com/news/articles/c4glxxreed7o">What latest FBI data shows about violent crime</a></li><li class="ttt" data-tt="<b>Suspect described Trump \'assassination attempt\' in pre-written note</b><br/>The letter was dropped off at the home of a witness several months before the incident in Florida."><a href="https://www.bbc.com/news/articles/c89ly20vvgvo">Suspect described Trump \'assassination attempt\' in pre-written note</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn8jg11ynj7o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3287/live/bf21ab10-76ce-11ef-a163-cf5ed1f7de06.jpg" class="ttt" data-tt="Kamala Harris addresses the Congressional Hispanic Caucus Institute on 18 September" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Deadliest day in years for Lebanon as Israel steps up strikes on Hezbollah</b><br/>Israel says it hit 1,300 Hezbollah targets and tells civilians to flee areas near the group’s weapons." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cp3wy8kpy3eo">Deadliest day in years for Lebanon as Israel steps up strikes on Hezbollah</a></li><li class="ttt" data-tt="<b>\'We just had to flee\': Fear and tension in Lebanon under deadly Israeli bombardment</b><br/>Thousands have fled southern Lebanon while others say they are leaving the capital Beirut."><a href="https://www.bbc.com/news/articles/crl8xw7ww70o">\'We just had to flee\': Fear and tension in Lebanon under deadly Israeli b...</a></li><li class="ttt" data-tt="<b>Suspect described Trump \'assassination attempt\' in pre-written note</b><br/>The letter was dropped off at the home of a witness several months before the incident in Florida."><a href="https://www.bbc.com/news/articles/c89ly20vvgvo">Suspect described Trump \'assassination attempt\' in pre-written note</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cp3wy8kpy3eo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/99d8/live/c0f93750-7999-11ef-b02d-c5f3b724a1ea.jpg" class="ttt" data-tt="Smoke billows following an Israeli strike near Tyre, southern Lebanon (23 September 2024)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Swearing punishment could speed up F1 exit - Verstappen</b><br/>Max Verstappen says issues such as his punishment for swearing may &quot;decide my future&quot; and are &quot;really tiring&quot;." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c0m0wwk7ejno">Swearing punishment could speed up F1 exit - Verstappen</a></li><li class="ttt" data-tt="<b>Norris takes dominant Singapore win from Verstappen</b><br/>McLaren’s Lando Norris wins the Singapore Grand Prix to take a further chunk out of Max Verstappen’s advantage in the championship."><a href="https://www.bbc.com/sport/formula1/articles/c79n8dzl2zqo">Norris takes dominant Singapore win from Verstappen</a></li><li class="ttt" data-tt="<b>Ricciardo has \'good idea\' F1 career might be over</b><br/>Daniel Ricciardo says he has “a good idea” that he might have driven his last race in Formula 1."><a href="https://www.bbc.com/sport/formula1/articles/c98144n36p3o">Ricciardo has \'good idea\' F1 career might be over</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c0m0wwk7ejno"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/21dd/live/19aec620-7900-11ef-8923-bba15e4882b3.jpg" class="ttt" data-tt="Max Verstappen pictured at a Singapore Grand Prix news conference" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>MrBeast is YouTube\'s biggest star - now he faces 54-page lawsuit</b><br/>It’s been another busy week for Jimmy Donaldson, in what is becoming a bit of a theme for the world’s biggest YouTuber." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/ckgn8d04kdko">MrBeast is YouTube\'s biggest star - now he faces 54-page lawsuit</a></li><li class="ttt" data-tt="<b>A Tamagotchi comeback? Toy gets first UK store as global sales double</b><br/>The egg-shaped toy which housed a virtual pet was one of the biggest crazes of the 90s."><a href="https://www.bbc.com/news/articles/cd0zedgdvdlo">A Tamagotchi comeback? Toy gets first UK store as global sales double</a></li><li class="ttt" data-tt="<b>Sky Glass customers complain as TVs won\'t turn on</b><br/>The company has apologised to Sky Glass and Sky Stream customers encountering issues."><a href="https://www.bbc.com/news/articles/cy0lnxgnjkno">Sky Glass customers complain as TVs won\'t turn on</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/ckgn8d04kdko"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/64ce/live/66707d20-7728-11ef-8a58-3de0b1251a4e.png" class="ttt" data-tt="MrBeast, a young man with short brown hair and facial hair." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"23 Sep – 29 Sep","date":1727136E6,"ts":"Tue, 24","ds":"Tue, 24 Sep","icon":18,"desc":"Sprinkles early. Overcast.","temp":15,"templow":9,"cf":13,"wind":10,"wd":270,"hum":73,"pc":45,"rain":2},{"date":17272224E5,"ts":"Wed, 25","ds":"Wed, 25 Sep","icon":18,"desc":"Drizzle. Overcast.","temp":15,"templow":8,"cf":14,"wind":6,"wd":180,"hum":73,"pc":44,"rain":1.4 },{"date":17273088E5,"ts":"Thu, 26","ds":"Thu, 26 Sep","icon":33,"desc":"Rain showers. Overcast.","temp":16,"templow":9,"cf":14,"wind":9,"wd":280,"hum":80,"pc":77,"rain":9.2 },{"date":17273952E5,"ts":"Fri, 27","ds":"Fri, 27 Sep","icon":18,"desc":"Sprinkles. Cloudy.","temp":11,"templow":4,"cf":8,"wind":13,"wd":320,"hum":67,"pc":60,"rain":3.8 },{"date":17274816E5,"ts":"Sat, 28","ds":"Sat, 28 Sep","icon":18,"desc":"Sprinkles late. Cloudy.","temp":13,"templow":4,"cf":10,"wind":13,"wd":240,"hum":64,"pc":38,"rain":0.6 },{"date":1727568E6,"ts":"Sun, 29","ds":"Sun, 29 Sep","icon":4,"desc":"Increasing cloudiness.","temp":14,"templow":5,"cf":12,"wind":7,"wd":180,"hum":64,"pc":5},{"hl":true,"hls":"30 Sep – 6 Oct","date":17276544E5,"ts":"Mon, 30","ds":"Mon, 30 Sep","icon":33,"desc":"Light showers. Overcast.","temp":11,"templow":8,"cf":8,"wind":9,"wd":80,"hum":92,"pc":19,"rain":4.5 },{"date":17277408E5,"ts":"Tue, 1","ds":"Tue, 1 Oct","icon":18,"desc":"Sprinkles. Partly cloudy.","temp":15,"templow":10,"cf":14,"wind":15,"wd":300,"hum":64,"pc":52,"rain":0.8 },{"date":17278272E5,"ts":"Wed, 2","ds":"Wed, 2 Oct","icon":18,"desc":"Sprinkles. Cloudy.","temp":15,"templow":10,"cf":13,"wind":13,"wd":310,"hum":61,"pc":51,"rain":1.6 },{"date":17279136E5,"ts":"Thu, 3","ds":"Thu, 3 Oct","icon":6,"desc":"Mostly cloudy.","temp":14,"templow":9,"cf":14,"wind":7,"wd":290,"hum":54,"pc":6},{"date":1728E9,"ts":"Fri, 4","ds":"Fri, 4 Oct","icon":7,"desc":"Overcast.","temp":15,"templow":9,"cf":14,"wind":7,"wd":160,"hum":61,"pc":6},{"date":17280864E5,"ts":"Sat, 5","ds":"Sat, 5 Oct","icon":7,"desc":"Overcast.","temp":15,"templow":9,"cf":14,"wind":14,"wd":170,"hum":64,"pc":5},{"date":17281728E5,"ts":"Sun, 6","ds":"Sun, 6 Oct","icon":18,"desc":"Sprinkles late. Overcast.","temp":15,"templow":10,"cf":14,"wind":12,"wd":230,"hum":62,"pc":54,"rain":0.8 },{"hl":true,"hls":"7 Oct – 13 Oct","date":17282592E5,"ts":"Mon, 7","ds":"Mon, 7 Oct","icon":19,"desc":"Rain. Decreasing cloudiness.","temp":17,"templow":11,"cf":17,"wind":12,"wd":230,"hum":86,"pc":71,"rain":9.6 },{"date":17283456E5,"ts":"Tue, 8","ds":"Tue, 8 Oct","icon":33,"desc":"Showers early. Overcast.","temp":18,"templow":11,"cf":16,"wind":12,"wd":310,"hum":76,"pc":74,"rain":8}],"grid":{"temp":{"low":4,"high":18,"range":14},"prec":{"high":9.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2409/Comet23A3_Valente_960.jpg',
		Title:     'Comet Tsuchinshan-ATLAS Approaches',
		LinkImage: 'https://apod.nasa.gov/apod/image/2409/Comet23A3_Valente_5672.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240923.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Hepatica_nobilis_flowers_-_blue_and_pink_-_Keila.jpg/550px-Hepatica_nobilis_flowers_-_blue_and_pink_-_Keila.jpg',
		Title:    'Anemone hepatica',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Anemone_hepatica',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Anemone_hepatica" title="Anemone hepatica">Anemone hepatica</a></b></i> is a species of <a href="https://en.wikipedia.org/wiki/Flowering_plant" title="Flowering plant">flowering plant</a> in the buttercup family <a href="https://en.wikipedia.org/wiki/Ranunculaceae" title="Ranunculaceae">Ranunculaceae</a>, native to woodland in <a href="https://en.wikipedia.org/wiki/Temperate_climate" title="Temperate climate">temperate</a> regions of the Northern Hemisphere. Traditional <a href="https://en.wikipedia.org/wiki/Herbal_medicine" title="Herbal medicine">herbal medicine</a> claimed that it was useful in the treatment of <a href="https://en.wikipedia.org/wiki/Liver" title="Liver">liver</a> disorders, hence its name (from Greek <span title="Ancient Greek (to 1453)-language romanization"><i lang="grc-Latn">hepatikos</i></span>, \'of the liver\'). This photograph shows the flowers of two <i>A.&#160;hepatica</i> <a href="https://en.wikipedia.org/wiki/Variety_(botany)" title="Variety (botany)">varieties</a>, blue (common) and pink (rare), growing in a forest in <a href="https://en.wikipedia.org/wiki/Keila" title="Keila">Keila</a>, Estonia. The picture was <a href="https://en.wikipedia.org/wiki/Focus_stacking" title="Focus stacking">focus-stacked</a> from 29 separate images.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.orghttps://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="c:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1727067600,"duration":12600,"svcId":560,"evtId":27745,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727078400,"availabilityEnd":1727166540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00238bg\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Gethin Jones and Michelle Ackerley talk to Wynne Evans and Katya Jones about Strictly week one. Plus Nick Stapleton explaining the scams happening right now. [S] [HD]","startTime":1727080200,"duration":4500,"svcId":560,"evtId":27746,"image":"\/ms\/img\/epg\/rb\/fec6-p0js7n6k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727084689,"availabilityEnd":1758620689,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238bj\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":81},{"name":"SAS: Catching the Criminals","description":"11\/15. Shoplifting gangs are on the rise. Ex-SAS leader Billy Billingham and Cheshire Police use facial recognition powered by AI to catch suspected shoplifters. [S] [HD]","startTime":1727084700,"duration":1800,"svcId":560,"evtId":27848,"image":"\/ms\/img\/epg\/rb\/fec6-p0jnyz12.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1725858000,"availabilityEnd":1757394000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022p9k\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":11},{"name":"Homes Under the Hammer","description":"26\/80. A terraced house in Birkenhead, a large period property in Ramsgate and a one-bedroom flat in a smart block in Hull are all sold at online auctions. But will any of them turn a profit? [S] [HD]","startTime":1727086500,"duration":3600,"svcId":560,"evtId":27747,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcg50.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727090090,"availabilityEnd":1729682090,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001m76w\u0026ui_id=4.0.0"},"seriesNo":39,"episodeNo":26},{"name":"Bargain Hunt","description":"Roo Irvine challenges people in County Antrim to identify a mystery object, while two teams hunt for bargains at an antiques fair with experts Caroline Hawley and Thomas Forrester. [S] [HD]","startTime":1727090100,"duration":2700,"svcId":560,"evtId":27849,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrhyb1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727092799,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238tp\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1727092800,"duration":3600,"svcId":560,"evtId":27748,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":126},{"name":"Doctors","description":"Kirsty weighs up her options, and Scarlett gets a glimpse of the high life. Sid must help a teenager find the confidence to tell the truth about what\u0027s making her ill. [S,AD] [HD]","startTime":1727096400,"duration":1800,"svcId":560,"evtId":27850,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqwlgp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727098185,"availabilityEnd":1758634185,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238tr\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":245},{"name":"Robson Green\u0027s Weekend Escapes","description":"6\/15. Robson and fellow Grantchester star Tessa Peake-Jones take in the landscape of the North York Moors and find themselves exploring the benefits of outdoor yoga with goats. [S,AD] [HD]","startTime":1727098200,"duration":1800,"svcId":560,"evtId":27751,"image":"\/ms\/img\/epg\/rb\/fec6-p0h0ps9p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704088800,"availabilityEnd":1735711200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tkfj\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"Escape to the Country","description":"5\/55. Briony May Williams helps a couple to find a new home in the Buckinghamshire countryside and meets someone who has already swapped city life for farm life in the county. [S] [HD]","startTime":1727100000,"duration":2700,"svcId":560,"evtId":27851,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrt2tr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727102680,"availabilityEnd":1758638680,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238tt\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":5},{"name":"Antiques Road Trip","description":"1\/25. Margie Cooper and Ochuko Ojiri set off on a north west antiques hunt. A 1940s fairground collectible takes bidders for a ride, while a silver egg cup has a royal connection. [S] [HD]","startTime":1727102700,"duration":2700,"svcId":560,"evtId":28029,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f1r45q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727105375,"availabilityEnd":1729697375,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001j6m0\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":1},{"name":"Garden Rescue","description":"21\/35. Chris and Lee are in Congleton to transform Marie\u0027s prison yard garden, with imposing high walls, into a traditional cottage garden. [S] [HD]","startTime":1727105400,"duration":2700,"svcId":560,"evtId":27889,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr0gr2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727108074,"availabilityEnd":1760199305,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023994\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":21},{"name":"New: Pointless","description":"18\/49. Alexander Armstrong is joined by co-host Chris Ramsey for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1727108100,"duration":2700,"svcId":560,"evtId":27852,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnfl8w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727110802,"availabilityEnd":1770227930,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238tw\u0026ui_id=4.0.0"},"seriesNo":32,"episodeNo":18},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1727110800,"duration":1800,"svcId":560,"evtId":27753,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727112690,"availabilityEnd":1727199090,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238br\u0026ui_id=4.0.0"},"episodeNo":126},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1727112600,"duration":1800,"svcId":560,"evtId":27754,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727114295,"availabilityEnd":1727200695,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238bt\u0026ui_id=4.0.0"},"episodeNo":176},{"name":"The One Show","description":"Jane McDonald and Danny O\u0027Donoghue join Alex Jones and Roman Kemp on the sofa. Plus, Rav Wilding and Michelle Ackerley mark 40 years of Crimewatch. [S] [HD]","startTime":1727114400,"duration":1800,"svcId":560,"evtId":27853,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727116247,"availabilityEnd":1729708247,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238ty\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Nish stops at nothing to pull off his plan. Reiss receives some disheartening news from Debbie\u0027s parents. Teddy grows tired of Harry\u0027s idleness. [S,AD] [HD]","startTime":1727116200,"duration":1800,"svcId":560,"evtId":27890,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr423q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727067600,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023996\u0026ui_id=4.0.0"},"episodeNo":6983},{"name":"Supermarket Deals: How Good Are...","description":"...They? - Panorama. Michelle Ackerley investigates supermarket deals as the cost-of-living squeeze continues. [S] [HD]","startTime":1727118000,"duration":1800,"svcId":560,"evtId":27920,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrb8pl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727067600,"availabilityEnd":1758603600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023b34\u0026ui_id=4.0.0"}},{"name":"Scam Interceptors","description":"15\/20. Scammers convince a woman to withdraw \u00a32,000 in cash. Can the Interceptors stop her sending the money straight to the criminals? [S] [HD]","startTime":1727119800,"duration":1800,"svcId":560,"evtId":27891,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gljfm0.jpg","hasTstv":false,"seriesNo":4,"episodeNo":15},{"name":"Nightsleeper","description":"4\/6. With the entire network now out of control, Abby starts to doubt everyone around her too. Contains some strong language. [S,AD] [HD]","startTime":1727121600,"duration":3600,"svcId":560,"evtId":27892,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jpvph1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726376400,"availabilityEnd":1884142800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0022ttw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1727125200,"duration":1800,"svcId":560,"evtId":27755,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727127090,"availabilityEnd":1727213490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238bw\u0026ui_id=4.0.0"},"episodeNo":126},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1727127000,"duration":600,"svcId":560,"evtId":27756,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727127450,"availabilityEnd":1727213850,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238by\u0026ui_id=4.0.0"},"episodeNo":151},{"name":"In My Own Words: Jackie Kay","description":"One of Britian\u0027s most loved poets, Jackie Kay, on how her powerful work draws from her life\u0027s journey, considering race, gender and identity with tenderness and humour. [S,AD] [HD]","startTime":1727127600,"duration":2700,"svcId":560,"evtId":27893,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqv5l3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727130411,"availabilityEnd":1758666411,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023998\u0026ui_id=4.0.0"},"seriesNo":1},{"name":"Have I Got News for You","description":"7\/10. Steph McGovern is guest host, with panellists broadcaster Carol Vorderman and comedian Nabil Abdulrashid joining team captains Paul Merton and Ian Hislop. Contains some strong language. [S] [HD]","startTime":1727130300,"duration":1800,"svcId":560,"evtId":27894,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fqnf6d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718568000,"availabilityEnd":1750049940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001m789\u0026ui_id=4.0.0"},"seriesNo":65,"episodeNo":7},{"name":"The Repair Shop","description":"12\/25. A farming family\u0027s butter churn and a fire-damaged teddy bear are given new life, and a guitar amp at the centre of Derry\u0027s punk scene in the 1970s is ready to roar again. [S,AD] [HD]","startTime":1727132100,"duration":3600,"svcId":560,"evtId":27895,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr9qlb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726689606,"availabilityEnd":1761249466,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023h7g\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":12},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1727135700,"duration":300,"svcId":560,"evtId":27757,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727136093,"availabilityEnd":1727742697,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238c0\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1727136000,"duration":18000,"svcId":560,"evtId":27758,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":176}]},{"channelid":700,"offset":0,"event":[{"name":"We Might Regret This","description":"5\/6. Freya and Abe take a solo trip. Levi has his first food truck gig, which Jo helps with. Contains very strong language and some scenes of a sexual nature. [S,AD,SL] [HD]","startTime":1727059200,"duration":1500,"svcId":700,"evtId":19458,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jj43dh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724043600,"availabilityEnd":1755579600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021cts\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Bargain Hunt","description":"Jonathan Pratt and Philip Serrell guide two teams around an antiques fair in Wetherby, while Caroline learns about our fascination with hats in days gone by. [S,AD] [HD]","startTime":1727069400,"duration":2700,"svcId":700,"evtId":19359,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jq3jgp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726833600,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023262\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"Garden Rescue Revisited","description":"20\/35. Charlie revisits three of her favourite Garden Rescue projects, including a riot of colour in Stevenage and a garden inspired by an African landscape. [S] [HD]","startTime":1727072100,"duration":2700,"svcId":700,"evtId":19360,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jplb1n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726846303,"availabilityEnd":1760199305,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00231cw\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":20},{"name":"A Cook Abroad","description":"2\/6. Cooking show. Scottish chef Tony Singh travels to India to trace his family roots and discover whether his mum\u0027s Punjabi cooking is the real deal. [S,AD,SL] [HD]","startTime":1727074800,"duration":3600,"svcId":700,"evtId":19361,"image":"\/ms\/img\/epg\/rb\/fec6-p02j4vz2.jpg","hasTstv":false,"episodeNo":2},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1727078400,"duration":9000,"svcId":700,"evtId":19362,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live Conference 2024","description":"Rachel Reeves addresses the Labour Party Conference in Liverpool. [S] [HD]","startTime":1727087400,"duration":5400,"svcId":700,"evtId":19363,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727092805,"availabilityEnd":1729684805,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239wg\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"16\/30. The quiz show where players must avoid Impossible answers to stay in the competition. How many of today\u0027s players will survive to face the \u00a310,000 question? [S] [HD]","startTime":1727092800,"duration":2700,"svcId":700,"evtId":19364,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727095482,"availabilityEnd":1729687482,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000tym6\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":16},{"name":"Unbeatable","description":"20\/45. Jason Manford hosts the quiz show where players face a question and pick from a board of six rankable answers. Some answers are good, but only one is unbeatable. [S] [HD]","startTime":1727095500,"duration":2700,"svcId":700,"evtId":19365,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ff38dh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727098173,"availabilityEnd":1729690173,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ksmx\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":20},{"name":"Food \u0026 Drink: Great British Grub","description":"3\/10. Tom Kerridge and Hugh Fearnley-Whittingstall go head to head to come up with the best British dish, while Oliver Peyton takes a look at cured meats from Blighty. [S,AD] [HD]","startTime":1727098200,"duration":1800,"svcId":700,"evtId":19366,"image":"\/ms\/img\/epg\/rb\/fec6-p02g4z04.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727100008,"availabilityEnd":1729692008,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b04yb1sp\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":3},{"name":"MasterChef: The Professionals","description":"15\/21. As knockout week continues, the second group of five chefs face two intense challenges set by Monica and Marcus in a bid to become semi-finalists. [S,AD] [HD]","startTime":1727100000,"duration":3600,"svcId":700,"evtId":19367,"image":"\/ms\/img\/epg\/rb\/ae0c-p07w3nk7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727103601,"availabilityEnd":1729695601,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000by5x\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":15},{"name":"Home away from Home","description":"Families swap homes with strangers to travel around the UK. Best friends from Essex swap homes and lifestyles with a family from Oxfordshire. But will they enjoy the swap? [S] [HD]","startTime":1727103600,"duration":2700,"svcId":700,"evtId":19368,"image":"\/ms\/img\/epg\/rb\/fec6-p033szwp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727106295,"availabilityEnd":1729698295,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b06knk51\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":16},{"name":"Villages by the Sea - Clovelly","description":"Archaeologist Ben Robinson reveals the story of this Devon coastal gem\u0027s transformation from fishing village to romantic Victorian seaside resort. [S] [HD]","startTime":1727106300,"duration":1800,"svcId":700,"evtId":19369,"image":"\/ms\/img\/epg\/rb\/ae0c-p07wxv5n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689310800,"availabilityEnd":1734328800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000c799\u0026ui_id=4.0.0"},"seriesNo":1},{"name":"Flog It!","description":"7\/60. Flog It! comes from Capesthorne Hall in Cheshire. Antiques expert Caroline Hawley bags some jewellery, and Anita Manning falls for a Japanese coffee set. [S] [HD]","startTime":1727108100,"duration":2700,"svcId":700,"evtId":19371,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727110778,"availabilityEnd":1729702778,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0bp9t70\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":7},{"name":"Richard Osman\u0027s House of Games","description":"1\/100. Ahir Shah, Michaela Strachan, Dr Xand van Tulleken and Vogue Williams test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1727110800,"duration":1800,"svcId":700,"evtId":19373,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr9zcr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727112568,"availabilityEnd":1764440930,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239wj\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":1},{"name":"Strictly - It Takes Two","description":"1\/60. Janette Manrara and Fleur East are back for the 20th anniversary series of Strictly Come Dancing with the latest headlines, backstage gossip, expert opinion and exclusive interviews. [S] [HD]","startTime":1727112600,"duration":1800,"svcId":700,"evtId":19375,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727114435,"availabilityEnd":1765654200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239wm\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":1},{"name":"The Big Cases: The Doping Ward","description":"The hospital unit where patients were drugged to keep them \u0027quiet and compliant\u0027. [S,AD] [HD]","startTime":1727114400,"duration":1800,"svcId":700,"evtId":19377,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h0hk49.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1703032200,"availabilityEnd":1767225540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0h0gy95\u0026ui_id=4.0.0"}},{"name":"Mastermind","description":"5\/30. Four more contenders brave the famous black chair in another heat of the classic quiz. Specialist subjects include Horatio Nelson, Michael Kiwanuka and the films of Sofia Coppola. [S] [HD]","startTime":1727116200,"duration":1800,"svcId":700,"evtId":19379,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrhk7s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727117986,"availabilityEnd":1765915126,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239wr\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":5},{"name":"Only Connect","description":"7\/28. Victoria Coren Mitchell hosts the quiz where knowledge only gets you so far. Three self-professed introverts take on three representatives of the University of the Third Age. [S] [HD]","startTime":1727118000,"duration":1800,"svcId":700,"evtId":19381,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrhlkt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727119787,"availabilityEnd":1772569740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239wt\u0026ui_id=4.0.0"},"seriesNo":33,"episodeNo":7},{"name":"University Challenge","description":"7\/37. In another first round match, Reading take on Exeter for a place in the second round. Amol Rajan asks the questions. [S] [HD]","startTime":1727119800,"duration":1800,"svcId":700,"evtId":19383,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrhr0f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727121619,"availabilityEnd":1778616021,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239ww\u0026ui_id=4.0.0"},"seriesNo":2027,"episodeNo":7},{"name":"Mozart: Rise of a Genius","description":"2\/3. Mozart leaves small town life behind and becomes the toast of Vienna. Contains some strong language. [S,AD] [HD]","startTime":1727121600,"duration":3600,"svcId":700,"evtId":19385,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrhw7j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727125266,"availabilityEnd":1759266061,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021zdw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"We Might Regret This","description":"6\/6. It\u0027s the anniversary of Sam\u0027s death, and Freya wants to help Abe with the annual party. Contains strong language and adult humour. [S,AD] [HD]","startTime":1727125200,"duration":1500,"svcId":700,"evtId":19387,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jj43dp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724043600,"availabilityEnd":1755579600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021ctt\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Laugh Lessons","description":"1\/20. Ehiz, one of the UK\u0027s biggest social media stars, breaks down his own experiences of toxic masculinity in this sick grime track. [S] [HD]","startTime":1727126700,"duration":300,"svcId":700,"evtId":19389,"image":"\/ms\/img\/epg\/rb\/ae0c-p09kyklv.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1727127000,"duration":1800,"svcId":700,"evtId":19391,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727129100,"availabilityEnd":1758665100,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239wy\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1727128800,"duration":300,"svcId":700,"evtId":19393,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727129255,"availabilityEnd":1727215655,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239x0\u0026ui_id=4.0.0"}},{"name":"The Zelensky Story","description":"3\/3. The Zelenskys reveal the transformative impact of the Russian invasion on their lives. Contains scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1727129100,"duration":3600,"svcId":700,"evtId":19395,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jmczkt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1725426000,"availabilityEnd":1756962000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zps8\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Countryfile","description":"Charlotte and Matt have security clearance to enter Salisbury Plain, where they find out how the Ministry of Defence maintain a balance between military training, farming and conservation. [S,SL] [HD]","startTime":1727132700,"duration":3300,"svcId":700,"evtId":19397,"image":"\/ms\/img\/epg\/rb\/fec6-p0jqdwsh.jpg","hasTstv":false},{"name":"Celebrity MasterChef","description":"16\/18. It\u0027s Finals Week and five celebrities are within touching distance of the trophy. But to make it to the top, they will need determination, bravery and outstanding cookery. [S,AD,SL] [HD]","startTime":1727136000,"duration":3600,"svcId":700,"evtId":19399,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jq4hnf.jpg","hasTstv":false,"seriesNo":24,"episodeNo":16},{"name":"Waterloo Road","description":"2\/8. New head Steve Savage hits the ground running by introducing a set of updated rules at the school. Meanwhile, a new student has the misfortune of being Schuey\u0027s next target. [S,AD,SL] [HD]","startTime":1727139600,"duration":3600,"svcId":700,"evtId":19401,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnh2g5.jpg","hasTstv":false,"seriesNo":14,"episodeNo":2},{"name":"The Big Cases: The Sunshine...","description":"...Scammer. How bogus travel agent Lyne Barlow from County Durham conned hundreds of holidaymakers and her family in a \u00a32.6m scam, which also saw her lie about a cancer diagnosis. [S,AD,SL] [HD]","startTime":1727143200,"duration":1800,"svcId":700,"evtId":19403,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxjldh.jpg","hasTstv":false},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1727145000,"duration":10800,"svcId":700,"evtId":19405,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Decoys: Niles discovers that Daphne is dating Donny, his divorce attorney, so he hatches a plan to get Donny back together with Roz. (S6 Ep16)  [AD,S]","startTime":1727065200,"duration":1500,"svcId":1500,"evtId":41332,"image":"\/ms\/img\/epg\/rb\/5d52-797373.l.png","hasTstv":false,"seriesNo":6,"episodeNo":16},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Richard Osman joins Susie Dent in Dictionary Corner.  [S]","startTime":1727066700,"duration":2400,"svcId":1500,"evtId":40837,"image":"\/ms\/img\/epg\/rb\/5d52-9930521.l.png","hasTstv":false},{"name":"Cheers","description":"The Stork Brings a Crane: Rebecca is irked when her elaborately planned celebration of the 100th anniversary of Cheers is disrupted by Lilith going into labour. (S8 Ep6\/26)  [S]","startTime":1727069100,"duration":1500,"svcId":1500,"evtId":40838,"image":"\/ms\/img\/epg\/rb\/5d52-584877.l.png","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"Cheers","description":"Death Takes a Holiday on Ice: Carla gets a call telling her that her husband Eddie has been killed in a freak accident at the ice show. But another widow attends his funeral. (S8 Ep7\/26)  [S]","startTime":1727070600,"duration":1500,"svcId":1500,"evtId":40839,"image":"\/ms\/img\/epg\/rb\/5d52-586695.l.png","hasTstv":false,"seriesNo":8,"episodeNo":7},{"name":"Cheers","description":"For Real Men Only: Carla tries to organise a tribute for Eddie. Rebecca throws another corporate party for a dull middle manager. Frasier and Lilith plan a celebration. (S8 Ep8\/26)  [S]","startTime":1727072100,"duration":1800,"svcId":1500,"evtId":40840,"image":"\/ms\/img\/epg\/rb\/5d52-586716.l.png","hasTstv":false,"seriesNo":8,"episodeNo":8},{"name":"The King of Queens","description":"Dark Meet: Carrie and Doug reminisce about their first Thanksgiving together, when Doug first met Arthur and his wife Lily. (S3 Ep8\/25)  [AD,S]","startTime":1727073900,"duration":1500,"svcId":1500,"evtId":40841,"image":"\/ms\/img\/epg\/rb\/5d52-391494207.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"The King of Queens","description":"Twisted Sitters: Doug and Carrie babysit Deacon and Kelly\u0027s son Kirby, but he catches them in a compromising position on his parents\u0027 bed. (S3 Ep9\/25)  [AD,S]","startTime":1727075400,"duration":1500,"svcId":1500,"evtId":40842,"image":"\/ms\/img\/epg\/rb\/5d52-1274214.l.png","hasTstv":false,"seriesNo":3,"episodeNo":9},{"name":"The King of Queens","description":"Work Related: Doug and Deacon compete to play the best practical joke, and Arthur is offered a job at Carrie\u0027s office. (S3 Ep10\/25)  [AD,S]","startTime":1727076900,"duration":1800,"svcId":1500,"evtId":40843,"image":"\/ms\/img\/epg\/rb\/5d52-1251306.l.png","hasTstv":false,"seriesNo":3,"episodeNo":10},{"name":"Frasier","description":"You Can Go Home Again: Frasier struggles to come up with a clever catchphrase for the show, while Daphne tries to avoid returning to England to visit her family. (S3 Ep24)  [AD,S]","startTime":1727078700,"duration":1800,"svcId":1500,"evtId":40844,"image":"\/ms\/img\/epg\/rb\/5d52-471916.l.png","hasTstv":false,"seriesNo":3,"episodeNo":24},{"name":"Frasier","description":"The Two Mrs Cranes: When an old flame visits Daphne, the Crane household is turned upside down. (S4 Ep1)  [AD,S]","startTime":1727080500,"duration":1800,"svcId":1500,"evtId":40845,"image":"\/ms\/img\/epg\/rb\/5d52-550588.l.png","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"Frasier","description":"Love Bites Dog: When Roz takes the trouble to set Frasier up on a blind date with her friend, it\u0027s Bulldog who ends up falling in love. (S4 Ep2)  [AD,S]","startTime":1727082300,"duration":1800,"svcId":1500,"evtId":40846,"image":"\/ms\/img\/epg\/rb\/5d52-551110.l.png","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"Frasier","description":"The Impossible Dream: When Frasier is awakened night after night by a recurring dream, he becomes obsessed with discovering its true meaning. (S4 Ep3)  [AD,S]","startTime":1727084100,"duration":1800,"svcId":1500,"evtId":40847,"image":"\/ms\/img\/epg\/rb\/5d52-553283.l.png","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Come Dine with Me: The...","description":"...Professionals: In West Yorkshire, Richard and John host at The Quarry with their British nosh. They face Japanese restaurant Bento and Tammy and Holly\u0027s pub, West End House. (S1 Ep12)  [S]","startTime":1727085900,"duration":3600,"svcId":1500,"evtId":40848,"image":"\/ms\/img\/epg\/rb\/5d52-6186920.l.png","hasTstv":false,"seriesNo":1,"episodeNo":12},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1727089500,"duration":300,"svcId":1500,"evtId":40849,"image":"\/ms\/img\/epg\/rb\/5d52-9956104.l.png","hasTstv":false},{"name":"Narrow Escapes","description":"On the Leeds and Liverpool Canal, Nick and Gina race to get their hotel boat ready for their guests\u0027 arrival. In Hertfordshire, Sam shows us his world on \u0027The Floating Bike Shop\u0027. (Ep11\/20)  [AD,S]","startTime":1727089800,"duration":3600,"svcId":1500,"evtId":40850,"image":"\/ms\/img\/epg\/rb\/5d52-9393934.l.png","hasTstv":false,"seriesNo":1,"episodeNo":11},{"name":"Find It, Fix It, Flog It","description":"The boys head to Tiverton in Devon to meet Sue. They find a moped that brings back memories, and fight over a petrol gauge that Simon O\u0027Brien wants to upcycle into a clock. (S4 Ep16)  [AD,S]","startTime":1727093400,"duration":3600,"svcId":1500,"evtId":40851,"image":"\/ms\/img\/epg\/rb\/5d52-3745354.l.png","hasTstv":false,"seriesNo":4,"episodeNo":16},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Bob Harris joins Susie Dent in Dictionary Corner.  [S]","startTime":1727097000,"duration":3000,"svcId":1500,"evtId":40852,"image":"\/ms\/img\/epg\/rb\/5d52-9956106.l.png","hasTstv":false},{"name":"Chateau DIY","description":"At Ch\u00e2teau Lagorce, Anna and Edward wrestle an enormous tree before it brings the terrace wall down. At Ch\u00e2teau Trois Cloches, Chris and Jolyon turn a pit into a beautiful pond. (S4 Ep11)  [AD,S]","startTime":1727100000,"duration":3600,"svcId":1500,"evtId":40853,"image":"\/ms\/img\/epg\/rb\/5d52-8858174.l.png","hasTstv":false,"seriesNo":4,"episodeNo":11},{"name":"A Place in the Sun","description":"Colin and Janet dream of spending their retirement together on Portugal\u0027s sunny eastern Algarve. Danni Menzies shows them five options for their \u00a3350k. Are any of them the perfect one?  [S]","startTime":1727103600,"duration":3600,"svcId":1500,"evtId":40854,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"The new series continues. Ken and Pauline become the guardians of an entire French hamlet. In Bulgaria, Carrie and Ross go property hunting in the land of the lost villages. (S3 Ep11\/30)  [S]","startTime":1727107200,"duration":3600,"svcId":1500,"evtId":40855,"image":"\/ms\/img\/epg\/rb\/5d52-9950013.l.png","hasTstv":false,"seriesNo":3,"episodeNo":11},{"name":"A Place in the Sun","description":"Jean Johansson helps Andrea and Gary find their dream holiday home on the Caribbean island of St Lucia. What gems do they find for \u00a3205k and are any of them the one?  [S]","startTime":1727110800,"duration":1800,"svcId":1500,"evtId":40856,"image":"\/ms\/img\/epg\/rb\/5d52-411220435.l.png","hasTstv":false},{"name":"The Simpsons","description":"Eight Misbehavin\u0027: Apu and Manjula take fertility drugs to get pregnant and end up with octuplets. Local companies shower them with gifts, until the Shelbyville Nine are born. (S11 Ep7\/22)  [AD,S]","startTime":1727112600,"duration":1800,"svcId":1500,"evtId":40857,"image":"\/ms\/img\/epg\/rb\/5d52-387150230.l.png","hasTstv":false,"seriesNo":11,"episodeNo":7},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1727114400,"duration":3600,"svcId":1500,"evtId":40858,"image":"\/ms\/img\/epg\/rb\/5d52-9956162.l.png","hasTstv":false},{"name":"New: Jamie: What to Eat This Week","description":"Jamie Oliver rounds up his autumnal offerings with gorgeous squash in a cheesy sauce, a zingy celeriac dressing for his remoulade and a foraged blackberry, apple and pear cobbler. (Ep3\/3)  [AD,S]","startTime":1727118000,"duration":3600,"svcId":1500,"evtId":40859,"image":"\/ms\/img\/epg\/rb\/5d52-9956163.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Celebrity SAS: Who Dares...","description":"...Wins: The celebs tackle terrifying feats to test their discipline, including a forward abseil down a 300-foot working dam and an alarming backwards dive in the dark. (S6 Ep2)  [AD,S]","startTime":1727121600,"duration":3600,"svcId":1500,"evtId":40860,"image":"\/ms\/img\/epg\/rb\/5d52-9949998.l.png","hasTstv":false,"seriesNo":6,"episodeNo":2},{"name":"Gogglebox","description":"This time, the Goggleboxers watched: Celebrity Race Across the World; Nightsleeper; Married at First Sight UK; Selling Sunset; Nadiya\u0027s Cook Once, Eat Twice and Haunted Hospitals. (S24 Ep2)  [AD,S]","startTime":1727125200,"duration":3900,"svcId":1500,"evtId":40861,"image":"\/ms\/img\/epg\/rb\/5d52-9922089.l.png","hasTstv":false,"seriesNo":24,"episodeNo":2},{"name":"First Dates","description":"Jo hasn\u0027t been chatted up in years and seeks someone \u0027feral, but not too feral\u0027. Jewellery designer Marina is looking for a Christian who believes in no sex before marriage. (S22 Ep5)  [AD,S]","startTime":1727129100,"duration":3600,"svcId":1500,"evtId":40862,"image":"\/ms\/img\/epg\/rb\/5d52-9922090.l.png","hasTstv":false,"seriesNo":22,"episodeNo":5},{"name":"New: The Prison Confessions of...","description":"...Gypsy Rose Blanchard - I Pulled the Trigger: Gypsy\u0027s mum lures her home with promises of freedom. But the abuse and fear continue, and Gypsy pulls a gun on her. (S1 Ep3\/6)  [AD,S]","startTime":1727132700,"duration":3000,"svcId":1500,"evtId":40864,"image":"\/ms\/img\/epg\/rb\/5d52-8659452.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"24 Hours in A\u0026E","description":"This episode looks back at some memorable patients filmed at King\u0027s in south London, including a 72-year-old with a clot on her brain, and a woman who fell off her chair at bingo.  [AD,S]","startTime":1727135700,"duration":3300,"svcId":1500,"evtId":41304,"image":"\/ms\/img\/epg\/rb\/5d52-5265722.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay tries to save struggling restaurant Down City, in Providence, Rhode Island. But tough-talking owner Abby refuses to take advice from anyone. (S4 Ep3\/13)  [S,SL]","startTime":1727139000,"duration":3000,"svcId":1500,"evtId":40866,"image":"\/ms\/img\/epg\/rb\/5d52-1227907.l.png","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Kottukkaali","description":"South Asian Film Season. (2024) Drama. A woman falls in love with a man from a lower caste, resulting in familial outrage and pagan cleansing. In Tamil\/subs. Strong language\/violence.  [S]","startTime":1727142000,"duration":6000,"svcId":1500,"evtId":41305,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebs to the test in tricky crafting challenges. Comedians Rufus Hound and Jenny Eclair compete to make kimono-style garments in just 30 minutes.  [S]","startTime":1727148000,"duration":600,"svcId":1500,"evtId":41306,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Frasier","description":"Dinner Party: Frasier and Niles decide to throw a dinner party but can\u0027t agree on who they should invite. (S6 Ep17)  [AD,S]","startTime":1727148600,"duration":1500,"svcId":1500,"evtId":40867,"image":"\/ms\/img\/epg\/rb\/5d52-799250.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"Frasier","description":"Taps at the Montana: Niles wants his apartment back, but he must face up to both the snooty neighbours who think he is a menace and the person who is renting from him. (S6 Ep18)  [AD,S]","startTime":1727150100,"duration":1500,"svcId":1500,"evtId":40868,"image":"\/ms\/img\/epg\/rb\/5d52-801726.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('335');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('73');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('25');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'v-94Snw-H4o', title: "Marvel Studios’ Thunderbolts* | Teaser Trailer | Only In Theaters May 2025", label: "Marvel Studios’ Thunderbolts* | Teaser Trailer | Only In Theaters May 2025 by Marvel Entertainment 5,842,545 views 8 hours ago 3 minutes, 25 seconds" },
{ id: 'T1AyeatGMoM', title: "MANSORY WANT BACK MY WRECKED ROLLS ROYCE I JUST REBUILT", label: "MANSORY WANT BACK MY WRECKED ROLLS ROYCE I JUST REBUILT by Mat Armstrong 3,302,198 views 1 day ago 40 minutes" },
{ id: '6A0fyUnx3oY', title: "Stones 98th min equaliser in BLOCKBUSTER! 🍿 | Man City 2-2 Arsenal | Premier League Highlights", label: "Stones 98th min equaliser in BLOCKBUSTER! 🍿 | Man City 2-2 Arsenal | Premier League Highlights by Sky Sports Premier League 1,460,679 views 1 day ago 3 minutes, 8 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Fighting with my Family (2019)">Fighting with my Family (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mermaids (1990)">Mermaids (1990)</a></li><li><a href="https://www.google.com/search?q=Films+-+Wait Until Dark (1967)">Wait Until Dark (1967)</a></li><li><a href="https://www.google.com/search?q=Films+-+Little Woods (2018)">Little Woods (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Repulsion (1965)">Repulsion (1965)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Lure (2015)">The Lure (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Janelle Monáe: Dirty Computer (2018)">Janelle Monáe: Dirty Computer (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Hunger (1983)">The Hunger (1983)</a></li><li><a href="https://www.google.com/search?q=Films+-+Passing (2021)">Passing (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Suspiria (1977)">Suspiria (1977)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 213.25, tooltip: "Fri, Sep 20, 2024<br/>£213.25"},
{ number: 214.33, tooltip: "Thu, Sep 19, 2024<br/>£214.33"},
{ number: 211.62, tooltip: "Wed, Sep 18, 2024<br/>£211.62"},
{ number: 212.58, tooltip: "Tue, Sep 17, 2024<br/>£212.58"},
{ number: 212.24, tooltip: "Mon, Sep 16, 2024<br/>£212.24"},
{ number: 212.49, tooltip: "Fri, Sep 13, 2024<br/>£212.49"},
{ number: 212.10, tooltip: "Thu, Sep 12, 2024<br/>£212.10"},
{ number: 211.19, tooltip: "Wed, Sep 11, 2024<br/>£211.19"},
{ number: 209.25, tooltip: "Tue, Sep 10, 2024<br/>£209.25"},
{ number: 208.64, tooltip: "Mon, Sep 09, 2024<br/>£208.64"},
{ number: 205.95, tooltip: "Fri, Sep 06, 2024<br/>£205.95"},
{ number: 208.82, tooltip: "Thu, Sep 05, 2024<br/>£208.82"},
{ number: 209.37, tooltip: "Wed, Sep 04, 2024<br/>£209.37"},
{ number: 211.55, tooltip: "Tue, Sep 03, 2024<br/>£211.55"},
{ number: 214.02, tooltip: "Mon, Sep 02, 2024<br/>£214.02"},
{ number: 214.38, tooltip: "Fri, Aug 30, 2024<br/>£214.38"},
{ number: 212.55, tooltip: "Thu, Aug 29, 2024<br/>£212.55"},
{ number: 211.54, tooltip: "Wed, Aug 28, 2024<br/>£211.54"},
{ number: 212.11, tooltip: "Tue, Aug 27, 2024<br/>£212.11"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Sep 20, 2024",
		"vs Day":      "Thu, Sep 19, 2024",
		"vs Week":     "Fri, Sep 13, 2024",
		"vs Month":    "Tue, Aug 27, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£213.25/share",
		'vs Day':      "-0.50%",
		'vs Week':     "+0.36%",
		'vs Month':    "+0.54%",
		'vs Year':     "+17.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '59.8',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 23 September and 24 September">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.598&p=3.605&r=0.491',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:54',
		Set:      '19:01',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To rue something is to feel penitence, remorse, or regret for it. <em>Rue</em> is often used in the phrase "rue the day."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>