<!DOCTYPE html>
<html lang="en">
	<head>
		<title>13:19 11-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Behind Sara’s smile was a life of violence and torture</b><br/>Sara Sharif was sassy, bubbly and dreamed of being on X-factor - but behind closed doors she was brutally beaten." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvgedlr7qg1o">Behind Sara’s smile was a life of violence and torture</a></li><li class="ttt" data-tt="<b>Medical misogyny leaves women in pain for years, say MPs</b><br/>Women experiencing conditions such as heavy periods and endometriosis are being dismissed when they ask for help, a report warns."><a href="https://www.bbc.com/news/articles/c23v42jdle7o">Medical misogyny leaves women in pain for years, say MPs</a></li><li class="ttt" data-tt="<b>Government recommends 2.8% pay rise for public sector</b><br/>Teachers, NHS staff and senior civil servants are among those covered by the proposals."><a href="https://www.bbc.com/news/articles/czxdnexrvv8o">Government recommends 2.8% pay rise for public sector</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvgedlr7qg1o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/856c/live/041c0ba0-b7c2-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="Sara Sharif" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Lawyer cites 300 potential cases against Diddy</b><br/>US lawyer Tony Buzbee says he still receives daily calls with new allegations about the music mogul." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c8ewld21p14o">Lawyer cites 300 potential cases against Diddy</a></li><li class="ttt" data-tt="<b>Luigi Mangione fights extradition to face charge of murdering CEO</b><br/>The 26-year-old was arrested in Pennsylvania, and prosecutors are seeking to bring him to trial in New York."><a href="https://www.bbc.com/news/articles/ceqlj130rxpo">Luigi Mangione fights extradition to face charge of murdering CEO</a></li><li class="ttt" data-tt="<b>McDonald\'s customer recounts moment CEO shooting suspect spotted</b><br/>A customer at the fast-food outlet thought his friends were kidding when they pointed out the likeness between a patron and the shooting suspect."><a href="https://www.bbc.com/news/articles/c9vkygny20xo">McDonald\'s customer recounts moment CEO shooting suspect spotted</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c8ewld21p14o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/3a96/live/24042680-b652-11ef-b91c-592d64941fec.jpg" class="ttt" data-tt="Sean &quot;Diddy&quot; Combs, dressed in a white linen suit, looks over the balcony of a hotel during a party at his house in the Hamptons, in 2007" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Israel confirms attack on Syrian naval fleet</b><br/>The BBC has verified videos showing blasts in the Syrian port of Latakia, as Israel conducts strikes across Syria." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cqx808q7lrno">Israel confirms attack on Syrian naval fleet</a></li><li class="ttt" data-tt="<b>The 50 men accused in mass rape of Gisèle Pelicot</b><br/>The men accused of raping Gisèle Pelicot have been dubbed Monsieur-Tout-Le-Monde as they broadly represent a microcosm of French society."><a href="https://www.bbc.com/news/articles/cr7vvj8gymyo">The 50 men accused in mass rape of Gisèle Pelicot</a></li><li class="ttt" data-tt="<b>S Korea ex-minister linked to martial law move attempts to take his life</b><br/>Former South Korean defence minister Kim Yong-hyun has attempted to take his life, an official said."><a href="https://www.bbc.com/news/articles/c4gjelnlrvgo">S Korea ex-minister linked to martial law move attempts to take his life</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cqx808q7lrno"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/7366/live/8ec6f250-b70f-11ef-aff0-072ce821b6ab.jpg" class="ttt" data-tt="A burnt boat sits in the water with a fire burning close to it at the port city of Latakia on 10 December " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Alonso \'still dreaming\' of third world title</b><br/>Fernando Alonso says 2026 will be a &quot;time of delivering&quot; as he prepares to link up with Adrian Newey at Aston Martin." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c5yweeww57wo">Alonso \'still dreaming\' of third world title</a></li><li class="ttt" data-tt="<b>Has the Russell row made Verstappen to Mercedes in 2026 less likely?</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the season-ending Abu Dhabi Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/c75wz75q14ko">Has the Russell row made Verstappen to Mercedes in 2026 less likely?</a></li><li class="ttt" data-tt="<b>Cadillac team to use Ferrari engines on F1 debut</b><br/>Ferrari will supply engines to the new Cadillac team if its entry is approved for the 2026 Formula 1 season."><a href="https://www.bbc.com/sport/formula1/articles/c17dqwydw0do">Cadillac team to use Ferrari engines on F1 debut</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c5yweeww57wo"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/48c1/live/3b0557a0-b666-11ef-ad00-6d232f566a7b.jpg" class="ttt" data-tt="Fernando Alonso pictured staring to the right while wearing a black roll-neck top" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Chatbot \'encouraged teen to kill parents over screen time limit\'</b><br/>Legal action filed in Texas alleges Character.ai \'poses a clear and present danger\' to young people." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd605e48q1vo">Chatbot \'encouraged teen to kill parents over screen time limit\'</a></li><li class="ttt" data-tt="<b>General Motors pulls plug on robotaxi business</b><br/>After the announcement, the project\'s co-founder posted on social media &quot;GM are a bunch of dummies.&quot;"><a href="https://www.bbc.com/news/articles/cj902y4ez71o">General Motors pulls plug on robotaxi business</a></li><li class="ttt" data-tt="<b>Amazon and eBay to pay \'fair share\' for e-waste recycling</b><br/>Firms which produce e-cigarettes will also be asked to pay more towards UK recycling."><a href="https://www.bbc.com/news/articles/cly75xnk5exo">Amazon and eBay to pay \'fair share\' for e-waste recycling</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd605e48q1vo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/6d29/live/82f1ad00-b7a8-11ef-aff0-072ce821b6ab.jpg" class="ttt" data-tt="Stock image of a boy looking at a phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"9 Dec – 15 Dec","date":17338752E5,"ts":"Wed, 11","ds":"Wed, 11 Dec","icon":7,"desc":"Cloudy.","temp":7,"templow":4,"cf":3,"wind":9,"wd":40,"hum":76,"pc":2},{"date":17339616E5,"ts":"Thu, 12","ds":"Thu, 12 Dec","icon":7,"desc":"Overcast.","temp":8,"templow":4,"cf":5,"wind":7,"wd":30,"hum":93,"pc":2},{"date":1734048E6,"ts":"Fri, 13","ds":"Fri, 13 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":7,"templow":4,"cf":5,"wind":4,"wd":190,"hum":89,"pc":22,"rain":0.9 },{"date":17341344E5,"ts":"Sat, 14","ds":"Sat, 14 Dec","icon":7,"desc":"Cloudy.","temp":7,"templow":3,"cf":2,"wind":10,"wd":300,"hum":83,"pc":22,"rain":0.2 },{"date":17342208E5,"ts":"Sun, 15","ds":"Sun, 15 Dec","icon":7,"desc":"Cloudy.","temp":8,"templow":2,"cf":4,"wind":13,"wd":250,"hum":84,"pc":5},{"hl":true,"hls":"16 Dec – 22 Dec","date":17343072E5,"ts":"Mon, 16","ds":"Mon, 16 Dec","icon":7,"desc":"Overcast.","temp":11,"templow":6,"cf":6,"wind":16,"wd":240,"hum":80,"pc":0},{"date":17343936E5,"ts":"Tue, 17","ds":"Tue, 17 Dec","icon":7,"desc":"Overcast.","temp":9,"templow":5,"cf":6,"wind":9,"wd":180,"hum":90,"pc":0},{"date":173448E7,"ts":"Wed, 18","ds":"Wed, 18 Dec","icon":18,"desc":"Sprinkles late. Cloudy.","temp":10,"templow":6,"cf":7,"wind":19,"wd":190,"hum":72,"pc":46,"rain":0.6 },{"date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":18,"desc":"Sprinkles. Broken clouds.","temp":9,"templow":6,"cf":6,"wind":16,"wd":230,"hum":72,"pc":51,"rain":1.3 },{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":8,"templow":5,"cf":4,"wind":16,"wd":270,"hum":86,"pc":57,"rain":1.6 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":8,"templow":5,"cf":6,"wind":10,"wd":230,"hum":96,"pc":56,"rain":1.4 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":18,"desc":"Light rain. Cloudy.","temp":9,"templow":6,"cf":4,"wind":21,"wd":300,"hum":74,"pc":70,"rain":4.1 },{"hl":true,"hls":"23 Dec – 29 Dec","date":1734912E6,"ts":"Mon, 23","ds":"Mon, 23 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":10,"templow":6,"cf":4,"wind":24,"wd":250,"hum":82,"pc":52,"rain":0.6 },{"date":17349984E5,"ts":"Tue, 24","ds":"Tue, 24 Dec","icon":19,"desc":"Rain. Mostly cloudy.","temp":9,"templow":6,"cf":3,"wind":20,"wd":260,"hum":83,"pc":66,"rain":7.6 },{"date":17350848E5,"ts":"Wed, 25","ds":"Wed, 25 Dec","icon":18,"desc":"Sprinkles late. Broken clouds.","temp":8,"templow":5,"cf":3,"wind":24,"wd":270,"hum":76,"pc":50,"rain":0.9 }],"grid":{"temp":{"low":2,"high":11,"range":9},"prec":{"high":7.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/CenAShellsJets_Olsen_1080.jpg',
		Title:     'The Shells and Jets of Galaxy Centaurus A',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/CenAShellsJets_Olsen_6150.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241211.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Dusky_Grasswren_0A2A9591.jpg/400px-Dusky_Grasswren_0A2A9591.jpg',
		Title:    'Dusky grasswren',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Dusky_grasswren',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Dusky_grasswren" title="Dusky grasswren">dusky grasswren</a></b> (<i>Amytornis purnelli</i>) is a species of small <a href="https://en.wikipedia.org/wiki/Passerine" title="Passerine">passerine</a> bird in the family <a href="https://en.wikipedia.org/wiki/Australasian_wren" title="Australasian wren">Maluridae</a>. The species is endemic to Australia, in which it is limited to inland areas of the <a href="https://en.wikipedia.org/wiki/Northern_Territory" title="Northern Territory">Northern Territory</a>, <a href="https://en.wikipedia.org/wiki/Western_Australia" title="Western Australia">Western Australia</a> and <a href="https://en.wikipedia.org/wiki/South_Australia" title="South Australia">South Australia</a>. The dusky grasswren inhabits rocky ranges and outcrops, often preferring tumbled talus or <a href="https://en.wikipedia.org/wiki/Scree" title="Scree">scree</a>, and with areas of thick, long-unburnt spinifex grasses in the genus <i><a href="https://en.wikipedia.org/wiki/Triodia_(plant)" title="Triodia (plant)">Triodia</a></i>. In the wild, it has been observed feeding on a range of small arthropods and other invertebrates as well as seeds. The vocal repertoire of the dusky grasswren is varied and includes trills, high-pitched whistles, rapid twittering, and high-speed warbling. This dusky grasswren was photographed in <a href="https://en.wikipedia.org/wiki/Ormiston_Pound" title="Ormiston Pound">Ormiston Pound</a> in the Northern Territory.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:JJ_Harrison" title="User:JJ Harrison">John Harrison</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1733896800,"duration":12600,"svcId":560,"evtId":29909,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733909340,"availabilityEnd":1733995740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025vrg\u0026ui_id=4.0.0"}},{"name":"Morning Live at Christmas","description":"Rav Wilding and Michelle Ackerley talk to BBC cost of living correspondent Colletta Smith about mortgage rates. Plus Dr Oscar\u0027s headache clinic. And how to make Sara Davies\u0027 star decorations. [S] [HD]","startTime":1733909400,"duration":4500,"svcId":560,"evtId":29910,"image":"\/ms\/img\/epg\/rb\/fec6-p0kb9k3d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733913870,"availabilityEnd":1765449870,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025vrj\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":128},{"name":"Caught Red Handed","description":"15\/20. A cold-hearted crew of rogue roofers get caught out filming themselves mocking their elderly victims. And an armed robber regrets picking a bicycle as a getaway vehicle. [S] [HD]","startTime":1733913900,"duration":1800,"svcId":560,"evtId":29911,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f32z8v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733915681,"availabilityEnd":1736507681,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rbgd\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":15},{"name":"Celebrity Homes Under the Hammer","description":"Owain shows friend and pop sensation Ian \u0027H\u0027 Watkins around a Step-tacular, tiny home in the historic town of Stratford-upon-Avon. [S,AD] [HD]","startTime":1733915700,"duration":3600,"svcId":560,"evtId":29934,"image":"\/ms\/img\/epg\/rb\/fec6-p0k6shp1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733919291,"availabilityEnd":1765628102,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025wlh\u0026ui_id=4.0.0"},"seriesNo":41},{"name":"Bargain Hunt","description":"Eric Knowles is in Northamptonshire with experts Richard Madley and Stephanie Connell. While the teams pick their items, Eric visits the Silverstone Experience. [S,AD] [HD]","startTime":1733919300,"duration":2700,"svcId":560,"evtId":29912,"image":"\/ms\/img\/epg\/rb\/ae0c-p08vhddg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733922001,"availabilityEnd":1736514001,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000nxqd\u0026ui_id=4.0.0"},"seriesNo":57},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1733922000,"duration":3600,"svcId":560,"evtId":29913,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":183},{"name":"Countryfile Treasures","description":"Ellie Harrison is on a winter wildlife safari in the Cairngorms National Park in Scotland. In Filey, John Craven hears the history behind the fisherman\u0027s gansey. [S] [HD]","startTime":1733925600,"duration":3600,"svcId":560,"evtId":29935,"image":"\/ms\/img\/epg\/rb\/ae0c-p04sj5zv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733929164,"availabilityEnd":1736521164,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b08fm2b7\u0026ui_id=4.0.0"}},{"name":"Escape to the Country","description":"8\/55. Jules Hudson savours the spectacular scenery and splendid isolation on offer in Scotland\u0027s Caithness as he helps a young family to realise their dream of self-sufficiency. [S] [HD]","startTime":1733929200,"duration":2700,"svcId":560,"evtId":29916,"image":"\/ms\/img\/epg\/rb\/fec6-p0gd8j91.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733931856,"availabilityEnd":1736523856,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001qpnn\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":8},{"name":"The Vintage French Farmhouse","description":"8\/20. Three antiques dealers visit a picturesque riverside market in Sommi\u00e8res to find two hidden treasures each, to buy and then sell online for a profit. [S] [HD]","startTime":1733931900,"duration":2700,"svcId":560,"evtId":29917,"image":"\/ms\/img\/epg\/rb\/fec6-p0ggrkpf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733934581,"availabilityEnd":1736526584,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0gcvpyp\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":8},{"name":"Antiques Road Trip","description":"8\/25. Catherine Southon and David Harper are shopping on the Isle of Wight and across Hampshire. David goes Dutch, but not before learning about French soldiers\u0027 passion for garlic. [S] [HD]","startTime":1733934600,"duration":2700,"svcId":560,"evtId":29918,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f2w8sv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733937281,"availabilityEnd":1736529281,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jg4k\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":8},{"name":"Pointless","description":"1\/48. Alexander Armstrong is joined by co-host Hugh Dennis for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1733937300,"duration":2700,"svcId":560,"evtId":29919,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hm8cjm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1712163600,"availabilityEnd":1743699600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xy27\u0026ui_id=4.0.0"},"seriesNo":31,"episodeNo":1},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1733940000,"duration":1800,"svcId":560,"evtId":29920,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733941890,"availabilityEnd":1734028290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vrr\u0026ui_id=4.0.0"},"episodeNo":183},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1733941800,"duration":1800,"svcId":560,"evtId":29921,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733943495,"availabilityEnd":1734029895,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vrt\u0026ui_id=4.0.0"},"episodeNo":255},{"name":"The One Show","description":"James Marsden and Ben Schwartz - stars of the new Sonic the Hedgehog movie - and Wham\u0027s Andrew Ridgeley and Pepsi and Shirlie join Alex Jones and Lauren Laverne on the One Show. [S] [HD]","startTime":1733943600,"duration":1800,"svcId":560,"evtId":29936,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733945466,"availabilityEnd":1736537466,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025wll\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Linda has a very public humiliation, Sharon locks horns with Nicola, and Ian\u0027s excited to stage the Beale\u0027s Eels Santa event. [S,AD] [HD]","startTime":1733945400,"duration":1800,"svcId":560,"evtId":29956,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89n4z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733896800,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wy8\u0026ui_id=4.0.0"},"episodeNo":7029},{"name":"The Repair Shop: Favourite Fixes","description":"6\/7. Bill Paterson looks back at some favourite toy fixes, including a cuddly keepsake that\u0027s provided comfort for both a father and son, and a tinplate rocket in need of a boost. [S,AD] [HD]","startTime":1733947200,"duration":3600,"svcId":560,"evtId":29957,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8lt7c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733950852,"availabilityEnd":1767128389,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026c42\u0026ui_id=4.0.0"},"seriesNo":23,"episodeNo":6},{"name":"Shetland","description":"6\/6. All eyes are on Lisa Friel, until a shocking accusation turns the case on its head. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1733950800,"duration":3600,"svcId":560,"evtId":29958,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89nj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733954402,"availabilityEnd":1919628000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025wyd\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":6},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1733954400,"duration":1800,"svcId":560,"evtId":29922,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733956290,"availabilityEnd":1734042690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vrw\u0026ui_id=4.0.0"},"episodeNo":183},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1733956200,"duration":600,"svcId":560,"evtId":29923,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733956650,"availabilityEnd":1734043050,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vry\u0026ui_id=4.0.0"},"episodeNo":219},{"name":"MOTD: UEFA Champions League...","description":"...Highlights. Mark Chapman presents highlights from the latest round of matches in Europe\u0027s elite football competition, featuring Juventus against Manchester City and Arsenal versus Monaco. [S] [HD]","startTime":1733956800,"duration":4800,"svcId":560,"evtId":29937,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2tbwp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733961540,"availabilityEnd":1734047940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025wln\u0026ui_id=4.0.0"}},{"name":"Stan \u0026 Ollie","description":"Stan Laurel and Oliver Hardy reunite for a variety hall tour of Britain in 1953 but are distracted by plans for a comeback film and a personal rift. [2018] [S,AD] [HD]","startTime":1733961600,"duration":5700,"svcId":560,"evtId":29938,"image":"\/ms\/img\/epg\/rb\/ae0c-p096ktbd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733967233,"availabilityEnd":1736559233,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000sdz8\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1733967300,"duration":300,"svcId":560,"evtId":29924,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733967521,"availabilityEnd":1734572321,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vs0\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1733967600,"duration":15600,"svcId":560,"evtId":29925,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":255}]},{"channelid":700,"offset":0,"event":[{"name":"Escape to the Country","description":"23\/55. Berkshire\u0027s beautiful countryside will be a far cry from busy Slough, where today\u0027s couple is moving from, and Ginny Buckley is on hand to help with the house hunting. [S] [HD]","startTime":1733897700,"duration":2700,"svcId":700,"evtId":21422,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5vvt7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733759054,"availabilityEnd":1765295054,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wt5\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":23},{"name":"Celebrity Homes Under the Hammer","description":"Dion brings some muscle to Newcastle-under-Lyme in the form of Steel from Gladiators, who helps him to wrestle an end-of-terrace into shape. [S,AD] [HD]","startTime":1733900400,"duration":3600,"svcId":700,"evtId":21423,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6shgj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733832894,"availabilityEnd":1765628102,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wjz\u0026ui_id=4.0.0"},"seriesNo":41},{"name":"Celebrity Antiques Road Trip","description":"15\/20. Consumer journalists Nikki Fox and Matt Allwright investigate profit-making antiques in Kent alongside expert guides Natasha Raskin Sharp and David Harper. [S,SL] [HD]","startTime":1733904000,"duration":3600,"svcId":700,"evtId":21385,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b4kzl3.jpg","hasTstv":false,"episodeNo":15},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1733907600,"duration":8100,"svcId":700,"evtId":21362,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Coverage of Prime Minister\u0027s questions. And should we build on the greenbelt? [S] [HD]","startTime":1733915700,"duration":6300,"svcId":700,"evtId":21363,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733922005,"availabilityEnd":1736514005,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025w0b\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"48\/50. The quiz show where players must avoid Impossible answers to stay in the competition. 19 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1733922000,"duration":2700,"svcId":700,"evtId":21364,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733924713,"availabilityEnd":1736516713,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0008zpq\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":48},{"name":"The Tournament","description":"27\/30. Eight players do battle in the ultimate knockout quiz. Only one will be left standing at the end, but will they reach the Golden Run and double their money? Hosted by Alex Scott. [S] [HD]","startTime":1733924700,"duration":2700,"svcId":700,"evtId":21365,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7hwc8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733927428,"availabilityEnd":1736519428,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001dj71\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":27},{"name":"Beat the Pack","description":"18\/20. Jake Humphrey hosts the general knowledge quiz where contestants can win money if they can give a correct answer to a question before all their opponents in the Pack do. [S] [HD]","startTime":1733927400,"duration":2700,"svcId":700,"evtId":21366,"image":"\/ms\/img\/epg\/rb\/ae0c-p01l9d8p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733930133,"availabilityEnd":1736522133,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b01rkywz\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"Celebrity Best Home Cook","description":"8\/8. To be crowned champion, the finalists must prepare the ultimate picnic. [S,AD] [HD]","startTime":1733930100,"duration":3600,"svcId":700,"evtId":21367,"image":"\/ms\/img\/epg\/rb\/ae0c-p0977fks.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1645135200,"availabilityEnd":1769407140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000sdjt\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":8},{"name":"A Very Country Christmas","description":"3\/3. Ellie Harrison and Angellica Bell meet a Cornish choir, visit a donkey sanctuary and discover the history of Christmas cards as part of Advent preparations in Devon and Cornwall. [S,AD] [HD]","startTime":1733933700,"duration":3600,"svcId":700,"evtId":21368,"image":"\/ms\/img\/epg\/rb\/ae0c-p090cd6z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733937307,"availabilityEnd":1736529307,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qpwh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Flog It!","description":"Antiques series. At Hopetoun House near Edinburgh, experts Adam Partridge and Caroline Hawley find some fascinating antiques and collectibles to take to auction. [S] [HD]","startTime":1733937300,"duration":2700,"svcId":700,"evtId":21369,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733940010,"availabilityEnd":1736532010,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b053rmf0\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":17},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 3\/10. Clare Balding, Ivo Graham, Ugo Monye and Su Pollard test their general knowledge skills for a special festive show in Richard Osman\u0027s House of Games. [S] [HD]","startTime":1733940000,"duration":1800,"svcId":700,"evtId":21424,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dmvbzy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733941800,"availabilityEnd":1736533800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gdx6\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":3},{"name":"Strictly - It Takes Two","description":"58\/60. Janette Manrara is back with all the news and gossip from Strictly as another of the final couples joins her on the sofa. [S] [HD]","startTime":1733941800,"duration":1800,"svcId":700,"evtId":21425,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733943625,"availabilityEnd":1765654335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025xkl\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":58},{"name":"Clive Myrie\u0027s Caribbean Treasures","description":"5\/6. Clive experiences the Caribbean\u0027s creativity with street artists in Kingston and a merengue group in the Dominican Republic, and he learns the quick steps of Cuban salsa. [S] [HD]","startTime":1733943600,"duration":3600,"svcId":700,"evtId":21426,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5tzy4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733292000,"availabilityEnd":1796363940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025nr5\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Digging for Britain","description":"4\/4. Alice Roberts follows archaeologists as they excavate Iron Age Britain\u0027s most spectacular grave - a Yorkshire chariot burial. [S,AD] [HD]","startTime":1733947200,"duration":3600,"svcId":700,"evtId":21427,"image":"\/ms\/img\/epg\/rb\/ae0c-p06tjz6k.jpg","hasTstv":false,"seriesNo":7,"episodeNo":4},{"name":"Saving Lives at Sea","description":"6\/10. In Torbay, Devon, a yacht has sent out a mayday, meaning the lives of the six crew on board are in grave and imminent danger. [S,AD] [HD]","startTime":1733950800,"duration":3600,"svcId":700,"evtId":21428,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gp52lx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1700271440,"availabilityEnd":1734316810,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001s1r1\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":6},{"name":"Mock the Week","description":"7\/13. Dara O Briain and the team return for more of the topical comedy show. Contains some strong language. [S] [HD]","startTime":1733954400,"duration":1800,"svcId":700,"evtId":21429,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b28nch.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733956351,"availabilityEnd":1736548351,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001187d\u0026ui_id=4.0.0"},"seriesNo":20,"episodeNo":7},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Adam Fleming. [S] [HD]","startTime":1733956200,"duration":1800,"svcId":700,"evtId":21370,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733958150,"availabilityEnd":1765494150,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025w0d\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1733958000,"duration":300,"svcId":700,"evtId":21371,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733958325,"availabilityEnd":1734044725,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025w0g\u0026ui_id=4.0.0"}},{"name":"Renaissance - The Blood and the...","description":"...Beauty. 2\/3. The rivalry between Michelangelo and Leonardo is heightened by the arrival of Raphael. [S,AD] [HD]","startTime":1733958300,"duration":3600,"svcId":700,"evtId":21430,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6zld9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733119200,"availabilityEnd":1764655200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024qcx\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"MasterChef: The Professionals","description":"17\/21. The semi-finals are under way, and the six chefs left standing return for the chance to impress one of two rising culinary stars, before battling for a place in the final five. [S,AD,SL] [HD]","startTime":1733961900,"duration":3600,"svcId":700,"evtId":21431,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6zkf7.jpg","hasTstv":false,"seriesNo":22,"episodeNo":17},{"name":"Clive Myrie\u0027s Caribbean Treasures","description":"1\/6. In Havana, Clive achieves a dream of cruising through the city in a classic car, while in Jamaica he joins a family reunion and cooks up some delicious curry goat. [S,SL] [HD]","startTime":1733965500,"duration":3600,"svcId":700,"evtId":21432,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5tzpb.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Between the Covers","description":"6\/6. Richard Osman, Ranvir Singh, Ben Miller and Alex Jones join Sara Cox to review the book club pick, The Kellerby Code by Jonny Sweet, and talk about their favourite books. [S,SL] [HD]","startTime":1733969100,"duration":1800,"svcId":700,"evtId":21433,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5l2q6.jpg","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1733970900,"duration":13200,"svcId":700,"evtId":21372,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('393');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('33');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'gdJMfPw9vlg', title: "Why It Sucks to Be Born as a Honey Badger", label: "Why It Sucks to Be Born as a Honey Badger by Bound 697,659 views 2 weeks ago 8 minutes, 1 second" },
{ id: 'njNYLgjwJ8Q', title: "Why It Sucks to Be Born as a Brown Bear", label: "Why It Sucks to Be Born as a Brown Bear by Bound 460,259 views 3 weeks ago 6 minutes, 50 seconds" },
{ id: 'NWNZYd27Bj8', title: "Why It Sucks to Be Born as an Emperor Penguin", label: "Why It Sucks to Be Born as an Emperor Penguin by Bound 413,912 views 1 month ago 6 minutes, 52 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Kes (1969)">Kes (1969)</a></li><li><a href="https://www.google.com/search?q=Films+-+Cries and Whispers (1972)">Cries and Whispers (1972)</a></li><li><a href="https://www.google.com/search?q=Films+-+Consent (2023)">Consent (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Falling (2014)">The Falling (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+Pandora\'s Box (1929)">Pandora\'s Box (1929)</a></li><li><a href="https://www.google.com/search?q=Films+-+Melancholia (2011)">Melancholia (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+Hive (2021)">Hive (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Fruit of Paradise (1970)">Fruit of Paradise (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+A Letter to Three Wives (1949)">A Letter to Three Wives (1949)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Diary of a Teenage Girl (2015)">The Diary of a Teenage Girl (2015)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Dec 10, 2024",
		"vs Day":      "Mon, Dec 09, 2024",
		"vs Week":     "Tue, Dec 03, 2024",
		"vs Month":    "Mon, Nov 11, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£230.42/share",
		'vs Day':      "-0.02%",
		'vs Week':     "-0.84%",
		'vs Month':    "+1.48%",
		'vs Year':     "+22.71%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '81.1',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 11 December and 12 December">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.811&p=0.288&r=0.284',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:06',
		Set:      '15:53',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To sublimate something—such as an impulse, desire, or feeling—is to express it in a changed form that is socially acceptable. <em>Sublimate</em> can also mean "to pass directly from the solid to the vapor state."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>