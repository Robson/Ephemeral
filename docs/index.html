<!DOCTYPE html>
<html lang="en">
	<head>
		<title>23:24 26-Oct - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>King Charles returning to \'normal\' schedule next year</b><br/>The King is planning to return to a fuller schedule of UK and international trips, say palace officials." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cx2450lw731o">King Charles returning to \'normal\' schedule next year</a></li><li class="ttt" data-tt="<b>Employers\' National Insurance hike to raise £20bn</b><br/>Rachel Reeves is also expected to lower the threshold for when employers start paying the tax, in next week\'s Budget."><a href="https://www.bbc.com/news/articles/c9wrkngvyx4o">Employers\' National Insurance hike to raise £20bn</a></li><li class="ttt" data-tt="<b>MP filmed in heated exchange as assault reported to police</b><br/>Police say officers were called to reports of an assault and they were examining the circumstances."><a href="https://www.bbc.com/news/articles/c0qdzqjlq2ko">MP filmed in heated exchange as assault reported to police</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cx2450lw731o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e1de/live/e65cff50-92f2-11ef-8828-f1bee45a8090.jpg" class="ttt" data-tt="King Charles raises a glass in a toast at the Commonwealth summit in Samoa" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>In three-hour Rogan interview, Trump reveals \'biggest mistake\'</b><br/>Trump also discusses life in space, his rival Kamala Harris, and how he urged North Korea\'s leader to &quot;relax&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy8nn0913e8o">In three-hour Rogan interview, Trump reveals \'biggest mistake\'</a></li><li class="ttt" data-tt="<b>\'It\'s rough out here\': Why Trump and Harris should listen to this mum of seven</b><br/>Inflation and high prices are primary concerns for Sin City\'s voters ahead of the 5 November vote."><a href="https://www.bbc.com/news/articles/c3e9e34w48jo">\'It\'s rough out here\': Why Trump and Harris should listen to this mum of...</a></li><li class="ttt" data-tt="<b>Trump and Vance possible targets of China-backed cyber attack</b><br/>It is reported the Republican candidates\' phones may have been among the targets of a broader cyber attack."><a href="https://www.bbc.com/news/articles/cwyg9w7g6zlo">Trump and Vance possible targets of China-backed cyber attack</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy8nn0913e8o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/a1af/live/7b758d00-93c0-11ef-8e6d-e3e64e16c628.jpg" class="ttt" data-tt="Joe Rogan" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Bowen: Iran faces hard choices between risks of escalation or looking weak</b><br/>International editor Jeremy Bowen examines what Iran\'s response might be to Israel\'s latest attack." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cm2742rynqgo">Bowen: Iran faces hard choices between risks of escalation or looking weak</a></li><li class="ttt" data-tt="<b>Israeli strikes on Iran kill four soldiers, Iran says</b><br/>The IDF says it struck military sites in &quot;precise and targeted&quot; strikes early on Saturday."><a href="https://www.bbc.com/news/articles/c5yr5ek4r8ro">Israeli strikes on Iran kill four soldiers, Iran says</a></li><li class="ttt" data-tt="<b>Georgia\'s pro-EU opposition says election \'stolen\' as ruling party leads</b><br/>The opposition disputes initial results giving the ruling party 53%, after exit polls tell a different story."><a href="https://www.bbc.com/news/articles/c3wqq6l99w3o">Georgia\'s pro-EU opposition says election \'stolen\' as ruling party leads</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cm2742rynqgo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/fae8/live/d9035860-9395-11ef-9504-b516e8b5f45f.jpg" class="ttt" data-tt="An Iranian woman walks past a wall painting of Iranian Supreme Leader Ayatollah Ali Khamenei and former Iranian Supreme Leader Ayatollah Ruhollah Khomeini in Tehran (21 October 2024)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>FIA to revise guidelines after drivers\' meeting</b><br/>Formula 1’s governing body is to revise its racing guidelines following a meeting with drivers at the Mexico City Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cn5wwzl052go">FIA to revise guidelines after drivers\' meeting</a></li><li class="ttt" data-tt="<b>Russell crashes heavily in Mexican Grand Prix practice</b><br/>Mercedes’ George Russell sets the pace in a first practice session at the Mexico City Grand Prix punctuated by a heavy crash for Williams’ Alex Albon."><a href="https://www.bbc.com/sport/formula1/articles/c4gv54rdv07o">Russell crashes heavily in Mexican Grand Prix practice</a></li><li class="ttt" data-tt="<b>FIA rejects McLaren request to review Norris penalty</b><br/>Formula 1\'s governing body rejects a request by McLaren to review a penalty handed out to Lando Norris in the US Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cr5m4lymvmdo">FIA rejects McLaren request to review Norris penalty</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cn5wwzl052go"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/4170/live/06efde20-93bd-11ef-9363-3121751be4d9.jpg" class="ttt" data-tt="Lando Norris and Max Verstappen " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>\'I can\'t run a business like this\': Why the WordPress row matters</b><br/>WordPress\'s tools are used by 40% of the world\'s websites, making this a spat with big consequences." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cm2y7eyp3zpo">\'I can\'t run a business like this\': Why the WordPress row matters</a></li><li class="ttt" data-tt="<b>Microsoft boss gets 63% pay rise despite asking for reduction</b><br/>Satya Nadella asked for a reduction because of cyber attacks the firm suffered - but still saw his earnings increase massively."><a href="https://www.bbc.com/news/articles/cwy1lkp71n2o">Microsoft boss gets 63% pay rise despite asking for reduction</a></li><li class="ttt" data-tt="<b>Call of Duty: Black Ops 6 launches with eyes on Game Pass</b><br/>It is available straight away to subscribers of Microsoft’s Game Pass service, a first for a game this big."><a href="https://www.bbc.com/news/articles/cp87e58ld3do">Call of Duty: Black Ops 6 launches with eyes on Game Pass</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cm2y7eyp3zpo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/4cfc/live/d2f69740-92d5-11ef-8e6d-e3e64e16c628.png" class="ttt" data-tt="Blonde woman with her arms folded looking up at the camera" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"21 Oct – 27 Oct","date":17299872E5,"ts":"Sun, 27","ds":"Sun, 27 Oct","icon":18,"desc":"Sprinkles late. Increasing cloudiness.","temp":12,"templow":5,"cf":10,"wind":7,"wd":210,"hum":74,"pc":40,"rain":0.4 },{"hl":true,"hls":"28 Oct – 3 Nov","date":17300736E5,"ts":"Mon, 28","ds":"Mon, 28 Oct","icon":18,"desc":"Sprinkles. Overcast.","temp":15,"templow":8,"cf":13,"wind":10,"wd":220,"hum":86,"pc":70,"rain":4.1 },{"date":173016E7,"ts":"Tue, 29","ds":"Tue, 29 Oct","icon":18,"desc":"Sprinkles. Overcast.","temp":15,"templow":10,"cf":15,"wind":5,"wd":270,"hum":83,"pc":40,"rain":1},{"date":17302464E5,"ts":"Wed, 30","ds":"Wed, 30 Oct","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":15,"templow":8,"cf":14,"wind":5,"wd":310,"hum":78,"pc":23,"rain":0.3 },{"date":17303328E5,"ts":"Thu, 31","ds":"Thu, 31 Oct","icon":18,"desc":"Sprinkles early. Breaks of sun late.","temp":17,"templow":9,"cf":16,"wind":6,"wd":310,"hum":78,"pc":23,"rain":0.6 },{"date":17304192E5,"ts":"Fri, 1","ds":"Fri, 1 Nov","icon":6,"desc":"Broken clouds.","temp":14,"templow":3,"cf":10,"wind":11,"wd":330,"hum":76,"pc":5},{"date":17305056E5,"ts":"Sat, 2","ds":"Sat, 2 Nov","icon":6,"desc":"Broken clouds.","temp":8,"templow":1,"cf":6,"wind":6,"wd":0,"hum":67,"pc":4},{"date":1730592E6,"ts":"Sun, 3","ds":"Sun, 3 Nov","icon":4,"desc":"Afternoon clouds.","temp":11,"templow":4,"cf":9,"wind":8,"wd":320,"hum":78,"pc":6},{"hl":true,"hls":"4 Nov – 10 Nov","date":17306784E5,"ts":"Mon, 4","ds":"Mon, 4 Nov","icon":4,"desc":"Increasing cloudiness.","temp":12,"templow":6,"cf":11,"wind":5,"wd":350,"hum":76,"pc":6},{"date":17307648E5,"ts":"Tue, 5","ds":"Tue, 5 Nov","icon":18,"desc":"Sprinkles early. Overcast.","temp":12,"templow":6,"cf":10,"wind":9,"wd":50,"hum":78,"pc":40,"rain":0.2 },{"date":17308512E5,"ts":"Wed, 6","ds":"Wed, 6 Nov","icon":1,"desc":"Sunny.","temp":13,"templow":7,"cf":11,"wind":8,"wd":60,"hum":74,"pc":5},{"date":17309376E5,"ts":"Thu, 7","ds":"Thu, 7 Nov","icon":7,"desc":"Cloudy.","temp":12,"templow":7,"cf":11,"wind":8,"wd":50,"hum":78,"pc":5},{"date":1731024E6,"ts":"Fri, 8","ds":"Fri, 8 Nov","icon":1,"desc":"Sunny.","temp":12,"templow":7,"cf":11,"wind":6,"wd":120,"hum":81,"pc":4},{"date":17311104E5,"ts":"Sat, 9","ds":"Sat, 9 Nov","icon":1,"desc":"Sunny.","temp":12,"templow":7,"cf":11,"wind":5,"wd":120,"hum":79,"pc":3},{"date":17311968E5,"ts":"Sun, 10","ds":"Sun, 10 Nov","icon":7,"desc":"Overcast.","temp":11,"templow":7,"cf":9,"wind":13,"wd":80,"hum":80,"pc":5}],"grid":{"temp":{"low":1,"high":17,"range":16},"prec":{"high":4.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2410/IC63_1024.jpg',
		Title:     'Phantoms in Cassiopeia',
		LinkImage: 'https://apod.nasa.gov/apod/image/2410/IC63.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241026.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Greater_white-fronted_goose_in_flight-1045.jpg/400px-Greater_white-fronted_goose_in_flight-1045.jpg',
		Title:    'Greater white-fronted goose',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Greater_white-fronted_goose',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Greater_white-fronted_goose" title="Greater white-fronted goose">greater white-fronted goose</a></b> (<i>Anser albifrons</i>) is a species of goose in the family <a href="https://en.wikipedia.org/wiki/Anatidae" title="Anatidae">Anatidae</a>. It is closely related to the <a href="https://en.wikipedia.org/wiki/Lesser_white-fronted_goose" title="Lesser white-fronted goose">lesser white-fronted goose</a>, which is smaller. The greater white-fronted goose is <a href="https://en.wikipedia.org/wiki/Bird_migration" title="Bird migration">migratory</a>, breeding in northern Canada, Alaska, Greenland and Russia, and winters farther south in North America, Europe and Asia. The greater white-fronted goose has a length of 64 to 81&#160;cm (25 to 32&#160;in), a wingspan of 130 to 165&#160;cm (51 to 65&#160;in), and a mass of 1.93 to 3.31&#160;kg (4&#160;lb 4&#160;oz to 7&#160;lb 5&#160;oz). Males are typically larger in size, and both sexes are similar in appearance&#160;– greyish brown with light grey breasts dappled with dark brown to black blotches and bars. Both males and females also have a pinkish bill, and orange legs and feet. This greater white-fronted goose was photographed in flight in the <a href="https://en.wikipedia.org/wiki/Central_Valley_(California)" title="Central Valley (California)">Central Valley</a> of the US state of California.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Frank_Schulenburg" title="User:Frank Schulenburg">Frank Schulenburg</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1729918800,"duration":14400,"svcId":560,"evtId":28765,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729920600,"availabilityEnd":1730023199,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024gl2\u0026ui_id=4.0.0"}},{"name":"Saturday Kitchen Live","description":"Matt Tebbutt is joined by chefs Gennaro Contaldo and Julie Lin, and by special guest Sir Trevor McDonald. Drinks expert Helen McGinn picks the wines to go with the studio dishes. [S] [HD]","startTime":1729933200,"duration":5400,"svcId":560,"evtId":28868,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zkqzw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729938597,"availabilityEnd":1761478197,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024hdy\u0026ui_id=4.0.0"}},{"name":"Nadiya\u0027s Cook Once, Eat Twice","description":"6\/6. Nadiya\u0027s foolproof bakes, batch cook brownies, nutty soda bread, and chicken traybake. [S,AD] [HD]","startTime":1729938600,"duration":1800,"svcId":560,"evtId":28766,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxxt07.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729623659,"availabilityEnd":1761159659,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00248sf\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Football Focus","description":"Kelly Somers and guests discuss the latest headlines from the world of football and look ahead to a packed weekend of Premier League action, featuring Arsenal against Liverpool. [S] [HD]","startTime":1729940400,"duration":3600,"svcId":560,"evtId":28767,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k06630.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729983540,"availabilityEnd":1730591940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gl4\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1729944000,"duration":600,"svcId":560,"evtId":28768,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729944720,"availabilityEnd":1730034720,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gl6\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1729944600,"duration":300,"svcId":560,"evtId":28769,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729944936,"availabilityEnd":1730034936,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gl8\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Bargain Hunt","description":"Christina Trevanion presents from Shrewsbury, where experts Philip Serrell and Izzie Balmer join the teams as they search for the best items to sell at auction. [S] [HD]","startTime":1729944900,"duration":2700,"svcId":560,"evtId":28770,"image":"\/ms\/img\/epg\/rb\/ae0c-p0br5sjs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729947635,"availabilityEnd":1732543235,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00150g4\u0026ui_id=4.0.0"},"seriesNo":61},{"name":"Money for Nothing","description":"3\/5. Antique furniture has restorer Peter attempting the impossible, but are all three pieces too past it to pull in the cash? [S] [HD]","startTime":1729947600,"duration":3600,"svcId":560,"evtId":28771,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hphvjw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729951242,"availabilityEnd":1732546842,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024glb\u0026ui_id=4.0.0"},"seriesNo":19,"episodeNo":3},{"name":"Escape to the Country","description":"3\/20. A couple from Worcestershire have Alistair Appleton on hand to help them find the perfect home in Cornwall. [S] [HD]","startTime":1729951200,"duration":3600,"svcId":560,"evtId":28772,"image":"\/ms\/img\/epg\/rb\/fec6-p04qmb0x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729954776,"availabilityEnd":1732550376,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000vt4p\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":3},{"name":"Garden Rescue","description":"7\/10. Lee and Flo are in Fleet to design a relaxing family space for single dad Stuart and his daughter Freya. [S] [HD]","startTime":1729954800,"duration":1800,"svcId":560,"evtId":28773,"image":"\/ms\/img\/epg\/rb\/ae0c-p0c599k9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729956602,"availabilityEnd":1732552202,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nqh1\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":7},{"name":"Final Score","description":"Jason Mohammad presents all the latest scores, results and reaction from the day\u0027s football fixtures across the Premier League and beyond. [S] [HD]","startTime":1729956600,"duration":3000,"svcId":560,"evtId":28774,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g71c5s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729959645,"availabilityEnd":1730568045,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gld\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1729959600,"duration":600,"svcId":560,"evtId":28775,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729960260,"availabilityEnd":1730050260,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024glg\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1729960200,"duration":300,"svcId":560,"evtId":28776,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729960565,"availabilityEnd":1730050565,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024glj\u0026ui_id=4.0.0"},"episodeNo":209},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1729960500,"duration":300,"svcId":560,"evtId":28777,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729960771,"availabilityEnd":1730050771,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gll\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Alan Carr\u0027s Picture Slam","description":"5\/10. Alan Carr puts the picture knowledge of co-parents Sas and David from Haywards Heath, Manchester flatmates George and Joe, and London father-son duo Sanjay and Kavi to the test. [S] [HD]","startTime":1729960800,"duration":2700,"svcId":560,"evtId":28870,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzc9ty.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729963530,"availabilityEnd":1764529438,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024h93\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Strictly Come Dancing","description":"It\u0027s fright night in the ballroom! Contains scenes of flashing images. [S,AD] [HD]","startTime":1729963500,"duration":6300,"svcId":560,"evtId":28871,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqwjx1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729969936,"availabilityEnd":1765744380,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024hf0\u0026ui_id=4.0.0"},"seriesNo":25},{"name":"Michael McIntyre\u0027s The Wheel","description":"3\/10. The celebrities helping the contestants are Leigh Francis, Susan Wokoma, Richard Madeley, Laura Whitmore, Ade Adepitan, Ayda Field, Jamie Laing and Sophie Habboo. [S] [HD]","startTime":1729969800,"duration":3600,"svcId":560,"evtId":28872,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzcb2y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729973559,"availabilityEnd":1766351479,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024h71\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":3},{"name":"Apples Never Fall","description":"6\/7. All eyes are on Stan Delaney as his erratic behaviour generates suspicion when a damning new piece of evidence surfaces. Contains some strong language. [S,AD] [HD]","startTime":1729973400,"duration":3000,"svcId":560,"evtId":28873,"image":"\/ms\/img\/epg\/rb\/fec6-p0jr2wwp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726894800,"availabilityEnd":1819753140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022vs0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1729976400,"duration":900,"svcId":560,"evtId":28778,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729977420,"availabilityEnd":1730067420,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gln\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1729977300,"duration":300,"svcId":560,"evtId":28779,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729977621,"availabilityEnd":1730067621,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024glq\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Match of the Day","description":"Gary Lineker introduces highlights of the day\u0027s five Premier League games, featuring reigning champions Manchester City against newly promoted Southampton. [S] [HD]","startTime":1729977600,"duration":4800,"svcId":560,"evtId":28780,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k06yl0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729983540,"availabilityEnd":1730591940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gls\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":11},{"name":"The Last Right","description":"A New York lawyer must deliver the body of a man he didn\u0027t know back to Northern Ireland. Contains strong language. [2019] [S] [HD]","startTime":1729982400,"duration":6000,"svcId":560,"evtId":28781,"image":"\/ms\/img\/epg\/rb\/fec6-p0czxh7f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729988550,"availabilityEnd":1732584150,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001c9y2\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1729988400,"duration":300,"svcId":560,"evtId":28782,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729988813,"availabilityEnd":1730599800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024glv\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1729988700,"duration":20100,"svcId":560,"evtId":28783,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":209}]},{"channelid":700,"offset":0,"event":[{"name":"Hey Duggee","description":"The What Happened Badge. The Squirrels try and tell us what has just happened. [S] [HD]","startTime":1729919700,"duration":300,"svcId":700,"evtId":20331,"image":"\/ms\/img\/epg\/rb\/fec6-p09t803s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1630737770,"availabilityEnd":1788145200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000zgm7\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":42},{"name":"Go Jetters","description":"Mount Rushmore, USA. Animated adventure comedy series. When the Grimbots add Glitch\u0027s face to those of the presidents on Mount Rushmore, they cause a major mudslide. [S] [HD]","startTime":1729920000,"duration":900,"svcId":700,"evtId":20332,"image":"\/ms\/img\/epg\/rb\/ae0c-p04979md.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1572345420,"availabilityEnd":1793073600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b07xhg92\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":37},{"name":"Grizzy and the Lemmings","description":"Aztec Brainteaser. The last jar of Yummy chocolate spread lands in an inaccessible sacred temple. [S] [HD]","startTime":1729920900,"duration":300,"svcId":700,"evtId":20333,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g4kf5m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729921332,"availabilityEnd":1732516932,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pnl3\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":73},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Cheese Her Story. Cheese\u0027s short stories get published in the local newspaper. The only problem is that the details of the stories were \u0027borrowed\u0027 from her siblings\u0027 day-to-day lives! [S] [HD]","startTime":1729921200,"duration":900,"svcId":700,"evtId":20334,"image":"\/ms\/img\/epg\/rb\/fec6-p0jds1h8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722235500,"availabilityEnd":1879297200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021l3y\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":34},{"name":"Monster Loving Maniacs","description":"The Vampire of My Dreams - Part One. Edith meets a vegan vampire named Edward. [S] [HD]","startTime":1729922100,"duration":600,"svcId":700,"evtId":20335,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fdt35g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681095600,"availabilityEnd":1807239600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdlzsf\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":29},{"name":"Pok\u00e9mon Horizons: The Series","description":"The Stolen Treasure. When Roy\u0027s Ancient Pok\u00e9 Ball is stolen, the Rising Volt Tacklers track down the thief! [S,AD] [HD]","startTime":1729922700,"duration":1200,"svcId":700,"evtId":20336,"image":"\/ms\/img\/epg\/rb\/fec6-p0hz9ly9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716778800,"availabilityEnd":1796011200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpg4\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":28},{"name":"Game on Grandparents","description":"Switch Sports - Tennis. Guided by pro-gamer Slogo, the teams serve up an epic game of Switch Sports Tennis. Who will ace it and bag a place in the finals? [S] [HD]","startTime":1729923900,"duration":1500,"svcId":700,"evtId":20337,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jh6cdj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724054400,"availabilityEnd":1852772400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002275g\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"One Zoo Three","description":"Big Steps. Trying to solve the case of the mystery footprints, the brothers look at the animals\u0027 feet. Could it be the penguin chicks, the snow leopard cubs, or something far more peculiar? [S] [HD]","startTime":1729925400,"duration":1500,"svcId":700,"evtId":20338,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jjvhhs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724641200,"availabilityEnd":1842663600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022d4f\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":8},{"name":"Blue Peter: Halloween, Zombies...","description":"...and Wicked the Musical!. Halloween, Zombies and Wicked the Musical! We celebrate Halloween in the BP studio with some top tips for dressing up. [S] [HD]","startTime":1729926900,"duration":1800,"svcId":700,"evtId":20339,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jypzjz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729873800,"availabilityEnd":1735061400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002498r\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Newsround","description":"26\/10\/2024. Topical news magazine for children. [S] [HD]","startTime":1729928700,"duration":600,"svcId":700,"evtId":20340,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzmxhv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729929258,"availabilityEnd":1730019258,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024hwd\u0026ui_id=4.0.0"}},{"name":"Gardeners\u0027 World","description":"31\/32. Monty plants a rose against a shady wall and checks on the progress of his garlic. [S] [HD]","startTime":1729929300,"duration":3600,"svcId":700,"evtId":20341,"image":"\/ms\/img\/epg\/rb\/fec6-p0jzfckh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729886439,"availabilityEnd":1761422439,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024919\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":31},{"name":"I Was Monty\u0027s Double","description":"World War II drama. A low-ranking officer who resembles General Montgomery is recruited to play his double in an elaborate plan to trick the Nazis. [1958] [S] [HD]","startTime":1729932900,"duration":5700,"svcId":700,"evtId":20342,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dcnnps.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729938755,"availabilityEnd":1732534355,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01cpj61\u0026ui_id=4.0.0"}},{"name":"Elephant Diaries","description":"3\/5. Series about orphaned elephants at the David Shelrick Wildlife Trust in Kenya. A new baby orphan has been rescued in Tsavo, but needs to be flown to Nairobi if it is to survive. [S]","startTime":1729938600,"duration":1800,"svcId":700,"evtId":20343,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jztxmg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729940556,"availabilityEnd":1732536156,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b008nxdy\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"Rick Stein\u0027s Food Stories","description":"5\/6. In London, Rick enjoys a full English with Stuart Maconie, and brewer Jaega Wise is determined to change his mind about craft beer. He recreates the iconic black forest gateau. [S,AD] [HD]","startTime":1729940400,"duration":3600,"svcId":700,"evtId":20344,"image":"\/ms\/img\/epg\/rb\/fec6-p0h8cvfm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729796535,"availabilityEnd":1761940867,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002493z\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Julius Caesar","description":"Rome, 44 BC. Caesar\u0027s power has grown so great that even his allies in the senate plot his downfall. Classic Hollywood adaptation of William Shakespeare\u0027s play. [1953] [S] [HD]","startTime":1729944000,"duration":7200,"svcId":700,"evtId":20345,"image":"\/ms\/img\/epg\/rb\/fec6-p0gl9l05.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729951253,"availabilityEnd":1732546853,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rrz0\u0026ui_id=4.0.0"}},{"name":"Rome\u0027s Lost Empire","description":"Dan Snow uses satellite technology to reveal the secrets of the Roman Empire and identify lost cities, amphitheatres and forts. [S,AD] [HD]","startTime":1729951200,"duration":4800,"svcId":700,"evtId":20346,"image":"\/ms\/img\/epg\/rb\/fec6-p01j08pz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729956075,"availabilityEnd":1732551675,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01pc063\u0026ui_id=4.0.0"}},{"name":"Ice Station Antarctica","description":"8\/17. BBC weatherman Peter Gibbs makes an emotional return to Antarctica, years after he lived and worked at the British Antarctic Survey\u0027s Halley Research Station. [S] [HD]","startTime":1729956000,"duration":3600,"svcId":700,"evtId":20347,"image":"\/ms\/img\/epg\/rb\/fec6-p03scyq3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729959681,"availabilityEnd":1732555281,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b079s24p\u0026ui_id=4.0.0"},"episodeNo":8},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Haddon Hall in Derbyshire with Michael Baggot and Caroline Hawley. Items uncovered include a scent bottle and a stereoscopic viewer. [S] [HD]","startTime":1729959600,"duration":3000,"svcId":700,"evtId":20348,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729962666,"availabilityEnd":1732558266,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b07myqyf\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":18},{"name":"Celebrity Antiques Road Trip","description":"7\/20. Presenters Katie Piper and Adam Pearson rummage for antiques in Northampton. Roo and David offer expert advice, but will a little piggy make a profit at auction? [S] [HD]","startTime":1729962600,"duration":3600,"svcId":700,"evtId":20349,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkwknt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729966296,"availabilityEnd":1732561896,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001fygk\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":7},{"name":"Solar System","description":"3\/5. Professor Brian Cox explores the solar system\u0027s wildest weather, encountering powerful lightning, strange metallic frosts and monsoon rains on a moon a billion kilometres from Earth. [S,AD] [HD]","startTime":1729966200,"duration":3600,"svcId":700,"evtId":20350,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jtw5yq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728277200,"availabilityEnd":1759813200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023888\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Sad Songs at the BBC","description":"Some of the saddest but finest songs from the BBC\u0027s music archives, with hits from Paul McCartney, Kate Bush, The Smiths, Randy Crawford, Coldplay, Dolly Parton, Eric Clapton and Eric Carmen. [S] [HD]","startTime":1729969800,"duration":3600,"svcId":700,"evtId":20351,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzmmzx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729973549,"availabilityEnd":1732569149,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024hwj\u0026ui_id=4.0.0"}},{"name":"Dusty at the BBC: Volume 2","description":"A second chance to explore the BBC\u0027s archives with one of British music\u0027s biggest and best-loved stars, Dusty Springfield. [S] [HD]","startTime":1729973400,"duration":4200,"svcId":700,"evtId":20352,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f76w85.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729977621,"availabilityEnd":1732573221,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001k3s2\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Later... with Jools Holland","description":"2\/6. Featuring Manic Street Preachers, Cymande, M\u00d8, Jerron Paxton and Nia Smith. Contains some strong language. [S] [HD]","startTime":1729977600,"duration":2700,"svcId":700,"evtId":20354,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzllfy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729980378,"availabilityEnd":1763939340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hwp\u0026ui_id=4.0.0"},"seriesNo":80,"episodeNo":2},{"name":"Dusty at the BBC","description":"A selection of Dusty Springfield\u0027s performances at the BBC from 1961 to 1995, from her folk beginnings with The Springfields through to her collaboration with Pet Shop Boys. [S]","startTime":1729980300,"duration":3600,"svcId":700,"evtId":20356,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f7pbxc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729983998,"availabilityEnd":1732579598,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b01qyvw7\u0026ui_id=4.0.0"}},{"name":"Definitely Dusty","description":"Documentary looking at the life and work of soul and pop diva Dusty Springfield, using archive footage and interviews with fellow musicians including Elton John and Burt Bacharach. [S]","startTime":1729983900,"duration":3600,"svcId":700,"evtId":20358,"image":"\/ms\/img\/epg\/rb\/ae0c-p0djtwff.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729987586,"availabilityEnd":1732583186,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00780bt\u0026ui_id=4.0.0"}},{"name":"Mari","description":"Dancer Charlotte is wrested from a passion project by her grandmother\u0027s imminent death. Contains some strong language. [2019] [S] [HD]","startTime":1729987500,"duration":5400,"svcId":700,"evtId":20360,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gg66zn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729996643,"availabilityEnd":1732588643,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001r4mb\u0026ui_id=4.0.0"}},{"name":"Showtrial","description":"3\/5. As the legal teams prepare for trial, Sam reaches breaking point. Contains very strong language and some upsetting scenes. [S,AD,SL] [HD]","startTime":1729992900,"duration":3600,"svcId":700,"evtId":20362,"image":"\/ms\/img\/epg\/rb\/fec6-p0jtydqj.jpg","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"Mr Loverman","description":"3\/8. Barry sets out to meet Morris and discuss their future, but his journey is haunted by memories from the past. Contains some strong language, some sexual content and some violence. [S,AD,SL] [HD]","startTime":1729996500,"duration":1800,"svcId":700,"evtId":20364,"image":"\/ms\/img\/epg\/rb\/fec6-p0jwlmpy.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Mr Loverman","description":"4\/8. Carmel returns to her father in Antigua, where she reflects on her own secrets, regrets and her side of the complicated marriage story. Contains some scenes of a sexual nature. [S,AD,SL] [HD]","startTime":1729998300,"duration":1800,"svcId":700,"evtId":20366,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwlmr9.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1730000100,"duration":11100,"svcId":700,"evtId":20368,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"She\u0027s the Boss: Frasier has a new station boss - Kate Costas (Mercedes Ruehl) - and they get on like oil and water, especially when she moves his show to 2am. (S3 Ep1)  [AD,S]","startTime":1729915200,"duration":1500,"svcId":1500,"evtId":47586,"image":"\/ms\/img\/epg\/rb\/5d52-473882.l.png","hasTstv":false,"seriesNo":3,"episodeNo":1},{"name":"Frasier","description":"Shrink Rap: Niles and Frasier decide to enter family therapy in an effort to get on better. Some hope... (S3 Ep2)  [AD,S]","startTime":1729916700,"duration":1500,"svcId":1500,"evtId":47585,"image":"\/ms\/img\/epg\/rb\/5d52-430571.l.png","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"Find It, Fix It, Flog It","description":"In Norfolk, Henry Cole and Simon O\u0027Brien meet upcycler and bike enthusiast Simon. Their finds include a filing cabinet, a trunk and a classic bicycle.  [S]","startTime":1729918200,"duration":900,"svcId":1500,"evtId":47587,"image":"\/ms\/img\/epg\/rb\/5d52-5656635.l.png","hasTstv":false},{"name":"Cheers","description":"Is There a Doctor in the Howe?: Frasier is plunged into misery when he receives a request from Lilith to start divorce proceedings, so the gang try to keep his spirits up. (S11 Ep16\/28)  [AD,S]","startTime":1729919100,"duration":1500,"svcId":1500,"evtId":47420,"image":"\/ms\/img\/epg\/rb\/5d52-171016.l.png","hasTstv":false,"seriesNo":11,"episodeNo":16},{"name":"Cheers","description":"The Bar Manager, the Shrink, His Wife and Her Lover: As Frasier tries to seduce Rebecca, Lilith returns unexpectedly and interrupts them, then demands some answers from Sam. (S11 Ep17\/28)  [S]","startTime":1729920600,"duration":1500,"svcId":1500,"evtId":47421,"image":"\/ms\/img\/epg\/rb\/5d52-172346.l.png","hasTstv":false,"seriesNo":11,"episodeNo":17},{"name":"Frasier","description":"The Proposal: A fussy Niles leaves nothing to chance when he plans the perfect evening as the backdrop for asking Daphne to be his wife. (S9 Ep15)  [AD,S]","startTime":1729922100,"duration":1500,"svcId":1500,"evtId":47422,"image":"\/ms\/img\/epg\/rb\/5d52-1579642.l.png","hasTstv":false,"seriesNo":9,"episodeNo":15},{"name":"Frasier","description":"Wheels of Fortune: Lilith\u0027s half-brother, Blaine Sternin (Michael Keaton), comes to town seeking Frasier\u0027s forgiveness for his past misdeeds. (S9 Ep16)  [AD,S]","startTime":1729923600,"duration":1500,"svcId":1500,"evtId":47423,"image":"\/ms\/img\/epg\/rb\/5d52-1586037.l.png","hasTstv":false,"seriesNo":9,"episodeNo":16},{"name":"Frasier","description":"Three Blind Dates: Frasier\u0027s family and friends set him up on dates with various women who they believe are guaranteed to sweep him off his feet. (S9 Ep17)  [AD,S]","startTime":1729925100,"duration":1500,"svcId":1500,"evtId":47424,"image":"\/ms\/img\/epg\/rb\/5d52-1592092.l.png","hasTstv":false,"seriesNo":9,"episodeNo":17},{"name":"Frasier","description":"War of the Words: Frasier\u0027s son wins a spelling bee, but there\u0027s trouble when the runner-up\u0027s parents find out that Frasier was mouthing the letters of the words. (S9 Ep18)  [AD,S]","startTime":1729926600,"duration":1800,"svcId":1500,"evtId":47791,"image":"\/ms\/img\/epg\/rb\/5d52-1602526.l.png","hasTstv":false,"seriesNo":9,"episodeNo":18},{"name":"Frasier","description":"Deathtrap: Frasier and Niles make a return trip to their childhood home and reminisce about when they thought there had been a murder. (S9 Ep19)  [AD,S]","startTime":1729928400,"duration":1800,"svcId":1500,"evtId":47792,"image":"\/ms\/img\/epg\/rb\/5d52-1611453.l.png","hasTstv":false,"seriesNo":9,"episodeNo":19},{"name":"The Simpsons","description":"Simpson Christmas Stories: Homer gives his version of Jesus\u0027s birth, Grampa tells a Yuletide war story, and Springfield prepares for Christmas. (S17 Ep9\/22)  [AD,S]","startTime":1729930200,"duration":1800,"svcId":1500,"evtId":47427,"image":"\/ms\/img\/epg\/rb\/5d52-5664167.l.png","hasTstv":false,"seriesNo":17,"episodeNo":9},{"name":"The Simpsons","description":"My Fair Laddy: Lisa tries to transform Groundskeeper Willie into a gentleman after his shack collapses and he\u0027s forced to move in with the Simpsons. (S17 Ep12\/22)  [AD,S]","startTime":1729932000,"duration":1500,"svcId":1500,"evtId":47428,"image":"\/ms\/img\/epg\/rb\/5d52-5789632.l.png","hasTstv":false,"seriesNo":17,"episodeNo":12},{"name":"The Simpsons","description":"The Seemingly Never-Ending Story: When Homer and Lisa get trapped in a cave, she tells him about a day she spent with Mr Burns after a goat chased her into his mansion. (S17 Ep13\/22)  [AD,S]","startTime":1729933500,"duration":1800,"svcId":1500,"evtId":47429,"image":"\/ms\/img\/epg\/rb\/5d52-5801093.l.png","hasTstv":false,"seriesNo":17,"episodeNo":13},{"name":"The Simpsons","description":"Bart Has Two Mommies: Marge babysits Rod and Todd, but Ned overreacts when she lets them play on a climbing wall. Bart gets pulled into a chimp cage at the zoo. (S17 Ep14\/22)  [AD,S]","startTime":1729935300,"duration":1800,"svcId":1500,"evtId":47794,"image":"\/ms\/img\/epg\/rb\/5d52-5810610.l.png","hasTstv":false,"seriesNo":17,"episodeNo":14},{"name":"The Simpsons","description":"Homer Simpson, This Is Your Wife: Homer signs the family up for a wife swap show, but easy-going husband Charlie (Ricky Gervais) develops a crush on Marge... (S17 Ep15\/22)  [AD,S]","startTime":1729937100,"duration":1800,"svcId":1500,"evtId":47795,"image":"\/ms\/img\/epg\/rb\/5d52-5834353.l.png","hasTstv":false,"seriesNo":17,"episodeNo":15},{"name":"The Simpsons","description":"Regarding Margie: Marge inhales poisonous fumes during a cleaning spree, gets amnesia and forgets who Homer is. (S17 Ep20\/22)  [AD,S]","startTime":1729938900,"duration":1800,"svcId":1500,"evtId":47796,"image":"\/ms\/img\/epg\/rb\/5d52-6060642.l.png","hasTstv":false,"seriesNo":17,"episodeNo":20},{"name":"The Simpsons","description":"The Monkey Suit: Ned is horrified by an evolution exhibition and asks Reverend Lovejoy to promote creationism. So Lisa arranges secret evolution classes... (S17 Ep21\/22)  [AD,S]","startTime":1729940700,"duration":1800,"svcId":1500,"evtId":47797,"image":"\/ms\/img\/epg\/rb\/5d52-6024374.l.png","hasTstv":false,"seriesNo":17,"episodeNo":21},{"name":"Four in a Bed","description":"The B\u0026B battle begins at Railway Hotel Apartments in Gloucestershire, where hosts Carol and Matt take the B\u0026Bers to see some trees. Will the foliage fire them into first place?  [S]","startTime":1729942500,"duration":1800,"svcId":1500,"evtId":47435,"image":"\/ms\/img\/epg\/rb\/5d52-7437195.l.png","hasTstv":false},{"name":"Four in a Bed","description":"On day two, the B\u0026Bers visit Ceredigion in west Wales, where one amble-averse B\u0026Ber isn\u0027t thrilled about a second straight afternoon out walking. At least breakfast hits the spot.  [S]","startTime":1729944300,"duration":1800,"svcId":1500,"evtId":47436,"image":"\/ms\/img\/epg\/rb\/5d52-7440960.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers are still in Ceredigion for the week\u0027s third visit, where Tom and Angela hope to impress their guests with dolphin watching. Let\u0027s just hope the dolphins play ball...  [S]","startTime":1729946100,"duration":1800,"svcId":1500,"evtId":47437,"image":"\/ms\/img\/epg\/rb\/5d52-7441580.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The week\u0027s last visit is to Beth and Rupi\u0027s Elm Escapes in Powys, where one B\u0026Ber gets excited about being able to make breakfast from his hot tub. Fingers crossed it doesn\u0027t fall in.  [S]","startTime":1729947900,"duration":2100,"svcId":1500,"evtId":47438,"image":"\/ms\/img\/epg\/rb\/5d52-7441587.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s payment day, and two B\u0026Bers in particular are sharpening their knives ready for an argument. Emotions run high before everyone finds out how much they\u0027ve been paid and who\u0027s won.  [S]","startTime":1729950000,"duration":1800,"svcId":1500,"evtId":47439,"image":"\/ms\/img\/epg\/rb\/5d52-344718048.l.png","hasTstv":false},{"name":"The Great British Bake Off","description":"It\u0027s Pastry Week and the bakers tackle a frangipane tart and Paris-Brest, complete with a freestanding podium. Who\u0027ll be put on a pedestal, and whose dreams will flake away? (S15 Ep5\/10)  [AD,S]","startTime":1729951800,"duration":4800,"svcId":1500,"evtId":47440,"image":"\/ms\/img\/epg\/rb\/5d52-412559482.l.png","hasTstv":false,"seriesNo":15,"episodeNo":5},{"name":"Hotel Transylvania: Transformania","description":"(2022) More madcap monster-based animated escapades, with Andy Samberg and Selena Gomez\u0027s voices. Ever wondered what an ancient vampire would look like if he were human? Wonder no more.  [S]","startTime":1729956600,"duration":6000,"svcId":1500,"evtId":47798,"image":"\/ms\/img\/epg\/rb\/5d52-4531920.l.png","hasTstv":false},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: Brilliant Builds: Kirstie and Phil look back at Andy and Jess Tuck\u0027s grand renovation of their cramped three-bed semi in Long Eaton. Did they manage it on a shoestring budget?  [S]","startTime":1729962600,"duration":1800,"svcId":1500,"evtId":47799,"image":"\/ms\/img\/epg\/rb\/5d52-414542690.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1729964400,"duration":1800,"svcId":1500,"evtId":47442,"image":"\/ms\/img\/epg\/rb\/5d52-10078666.l.png","hasTstv":false},{"name":"New: Abandoned Railways from Above","description":"Scotland: We follow an old line that connected communities across southern Scotland, from Carlisle via Gretna, Whitrope Summit, Tweedbank and Lady Victoria Colliery to Edinburgh. (Ep6\/6)  [AD,S]","startTime":1729966200,"duration":3600,"svcId":1500,"evtId":47443,"image":"\/ms\/img\/epg\/rb\/5d52-10078673.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Little Trains \u0026 Big Names with...","description":"...Pete Waterman: James May shares his passion for railway modelling and shows Pete how to repair toy trains. Pete launches his new exhibition model. (Ep4\/4) [S,W]","startTime":1729969800,"duration":3600,"svcId":1500,"evtId":47903,"image":"\/ms\/img\/epg\/rb\/5d52-8358753.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"New: Ottoman Empire by Train...","description":"...with Alice Roberts: All aboard as Alice explores the Ottoman Empire, starting with historic mosques, Turkish delight, whirling dervishes and the tombs of the imperial elite. (Ep1\/5)  [AD,S]","startTime":1729973400,"duration":3600,"svcId":1500,"evtId":47446,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Moonage Daydream","description":"(2022) Brett Morgan\u0027s powerful collage of sound and vision bends space and time to capture the very essence of David Bowie\u0027s creativity. Strap in, count down and lift off with Major Tom.  [AD,S]","startTime":1729977000,"duration":9300,"svcId":1500,"evtId":47447,"image":"\/ms\/img\/epg\/rb\/5d52-6394957.l.png","hasTstv":false},{"name":"Life","description":"(2017) Sci-fi horror. Is there life on Mars? Looks like Jake Gyllenhaal, Ryan Reynolds and Rebecca Ferguson have found some. Exciting, right? Well... Strong language\/gory violence.  [S]","startTime":1729986300,"duration":6000,"svcId":1500,"evtId":47759,"image":"\/ms\/img\/epg\/rb\/5d52-253308468.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Oakhurst, New Jersey, Gordon Ramsay helps the overwhelmed owner of Mike and Nellie\u0027s restaurant, who lost his way when his father and business partner died. (S5 Ep8)  [S,SL]","startTime":1729992300,"duration":3300,"svcId":1500,"evtId":47450,"image":"\/ms\/img\/epg\/rb\/5d52-380147693.l.png","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Come Dine with Me","description":"In Loughborough, doctor of psychology Cheryl Travers is first to host, followed by estate agent John Jesson, hotel manager Martino Ercolani and dress-loving Fliss Healey.  [S]","startTime":1729995600,"duration":3000,"svcId":1500,"evtId":47783,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Frasier","description":"Martin Does It His Way: When their least favourite aunt dies, Frasier and Niles are inspired to help Martin make his dream come true: to finish writing a song for Sinatra. (S3 Ep3)  [AD,S]","startTime":1729998600,"duration":1500,"svcId":1500,"evtId":47784,"image":"\/ms\/img\/epg\/rb\/5d52-432267.l.png","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"Frasier","description":"Leapin\u0027 Lizards: Station boss Kate doesn\u0027t object to the pranks that Bulldog plays on Frasier, despite Dr Crane\u0027s obvious discomfort. (S3 Ep4)  [AD,S]","startTime":1730000100,"duration":1500,"svcId":1500,"evtId":47785,"image":"\/ms\/img\/epg\/rb\/5d52-433117.l.png","hasTstv":false,"seriesNo":3,"episodeNo":4}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('395');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('82');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'DIWsSpvHj8o', title: "DEMONS ARE ATTACKING BRAWL STARS!!!", label: "DEMONS ARE ATTACKING BRAWL STARS!!! by Brawl Stars 7,690,669 views 7 hours ago 9 minutes, 8 seconds" },
{ id: 'DO_iGu_U9xo', title: "Poppy Playtime Chapter 4 Trailer - Yarnaby", label: "Poppy Playtime Chapter 4 Trailer - Yarnaby by Mob Entertainment 1,923,627 views 6 hours ago 2 minutes, 21 seconds" },
{ id: 'Km9RSCwJUiU', title: "DID I SABOTAGE MY SCHOOL DANCE? *Game of Clue*", label: "DID I SABOTAGE MY SCHOOL DANCE? *Game of Clue* by Jordan Matter 1,813,827 views 8 hours ago 29 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Malevolent (2018)">Malevolent (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Metropolis (1927)">Metropolis (1927)</a></li><li><a href="https://www.google.com/search?q=Films+-+Priscilla (2023)">Priscilla (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Frozen (2013)">Frozen (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Women on the Verge of a Nervous Breakdown (1988)">Women on the Verge of a Nervous Breakdown (1988)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Brothers Bloom (2008)">The Brothers Bloom (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Adventurer (1917)">The Adventurer (1917)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Last Exorcism Part II (2013)">The Last Exorcism Part II (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Wonder (2022)">The Wonder (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Au hasard Balthazar (1966)">Au hasard Balthazar (1966)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 219.76, tooltip: "Fri, Oct 25, 2024<br/>£219.76"},
{ number: 220.46, tooltip: "Thu, Oct 24, 2024<br/>£220.46"},
{ number: 220.33, tooltip: "Wed, Oct 23, 2024<br/>£220.33"},
{ number: 221.57, tooltip: "Tue, Oct 22, 2024<br/>£221.57"},
{ number: 221.85, tooltip: "Mon, Oct 21, 2024<br/>£221.85"},
{ number: 222.23, tooltip: "Fri, Oct 18, 2024<br/>£222.23"},
{ number: 221.75, tooltip: "Thu, Oct 17, 2024<br/>£221.75"},
{ number: 221.65, tooltip: "Wed, Oct 16, 2024<br/>£221.65"},
{ number: 219.86, tooltip: "Tue, Oct 15, 2024<br/>£219.86"},
{ number: 221.87, tooltip: "Mon, Oct 14, 2024<br/>£221.87"},
{ number: 220.51, tooltip: "Fri, Oct 11, 2024<br/>£220.51"},
{ number: 219.65, tooltip: "Thu, Oct 10, 2024<br/>£219.65"},
{ number: 219.38, tooltip: "Wed, Oct 09, 2024<br/>£219.38"},
{ number: 218.15, tooltip: "Tue, Oct 08, 2024<br/>£218.15"},
{ number: 218.31, tooltip: "Mon, Oct 07, 2024<br/>£218.31"},
{ number: 218.64, tooltip: "Fri, Oct 04, 2024<br/>£218.64"},
{ number: 217.38, tooltip: "Thu, Oct 03, 2024<br/>£217.38"},
{ number: 215.97, tooltip: "Wed, Oct 02, 2024<br/>£215.97"},
{ number: 215.48, tooltip: "Tue, Oct 01, 2024<br/>£215.48"},
{ number: 214.93, tooltip: "Mon, Sep 30, 2024<br/>£214.93"},
{ number: 215.29, tooltip: "Fri, Sep 27, 2024<br/>£215.29"},
{ number: 214.66, tooltip: "Thu, Sep 26, 2024<br/>£214.66"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Oct 25, 2024",
		"vs Day":      "Thu, Oct 24, 2024",
		"vs Week":     "Fri, Oct 18, 2024",
		"vs Month":    "Thu, Sep 26, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£219.76/share",
		'vs Day':      "-0.32%",
		'vs Week':     "-1.11%",
		'vs Month':    "+2.38%",
		'vs Year':     "+26.54%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '25.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 26 October and 27 October">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.257&p=3.913&r=0.721',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:51',
		Set:      '17:47',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Categorical</em> is a synonym of <a href="https://www.merriam-webster.com/dictionary/absolute"><em>absolute</em></a> and <a href="https://www.merriam-webster.com/dictionary/definite"><em>definite</em></a> that describes something that is said in a very strong and clear way. It can also mean "of, relating to, or constituting a <a href="https://www.merriam-webster.com/dictionary/category">category</a>" or "involving, according with, or considered with respect to specific categories."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>