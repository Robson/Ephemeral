<!DOCTYPE html>
<html lang="en">
	<head>
		<title>17:24 28-Oct - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Bus fares to rise to £3 in England under new cap</b><br/>The new limit replaces the existing £2 cap but some have criticised the decision." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy0l99xz719o">Bus fares to rise to £3 in England under new cap</a></li><li class="ttt" data-tt="<b>Tommy Robinson jailed for contempt of court</b><br/>He was jailed for republishing and distributing untrue claims about a Syrian refugee."><a href="https://www.bbc.com/news/articles/c704eedkqkvo">Tommy Robinson jailed for contempt of court</a></li><li class="ttt" data-tt="<b>Starmer: MP Mike Amesbury CCTV footage \'shocking\'</b><br/>The Prime Minister says the Labour party &quot;moved swiftly&quot; to respond after the video appeared."><a href="https://www.bbc.com/news/articles/cp8xnn7vp8zo">Starmer: MP Mike Amesbury CCTV footage \'shocking\'</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy0l99xz719o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/94de/live/41669600-9527-11ef-b625-ed49b635f0e5.jpg" class="ttt" data-tt="Young man wearing black hoodie, grey t-shirt and headphones uses his bus pass " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Backlash after comedian at Trump rally calls Puerto Rico \'island of garbage\'</b><br/>Republicans join Democrats to condemn Tony Hinchliffe for his comments at the New York event." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy9jj2g75q4o">Backlash after comedian at Trump rally calls Puerto Rico \'island of garbage\'</a></li><li class="ttt" data-tt="<b>What does MAGA mean to these Trump supporters?</b><br/>At Madison Square Garden arena, we asked what \'make America great again\' really means."><a href="https://www.bbc.com/news/videos/c5yrrz98ek4o">What does MAGA mean to these Trump supporters?</a></li><li class="ttt" data-tt="<b>Tariffs hurt his business. He\'s voting for Trump anyway</b><br/>Donald Trump\'s call for sweeping tariffs is resonating, as protectionism gains steam in the US."><a href="https://www.bbc.com/news/articles/c0r8edwj9wlo">Tariffs hurt his business. He\'s voting for Trump anyway</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy9jj2g75q4o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e970/live/8d83cdb0-9512-11ef-8e6d-e3e64e16c628.jpg" class="ttt" data-tt="Tony Hinchcliffe speaks at a Donald Trump rally" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Backlash after comedian calls Puerto Rico \'island of garbage\' on stage at Trump rally</b><br/>Republicans join Democrats to condemn Tony Hinchliffe for his comments at the New York event." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy9jj2g75q4o">Backlash after comedian calls Puerto Rico \'island of garbage\' on stage at...</a></li><li class="ttt" data-tt="<b>Smuggler reveals operation to help Vietnamese reach UK</b><br/>Man claims to the BBC that he has helped 1,000 people cross the Channel in his years working in the smuggling industry."><a href="https://www.bbc.com/news/articles/ce3yzq6px3eo">Smuggler reveals operation to help Vietnamese reach UK</a></li><li class="ttt" data-tt="<b>Nato says North Korean troops deployed to Russia\'s Kursk region</b><br/>Mark Rutte said the deployment represented a &quot;dangerous expansion&quot; of Russia\'s war in Ukraine."><a href="https://www.bbc.com/news/articles/cyv737vy376o">Nato says North Korean troops deployed to Russia\'s Kursk region</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy9jj2g75q4o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e970/live/8d83cdb0-9512-11ef-8e6d-e3e64e16c628.jpg" class="ttt" data-tt="Tony Hinchcliffe speaks at a Donald Trump rally" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Verstappen \'got what he had coming to him\'</b><br/>Lando Norris likes Max Verstappen as a person. So Norris was trying not to criticise the Dutchman too much after the Mexico City Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c5yrrnl138lo">Verstappen \'got what he had coming to him\'</a></li><li class="ttt" data-tt="<b>What does Norris need to do to catch and beat Verstappen?</b><br/>BBC Sport analyses the Formula 1 title battle including the factors that may help Lando Norris overhaul Max Verstappen."><a href="https://www.bbc.com/sport/formula1/articles/c2kd9w5lv1po">What does Norris need to do to catch and beat Verstappen?</a></li><li class="ttt" data-tt="<b>Norris calls Verstappen \'dangerous\' as Sainz wins in Mexico</b><br/>Lando Norris cuts Max Verstappen’s lead to 47 points and labels his rival “dangerous” as the championship battle reaches boiling point at the Mexico City Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/c5y33ek257do">Norris calls Verstappen \'dangerous\' as Sainz wins in Mexico</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c5yrrnl138lo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/d466/live/d004e0e0-94ca-11ef-8e6d-e3e64e16c628.jpg" class="ttt" data-tt="Max Verstappen and Lando Norris" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Instagram reveals it lowers quality of less popular videos</b><br/>The revelation has sparked concern among some creators it may impact their reach on the platform." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cp8xnm7z71go">Instagram reveals it lowers quality of less popular videos</a></li><li class="ttt" data-tt="<b>\'I can\'t run a business like this\': Why the WordPress row matters</b><br/>WordPress\'s tools are used by 40% of the world\'s websites, making this a spat with big consequences."><a href="https://www.bbc.com/news/articles/cm2y7eyp3zpo">\'I can\'t run a business like this\': Why the WordPress row matters</a></li><li class="ttt" data-tt="<b>Microsoft boss gets 63% pay rise despite asking for reduction</b><br/>Satya Nadella asked for a reduction because of cyber attacks the firm suffered - but still saw his earnings increase massively."><a href="https://www.bbc.com/news/articles/cwy1lkp71n2o">Microsoft boss gets 63% pay rise despite asking for reduction</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cp8xnm7z71go"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/365e/live/4f46d0d0-952e-11ef-b625-ed49b635f0e5.jpg" class="ttt" data-tt="A young woman wearing a dark blue top looks at her smartphone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"28 Oct – 3 Nov","date":17300736E5,"ts":"Mon, 28","ds":"Mon, 28 Oct","icon":18,"desc":"Sprinkles. Overcast.","temp":15,"templow":9,"cf":13,"wind":11,"wd":210,"hum":88,"pc":75,"rain":5.2 },{"date":173016E7,"ts":"Tue, 29","ds":"Tue, 29 Oct","icon":18,"desc":"Sprinkles. Overcast.","temp":15,"templow":8,"cf":14,"wind":5,"wd":320,"hum":86,"pc":24,"rain":1.3 },{"date":17302464E5,"ts":"Wed, 30","ds":"Wed, 30 Oct","icon":4,"desc":"Partly cloudy.","temp":14,"templow":7,"cf":13,"wind":5,"wd":310,"hum":78,"pc":0},{"date":17303328E5,"ts":"Thu, 31","ds":"Thu, 31 Oct","icon":1,"desc":"Sunny.","temp":14,"templow":8,"cf":14,"wind":2,"wd":210,"hum":80,"pc":1},{"date":17304192E5,"ts":"Fri, 1","ds":"Fri, 1 Nov","icon":4,"desc":"Afternoon clouds.","temp":15,"templow":7,"cf":14,"wind":7,"wd":330,"hum":82,"pc":5},{"date":17305056E5,"ts":"Sat, 2","ds":"Sat, 2 Nov","icon":4,"desc":"Morning clouds.","temp":11,"templow":3,"cf":8,"wind":6,"wd":80,"hum":72,"pc":3},{"date":1730592E6,"ts":"Sun, 3","ds":"Sun, 3 Nov","icon":4,"desc":"Afternoon clouds.","temp":11,"templow":2,"cf":9,"wind":5,"wd":90,"hum":82,"pc":0},{"hl":true,"hls":"4 Nov – 10 Nov","date":17306784E5,"ts":"Mon, 4","ds":"Mon, 4 Nov","icon":6,"desc":"Broken clouds.","temp":11,"templow":2,"cf":10,"wind":6,"wd":100,"hum":74,"pc":2},{"date":17307648E5,"ts":"Tue, 5","ds":"Tue, 5 Nov","icon":2,"desc":"Decreasing cloudiness.","temp":12,"templow":7,"cf":11,"wind":2,"wd":0,"hum":70,"pc":3},{"date":17308512E5,"ts":"Wed, 6","ds":"Wed, 6 Nov","icon":2,"desc":"Mostly sunny.","temp":12,"templow":7,"cf":11,"wind":2,"wd":120,"hum":72,"pc":5},{"date":17309376E5,"ts":"Thu, 7","ds":"Thu, 7 Nov","icon":4,"desc":"Morning clouds.","temp":12,"templow":7,"cf":11,"wind":6,"wd":210,"hum":81,"pc":6},{"date":1731024E6,"ts":"Fri, 8","ds":"Fri, 8 Nov","icon":4,"desc":"Afternoon clouds.","temp":13,"templow":7,"cf":12,"wind":9,"wd":180,"hum":89,"pc":5},{"date":17311104E5,"ts":"Sat, 9","ds":"Sat, 9 Nov","icon":7,"desc":"Overcast.","temp":14,"templow":9,"cf":12,"wind":10,"wd":180,"hum":84,"pc":6},{"date":17311968E5,"ts":"Sun, 10","ds":"Sun, 10 Nov","icon":2,"desc":"Decreasing cloudiness.","temp":14,"templow":9,"cf":12,"wind":8,"wd":170,"hum":81,"pc":2},{"hl":true,"hls":"11 Nov – 17 Nov","date":17312832E5,"ts":"Mon, 11","ds":"Mon, 11 Nov","icon":18,"desc":"Light rain late. Afternoon clouds.","temp":14,"templow":9,"cf":12,"wind":12,"wd":180,"hum":86,"pc":62,"rain":1.9 }],"grid":{"temp":{"low":2,"high":15,"range":13},"prec":{"high":5.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2410/SteveFrance_leroux_1080.jpg',
		Title:     'STEVE: A Glowing River over France',
		LinkImage: 'https://apod.nasa.gov/apod/image/2410/SteveFrance_leroux_2160.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241028.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Auguste_Fran%C3%A7ois-Marie_Gorguet_-_poster_for_the_premi%C3%A8re_performance_of_%C3%89douard_Lalo%27s_Le_roi_d%27Ys_%281888%29.jpg/350px-Auguste_Fran%C3%A7ois-Marie_Gorguet_-_poster_for_the_premi%C3%A8re_performance_of_%C3%89douard_Lalo%27s_Le_roi_d%27Ys_%281888%29.jpg',
		Title:    'Le roi d&#39;Ys',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Le_roi_d%27Ys',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Le_roi_d%27Ys" title="Le roi d&#39;Ys">Le roi d\'Ys</a></b></i> is an opera in three acts by the French composer <a href="https://en.wikipedia.org/wiki/%C3%89douard_Lalo" title="Édouard Lalo">Édouard Lalo</a>, to a <a href="https://en.wikipedia.org/wiki/Libretto" title="Libretto">libretto</a> by <a href="https://en.wikipedia.org/wiki/%C3%89douard_Blau" title="Édouard Blau">Édouard Blau</a>. It is based on the old <a href="https://en.wikipedia.org/wiki/Breton_language" title="Breton language">Breton</a> legend of the drowned city of <a href="https://en.wikipedia.org/wiki/Ys" title="Ys">Ys</a>, which was according to the legend the capital of the kingdom of <a href="https://en.wikipedia.org/wiki/Cornouaille" title="Cornouaille">Cornouaille</a>. The opera includes a noteworthy <a href="https://en.wikipedia.org/wiki/Aubade" title="Aubade">aubade</a> for tenor in act&#160;3, titled "<span title="French-language text"><span lang="fr">Vainement, ma bien-aimée</span></span>" (In vain, my beloved). <i><a href="https://en.wikipedia.org/wiki/Le_roi_d%27Ys" title="Le roi d&#39;Ys">Le roi d\'Ys</a></i> premiered on 7&#160;May 1888 at the <a href="https://en.wikipedia.org/wiki/Th%C3%A9%C3%A2tre_de_la_Ville" title="Théâtre de la Ville">Théâtre Lyrique</a> in Paris, in a production by the <a href="https://en.wikipedia.org/wiki/Op%C3%A9ra-Comique" title="Opéra-Comique">Opéra-Comique</a>. Within France, the opera was regarded as Lalo\'s most recognized work. This poster was produced by Auguste François-Marie Gorguet  for the 1888 premiere of <i>Le roi d\'Ys</i>, and depicts the final scene of the opera.<small style="display: block; margin-top: 0.8em;">Poster credit: Auguste François-Marie Gorguet; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1730095200,"duration":12600,"svcId":560,"evtId":28788,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730107800,"availabilityEnd":1730194200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gmy\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Gethin Jones and Michelle Ackerley talk to finance expert Iona Bain about how to claim missing money. Also, Dr Xand\u0027s tiredness clinic, our BBC Scam Safe roadshow launch and more! [S] [HD]","startTime":1730107800,"duration":4500,"svcId":560,"evtId":28789,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jybqmg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730112255,"availabilityEnd":1761648255,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gn0\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":96},{"name":"Crimewatch Caught","description":"The alarm is raised over a death in Neath. Police investigate if the woman died accidentally or if this is a murder. In another case, in Pembrokeshire, how a serial killer was finally caught. [S] [HD]","startTime":1730112300,"duration":1800,"svcId":560,"evtId":28790,"image":"\/ms\/img\/epg\/rb\/fec6-p0jtq7jg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727694000,"availabilityEnd":1761044400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023j5q\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"Homes Under the Hammer","description":"70\/80. A couple of terraces in Derby and Stoke, and a shop with space for a trio of flats in Margate are bought at auction by developers hoping to make a profit. [S,AD] [HD]","startTime":1730114100,"duration":3600,"svcId":560,"evtId":28791,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcjl5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730117682,"availabilityEnd":1732709682,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001fymw\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":70},{"name":"Bargain Hunt","description":"Roo Irvine is wowed by Belfast\u0027s Grand Opera House, while two teams of in-laws hunt for bargains to sell at auction in the village of Greyabbey, County Down. [S,AD] [HD]","startTime":1730117700,"duration":2700,"svcId":560,"evtId":28792,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzd86q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730120397,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gn2\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1730120400,"duration":3600,"svcId":560,"evtId":28793,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":151},{"name":"Doctors","description":"Something is very wrong with Zara. What\u0027s Graham\u0027s next move? Scarlett meets a young girl who needs her help. [S,AD] [HD]","startTime":1730124000,"duration":1800,"svcId":560,"evtId":28796,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzcf0v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730125799,"availabilityEnd":1761661799,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gn9\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":265},{"name":"Expert Witness","description":"1\/15. The murderer of Sarah Payne is linked to the crime by a forensic pollen expert. [S] [HD]","startTime":1730125800,"duration":1800,"svcId":560,"evtId":28845,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzfm46.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730095200,"availabilityEnd":1761631200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024ghn\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":1},{"name":"Escape to the Country","description":"11\/55. Steve Brown marvels at the spectacular scenery on offer in Perth and Kinross and beyond as he helps a couple with three children to find their dream home in the countryside. [S] [HD]","startTime":1730127600,"duration":2700,"svcId":560,"evtId":28846,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzd3fq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730130313,"availabilityEnd":1761666313,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024h6h\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":11},{"name":"Garden Rescue","description":"3\/35. Charlie and Lee are in Worcester to create a country cottage garden for Karina and Chris with a space for their children Barney and Felix to let off some energy. [S] [HD]","startTime":1730130300,"duration":2700,"svcId":560,"evtId":28797,"image":"\/ms\/img\/epg\/rb\/ae0c-p0c5qbb4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730132984,"availabilityEnd":1732724984,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001776h\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"The Bidding Room","description":"26\/30. Nigel Havers presides as five sellers aim for the best price for their items, including stilts, perfume bottles, furniture locks, a ranch phone toy and a nautical trio. [S] [HD]","startTime":1730133000,"duration":2700,"svcId":560,"evtId":28798,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzcfpk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730135695,"availabilityEnd":1793553180,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnc\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":26},{"name":"Pointless","description":"24\/55. Alexander Armstrong is joined by co-host Andi Oliver for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1730135700,"duration":2700,"svcId":560,"evtId":28799,"image":"\/ms\/img\/epg\/rb\/ae0c-p0grr37s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1700071200,"availabilityEnd":1732730404,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001sg7t\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":24},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1730138400,"duration":1800,"svcId":560,"evtId":28800,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730140290,"availabilityEnd":1730226690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnf\u0026ui_id=4.0.0"},"episodeNo":151},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1730140200,"duration":1800,"svcId":560,"evtId":28801,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730141895,"availabilityEnd":1730228295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnh\u0026ui_id=4.0.0"},"episodeNo":211},{"name":"The One Show","description":"Hollywood star Tim Robbins joins alongside MasterChef judge Marcus Wareing. Presented by Clara Amfo and Roman Kemp. [S] [HD]","startTime":1730142000,"duration":1800,"svcId":560,"evtId":28802,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730143870,"availabilityEnd":1732735870,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnk\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Nish starts to grow suspicious, Jean battles with her guilt, and Honey and Billy reveal some worrying news. [S,AD] [HD]","startTime":1730143800,"duration":1800,"svcId":560,"evtId":28847,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzcgwv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730095200,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024h6m\u0026ui_id=4.0.0"},"episodeNo":7003},{"name":"Trump: A Second Chance?","description":"For the past two years, Panorama has been following some of Donald Trump\u0027s most ardent supporters. They tell Panorama why they want him to get a second chance in the White House. [S] [HD]","startTime":1730145600,"duration":3600,"svcId":560,"evtId":28848,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzdh2y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730149200,"availabilityEnd":1761685200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024h6r\u0026ui_id=4.0.0"}},{"name":"Mr Loverman","description":"5\/8. Barry and Donna\u0027s nights mirror each other\u0027s in an episode about how secrets and misunderstandings have shaped their world views. Deals with adult themes. [S,AD] [HD]","startTime":1730149200,"duration":1800,"svcId":560,"evtId":28849,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwlmwt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728882000,"availabilityEnd":1855112400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023z8k\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Mr Loverman","description":"6\/8. Barry and Daniel begin to bond, until a betrayal provokes an unexpected outburst. Contains strong language and some upsetting scenes. [S,AD] [HD]","startTime":1730151000,"duration":1800,"svcId":560,"evtId":28850,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwln4f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728882000,"availabilityEnd":1855112400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023z8n\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1730152800,"duration":1800,"svcId":560,"evtId":28803,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730154710,"availabilityEnd":1730241110,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnm\u0026ui_id=4.0.0"},"episodeNo":151},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1730154600,"duration":600,"svcId":560,"evtId":28804,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730155050,"availabilityEnd":1730241450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnp\u0026ui_id=4.0.0"},"episodeNo":181},{"name":"Have I Got a Bit More News for You","description":"4\/10. Charlie Brooker is host, with panellists Sir Grayson Perry and Angela Barnes. Contains some strong language and adult humour. [S] [HD]","startTime":1730155200,"duration":2700,"svcId":560,"evtId":28851,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k05tt0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729976400,"availabilityEnd":1732572000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024h6w\u0026ui_id=4.0.0"},"seriesNo":68,"episodeNo":4},{"name":"Bump","description":"7\/10. Angie and Edith have unresolved issues. Contains some strong language. [S,AD] [HD]","startTime":1730157900,"duration":1800,"svcId":560,"evtId":28852,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jv1ysz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728277200,"availabilityEnd":1838156340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023qw7\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":7},{"name":"Bump","description":"8\/10. Santi has a new high-paying client. Contains strong language. [S,AD] [HD]","startTime":1730159700,"duration":2100,"svcId":560,"evtId":28853,"image":"\/ms\/img\/epg\/rb\/fec6-p0jv1z7x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728277200,"availabilityEnd":1838156340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023qw9\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":8},{"name":"Michael McIntyre\u0027s The Wheel","description":"3\/10. The celebrities helping the contestants are Leigh Francis, Susan Wokoma, Richard Madeley, Laura Whitmore, Ade Adepitan, Ayda Field, Jamie Laing and Sophie Habboo. [S] [HD]","startTime":1730161800,"duration":3600,"svcId":560,"evtId":28854,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzcb2y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729969912,"availabilityEnd":1766351479,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024h71\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":3},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1730165400,"duration":300,"svcId":560,"evtId":28805,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730165735,"availabilityEnd":1730772285,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024gnr\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1730165700,"duration":15900,"svcId":560,"evtId":28806,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":211}]},{"channelid":700,"offset":0,"event":[{"name":"Bargain Hunt","description":"In Keith Gascoigne\u0027s workshop, Natasha Raskin Sharp learns about the craft of making long bows, while two teams target profits at an antiques fair. [S,AD] [HD]","startTime":1730097000,"duration":2700,"svcId":700,"evtId":20384,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy438n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729857600,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002489b\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"The Bidding Room","description":"25\/30. The eclectic items on sale include a meat press, a vanity case and a fairground sign. [S] [HD]","startTime":1730099700,"duration":2700,"svcId":700,"evtId":20385,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyb2cs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729872856,"availabilityEnd":1793553180,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247nj\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":25},{"name":"The Repair Shop","description":"The Bear Ladies return a lifelong furry friend to former glory while paper conservator Angelina helps honour victims of one of Britain\u0027s worst mining disasters. [S,AD,SL] [HD]","startTime":1730102400,"duration":3600,"svcId":700,"evtId":20386,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jv1xrd.jpg","hasTstv":false,"seriesNo":22,"episodeNo":15},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1730106000,"duration":11700,"svcId":700,"evtId":20387,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The government\u0027s definition of \u0027working people\u0027 ahead of the Budget. [S] [HD]","startTime":1730117700,"duration":2700,"svcId":700,"evtId":20388,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730120405,"availabilityEnd":1732712405,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024hz8\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"16\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1730120400,"duration":2700,"svcId":700,"evtId":20389,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730123095,"availabilityEnd":1732715095,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000532f\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":16},{"name":"The Tournament","description":"1\/30. In the ultimate knockout quiz, eight players do battle on the Tournament Run in a series of exciting tug-of-war quiz matches. Hosted by Alex Scott. [S] [HD]","startTime":1730123100,"duration":2700,"svcId":700,"evtId":20390,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d02v6j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730125760,"availabilityEnd":1732717760,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001c9zd\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"The Boss","description":"11\/20. Susan Calman hosts the quiz show of tactics, knowledge and nerve. Contestants must work as a team, but ultimately there can only be one Boss. Who will walk away with the money? [S] [HD]","startTime":1730125800,"duration":2700,"svcId":700,"evtId":20391,"image":"\/ms\/img\/epg\/rb\/ae0c-p0grkb3r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730128475,"availabilityEnd":1732720475,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b08qlyj1\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":11},{"name":"Operation Gold Rush with Dan Snow","description":"3\/3. Dan Snow follows in the footsteps of the prospectors of the 19th-century Klondike gold rush. The team finally set about the back-breaking work of mining for gold. [S,AD] [HD]","startTime":1730128500,"duration":3600,"svcId":700,"evtId":20392,"image":"\/ms\/img\/epg\/rb\/ae0c-p04d99b3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730132068,"availabilityEnd":1732724068,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b083gtp6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"This Farming Life","description":"4\/12. Ewan trains JohnJo the bull. Isla and George fight to save a poorly deer calf. Matt and Dani reach an important milestone, and Joyce tries to get the best price for her calves. [S] [HD]","startTime":1730132100,"duration":3600,"svcId":700,"evtId":20393,"image":"\/ms\/img\/epg\/rb\/ae0c-p08q85ry.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730135684,"availabilityEnd":1732727684,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000mffd\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":4},{"name":"Flog It!","description":"Paul Martin revisits previous Flog It! locations and presents all-new valuations. Experts touch down at Bletchley Park, the Ulster Transport Museum and Crowcombe Court. [S] [HD]","startTime":1730135700,"duration":2700,"svcId":700,"evtId":20394,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730138384,"availabilityEnd":1732730384,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0b0b6x1\u0026ui_id=4.0.0"},"seriesNo":15,"episodeNo":53},{"name":"Richard Osman\u0027s House of Games","description":"26\/100. Jordan Banjo, Sian Lloyd, Nick Pickard and Ellie White test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1730138400,"duration":1800,"svcId":700,"evtId":20395,"image":"\/ms\/img\/epg\/rb\/fec6-p0jzdk7d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730140198,"availabilityEnd":1771698595,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024kzd\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":26},{"name":"Strictly - It Takes Two","description":"26\/60. Fleur East kicks off the week by chatting to the latest eliminated couple. Plus more exclusive interviews and backstage gossip from the world of Strictly. [S] [HD]","startTime":1730140200,"duration":1800,"svcId":700,"evtId":20396,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730142055,"availabilityEnd":1765654200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hzd\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":26},{"name":"Saving Lives at Sea","description":"1\/10. The volunteers of the RNLI race to save a surfer at the mercy of Storm Brendan and a paddleboarder who\u0027s being swept out to sea - and away from his young children. [S,AD] [HD]","startTime":1730142000,"duration":1800,"svcId":700,"evtId":20397,"image":"\/ms\/img\/epg\/rb\/fec6-p09sfvbk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730143901,"availabilityEnd":1732735901,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001v1zf\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Mastermind","description":"10\/30. Clive Myrie hosts the classic quiz where contenders take on the famous black chair. Specialist subjects include the poetry of John Keats, PJ Harvey and the films of David Fincher. [S] [HD]","startTime":1730143800,"duration":1800,"svcId":700,"evtId":20398,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzdkpd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730145756,"availabilityEnd":1765915126,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hzg\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":10},{"name":"Only Connect","description":"12\/28. Victoria Coren Mitchell hosts the quiz where knowledge only gets you so far. A team of whisky lovers returns to face a team from the U3A. [S] [HD]","startTime":1730145600,"duration":1800,"svcId":700,"evtId":20399,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzm292.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730147558,"availabilityEnd":1772569740,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hzj\u0026ui_id=4.0.0"},"seriesNo":33,"episodeNo":12},{"name":"University Challenge","description":"12\/37. The University of Leeds plays the University of Edinburgh for one of the few remaining places in round two. Amol Rajan asks the questions. [S] [HD]","startTime":1730147400,"duration":1800,"svcId":700,"evtId":20400,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzlzgb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730149348,"availabilityEnd":1778616021,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hzl\u0026ui_id=4.0.0"},"seriesNo":2027,"episodeNo":12},{"name":"Solar System","description":"4\/5. Professor Brian Cox explores the solar system\u0027s ice giants, frozen moons and worlds where ice behaves in unimaginable ways. [S,AD] [HD]","startTime":1730149200,"duration":3600,"svcId":700,"evtId":20401,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jtw628.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728277200,"availabilityEnd":1759813200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002388c\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Alma\u0027s Not Normal","description":"4\/6. Alma fulfils a lifelong dream to meet her father. Can the reality live up to the dream? Contains very strong language. [S,AD] [HD]","startTime":1730152800,"duration":1800,"svcId":700,"evtId":20402,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jtns25.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728277200,"availabilityEnd":1759813200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023869\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1730154600,"duration":1800,"svcId":700,"evtId":20403,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730156550,"availabilityEnd":1761692550,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hzn\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1730156400,"duration":300,"svcId":700,"evtId":20404,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730156780,"availabilityEnd":1730243180,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024hzq\u0026ui_id=4.0.0"}},{"name":"Ophelia","description":"Lady-in-waiting Ophelia catches the eye of young prince Hamlet. Contains some violent scenes. [2018] [S] [HD]","startTime":1730156700,"duration":6000,"svcId":700,"evtId":20405,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b2x688.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730162730,"availabilityEnd":1737938730,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011pn4\u0026ui_id=4.0.0"}},{"name":"Countryfile","description":"Joe Crowley visits an Essex potato farm at the height of their harvest, only to discover that the recent rain isn\u0027t making it easy to lift the crop. [S,SL] [HD]","startTime":1730162700,"duration":3300,"svcId":700,"evtId":20406,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyq0qr.jpg","hasTstv":false},{"name":"Waterloo Road","description":"7\/8. When Steve goes too far, Nicky panics as Preston gets caught in the firing line, whilst Schuey makes a desperate call. [S,AD,SL] [HD]","startTime":1730166000,"duration":3600,"svcId":700,"evtId":20407,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnh9ql.jpg","hasTstv":false,"seriesNo":14,"episodeNo":7},{"name":"Industry","description":"8\/8. A new dawn rises on Pierpoint \u0026 Co. Contains very strong language and some scenes of a sexual nature. [S,AD,SL] [HD]","startTime":1730169600,"duration":4200,"svcId":700,"evtId":20408,"image":"\/ms\/img\/epg\/rb\/fec6-p0jvbcgp.jpg","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1730173800,"duration":9600,"svcId":700,"evtId":20409,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"The Adventures of Bad Boy and Dirty Girl: It\u0027s the morning after, and Kate and Frasier are worried about the consequences of their fling. (S3 Ep7)  [AD,S]","startTime":1730088300,"duration":1500,"svcId":1500,"evtId":47044,"image":"\/ms\/img\/epg\/rb\/5d52-438339.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"Frasier","description":"The Last Time I Saw Maris: Niles decides to stand up to Maris after she disappears to New York for two days on a shopping trip. In retaliation, she moves to divorce him. (S3 Ep8)  [AD,S]","startTime":1730089800,"duration":1500,"svcId":1500,"evtId":47045,"image":"\/ms\/img\/epg\/rb\/5d52-440116.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Frasier","description":"It\u0027s Hard to Say Goodbye If You Won\u0027t Leave: Frasier realises that he has strong feelings for Kate, just as she announces she is moving to Chicago. (S3 Ep10)  [AD,S]","startTime":1730091300,"duration":1500,"svcId":1500,"evtId":47046,"image":"\/ms\/img\/epg\/rb\/5d52-493391.l.png","hasTstv":false,"seriesNo":3,"episodeNo":10},{"name":"Frasier","description":"The Friend: Frasier realises that he hasn\u0027t made any friends since moving to Seattle, so he sets out to meet someone new. (S3 Ep11)  [AD,S]","startTime":1730092800,"duration":1500,"svcId":1500,"evtId":47793,"image":"\/ms\/img\/epg\/rb\/5d52-446823.l.png","hasTstv":false,"seriesNo":3,"episodeNo":11},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Linford Christie joins Susie Dent in Dictionary Corner.  [S]","startTime":1730094300,"duration":2400,"svcId":1500,"evtId":47383,"image":"\/ms\/img\/epg\/rb\/5d52-10055260.l.png","hasTstv":false},{"name":"Cheers","description":"The Last Picture Show: Frasier, Cliff, Norm and Woody try to relive the drive-in movie experiences of their youth. Sam puts Gus in charge of the bar for a night. (S11 Ep18\/28)  [S]","startTime":1730096700,"duration":1500,"svcId":1500,"evtId":47384,"image":"\/ms\/img\/epg\/rb\/5d52-174420.l.png","hasTstv":false,"seriesNo":11,"episodeNo":18},{"name":"Cheers","description":"Bar Wars VII: The Naked Prey: On St Patrick\u0027s night, Sam takes a bet that Cheers will make more money than Gary\u0027s Old Town Tavern, and Woody is the target of practical jokes. (S11 Ep19\/28)  [S]","startTime":1730098200,"duration":1500,"svcId":1500,"evtId":47385,"image":"\/ms\/img\/epg\/rb\/5d52-614581.l.png","hasTstv":false,"seriesNo":11,"episodeNo":19},{"name":"Cheers","description":"Look Before You Sleep: While his apartment block is being fumigated, Sam can\u0027t go home, and he locks himself out of the bar. But he turns down Rebecca\u0027s offer to put him up. (S11 Ep20\/28)  [S]","startTime":1730099700,"duration":1500,"svcId":1500,"evtId":47386,"image":"\/ms\/img\/epg\/rb\/5d52-178305.l.png","hasTstv":false,"seriesNo":11,"episodeNo":20},{"name":"The King of Queens","description":"Damned Yanky: Under sedation in hospital to have his appendix removed, Doug starts to fantasise about other women... out loud. (S6 Ep16\/24)  [AD,S]","startTime":1730101200,"duration":1500,"svcId":1500,"evtId":47387,"image":"\/ms\/img\/epg\/rb\/5d52-383522270.l.png","hasTstv":false,"seriesNo":6,"episodeNo":16},{"name":"The King of Queens","description":"Multiple Plots: Doug is freaked out by a customer who answers the door semi-naked. Carrie hates her new job as a dog walker. (S6 Ep17\/24)  [AD,S]","startTime":1730102700,"duration":1800,"svcId":1500,"evtId":47388,"image":"\/ms\/img\/epg\/rb\/5d52-383740955.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"The King of Queens","description":"Trash Talker: Deacon unwittingly befriends Doug\u0027s nemesis from his school days, which causes problems in their friendship. (S6 Ep18\/24)  [AD,S]","startTime":1730104500,"duration":1800,"svcId":1500,"evtId":47389,"image":"\/ms\/img\/epg\/rb\/5d52-383740972.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"Frasier","description":"Frasier Has Spokane: When Frasier\u0027s radio programme is syndicated in Spokane, it replaces a local broadcaster\u0027s show, enraging his callers. (S9 Ep22)  [AD,S]","startTime":1730106300,"duration":1800,"svcId":1500,"evtId":47390,"image":"\/ms\/img\/epg\/rb\/5d52-1627789.l.png","hasTstv":false,"seriesNo":9,"episodeNo":22},{"name":"F1 Mexico City GP Highlights","description":"This is Sergio P\u00e9rez\u0027s home race. Last year he crashed out on the first corner of the opening lap. So he\u0027ll be looking to put on a great performance for his fans this time around.  [S]","startTime":1730108100,"duration":5400,"svcId":1500,"evtId":47391,"image":"\/ms\/img\/epg\/rb\/5d52-10079142.l.png","hasTstv":false},{"name":"Come Dine with Me: The...","description":"...Professionals: Can Lost Property\u0027s surf-and-turf sharing boards make waves in Middlesbrough? And will Finkle and Green\u0027s small plates and Banh Mi\u0027s pan-Asian food impress? (S2 Ep17\/20)  [S]","startTime":1730113500,"duration":3600,"svcId":1500,"evtId":47392,"image":"\/ms\/img\/epg\/rb\/5d52-9453783.l.png","hasTstv":false,"seriesNo":2,"episodeNo":17},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1730117100,"duration":300,"svcId":1500,"evtId":47394,"image":"\/ms\/img\/epg\/rb\/5d52-10079772.l.png","hasTstv":false},{"name":"Renovation Nation","description":"Can Andrew and Mandy bring warmth back into a former gentleman\u0027s residence in Warwickshire? In Kent, Iain and Miranda try to bring salvation to a Victorian rectory. (Ep16\/20)  [AD,S]","startTime":1730117400,"duration":3600,"svcId":1500,"evtId":47393,"image":"\/ms\/img\/epg\/rb\/5d52-6624177.l.png","hasTstv":false,"seriesNo":1,"episodeNo":16},{"name":"Find It, Fix It, Flog It","description":"In Buckinghamshire, Simon O\u0027Brien and Henry Cole restore a pair of manhole covers, a water pump and a beehive. (S7 Ep12)  [AD,S]","startTime":1730121000,"duration":3600,"svcId":1500,"evtId":47395,"image":"\/ms\/img\/epg\/rb\/5d52-6149066.l.png","hasTstv":false,"seriesNo":7,"episodeNo":12},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Neil Delamere joins Susie Dent in Dictionary Corner.  [S]","startTime":1730124600,"duration":3000,"svcId":1500,"evtId":47396,"image":"\/ms\/img\/epg\/rb\/5d52-10079774.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Lee Juggurnauth heads to south-east Spain around the Costa C\u00e1lida to help Trevor and Mel find a dream holiday home. Will any of Lee\u0027s fabulous options hit the spot?  [S]","startTime":1730127600,"duration":3600,"svcId":1500,"evtId":47397,"image":"\/ms\/img\/epg\/rb\/5d52-8330821.l.png","hasTstv":false},{"name":"The Great House Giveaway","description":"Adam and Dave buy a bungalow to renovate in Glossop. Between them, they have building experience and bags of enthusiasm. Can they give this tired house a new lease of life? (S1 Ep17)  [S]","startTime":1730131200,"duration":3600,"svcId":1500,"evtId":47398,"image":"\/ms\/img\/epg\/rb\/5d52-3781016.l.png","hasTstv":false,"seriesNo":1,"episodeNo":17},{"name":"Four in a Bed","description":"The new run continues. Lee and Emma host the week\u0027s first visit at their hotel in Fife, where the B\u0026Bers get into the swing of things on a golf course.  [S]","startTime":1730134800,"duration":1800,"svcId":1500,"evtId":47399,"image":"\/ms\/img\/epg\/rb\/5d52-10079777.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"An ex-Olympian and his wife take on a derelict settlement in France. A couple pick up the pieces after an earthquake devastates their Italian village. (S2 Ep6)  [S]","startTime":1730136600,"duration":3600,"svcId":1500,"evtId":47400,"image":"\/ms\/img\/epg\/rb\/5d52-8299328.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"The Simpsons","description":"Frinkcoin: Professor Frink develops a crypto currency that makes him rich and gets him new friends. But are they true friends? (S31 Ep13\/22)  [AD,S]","startTime":1730140200,"duration":1800,"svcId":1500,"evtId":47461,"image":"\/ms\/img\/epg\/rb\/5d52-3509226.l.png","hasTstv":false,"seriesNo":31,"episodeNo":13},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1730142000,"duration":3300,"svcId":1500,"evtId":47462,"image":"\/ms\/img\/epg\/rb\/5d52-10079781.l.png","hasTstv":false},{"name":"Harry\u0027s Story: Stand Up To Cancer","description":"Harry was an award-winning engineer with a zest for life, until one day he collapsed. This is the story of his courageous fight after being diagnosed with two brain tumours.  [AD,S]","startTime":1730145300,"duration":300,"svcId":1500,"evtId":47463,"image":"\/ms\/img\/epg\/rb\/5d52-8356386.l.png","hasTstv":false},{"name":"New: Jamie: Fast and Simple","description":"Jamie Oliver cooks: speedy red pepper pasta, chicken and bread sauce traybake; a batch of beef brisket; a banging bean dish; and a foolproof pastry strawberry tart. (Ep4\/5)  [AD,S]","startTime":1730145600,"duration":3600,"svcId":1500,"evtId":47464,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"New: Generation Z","description":"Gory zombie-horror satire. Charlie and Kelly must deal with Kelly\u0027s nan, while Steff heads off on a dangerous side quest with Finn. Meanwhile the OAPs, led by Cecily, are hungry... (Ep2\/6)  [AD,S]","startTime":1730149200,"duration":3600,"svcId":1500,"evtId":47465,"image":"\/ms\/img\/epg\/rb\/5d52-10079790.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"New: Love Cheats: American...","description":"...Swindler: On the American Pacific coast, a female fraudster and leading local pagan feigns illness to steal over $500,000 from her victims. And then the FBI gets involved. (Ep3\/4)  [AD,S]","startTime":1730152800,"duration":3900,"svcId":1500,"evtId":47466,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"First Dates","description":"Barrister Sarah meets Dan, an ex-military man guilty of too many dad jokes. And besties Megan and Ellena are out on a double date hoping to have their trust in men restored. (S21 Ep3)  [AD,S]","startTime":1730156700,"duration":3600,"svcId":1500,"evtId":47467,"image":"\/ms\/img\/epg\/rb\/5d52-8750760.l.png","hasTstv":false,"seriesNo":21,"episodeNo":3},{"name":"The Great British Bake Off: An...","description":"...Extra Slice: Jo Brand, Alexander Armstrong, Natalie Cassidy and AJ Odudu turnover Pastry Week. Whose showstopping Paris-Brest was the Paris-Best? (S15 Ep5\/10)  [AD,S,SL]","startTime":1730160300,"duration":3300,"svcId":1500,"evtId":47468,"image":"\/ms\/img\/epg\/rb\/5d52-10055218.l.png","hasTstv":false,"seriesNo":15,"episodeNo":5},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Austin, Texas, Gordon Ramsay visits struggling Greek restaurant El Greco, where the owners have secretly recruited \u0027Chef Mike\u0027 the microwave to help them out on a daily basis. (S5 Ep9)  [S,SL]","startTime":1730163600,"duration":3000,"svcId":1500,"evtId":47480,"image":"\/ms\/img\/epg\/rb\/5d52-380167902.l.png","hasTstv":false,"seriesNo":4,"episodeNo":10},{"name":"Harry\u0027s Story: Stand Up To Cancer","description":"Harry was an award-winning engineer with a zest for life, until one day he collapsed. This is the story of his courageous fight after being diagnosed with two brain tumours.  [AD,S,SL]","startTime":1730166600,"duration":300,"svcId":1500,"evtId":47471,"image":"\/ms\/img\/epg\/rb\/5d52-8356386.l.png","hasTstv":false},{"name":"Spontaneous","description":"(2020) Darkly comic teen horror. Will a spate of unexplained spontaneous combustions affect Mara and Dylan\u0027s romance? Strong language\/gore\/drugs.  [S,SL]","startTime":1730166900,"duration":6300,"svcId":1500,"evtId":47470,"image":"\/ms\/img\/epg\/rb\/5d52-3751468.l.png","hasTstv":false},{"name":"Everyone Else Burns","description":"Comedy with Simon Bird. When the order finds itself without a church, David offers up the Lewis family home. Rachel seeks her parents\u0027 approval, and Maude locks horns with Fiona. (S2 Ep3\/6)  [AD,S,SL]","startTime":1730173200,"duration":1500,"svcId":1500,"evtId":47469,"image":"\/ms\/img\/epg\/rb\/5d52-10055227.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('392');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('57');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '7RIvq98nXvc', title: "Our Son's BIG Accident", label: "Our Son's BIG Accident by The Royalty Family 5,296,536 views 1 day ago 20 minutes" },
{ id: 'nW9yQVql_kA', title: "I TRADED A SUPERCAR FOR A BACKYARD HOUSE", label: "I TRADED A SUPERCAR FOR A BACKYARD HOUSE by Mat Armstrong MK2 1,157,365 views 23 hours ago 52 minutes" },
{ id: 'lZCPah72qoM', title: "Surviving A Week in OUR Demonic School PT 3 (THE POSSESSION)", label: "Surviving A Week in OUR Demonic School PT 3 (THE POSSESSION) by Sam and Colby 2,521,798 views 23 hours ago 1 hour, 15 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Anatomy of a Fall (2023)">Anatomy of a Fall (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Good One (2024)">Good One (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+My Fair Lady (1964)">My Fair Lady (1964)</a></li><li><a href="https://www.google.com/search?q=Films+-+Malevolent (2018)">Malevolent (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Metropolis (1927)">Metropolis (1927)</a></li><li><a href="https://www.google.com/search?q=Films+-+Priscilla (2023)">Priscilla (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Frozen (2013)">Frozen (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Women on the Verge of a Nervous Breakdown (1988)">Women on the Verge of a Nervous Breakdown (1988)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Brothers Bloom (2008)">The Brothers Bloom (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Adventurer (1917)">The Adventurer (1917)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 219.76, tooltip: "Fri, Oct 25, 2024<br/>£219.76"},
{ number: 220.46, tooltip: "Thu, Oct 24, 2024<br/>£220.46"},
{ number: 220.33, tooltip: "Wed, Oct 23, 2024<br/>£220.33"},
{ number: 221.57, tooltip: "Tue, Oct 22, 2024<br/>£221.57"},
{ number: 221.85, tooltip: "Mon, Oct 21, 2024<br/>£221.85"},
{ number: 222.23, tooltip: "Fri, Oct 18, 2024<br/>£222.23"},
{ number: 221.75, tooltip: "Thu, Oct 17, 2024<br/>£221.75"},
{ number: 221.65, tooltip: "Wed, Oct 16, 2024<br/>£221.65"},
{ number: 219.86, tooltip: "Tue, Oct 15, 2024<br/>£219.86"},
{ number: 221.87, tooltip: "Mon, Oct 14, 2024<br/>£221.87"},
{ number: 220.51, tooltip: "Fri, Oct 11, 2024<br/>£220.51"},
{ number: 219.65, tooltip: "Thu, Oct 10, 2024<br/>£219.65"},
{ number: 219.38, tooltip: "Wed, Oct 09, 2024<br/>£219.38"},
{ number: 218.15, tooltip: "Tue, Oct 08, 2024<br/>£218.15"},
{ number: 218.31, tooltip: "Mon, Oct 07, 2024<br/>£218.31"},
{ number: 218.64, tooltip: "Fri, Oct 04, 2024<br/>£218.64"},
{ number: 217.38, tooltip: "Thu, Oct 03, 2024<br/>£217.38"},
{ number: 215.97, tooltip: "Wed, Oct 02, 2024<br/>£215.97"},
{ number: 215.48, tooltip: "Tue, Oct 01, 2024<br/>£215.48"},
{ number: 214.93, tooltip: "Mon, Sep 30, 2024<br/>£214.93"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Oct 25, 2024",
		"vs Day":      "Thu, Oct 24, 2024",
		"vs Week":     "Fri, Oct 18, 2024",
		"vs Month":    "Mon, Sep 30, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£219.76/share",
		'vs Day':      "-0.32%",
		'vs Week':     "-1.11%",
		'vs Month':    "+2.25%",
		'vs Year':     "+26.54%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '12.5',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 28 October and 29 October">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.125&p=2.999&r=6.092',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:55',
		Set:      '16:43',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A disbursement is a payout of money from a fund that has been created for a special purpose. <em>Disbursement</em> can also refer to the money that is paid out. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>