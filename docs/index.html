<!DOCTYPE html>
<html lang="en">
	<head>
		<title>06:02 26-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Archbishop\'s Christmas sermon \'empty words\', Bishop says</b><br/>Bishop of Newcastle Helen-Ann Hartley has previously called for Stephen Cottrell to resign." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c20wzn8yqj0o">Archbishop\'s Christmas sermon \'empty words\', Bishop says</a></li><li class="ttt" data-tt="<b>Woman arrested over Christmas Day village murder</b><br/>An investigation is ongoing following the death of a man found in cardiac arrest on Christmas Day."><a href="https://www.bbc.com/news/articles/c0kv181n5k1o">Woman arrested over Christmas Day village murder</a></li><li class="ttt" data-tt="<b>Deadline to record forgotten footpaths to be scrapped</b><br/>Walking campaigners welcome the move, which the government says will help prevent paths from being lost."><a href="https://www.bbc.com/news/articles/cy89yddgg7yo">Deadline to record forgotten footpaths to be scrapped</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c20wzn8yqj0o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/700a/live/f66b6170-c2e0-11ef-b5a4-61ec374991cc.jpg" class="ttt" data-tt="Bishop of Newcastle Helen-Ann Hartley wearing red robes and a yellow hat" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Greenland and the Panama Canal aren\'t for sale. Why is Trump threatening to take them?</b><br/>Trump\'s promises to use America\'s strength to its advantage helped propel him twice to the White House." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c1lnzzd1zrmo">Greenland and the Panama Canal aren\'t for sale. Why is Trump threatening t...</a></li><li class="ttt" data-tt="<b>Bald eagle officially declared US national bird after 250 years</b><br/>The bird has been a national emblem in the US for years, but it never had an official status in the country\'s 248-year history."><a href="https://www.bbc.com/news/articles/c23vzkdek4po">Bald eagle officially declared US national bird after 250 years</a></li><li class="ttt" data-tt="<b>Body found in wheel well of United plane after landing in Hawaii</b><br/>A United Airlines spokesperson says it\'s unclear how or when the person got into the landing gear compartment of the aircraft."><a href="https://www.bbc.com/news/articles/cg4zgzqdgeno">Body found in wheel well of United plane after landing in Hawaii</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c1lnzzd1zrmo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/fcf8/live/80c8fd90-c251-11ef-8c65-07a414099579.jpg" class="ttt" data-tt="Donald Trump speaks at a Turning Point conference in Arizona." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Twenty years on: \'My boat was metres from the shore when the tsunami hit\'</b><br/>A BBC reporter looks back to the day in 2004 when the tsunami hit while she was on the Andaman and Nicobar islands." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c6230646435o">Twenty years on: \'My boat was metres from the shore when the tsunami hit\'</a></li><li class="ttt" data-tt="<b>Dozens survive Kazakhstan passenger plane crash</b><br/>Kazakh authorities say almost half the people on board the aircraft survived the deadly incident."><a href="https://www.bbc.com/news/articles/cjwl1e6895qo">Dozens survive Kazakhstan passenger plane crash</a></li><li class="ttt" data-tt="<b>Syria says 14 security personnel killed in \'ambush\' by Assad loyalists</b><br/>Interior ministry forces clashed with supporters of ousted President Bashar al-Assad on Wednesday."><a href="https://www.bbc.com/news/articles/c0ew5g3vzreo">Syria says 14 security personnel killed in \'ambush\' by Assad loyalists</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c6230646435o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/1b5f/live/a224ef60-c334-11ef-a2ca-e99d0c9a24e3.jpg" class="ttt" data-tt="Indian men stand exhausetd after searching for missing relatives at Silver Beach in Cuddalore, some 185 kms south of Madras, 27 December 2004, after tidal waves hit the region." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Frenchman Hadjar gets final F1 seat for 2025</b><br/>Frenchman Isack Hadjar is promoted to Red Bull\'s second team to race alongside Japanese Yuki Tsunoda during the 2025 Formula 1 season." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/crmnxweg781o">Frenchman Hadjar gets final F1 seat for 2025</a></li><li class="ttt" data-tt="<b>Lawson replaces Perez at Red Bull for 2025</b><br/>New Zealander Liam Lawson will race for Red Bull alongside Max Verstappen following the team\'s decision to ditch Sergio Perez."><a href="https://www.bbc.com/sport/formula1/articles/c89xd0k55gwo">Lawson replaces Perez at Red Bull for 2025</a></li><li class="ttt" data-tt="<b>Bottas returning to Mercedes as reserve driver</b><br/>Valtteri Bottas is returning to Mercedes as their reserve driver for 2025, having been released by Audi-owned Sauber at the end of this season."><a href="https://www.bbc.com/sport/formula1/articles/cy4pj0j9z98o">Bottas returning to Mercedes as reserve driver</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/crmnxweg781o"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/facb/live/0cc367c0-beb7-11ef-addc-4536c4252544.jpg" class="ttt" data-tt="Isack Hadjar" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>The retro hobby that can help boost your happiness (say scientists)</b><br/>How a very popular puzzle that was first invented 50 years ago may have certain wellbeing benefits" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cwyg4lgezj2o">The retro hobby that can help boost your happiness (say scientists)</a></li><li class="ttt" data-tt="<b>Morrisons Christmas delays extend to second day</b><br/>The supermarket says its systems are back to normal after pre-Christmas chaos on Monday."><a href="https://www.bbc.com/news/articles/cn8g24qn87no">Morrisons Christmas delays extend to second day</a></li><li class="ttt" data-tt="<b>Brazil shuts BYD factory site over \'slavery\' conditions</b><br/>More than 160 workers have been rescued from the car factory, according to local prosecutors."><a href="https://www.bbc.com/news/articles/c8xj9jp57r2o">Brazil shuts BYD factory site over \'slavery\' conditions</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cwyg4lgezj2o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/f0b7/live/a1bd0ec0-c124-11ef-a2ca-e99d0c9a24e3.png" class="ttt" data-tt="A treated image shows a tower of wooden blocks with smiley faces on them" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"23 Dec – 29 Dec","date":17351712E5,"ts":"Thu, 26","ds":"Thu, 26 Dec","icon":4,"desc":"Partly cloudy.","temp":9,"templow":5,"cf":8,"wind":3,"wd":220,"hum":91,"pc":0},{"date":17352576E5,"ts":"Fri, 27","ds":"Fri, 27 Dec","icon":2,"desc":"Scattered clouds.","temp":8,"templow":4,"cf":8,"wind":3,"wd":230,"hum":94,"pc":2},{"date":1735344E6,"ts":"Sat, 28","ds":"Sat, 28 Dec","icon":18,"desc":"Sprinkles late. Cloudy.","temp":8,"templow":4,"cf":5,"wind":6,"wd":220,"hum":90,"pc":20,"rain":0.3 },{"date":17354304E5,"ts":"Sun, 29","ds":"Sun, 29 Dec","icon":18,"desc":"Sprinkles late. Breaks of sun late.","temp":9,"templow":5,"cf":5,"wind":12,"wd":240,"hum":88,"pc":22,"rain":0.5 },{"hl":true,"hls":"30 Dec – 5 Jan","date":17355168E5,"ts":"Mon, 30","ds":"Mon, 30 Dec","icon":18,"desc":"Sprinkles late. Cloudy.","temp":10,"templow":5,"cf":7,"wind":7,"wd":170,"hum":84,"pc":22,"rain":0.5 },{"date":17356032E5,"ts":"Tue, 31","ds":"Tue, 31 Dec","icon":7,"desc":"Overcast.","temp":11,"templow":6,"cf":6,"wind":20,"wd":250,"hum":80,"pc":3},{"date":17356896E5,"ts":"Wed, 1","ds":"Wed, 1 Jan","icon":18,"desc":"Sprinkles. Overcast.","temp":11,"templow":5,"cf":7,"wind":10,"wd":220,"hum":93,"pc":42,"rain":1.7 },{"date":1735776E6,"ts":"Thu, 2","ds":"Thu, 2 Jan","icon":18,"desc":"Sprinkles early. Overcast.","temp":11,"templow":8,"cf":7,"wind":22,"wd":220,"hum":78,"pc":39,"rain":0.3 },{"date":17358624E5,"ts":"Fri, 3","ds":"Fri, 3 Jan","icon":19,"desc":"Rain. Overcast.","temp":11,"templow":7,"cf":7,"wind":19,"wd":230,"hum":90,"pc":63,"rain":6.2 },{"date":17359488E5,"ts":"Sat, 4","ds":"Sat, 4 Jan","icon":20,"desc":"Heavy rain. Overcast.","temp":8,"templow":6,"cf":4,"wind":17,"wd":80,"hum":98,"pc":96,"rain":37.6 },{"date":17360352E5,"ts":"Sun, 5","ds":"Sun, 5 Jan","icon":18,"desc":"Sprinkles. Breaks of sun late.","temp":8,"templow":6,"cf":4,"wind":16,"wd":170,"hum":84,"pc":65,"rain":3.6 },{"hl":true,"hls":"6 Jan – 12 Jan","date":17361216E5,"ts":"Mon, 6","ds":"Mon, 6 Jan","icon":18,"desc":"Sprinkles. Overcast.","temp":9,"templow":6,"cf":5,"wind":19,"wd":210,"hum":76,"pc":64,"rain":3.2 },{"date":1736208E6,"ts":"Tue, 7","ds":"Tue, 7 Jan","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":9,"templow":4,"cf":6,"wind":12,"wd":250,"hum":77,"pc":58,"rain":1.5 },{"date":17362944E5,"ts":"Wed, 8","ds":"Wed, 8 Jan","icon":7,"desc":"Overcast.","temp":6,"templow":3,"cf":3,"wind":8,"wd":80,"hum":89,"pc":6},{"date":17363808E5,"ts":"Thu, 9","ds":"Thu, 9 Jan","icon":19,"desc":"Rain. Overcast.","temp":8,"templow":3,"cf":2,"wind":20,"wd":190,"hum":89,"pc":89,"rain":22.4 }],"grid":{"temp":{"low":3,"high":11,"range":8},"prec":{"high":37.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/Hubble_NGC5643_potw2450a1024.jpg',
		Title:     'Grand Spiral NGC 5643',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/Hubble_NGC5643_potw2450a.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241226.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Amphipoea_oculea_-_Keila.jpg/400px-Amphipoea_oculea_-_Keila.jpg',
		Title:    'Amphipoea oculea',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Amphipoea_oculea',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Amphipoea_oculea" title="Amphipoea oculea">Amphipoea oculea</a></b></i>, the ear moth, is a <a href="https://en.wikipedia.org/wiki/Moth" title="Moth">moth</a> in the family <a href="https://en.wikipedia.org/wiki/Noctuidae" title="Noctuidae">Noctuidae</a>, with a <a href="https://en.wikipedia.org/wiki/Wingspan" title="Wingspan">wingspan</a> of 29 to 34 millimetres (1.1 to 1.3 inches). Its range includes southern England, where it is widespread and common, as well as Ireland and continental Europe, with the exception of Albania, Greece and Turkey. Adults are found from June to September depending on the location, with <a href="https://en.wikipedia.org/wiki/Voltinism" title="Voltinism">one generation</a> occurring per year. At night the moths come to light and flowers, seeking <a href="https://en.wikipedia.org/wiki/Honeydew_(secretion)" title="Honeydew (secretion)">honeydew</a> and sugar. During the day they feed at the flowers of <a href="https://en.wikipedia.org/wiki/Thistle" title="Thistle">thistles</a> and <a href="https://en.wikipedia.org/wiki/Jacobaea_vulgaris" title="Jacobaea vulgaris">ragwort</a>. This female <i>A.&#160;oculea</i> moth was photographed feeding on <a href="https://en.wikipedia.org/wiki/Knautia_arvensis" title="Knautia arvensis">field scabious</a> in <a href="https://en.wikipedia.org/wiki/Keila" title="Keila">Keila</a>, Estonia. The photograph was <a href="https://en.wikipedia.org/wiki/Focus_stacking" title="Focus stacking">focus-stacked</a> from 22 separate images.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.orghttps://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="c:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1735192800,"duration":10800,"svcId":560,"evtId":30462,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735203615,"availabilityEnd":1735290015,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fhn\u0026ui_id=4.0.0"}},{"name":"The Snail and the Whale","description":"A beautiful tale of an unlikely friendship, a tour of the world and a heroic rescue. Based on the picture book written by Julia Donaldson and illustrated by Axel Scheffler. [S,AD] [HD]","startTime":1735203600,"duration":1500,"svcId":560,"evtId":30463,"image":"\/ms\/img\/epg\/rb\/ae0c-p07y8cvl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1611487500,"availabilityEnd":1892008740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000cslw\u0026ui_id=4.0.0"}},{"name":"Zog","description":"A family film based on the picture book written by Julia Donaldson and illustrated by Axel Scheffler. The story of a keen young dragon in his first years at Dragon School. [S,AD] [HD]","startTime":1735205100,"duration":1800,"svcId":560,"evtId":30464,"image":"\/ms\/img\/epg\/rb\/fec6-p07jgzp5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1576486800,"availabilityEnd":1892008740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0bwdw8y\u0026ui_id=4.0.0"}},{"name":"Inside Out","description":"Critically acclaimed animation. The five emotions living in young Riley\u0027s brain all battle to avoid a complete meltdown as she struggles to process her new life in San Francisco. [2015] [S,AD] [HD]","startTime":1735206900,"duration":5100,"svcId":560,"evtId":30465,"image":"\/ms\/img\/epg\/rb\/ae0c-p06vksld.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735212131,"availabilityEnd":1737804131,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06sqnwh\u0026ui_id=4.0.0"}},{"name":"How to Train Your Dragon 3: The...","description":"...Hidden World. Hiccup seeks the Hidden World, a sanctuary where his villagers and dragons will be safe. [2019] [S,AD] [HD]","startTime":1735212000,"duration":5700,"svcId":560,"evtId":30466,"image":"\/ms\/img\/epg\/rb\/ae0c-p090t7mv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735217821,"availabilityEnd":1737809821,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qr81\u0026ui_id=4.0.0"}},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1735217700,"duration":1500,"svcId":560,"evtId":30467,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735218900,"availabilityEnd":1735305300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fhq\u0026ui_id=4.0.0"},"episodeNo":194},{"name":"The Smeds and the Smoos","description":"Two young aliens from warring families fall in love and run away, leading their relatives on a chase across outer space. Animated adaptation of the children\u0027s book by Julia Donaldson. [S,AD] [HD]","startTime":1735219200,"duration":1800,"svcId":560,"evtId":30268,"image":"\/ms\/img\/epg\/rb\/fec6-p0dn44l4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1703514600,"availabilityEnd":1892008740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001gncf\u0026ui_id=4.0.0"}},{"name":"Paddington","description":"Finding himself lost and alone at Paddington station, a young Peruvian bear is befriended by the Brown family and attempts to find an explorer who visited Peru many years earlier. [2014] [S,AD] [HD]","startTime":1735221000,"duration":5100,"svcId":560,"evtId":30470,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b7h0x0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733074266,"availabilityEnd":1737818182,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012w6j\u0026ui_id=4.0.0"}},{"name":"Beauty and the Beast","description":"An enchantress casts a spell on a selfish prince, turning him into a beast. Meanwhile, Belle, the book-loving daughter of a music box maker, dreams of adventure. [2017] [S,AD] [HD]","startTime":1735226100,"duration":7200,"svcId":560,"evtId":30471,"image":"\/ms\/img\/epg\/rb\/ae0c-p07ycpws.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735233330,"availabilityEnd":1737825330,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000cspm\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1735233300,"duration":1200,"svcId":560,"evtId":30472,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735234530,"availabilityEnd":1735320930,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fhv\u0026ui_id=4.0.0"},"episodeNo":194},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1735234500,"duration":300,"svcId":560,"evtId":30473,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735234890,"availabilityEnd":1735321290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fhx\u0026ui_id=4.0.0"},"episodeNo":270},{"name":"Roald Dahl\u0027s Matilda the Musical","description":"Musical based on Roald Dahl\u0027s classic book. Matilda Wormwood is a little girl with a sharp mind, a vivid imagination and the worst parents in the world. [2022] [S,AD] [HD]","startTime":1735234800,"duration":6600,"svcId":560,"evtId":30474,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8xpwt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735241561,"availabilityEnd":1737833561,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026d52\u0026ui_id=4.0.0"}},{"name":"Call the Midwife","description":"2\/2. Shelagh helps a family battle against appalling poverty, Rosalind comes face to face with an escaped convict, whilst romance is on the cards for Nancy. [S,AD] [HD]","startTime":1735241400,"duration":3600,"svcId":560,"evtId":30475,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb9b7m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735245082,"availabilityEnd":1864533600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fhz\u0026ui_id=4.0.0"},"seriesNo":28,"episodeNo":2},{"name":"EastEnders","description":"All hell breaks loose as accusations fly on all sides. [S,AD] [HD]","startTime":1735245000,"duration":1800,"svcId":560,"evtId":30476,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbky23.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735246966,"availabilityEnd":1806469200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fj1\u0026ui_id=4.0.0"},"episodeNo":7039},{"name":"Blankety Blank Christmas Special","description":"1\/10. Joining Bradley for a festive feast and questionable prizes from Santa\u0027s sack are Jane McDonald, Oti Mabuse, Joel Dommett, Jonathan Ross, Sara Pascoe and The Vivienne. [S] [HD]","startTime":1735246800,"duration":2400,"svcId":560,"evtId":30477,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9xf50.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735249211,"availabilityEnd":1766785211,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026f5l\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"Outnumbered Christmas Special","description":"In a moment of adversity, Sue and Pete gather all their offspring, including one grandchild, to try to celebrate a traditional family Christmas. [S,AD] [HD]","startTime":1735249200,"duration":2700,"svcId":560,"evtId":30478,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9xfr0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735251902,"availabilityEnd":1766787902,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fj3\u0026ui_id=4.0.0"},"episodeNo":9},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1735251900,"duration":900,"svcId":560,"evtId":30479,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735252940,"availabilityEnd":1735339340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fj5\u0026ui_id=4.0.0"},"episodeNo":194},{"name":"Match of the Day","description":"Gary Lineker introduces highlights from all the Boxing Day Premier League fixtures, which feature both Manchester City and Liverpool. [S] [HD]","startTime":1735252800,"duration":5400,"svcId":560,"evtId":30480,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kczdvg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735257540,"availabilityEnd":1735862340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fj7\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Point Break","description":"An undercover cop pursuing a gang of bank robbers is seduced by the LA surf scene. Contains very strong language and some violent scenes. [1991] [S,AD] [HD]","startTime":1735258200,"duration":7200,"svcId":560,"evtId":30481,"image":"\/ms\/img\/epg\/rb\/ae0c-p07yf6bv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735265375,"availabilityEnd":1737857375,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00dtjjp\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1735265400,"duration":300,"svcId":560,"evtId":30482,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735264018,"availabilityEnd":1735870463,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026fj9\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1735265700,"duration":13500,"svcId":560,"evtId":30483,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":270}]},{"channelid":700,"offset":0,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1735188900,"duration":4200,"svcId":700,"evtId":21798,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Tiddler","description":"A little fish with a big imagination. Tiddler\u0027s always telling tall tales - but this time, his stories will take him on a great adventure. A heartwarming Julia Donaldson classic. [S,AD,SL] [HD]","startTime":1735193100,"duration":1500,"svcId":700,"evtId":21799,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k99zbm.jpg","hasTstv":false},{"name":"Mary Makes Christmas","description":"Dame Mary Berry is joined by Amanda Holden, Oti Mabuse and Nick Grimshaw in a beautifully festive coastal setting to create delicious gifts for family and friends this Christmas. [S,AD,SL] [HD]","startTime":1735194600,"duration":3600,"svcId":700,"evtId":21800,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8c84q.jpg","hasTstv":false},{"name":"Asia: Our Wild Adventures","description":"3\/8. A trip through the natural history archives with some of the BBC\u0027s favourite wildlife presenters as they share some of their most memorable adventures across Asia. [S] [HD]","startTime":1735198200,"duration":3600,"svcId":700,"evtId":21801,"image":"\/ms\/img\/epg\/rb\/ae0c-p09jgnk6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735201803,"availabilityEnd":1737793803,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000wnk1\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Holiday Affair","description":"Romantic drama in which two very different men court a widow. In search of a gift for her son, the widow meets a sales clerk who proceeds to woo her. Her fiance is not impressed. [1949] [S] [HD]","startTime":1735201800,"duration":5100,"svcId":700,"evtId":21802,"image":"\/ms\/img\/epg\/rb\/ae0c-p08xz9cw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1605765600,"availabilityEnd":2145916740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0078tph\u0026ui_id=4.0.0"}},{"name":"My Epic Camel Adventure with...","description":"...Gordon Buchanan. Gordon Buchanan takes an epic camel ride across Mongolia\u0027s harsh Gobi Desert. [S,AD] [HD]","startTime":1735206900,"duration":3600,"svcId":700,"evtId":21803,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8cvbv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734641999,"availabilityEnd":1766177999,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00265ws\u0026ui_id=4.0.0"}},{"name":"The Big Sleep","description":"Philip Marlowe is hired to deal with a series of debts incurred by a general\u0027s daughter. [1946] [S] [HD]","startTime":1735210500,"duration":6600,"svcId":700,"evtId":21804,"image":"\/ms\/img\/epg\/rb\/fec6-p0gytdgb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735217171,"availabilityEnd":1737809171,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001tvn4\u0026ui_id=4.0.0"}},{"name":"Casablanca","description":"Classic romantic drama. Rick\u0027s Cafe is a centre for criminals, refugees, resistance fighters and Nazis. Its cynical owner takes risks for no-one - until the arrival of Ilsa. [1942] [S,AD]","startTime":1735217100,"duration":6000,"svcId":700,"evtId":21805,"image":"\/ms\/img\/epg\/rb\/ae0c-p08qw7lp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735223146,"availabilityEnd":1737815146,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000mmc2\u0026ui_id=4.0.0"}},{"name":"The Magnificent Seven","description":"Classic western. After the latest raid by bandits, the villagers in a small settlement in Mexico band together to hire a group of disparate gunfighters to protect them. [1960] [S] [HD]","startTime":1735223100,"duration":7500,"svcId":700,"evtId":21806,"image":"\/ms\/img\/epg\/rb\/fec6-p0df5nw9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735230599,"availabilityEnd":1737822599,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000crzp\u0026ui_id=4.0.0"}},{"name":"Final Score","description":"Jason Mohammad reports and reaction from all the big games on a busy Boxing Day, including Chelsea v Fulham and Aston Villa v Newcastle. [S] [HD]","startTime":1735230600,"duration":2400,"svcId":700,"evtId":21807,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g71c5s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735233085,"availabilityEnd":1735837885,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dm9\u0026ui_id=4.0.0"}},{"name":"The Two Ronnies at Christmas","description":"Ronnie Barker and Ronnie Corbett with a special Christmas programme of sketches, jokes and songs from 1987. Guests include Lynda Baron, Sandra Dickinson and Frank Finlay. [S]","startTime":1735233000,"duration":3000,"svcId":700,"evtId":21808,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dnpl6h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733032800,"availabilityEnd":1890799200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b007cf1c\u0026ui_id=4.0.0"},"episodeNo":23},{"name":"Expedition Killer Whale","description":"A team of scientists and filmmakers heads to Antarctica to study the most sophisticated hunts in the animal kingdom - killer whales making waves to wash seals off floating ice. [S,AD] [HD]","startTime":1735236000,"duration":3600,"svcId":700,"evtId":21809,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k95cbs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735239648,"availabilityEnd":1766775648,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dd3\u0026ui_id=4.0.0"}},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 3\/10. Jim Howick, Matt Morsia, Rebecca Lucy Taylor and Susan Wokoma test their general knowledge skills for a special festive show in Richard Osman\u0027s Festive House of Games. [S] [HD]","startTime":1735239600,"duration":1800,"svcId":700,"evtId":21810,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbd858.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735241488,"availabilityEnd":1767468616,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dmc\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":3},{"name":"Celebrity Mastermind","description":"3\/14. Clive Myrie asks the questions as Kriss Akabusi, Nikita Kanda, Mike Bubbins and Lindsey Santoro go under the spotlight in the celebrity version of the classic quiz. [S] [HD]","startTime":1735241400,"duration":1800,"svcId":700,"evtId":21811,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbd8lr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735243298,"availabilityEnd":1769543941,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dmf\u0026ui_id=4.0.0"},"seriesNo":19,"episodeNo":3},{"name":"Only Connect: Books Special","description":"3\/8. Two teams from previous series, both taking their names from giants of literature, face fiendish, bookish questions. [S] [HD]","startTime":1735243200,"duration":1800,"svcId":700,"evtId":21812,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb9z80.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735245105,"availabilityEnd":1767385816,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dmh\u0026ui_id=4.0.0"},"seriesNo":34,"episodeNo":3},{"name":"Christmas University Challenge","description":"3\/10. This year\u0027s festive specials continue. Manchester Metropolitan plays Brighton, captained by Debra Stephenson and Adam Pearson. Amol Rajan asks the questions. [S] [HD]","startTime":1735245000,"duration":1800,"svcId":700,"evtId":21813,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbc8gg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735246925,"availabilityEnd":1767474048,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dmk\u0026ui_id=4.0.0"},"seriesNo":2028,"episodeNo":3},{"name":"Gladiator","description":"Maximus Decimus Meridius, favoured general of the Roman emperor, is betrayed and enslaved. Contains graphic violence and some upsetting scenes. [2000] [S,AD] [HD]","startTime":1735246800,"duration":8700,"svcId":700,"evtId":21814,"image":"\/ms\/img\/epg\/rb\/fec6-p0k8x5sz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735255661,"availabilityEnd":1737847661,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026dmm\u0026ui_id=4.0.0"}},{"name":"And Now for Something...","description":"...Completely Different. Including Nudge Nudge, Hell\u0027s Grannies, Killer Cars, Dead Parrot and Blackmail. Contains adult humour. [1972] [S,AD]","startTime":1735255500,"duration":5100,"svcId":700,"evtId":21815,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h15jxf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735260778,"availabilityEnd":1737852778,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00n7sf5\u0026ui_id=4.0.0"}},{"name":"Mortimer \u0026 Whitehouse: Gone...","description":"...Christmas Fishing. To celebrate another year of fishing, Paul and Bob visit the River Lot in France. [S,AD,SL] [HD]","startTime":1735260600,"duration":3600,"svcId":700,"evtId":21816,"image":"\/ms\/img\/epg\/rb\/fec6-p0kb1n5h.jpg","hasTstv":false,"seriesNo":8,"episodeNo":4},{"name":"Gavin \u0026 Stacey: The Finale","description":"Find out what happened after Nessa\u0027s marriage proposal to Smithy. Contains some strong language. [S,AD,SL] [HD]","startTime":1735264200,"duration":5700,"svcId":700,"evtId":21817,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kcdr16.jpg","hasTstv":false,"episodeNo":9},{"name":"Asia","description":"3\/7. A look at Asia\u0027s frozen north, where life perseveres with remarkable resilience. [S,AD,SL] [HD]","startTime":1735269900,"duration":3600,"svcId":700,"evtId":21818,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k1gbv6.jpg","hasTstv":false,"episodeNo":3}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('406');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('39');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'PlJSWoKEIkI', title: "£1,700pcm To Live In A Conservatory In Clapham?", label: "£1,700pcm To Live In A Conservatory In Clapham? by Housing Horrors 63,573 views 4 weeks ago 1 minute, 5 seconds – play Short" },
{ id: 'PlJSWoKEIkI', title: "Kids Write Swear Words On Walls Of House 😳", label: "Kids Write Swear Words On Walls Of House 😳 by Housing Horrors 31,462 views 1 month ago 1 minute, 1 second – play Short" },
{ id: 'pf4LrLpNivY', title: "Is This 1 Bed Flat Even Legal?", label: "Is This 1 Bed Flat Even Legal? by Housing Horrors 4,261 views 12 days ago 1 minute, 7 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Working Girls (1986)">Working Girls (1986)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silences of the Palace (1994)">The Silences of the Palace (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+La Cérémonie (1995)">La Cérémonie (1995)</a></li><li><a href="https://www.google.com/search?q=Films+-+Outrage (1950)">Outrage (1950)</a></li><li><a href="https://www.google.com/search?q=Films+-+Celia (1989)">Celia (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Cathy Come Home (1966)">Cathy Come Home (1966)</a></li><li><a href="https://www.google.com/search?q=Films+-+Miranda (2002)">Miranda (2002)</a></li><li><a href="https://www.google.com/search?q=Films+-+Portrait d\'une jeune fille de la fin des années 60 à Bruxelles (1994)">Portrait d\'une jeune fille de la fin des années 60 à Bruxelles (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Anora (2024)">Anora (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Vagabond (1985)">Vagabond (1985)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 230.58, tooltip: "Tue, Dec 24, 2024<br/>£230.58"},
{ number: 229.20, tooltip: "Mon, Dec 23, 2024<br/>£229.20"},
{ number: 227.51, tooltip: "Fri, Dec 20, 2024<br/>£227.51"},
{ number: 226.11, tooltip: "Thu, Dec 19, 2024<br/>£226.11"},
{ number: 225.27, tooltip: "Wed, Dec 18, 2024<br/>£225.27"},
{ number: 229.87, tooltip: "Tue, Dec 17, 2024<br/>£229.87"},
{ number: 231.35, tooltip: "Mon, Dec 16, 2024<br/>£231.35"},
{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>£231.64"},
{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Dec 24, 2024",
		"vs Day":      "Mon, Dec 23, 2024",
		"vs Week":     "Tue, Dec 17, 2024",
		"vs Month":    "Tue, Nov 26, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£230.58/share",
		'vs Day':      "+0.60%",
		'vs Week':     "+0.31%",
		'vs Month':    "-0.50%",
		'vs Year':     "+20.26%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '20.8',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 26 December and 27 December">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.208&p=3.775&r=0.651',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:15',
		Set:      '15:58',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Evergreen</em> in its figurative uses describes something, such as a plot, that retains its freshness or interest over a long period of time, or something, such as an issue or concern, that is universally and continually relevant. In botany, <em>evergreen</em> describes foliage that remains green and functional through more than one growing season.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>