<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:25 10-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>I\'ve been forced out over Partygate report, says Boris Johnson</b><br/>Boris Johnson is to step down as an MP but insists that &quot;I did not lie&quot; over Covid lockdowns." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-politics-65863267?at_medium=RSS&amp;at_campaign=KARANGA">I\'ve been forced out over Partygate report, says Boris Johnson</a></li><li class="ttt" data-tt="<b>Key allies rewarded in Johnson resignation honours list</b><br/>The former PM\'s close allies are given honours in a list published just before he resigned as an MP."><a href="https://www.bbc.co.uk/news/uk-politics-65861936?at_medium=RSS&amp;at_campaign=KARANGA">Key allies rewarded in Johnson resignation honours list</a></li><li class="ttt" data-tt="<b>Nadine Dorries: Former minister stands down as Tory MP</b><br/>The ex-culture secretary and close ally of Boris Johnson says she is standing down &quot;with immediate effect&quot;."><a href="https://www.bbc.co.uk/news/uk-politics-65860564?at_medium=RSS&amp;at_campaign=KARANGA">Nadine Dorries: Former minister stands down as Tory MP</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-politics-65863267?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/13317/production/_130051687_mediaitem130051686.jpg" class="ttt" data-tt="Boris Johnson in March 2022" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump took nuclear secrets and stored files in shower, charges say</b><br/>Donald Trump is accused of keeping classified documents in a ballroom and bathroom at his Florida home." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65852286?at_medium=RSS&amp;at_campaign=KARANGA">Trump took nuclear secrets and stored files in shower, charges say</a></li><li class="ttt" data-tt="<b>Who is Walt Nauta, the Trump aide charged?</b><br/>Mr Trump accused officials of &quot;trying to destroy&quot; the life of his aide, calling him a wonderful man."><a href="https://www.bbc.co.uk/news/65862112?at_medium=RSS&amp;at_campaign=KARANGA">Who is Walt Nauta, the Trump aide charged?</a></li><li class="ttt" data-tt="<b>\'Violations of those laws put our country at risk\'</b><br/>Special counsel Jack Smith says: &quot;We have one set of laws in this country and they apply to everyone.&quot;"><a href="https://www.bbc.co.uk/news/world-us-canada-65860521?at_medium=RSS&amp;at_campaign=KARANGA">\'Violations of those laws put our country at risk\'</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65852286?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/18515/production/_130050699_djtindictmnt-shower.jpg" class="ttt" data-tt="Boxes of papers are stacked in a bathroom with a chandelier and a toilet visible, at Mar-a-Lago" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Trump took nuclear secrets and kept files in shower, charges say</b><br/>Donald Trump is accused of keeping classified documents in a ballroom and bathroom at his Florida home." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65852286?at_medium=RSS&amp;at_campaign=KARANGA">Trump took nuclear secrets and kept files in shower, charges say</a></li><li class="ttt" data-tt="<b>Ukraine\'s counter-offensive against Russia under way</b><br/>It\'s been talked of for months, now it looks like Ukraine is finally launching its plan to recapture land."><a href="https://www.bbc.co.uk/news/world-europe-65860294?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine\'s counter-offensive against Russia under way</a></li><li class="ttt" data-tt="<b>Ukraine dam: The friends who escaped Russian occupation in Kherson floods</b><br/>Maryna and Valentyna found themselves trapped on the Dnipro River when Russia invaded last year."><a href="https://www.bbc.co.uk/news/world-europe-65859358?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine dam: The friends who escaped Russian occupation in Kherson floods</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65852286?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/18515/production/_130050699_djtindictmnt-shower.jpg" class="ttt" data-tt="Boxes of papers are stacked in a bathroom with a chandelier and a toilet visible, at Mar-a-Lago" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Canadian Grand Prix: F1 says race \'not at risk\' despite air-quality issues from wildfires</b><br/>Next weekend\'s Canadian Grand Prix is &quot;not at risk&quot; despite wildfires causing air-quality issues across much of North America, Formula 1 says." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65847424?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix: F1 says race \'not at risk\' despite air-quality issue...</a></li><li class="ttt" data-tt="<b>Charles Leclerc: Ferrari driver\'s race helmet breaks record at Emilia-Romagna flood auction</b><br/>Charles Leclerc\'s Monaco GP helmet becomes the highest-priced one ever auctioned, breaking the record set by a helmet worn by Ayrton Senna."><a href="https://www.bbc.co.uk/sport/formula1/65850693?at_medium=RSS&amp;at_campaign=KARANGA">Charles Leclerc: Ferrari driver\'s race helmet breaks record at Emilia-Roma...</a></li><li class="ttt" data-tt="<b>Nikita Mazepin: Russian driver loses High Court case to lift British sanctions</b><br/>Russian racing driver Nikita Mazepin loses his High Court bid against the UK government to get sanctions against him lifted."><a href="https://www.bbc.co.uk/sport/formula1/65847404?at_medium=RSS&amp;at_campaign=KARANGA">Nikita Mazepin: Russian driver loses High Court case to lift British sanctions</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65847424?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/4437/production/_130036471_wildfires.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Reddit blackout: Subreddits to go private on Monday</b><br/>More than 1,000 subreddits will be inaccessible for 48 hours to protest changes." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65855608?at_medium=RSS&amp;at_campaign=KARANGA">Reddit blackout: Subreddits to go private on Monday</a></li><li class="ttt" data-tt="<b>Facebook owner Meta plans to create Twitter rival</b><br/>A text-based version of Instagram could potentially let users carry across followers from other apps."><a href="https://www.bbc.co.uk/news/technology-65855603?at_medium=RSS&amp;at_campaign=KARANGA">Facebook owner Meta plans to create Twitter rival</a></li><li class="ttt" data-tt="<b>Aberdeen AI trial helps doctors spot breast cancers</b><br/>BBC Click had exclusive access to a trial exploring the impact of using AI in breast screenings."><a href="https://www.bbc.co.uk/news/technology-65821552?at_medium=RSS&amp;at_campaign=KARANGA">Aberdeen AI trial helps doctors spot breast cancers</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65855608?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/C4A8/production/_130044305_gettyimages-1258545135.jpg" class="ttt" data-tt="A still of the Apollo Reddit app" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"5 Jun – 11 Jun","date":16863552E5,"ts":"Sat, 10","ds":"Sat, 10 Jun","icon":33,"desc":"Showers late. Scattered clouds.","temp":26,"templow":11,"cf":27,"wind":15,"wd":100,"hum":55,"pc":15,"rain":1},{"date":16864416E5,"ts":"Sun, 11","ds":"Sun, 11 Jun","icon":33,"desc":"Showers late. Cloudy.","temp":24,"templow":14,"cf":24,"wind":5,"wd":170,"hum":68,"pc":48,"rain":4.6 },{"hl":true,"hls":"12 Jun – 18 Jun","date":1686528E6,"ts":"Mon, 12","ds":"Mon, 12 Jun","icon":21,"desc":"Scattered tstorms late. Overcast.","temp":24,"templow":16,"cf":24,"wind":6,"wd":80,"hum":72,"pc":50,"rain":3.4 },{"date":16866144E5,"ts":"Tue, 13","ds":"Tue, 13 Jun","icon":7,"desc":"Overcast.","temp":24,"templow":14,"cf":26,"wind":10,"wd":90,"hum":49,"pc":2},{"date":16867008E5,"ts":"Wed, 14","ds":"Wed, 14 Jun","icon":6,"desc":"Mostly cloudy.","temp":24,"templow":10,"cf":25,"wind":7,"wd":90,"hum":46,"pc":0},{"date":16867872E5,"ts":"Thu, 15","ds":"Thu, 15 Jun","icon":2,"desc":"Mostly sunny.","temp":22,"templow":9,"cf":25,"wind":6,"wd":110,"hum":48,"pc":2},{"date":16868736E5,"ts":"Fri, 16","ds":"Fri, 16 Jun","icon":6,"desc":"Broken clouds.","temp":23,"templow":11,"cf":25,"wind":2,"wd":250,"hum":49,"pc":2},{"date":168696E7,"ts":"Sat, 17","ds":"Sat, 17 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":21,"templow":12,"cf":20,"wind":7,"wd":150,"hum":65,"pc":48,"rain":1.5 },{"date":16870464E5,"ts":"Sun, 18","ds":"Sun, 18 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":20,"templow":13,"cf":20,"wind":6,"wd":200,"hum":71,"pc":57,"rain":3.5 },{"hl":true,"hls":"19 Jun – 25 Jun","date":16871328E5,"ts":"Mon, 19","ds":"Mon, 19 Jun","icon":22,"desc":"Thunderstorms. Overcast.","temp":19,"templow":13,"cf":19,"wind":2,"wd":130,"hum":81,"pc":83,"rain":15.7 },{"date":16872192E5,"ts":"Tue, 20","ds":"Tue, 20 Jun","icon":21,"desc":"Isolated tstorms late. Morning clouds.","temp":18,"templow":13,"cf":18,"wind":6,"wd":210,"hum":68,"pc":62,"rain":1.3 },{"date":16873056E5,"ts":"Wed, 21","ds":"Wed, 21 Jun","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":20,"templow":12,"cf":20,"wind":11,"wd":210,"hum":69,"pc":59,"rain":1.5 },{"date":1687392E6,"ts":"Thu, 22","ds":"Thu, 22 Jun","icon":33,"desc":"Rain showers. Cloudy.","temp":19,"templow":12,"cf":19,"wind":12,"wd":190,"hum":87,"pc":70,"rain":8.4 },{"date":16874784E5,"ts":"Fri, 23","ds":"Fri, 23 Jun","icon":21,"desc":"Isolated tstorms. Broken clouds.","temp":21,"templow":13,"cf":20,"wind":16,"wd":220,"hum":61,"pc":51,"rain":1},{"date":16875648E5,"ts":"Sat, 24","ds":"Sat, 24 Jun","icon":19,"desc":"Rain. Breaks of sun late.","temp":19,"templow":12,"cf":19,"wind":23,"wd":230,"hum":78,"pc":70,"rain":9.5 }],"grid":{"temp":{"low":9,"high":26,"range":17},"prec":{"high":15.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2306/abell2744_jwst1024.png',
		Title:     'Pandora\'s Cluster of Galaxies',
		LinkImage: 'https://apod.nasa.gov/apod/image/2306/abell2744_jwst.png',
		LinkPage:  'https://apod.nasa.gov/apod/ap230609.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/1_dubrovnik_pano_-_edit1.jpg/750px-1_dubrovnik_pano_-_edit1.jpg',
		Title:    'Dubrovnik',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Dubrovnik',
		Description: '    <b><a href="/wiki/Dubrovnik" title="Dubrovnik">Dubrovnik</a></b>, historically known as Ragusa, is a city in southern <a href="/wiki/Dalmatia" title="Dalmatia">Dalmatia</a>, Croatia, by the <a href="/wiki/Adriatic_Sea" title="Adriatic Sea">Adriatic Sea</a>. a seaport and the centre of the <a href="/wiki/Dubrovnik-Neretva_County" title="Dubrovnik-Neretva County">Dubrovnik-Neretva County</a>, it is one of the most prominent tourist destinations in the Mediterranean. Its total population is 41,562 as of the 2021 census. In 1979, the centre of the city was added to <a href="/wiki/UNESCO" title="UNESCO">UNESCO</a>\'s list of <a href="/wiki/World_Heritage_Site" title="World Heritage Site">World Heritage Sites</a> in recognition of its outstanding medieval architecture and fortified old town. This aerial panorama of Dubrovnik was taken in 2016.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:Chensiyuan" title="User:Chensiyuan">Chensiyuan</a>; edited by <a href="/wiki/User:Bammesk" title="User:Bammesk">Bammesk</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686364200,"duration":11100,"svcId":700,"evtId":7549,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Hey Duggee","description":"Tag\u0027s First Day. Tag learns the importance of listening on his first day. [S] [HD]","startTime":1686375300,"duration":600,"svcId":700,"evtId":7655,"image":"\/ms\/img\/epg\/rb\/8df1-p0cw9kbs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662358443,"availabilityEnd":1818212400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bwbl\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":7},{"name":"Hey Duggee","description":"The Hat Badge. Duggee and the Squirrels introduce King Tiger to lots of different hats and explain what they might be good for. But none of them feels right to him. [S] [HD]","startTime":1686375900,"duration":300,"svcId":700,"evtId":7656,"image":"\/ms\/img\/epg\/rb\/8df1-p0cw9kcy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662358443,"availabilityEnd":1818212400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bwbn\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":8},{"name":"Supertato","description":"Carrot the Champion. Evil Pea captures Supertato, but Carrot finally masters the ultimate flip kick and rescues her. [S,AD] [HD]","startTime":1686376200,"duration":600,"svcId":700,"evtId":7657,"image":"\/ms\/img\/epg\/rb\/8df1-p0dssr8h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1673236800,"availabilityEnd":1823655600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dpgh6q\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":22},{"name":"Shaun the Sheep","description":"Checklist. Animated Series. Bitzer\u0027s over-officious management style becomes too much for the sheep, who decide it\u0027s time for him to chill out. [S] [HD]","startTime":1686376800,"duration":300,"svcId":700,"evtId":7658,"image":"\/ms\/img\/epg\/rb\/8df1-p04fthb9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1617246000,"availabilityEnd":1743390000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b083hfp6\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":17},{"name":"Dennis \u0026 Gnasher Unleashed!","description":"Bertiesitting. Eager to prove her babysitting ability for a permit, Gran is on the hunt for a baby stand-in. Walter is suspiciously all too willing to offer up Bertie. [S] [HD]","startTime":1686377100,"duration":900,"svcId":700,"evtId":7659,"image":"\/ms\/img\/epg\/rb\/8df1-p08kytff.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680231600,"availabilityEnd":1751252400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000l3z7\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":10},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Nothing But the Truth. Boy is afraid of being honest in case he hurts other people\u0027s feelings and finds himself doing things he doesn\u0027t like just to keep others happy. [S] [HD]","startTime":1686378000,"duration":600,"svcId":700,"evtId":7660,"image":"\/ms\/img\/epg\/rb\/8df1-p0bjc3lj.png","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1643615321,"availabilityEnd":1798862400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00142ff\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":21},{"name":"The Deep","description":"Deceptive Appearances. Mad Madeline steals the dangerous Sceptre of Queen Dorius. [S] [HD]","startTime":1686378600,"duration":1500,"svcId":700,"evtId":7661,"image":"\/ms\/img\/epg\/rb\/8df1-p0c80m9c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1653930300,"availabilityEnd":1811559600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0c801jb\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":6},{"name":"Odd Squad","description":"Orla\u0027s Birthday. Omar and Oswald search for the perfect gifts for Orla\u0027s 500th birthday. [S,AD] [HD]","startTime":1686380100,"duration":600,"svcId":700,"evtId":7662,"image":"\/ms\/img\/epg\/rb\/8df1-p08jbjv2.jpg","hasTstv":false,"seriesNo":3,"episodeNo":9},{"name":"Game on Grandparents","description":"Wipeout. Ryan and Lisa go head to head with Amarah and Desmond as they compete for the chance to make it to the Grand Final and become ultimate Game on Grandparents champion. [S] [HD]","startTime":1686380700,"duration":1500,"svcId":700,"evtId":7663,"image":"\/ms\/img\/epg\/rb\/8df1-p0cqw65h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1660552479,"availabilityEnd":1803009600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001b724\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"One Zoo Three","description":"Euro Zoo. The brothers go to work at an awesome German zoo. Tyler discovers the wonders of the rainforest, Aaron goes ape with orangutans, and Cam makes a splash at an elephant pool party! [S] [HD]","startTime":1686382200,"duration":1200,"svcId":700,"evtId":7664,"image":"\/ms\/img\/epg\/rb\/8df1-p0dysn4m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1675051200,"availabilityEnd":1795147200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dt0hsl\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":4},{"name":"Newsround","description":"10\/06\/2023. Topical news magazine for children. [S] [HD]","startTime":1686383400,"duration":600,"svcId":700,"evtId":7665,"image":"\/ms\/img\/epg\/rb\/8df1-p0chnbfw.jpg","hasTstv":false},{"name":"Blue Peter: Sport Badge...","description":"...Spectacular!. Sport Badge Spectacular! Experience BMX thrills and wheelchair basketball skills as BP celebrates the Sport Badge in an outdoor special live from the Blue Peter garden! [S] [HD]","startTime":1686384000,"duration":1800,"svcId":700,"evtId":7666,"image":"\/ms\/img\/epg\/rb\/8df1-p0f81v2q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686328200,"availabilityEnd":1691512200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001mnxf\u0026ui_id=4.0.0"},"episodeNo":10},{"name":"Deadly 60","description":"Rhino Rescue Special. Steve Backshall comes face to face with the world\u0027s deadliest animals and investigates the deadly threats to their survival. [S] [HD]","startTime":1686385800,"duration":1800,"svcId":700,"evtId":7667,"image":"\/ms\/img\/epg\/rb\/8df1-p082wc47.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1594215600,"availabilityEnd":1739592000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000fkww\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":1},{"name":"Pooch Perfect","description":"3\/8. Four ace groomers try to create a tricky spiral pattern in the coats of  English cocker spaniels. [S,AD] [HD]","startTime":1686387600,"duration":3600,"svcId":700,"evtId":7668,"image":"\/ms\/img\/epg\/rb\/8df1-p093tbj9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1612428300,"availabilityEnd":1647161100,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000rj63\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Animals Behaving Badly","description":"3\/3. Liz Bonnin meets the animal rebels who will stop at nothing to survive, from cockatoos vandalising houses, to the chimpanzees who use bullying tactics to get to the top. [S,AD] [HD]","startTime":1686391200,"duration":3600,"svcId":700,"evtId":7669,"image":"\/ms\/img\/epg\/rb\/8df1-p06fhj9l.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Family Cooking Showdown","description":"Competitive food show. The three remaining families from the previous day\u0027s heat face a surprise challenge - shepherd\u0027s pie - as they compete for a place in the play-offs. [S,AD] [HD]","startTime":1686394800,"duration":3600,"svcId":700,"evtId":7670,"image":"\/ms\/img\/epg\/rb\/8df1-p06p3f39.jpg","hasTstv":false,"seriesNo":2,"episodeNo":9},{"name":"Food \u0026 Drink: More for Less","description":"5\/10. Tom Kerridge and Angela Hartnett go head to head to come up with the best value-for-money dish. Joe Wadsack blows Tom away with his budget-busting wine matches. [S,AD] [HD]","startTime":1686398400,"duration":1800,"svcId":700,"evtId":7671,"image":"\/ms\/img\/epg\/rb\/8df1-p02hwppc.jpg","hasTstv":false,"seriesNo":3,"episodeNo":5},{"name":"Debbie Reynolds: Talking Pictures","description":"A look back at the life of actress Debbie Reynolds. In a selection of rare interviews, Debbie discusses her favourite film roles and her relationship with daughter Carrie Fisher. [S]","startTime":1686400200,"duration":1800,"svcId":700,"evtId":7672,"image":"\/ms\/img\/epg\/rb\/8df1-p04pspxq.jpg","hasTstv":false,"episodeNo":56},{"name":"How the West Was Won","description":"Epic western about three generations of a pioneer family, showing how its fortunes fluctuated during the dynamic westward expansion of America during the 19th century. [1962] [S,AD] [HD]","startTime":1686402000,"duration":8700,"svcId":700,"evtId":7673,"image":"\/ms\/img\/epg\/rb\/8df1-p0bcrzgs.jpg","hasTstv":false},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Wallasey Town Hall on the Wirral Peninsula, with experts Anita Manning and Nick Davies. [S] [HD]","startTime":1686410700,"duration":3300,"svcId":700,"evtId":7674,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":13,"episodeNo":9},{"name":"Hidden Treasures of the...","description":"...National Trust. 5\/6. Featuring reinforcements to Churchill\u0027s D-Day map and wallpaper under attack from insects. [S,AD] [HD]","startTime":1686414000,"duration":3600,"svcId":700,"evtId":7675,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwygq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686344511,"availabilityEnd":1844802000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mqfq\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Whisky Galore! (2016)","description":"In 1943, disaster strikes on the remote Hebridean island of Todday when they run out of whisky. Salvation arrives, but the islanders clash with authority. [2016] [S] [HD]","startTime":1686417600,"duration":5700,"svcId":700,"evtId":7676,"image":"\/ms\/img\/epg\/rb\/8df1-p081pc0g.jpg","hasTstv":false},{"name":"Blackadder the Third: Ink and...","description":"...Incapability. 2\/6. Comedy series set in the 18th century. When Samuel Johnson\u0027s dictionary is used for firewood, Edmund must rewrite it. [S]","startTime":1686423300,"duration":1800,"svcId":700,"evtId":7677,"image":"\/ms\/img\/epg\/rb\/8df1-p08vhpbb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1652763600,"availabilityEnd":1715922000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0078wbr\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":2},{"name":"Barry Manilow at the BBC","description":"A selection of classic performances by Barry Manilow from the BBC archives. [S] [HD]","startTime":1686425100,"duration":3600,"svcId":700,"evtId":7678,"image":"\/ms\/img\/epg\/rb\/8df1-p0fst6zq.jpg","hasTstv":false},{"name":"One Night with Barry Manilow","description":"Over 30 years on from his first TV performances, Barry Manilow celebrates with a set of renditions of the classics known to generations, including Mandy and Copacabana. [S]","startTime":1686428700,"duration":3600,"svcId":700,"evtId":7679,"image":"\/ms\/img\/epg\/rb\/8df1-p0fst73z.jpg","hasTstv":false},{"name":"Later... with Jools Holland","description":"4\/6. Jools welcomes Alison Goldfrapp, The Lathums, Eddie Chacon and John Carroll Kirby, Baba Ali and The Jordan to the show. [S] [HD]","startTime":1686432300,"duration":2700,"svcId":700,"evtId":7680,"image":"\/ms\/img\/epg\/rb\/8df1-p0fscmtg.jpg","hasTstv":false,"seriesNo":77,"episodeNo":4},{"name":"Barry Manilow at the NEC 1989","description":"Barry Manilow\u0027s 1989 performance at Birmingham\u0027s National Exhibition Centre. [1989] [S] [HD]","startTime":1686435000,"duration":3000,"svcId":700,"evtId":7681,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft13q4.jpg","hasTstv":false},{"name":"Barry Manilow at Proms in Hyde...","description":"...Park. International sensation Barry Manilow plays Proms in Hyde Park with a career spanning over 50 years, a catalogue of hits and accompaniment from the BBC Concert Orchestra. [S] [HD]","startTime":1686438000,"duration":4200,"svcId":700,"evtId":7682,"image":"\/ms\/img\/epg\/rb\/8df1-p0fszd2m.jpg","hasTstv":false,"seriesNo":2019,"episodeNo":5},{"name":"Best of Glastonbury 2013","description":"Highlights from the 2013 festival at Worthy Farm in Somerset. Arctic Monkeys, The Rolling Stones and Mumford \u0026 Sons were among hundreds of acts performing across dozens of stages. [S] [HD]","startTime":1686442200,"duration":7200,"svcId":700,"evtId":7683,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft88b4.jpg","hasTstv":false,"seriesNo":31},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686449400,"duration":12300,"svcId":700,"evtId":7684,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Edinburgh. Security company manager Anne plans to calm the simmering tension with a homely, relaxed atmosphere, on a night featuring strange collections and weird celebrity crushes. (Ep4\/5)  [AD,S]","startTime":1686365100,"duration":1500,"svcId":1500,"evtId":27672,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Pilot James hopes that a touch of sophistication in his high-flying menu will land him safely in first place. But can he keep the peace between his guests? (Ep5\/5)  [AD,S]","startTime":1686366600,"duration":1500,"svcId":1500,"evtId":27673,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Sunday Brunch Best Bits","description":"Guest chef Big Zuu makes cheeseburger quesadillas in a highlight from Sunday Brunch, presented by Tim Lovejoy and Simon Rimmer.  [S]","startTime":1686368100,"duration":900,"svcId":1500,"evtId":28158,"image":"\/ms\/img\/epg\/rb\/5d52-6236589.l.png","hasTstv":false},{"name":"Fame in the Family","description":"Pop star Kerry Katona, who\u0027s keen to find another member of her family, cooks dinner for guests she\u0027s never met. Can any of her diners correctly guess that they\u0027re related to her? (Ep5\/15)  [S]","startTime":1686369000,"duration":1500,"svcId":1500,"evtId":28189,"image":"\/ms\/img\/epg\/rb\/5d52-414891927.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Location, Location, Location","description":"Kirstie Allsopp and Phil Spencer revisit Lia and Andrew, who wanted a new home in London for their growing family, and Sue and Allan, who had an ever-changing wish list. (S30 Ep6\/8)  [S]","startTime":1686370500,"duration":3900,"svcId":1500,"evtId":28188,"image":"\/ms\/img\/epg\/rb\/5d52-286562953.l.png","hasTstv":false,"seriesNo":30,"episodeNo":6},{"name":"Everybody Loves Raymond","description":"Confronting the Attacker: Robert loses his nerve at work and decides on a career change to a safer option: telemarketing. (S4 Ep23)  [AD,S]","startTime":1686374400,"duration":1500,"svcId":1500,"evtId":27675,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":23},{"name":"Everybody Loves Raymond","description":"Robert\u0027s Divorce: While they\u0027re out at dinner, the Barones run into Robert\u0027s ex-wife, who makes a surprising proposal. (S4 Ep24)  [AD,S]","startTime":1686375900,"duration":1500,"svcId":1500,"evtId":27676,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":24},{"name":"Everybody Loves Raymond","description":"Italy (Part 1\/2): Marie treats the family to a holiday in Rome, but Ray\u0027s not happy about the whole experience. (S5 Ep1)  [AD,S]","startTime":1686377400,"duration":1500,"svcId":1500,"evtId":28186,"image":"\/ms\/img\/epg\/rb\/5d52-1398139.l.png","hasTstv":false,"seriesNo":5,"episodeNo":1},{"name":"The King of Queens","description":"Flash Photography: Doug regrets taking a dirty photo at a wedding. (S5 Ep8\/25)  [AD,S]","startTime":1686378900,"duration":1500,"svcId":1500,"evtId":28315,"image":"\/ms\/img\/epg\/rb\/5d52-380807334.l.png","hasTstv":false,"seriesNo":5,"episodeNo":8},{"name":"The King of Queens","description":"Connect Four: Doug and Carrie try to split up two couples, to form the perfect couple to accompany them to the basketball. Arthur\u0027s parking ticket scam backfires badly. (S5 Ep9\/25)  [AD,S]","startTime":1686380400,"duration":1200,"svcId":1500,"evtId":27678,"image":"\/ms\/img\/epg\/rb\/5d52-380817373.l.png","hasTstv":false,"seriesNo":5,"episodeNo":9},{"name":"Frasier","description":"Travels with Martin: Frasier, Niles, Martin and Daphne go on an outrageous road trip, which almost leads to disaster for Daphne. (S1 Ep21)  [AD,S]","startTime":1686381600,"duration":1800,"svcId":1500,"evtId":28454,"image":"\/ms\/img\/epg\/rb\/5d52-304043.l.png","hasTstv":false,"seriesNo":1,"episodeNo":21},{"name":"Frasier","description":"Author! Author!: Frasier and Niles decide to write a book together. It doesn\u0027t go well. (S1 Ep22)  [AD,S]","startTime":1686383400,"duration":1800,"svcId":1500,"evtId":28316,"image":"\/ms\/img\/epg\/rb\/5d52-305773.l.png","hasTstv":false,"seriesNo":1,"episodeNo":22},{"name":"Wonder Park","description":"(2019) Animated adventure featuring the voices of Jennifer Garner, Mila Kunis, John Oliver and Matthew Broderick. A girl\u0027s imaginary theme park comes to life when her mum goes to hospital.  [AD,S]","startTime":1686385200,"duration":6000,"svcId":1500,"evtId":27682,"image":"\/ms\/img\/epg\/rb\/5d52-3190142.l.png","hasTstv":false},{"name":"The Simpsons","description":"You Kent Always Say What You Want: After spilling coffee on his lap, Kent Brockman swears on live TV and gets fired. So Kent and Lisa team up to broadcast inconvenient truths. (S18 Ep22\/22)  [AD,S]","startTime":1686391200,"duration":1800,"svcId":1500,"evtId":27683,"image":"\/ms\/img\/epg\/rb\/5d52-7077001.l.png","hasTstv":false,"seriesNo":18,"episodeNo":22},{"name":"The Simpsons","description":"The Fight Before Christmas: Marge gets into the holiday spirit, but the rest of the family don\u0027t share her enthusiasm. So she writes to Martha Stewart, who comes to the rescue. (S22 Ep8\/22)  [AD,S]","startTime":1686393000,"duration":1500,"svcId":1500,"evtId":27684,"image":"\/ms\/img\/epg\/rb\/5d52-25745368.l.png","hasTstv":false,"seriesNo":22,"episodeNo":8},{"name":"The Simpsons","description":"The Real Housewives of Fat Tony: Selma and Fat Tony fall in love and get married after a whirlwind courtship. Bart realises that he has a gift for sniffing out truffles. (S22 Ep19\/22)  [AD,S]","startTime":1686394500,"duration":1800,"svcId":1500,"evtId":27685,"image":"\/ms\/img\/epg\/rb\/5d52-1259415.l.png","hasTstv":false,"seriesNo":22,"episodeNo":19},{"name":"The Simpsons","description":"I\u0027m with Cupid: Homer kidnaps Elton John (guest starring as himself) and locks him in a cage. (S10 Ep14\/23)  [AD,S]","startTime":1686396300,"duration":1800,"svcId":1500,"evtId":27686,"image":"\/ms\/img\/epg\/rb\/5d52-1678476.l.png","hasTstv":false,"seriesNo":10,"episodeNo":14},{"name":"The Simpsons","description":"Crook and Ladder: When members of the Springfield fire department are injured, Homer, Moe, Apu and Principal Skinner volunteer to be temporary firefighters. (S18 Ep19\/22)  [AD,S]","startTime":1686398100,"duration":1500,"svcId":1500,"evtId":27688,"image":"\/ms\/img\/epg\/rb\/5d52-7462715.l.png","hasTstv":false,"seriesNo":18,"episodeNo":19},{"name":"The Simpsons","description":"Stop or My Dog Will Shoot: After rescuing Homer from a corn maze, Santa\u0027s Little Helper is recruited as a police dog and is teamed up with grizzled veteran cop Lou. (S18 Ep20\/22)  [AD,S]","startTime":1686399600,"duration":1800,"svcId":1500,"evtId":28190,"image":"\/ms\/img\/epg\/rb\/5d52-7507968.l.png","hasTstv":false,"seriesNo":18,"episodeNo":20},{"name":"The Simpsons","description":"24 Minutes: In a parody of the action series 24, Bart and Lisa must stop bullies releasing a stink bomb at school. (S18 Ep21\/22)  [AD,S]","startTime":1686401400,"duration":1800,"svcId":1500,"evtId":28191,"image":"\/ms\/img\/epg\/rb\/5d52-8193755.l.png","hasTstv":false,"seriesNo":18,"episodeNo":21},{"name":"Four in a Bed","description":"Jill hopes to charm her rivals with her authentic 17th-century B\u0026B, The Castle Arms Inn, in Snape, North Yorkshire. But will a bad night\u0027s sleep for two guests scupper her chances?  [S]","startTime":1686403200,"duration":1800,"svcId":1500,"evtId":27689,"image":"\/ms\/img\/epg\/rb\/5d52-388728728.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers head off to the great outdoors at Eden Valley Glamping site in Armathwaite, Cumbria, where hosts Liz and Dave hope to convert their guests with their back-to-basics approach.  [S]","startTime":1686405000,"duration":1800,"svcId":1500,"evtId":27690,"image":"\/ms\/img\/epg\/rb\/5d52-388871167.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Neil and Mary Blackburn welcome their rivals to Fernie Castle in Fife. There\u0027s plenty of traditional Scots splendour on show, but two guests aren\u0027t impressed by the continental breakfast.  [S]","startTime":1686406800,"duration":1800,"svcId":1500,"evtId":27691,"image":"\/ms\/img\/epg\/rb\/5d52-3764828.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The last visit of the week is to the Cadillac Kustomz Hotel on the Isle of Bute, where owners Brody and Rima hope to rock their guests\u0027 worlds with a music-filled retro retreat.  [S]","startTime":1686408600,"duration":2100,"svcId":1500,"evtId":27692,"image":"\/ms\/img\/epg\/rb\/5d52-3764855.l.png","hasTstv":false},{"name":"Four in a Bed","description":"On payment day, there are curtain complaints and breakfast blues as the B\u0026Bers iron out their issues, before they find out how much they\u0027ve been paid and who\u0027s won the week.  [S]","startTime":1686410700,"duration":1800,"svcId":1500,"evtId":27693,"image":"\/ms\/img\/epg\/rb\/5d52-412913382.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1686412500,"duration":1800,"svcId":1500,"evtId":27694,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"Titanic","description":"(1997) James Cameron\u0027s Oscar-winning epic with Leonardo DiCaprio and Kate Winslet. Lovers from across the social divide meet on the doomed ocean liner. May not be suitable for young kids.  [AD,S]","startTime":1686414300,"duration":13500,"svcId":1500,"evtId":27695,"image":"\/ms\/img\/epg\/rb\/5d52-9276.l.png","hasTstv":false},{"name":"New: Ancient Egypt by Train.....","description":"...with Alice Roberts - The Pyramids: Professor Roberts climbs deep inside one of the Great Pyramids to see pharaoh Khufu\u0027s tomb and sarcophagus. (Ep2\/4)  [AD,S]","startTime":1686427800,"duration":3600,"svcId":1500,"evtId":27696,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Bad Boys II","description":"(2003) Action comedy sequel with Will Smith and Martin Lawrence. Cops Marcus and Mike take on a drug lord who kidnaps Marcus\u0027s sister. Strong language, some that may offend\/strong violence.  [S]","startTime":1686431400,"duration":9900,"svcId":1500,"evtId":27697,"image":"\/ms\/img\/epg\/rb\/5d52-5324613.l.png","hasTstv":false},{"name":"Wind River","description":"(2017) Drama with Jeremy Renner and Elizabeth Olsen. A hunter and an FBI agent track a killer who targets young women. Strong language, some which may offend\/gory violence\/sexual violence.  [AD,S]","startTime":1686441300,"duration":6600,"svcId":1500,"evtId":27698,"image":"\/ms\/img\/epg\/rb\/5d52-274006382.l.png","hasTstv":false},{"name":"Iris Prize Best British Shorts","description":"Keep Off the Grass: (2022) Amateur footballer Sunny is struggling to come to terms with his sexuality - a battle that reaches boiling point as the season draws to a close. Strong language.  [S]","startTime":1686447900,"duration":600,"svcId":1500,"evtId":28561,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon Ramsay checks in to Murphys Historic Hotel, near Sacramento in northern California, where the owners are distracted from business by the party going on in the rowdy bar. (S2 Ep6\/8)  [AD,S,SL]","startTime":1686448500,"duration":3000,"svcId":1500,"evtId":27700,"image":"\/ms\/img\/epg\/rb\/5d52-143509917.l.png","hasTstv":false,"seriesNo":2,"episodeNo":8},{"name":"Hollyoaks Omnibus","description":"Juliet tackles her bucket list and shares some emotional moments with Peri. Warren is determined to land a date with Sharon. Norma\u0027s in for trouble when an old pal is released from prison.  [AD,S,SL]","startTime":1686451500,"duration":7500,"svcId":1500,"evtId":27699,"image":"\/ms\/img\/epg\/rb\/5d52-7732311.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('30');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('36');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'A0VUasvVHlQ', title: "DARKFEST 2023 IS BACK AND EVEN BIGGER THEN EVER!!!", label: "DARKFEST 2023 IS BACK AND EVEN BIGGER THEN EVER!!! by Tom Isted 1 month ago 11 minutes, 52 seconds 279,673 views" },
{ id: 'HwtQyc0nllI', title: "CRANKWORX CAIRNS FINALS DAY!!!", label: "CRANKWORX CAIRNS FINALS DAY!!! by Tom Isted 2 weeks ago 10 minutes, 54 seconds 16,761 views" },
{ id: 'bgnoCbzfHyc', title: "BIGGEST MOUNTAIN BIKE CONTEST IN AUSTRALIA!!! CRANKWORX CAIRNS!!!", label: "BIGGEST MOUNTAIN BIKE CONTEST IN AUSTRALIA!!! CRANKWORX CAIRNS!!! by Tom Isted 3 weeks ago 9 minutes, 36 seconds 25,036 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Canada.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Canadian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>18 June</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "09 June 2023 -  15 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/64937/dave-and-central-cee/'>dave &amp; central cee</a>", Title: "<a href='https://www.officialcharts.com/search/singles/sprinter/'>SPRINTER</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/61mUg%2BNLggL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/61762/jazzy/'>jazzy</a>", Title: "<a href='https://www.officialcharts.com/search/singles/giving-me/'>GIVING ME</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51SkZDT4AyL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/64099/switch-disco-and-ella-henderson/'>switch disco &amp; ella henderson</a>", Title: "<a href='https://www.officialcharts.com/search/singles/react/'>REACT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/414-%2BSyvqzL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 177.60, tooltip: "Thu, Jun 08, 2023<br/>£177.60"},
{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>£174.12"},
{ number: 175.07, tooltip: "Tue, May 23, 2023<br/>£175.07"},
{ number: 176.72, tooltip: "Mon, May 22, 2023<br/>£176.72"},
{ number: 176.08, tooltip: "Fri, May 19, 2023<br/>£176.08"},
{ number: 176.41, tooltip: "Thu, May 18, 2023<br/>£176.41"},
{ number: 174.51, tooltip: "Wed, May 17, 2023<br/>£174.51"},
{ number: 173.09, tooltip: "Tue, May 16, 2023<br/>£173.09"},
{ number: 173.84, tooltip: "Mon, May 15, 2023<br/>£173.84"},
{ number: 173.64, tooltip: "Fri, May 12, 2023<br/>£173.64"},
{ number: 173.28, tooltip: "Thu, May 11, 2023<br/>£173.28"},
{ number: 172.48, tooltip: "Wed, May 10, 2023<br/>£172.48"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Jun 08, 2023",
		"vs Day":      "Wed, Jun 07, 2023",
		"vs Week":     "Thu, Jun 01, 2023",
		"vs Month":    "Wed, May 10, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£177.60/share",
		'vs Day':      "-0.19%",
		'vs Week':     "+2.05%",
		'vs Month':    "+2.97%",
		'vs Year':     "+5.89%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '59.6',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 9 June and 10 June">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.596&p=3.443&r=0.301',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:45',
		Set:      '21:26',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Saturnine</em> is a literary word that typically describes people who are glum and grumpy, or things that suggest or express gloom. It can also mean “slow to act or change.” </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Boris">Boris</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23LoveIsland">#LoveIsland</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Parliament">Parliament</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Uxbridge">Uxbridge</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23Newsnight">#Newsnight</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23EtherRockEth">#EtherRockEth</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23XboxFreeCodeFriday">#XboxFreeCodeFriday</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Hillary">Hillary</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Jack+Smith%22">Jack Smith</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Grand+Crew%22">Grand Crew</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>