<!DOCTYPE html>
<html lang="en">
	<head>
		<title>16:40 14-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Supermarket sandwiches linked to E. coli outbreak</b><br/>Retailers are taking swift action to remove sandwiches, wraps and salad from shelves." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cz448dj4x8xo">Supermarket sandwiches linked to E. coli outbreak</a></li><li class="ttt" data-tt="<b>Sunak \'still fighting\' for votes as Labour say millions remain undecided</b><br/>The PM is upbeat while speaking from the G7, while Keir Starmer is to be interviewed by BBC\'s Panorama."><a href="https://www.bbc.co.uk/news/live/uk-politics-69117992">Sunak \'still fighting\' for votes as Labour say millions remain undecided</a></li><li class="ttt" data-tt="<b>Bloody Sunday accused Soldier F appears in court</b><br/>It is the first time the man, charged with two murders and five attempted murders, appeared in person."><a href="https://www.bbc.com/news/articles/czvv942520jo">Bloody Sunday accused Soldier F appears in court</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cz448dj4x8xo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3c77/live/7b241ba0-2a57-11ef-b7f8-2727993a07a1.jpg" class="ttt" data-tt="Picture of pre-packed sandwiches " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>US Supreme Court lifts ban on gun bump stocks</b><br/>It says the government does not have the right to ban the accessories, which were used in America\'s deadliest mass shooting." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c6pp5xl13wlo">US Supreme Court lifts ban on gun bump stocks</a></li><li class="ttt" data-tt="<b>Mixed emotions over demolition of Parkland shooting site</b><br/>Relatives of slain students say they feel mixed emotions as the site of the deadly attack is torn down."><a href="https://www.bbc.com/news/articles/cmjj5g7r235o">Mixed emotions over demolition of Parkland shooting site</a></li><li class="ttt" data-tt="<b>Is Elon Musk worth his $56bn Tesla pay package?</b><br/>He is beloved by his millions of followers online, but would Musk\'s businesses have succeeded without him?"><a href="https://www.bbc.com/news/articles/c9rre6nwnpwo">Is Elon Musk worth his $56bn Tesla pay package?</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c6pp5xl13wlo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/db42/live/34692690-2a63-11ef-9749-cd6cde939cc7.png" class="ttt" data-tt="Bump stock installed on rifle" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Putin lays out his terms for ceasefire in Ukraine</b><br/>Ukraine immediately branded the Russian president\'s proposals &quot;offensive to common sense&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c033eyyr20do">Putin lays out his terms for ceasefire in Ukraine</a></li><li class="ttt" data-tt="<b>French left forms \'popular front\' to fight far right</b><br/>France\'s left-wing parties say they have united to take on National Rally  in snap elections."><a href="https://www.bbc.com/news/articles/c6ppjvq5jv1o">French left forms \'popular front\' to fight far right</a></li><li class="ttt" data-tt="<b>G7 agrees $50bn loan for Ukraine from Russian assets</b><br/>The funds will help Ukraine to fight invading Russian forces, a move Moscow condemns."><a href="https://www.bbc.com/news/articles/cllldqyg19ro">G7 agrees $50bn loan for Ukraine from Russian assets</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c033eyyr20do"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/b52f/live/899bd2f0-2a47-11ef-b64c-c726a43bdd7c.jpg" class="ttt" data-tt="Vladimir Putin " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Andrew Benson Q&A: Send us your questions</b><br/>Our F1 correspondent Andrew Benson will do a weekly Q&A this season, so get your questions in now." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cv22xdd1l09o">Andrew Benson Q&A: Send us your questions</a></li><li class="ttt" data-tt="<b>F1 Q&A after Canada: Ricciardo and Sainz future plus Perez at Red Bull</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the Canadian Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cz99q58lmvro">F1 Q&A after Canada: Ricciardo and Sainz future plus Perez at Red Bull</a></li><li class="ttt" data-tt="<b>\'Russell rues missed opportunity but big picture positive for Mercedes\'</b><br/>George Russell finished third at the Canadian Grand Prix and left Montreal with mixed feelings despite Mercedes\' significant progress."><a href="https://www.bbc.com/sport/formula1/articles/c5115gpev51o">\'Russell rues missed opportunity but big picture positive for Mercedes\'</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cv22xdd1l09o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/e270/live/1366e800-176d-11ef-80aa-699d54c46324.png" class="ttt" data-tt="F1 logo on the back of a mobile phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Is Elon Musk worth his $56bn Tesla pay package?</b><br/>He is beloved by his millions of followers online, but would Musk\'s businesses have succeeded without him?" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c9rre6nwnpwo">Is Elon Musk worth his $56bn Tesla pay package?</a></li><li class="ttt" data-tt="<b>\'Mouse jigglers\' pretending to work fired by bank</b><br/>Wells Fargo has fired a number of workers, after reviewing claims of fake keyboard activity."><a href="https://www.bbc.com/news/articles/cjll01220yeo">\'Mouse jigglers\' pretending to work fired by bank</a></li><li class="ttt" data-tt="<b>Nasa astronaut distress message broadcast in error</b><br/>Space agency says the clip was from a training exercise which was accidentally put on YouTube,"><a href="https://www.bbc.com/news/articles/c2jj9855955o">Nasa astronaut distress message broadcast in error</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c9rre6nwnpwo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ad90/live/76dbb3a0-2a43-11ef-bce4-65851c40d100.jpg" class="ttt" data-tt="Elon Musk poses for photographers " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"10 Jun – 16 Jun","date":17183232E5,"ts":"Fri, 14","ds":"Fri, 14 Jun","icon":21,"desc":"Isolated tstorms. Overcast.","temp":17,"templow":10,"cf":17,"wind":15,"wd":220,"hum":60,"pc":73,"rain":5.7 },{"date":17184096E5,"ts":"Sat, 15","ds":"Sat, 15 Jun","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":15,"templow":8,"cf":12,"wind":17,"wd":250,"hum":66,"pc":62,"rain":4.9 },{"date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":18,"templow":10,"cf":17,"wind":15,"wd":230,"hum":61,"pc":61,"rain":3.6 },{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":20,"templow":8,"cf":19,"wind":12,"wd":220,"hum":53,"pc":41,"rain":1.3 },{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":33,"desc":"Showers late. Overcast.","temp":18,"templow":10,"cf":18,"wind":9,"wd":340,"hum":70,"pc":18,"rain":1.7 },{"date":17187552E5,"ts":"Wed, 19","ds":"Wed, 19 Jun","icon":18,"desc":"Sprinkles late. Cloudy.","temp":18,"templow":9,"cf":18,"wind":10,"wd":20,"hum":63,"pc":21,"rain":0.4 },{"date":17188416E5,"ts":"Thu, 20","ds":"Thu, 20 Jun","icon":7,"desc":"Overcast.","temp":15,"templow":9,"cf":13,"wind":11,"wd":50,"hum":70,"pc":3},{"date":1718928E6,"ts":"Fri, 21","ds":"Fri, 21 Jun","icon":18,"desc":"Sprinkles late. Decreasing cloudiness.","temp":20,"templow":10,"cf":18,"wind":6,"wd":210,"hum":68,"pc":51,"rain":0.2 },{"date":17190144E5,"ts":"Sat, 22","ds":"Sat, 22 Jun","icon":33,"desc":"Passing showers. Scattered clouds.","temp":19,"templow":11,"cf":19,"wind":11,"wd":200,"hum":72,"pc":44,"rain":1.1 },{"date":17191008E5,"ts":"Sun, 23","ds":"Sun, 23 Jun","icon":18,"desc":"Drizzle. Cloudy.","temp":18,"templow":12,"cf":18,"wind":16,"wd":190,"hum":92,"pc":51,"rain":1.4 },{"hl":true,"hls":"24 Jun – 30 Jun","date":17191872E5,"ts":"Mon, 24","ds":"Mon, 24 Jun","icon":18,"desc":"Sprinkles. Partly cloudy.","temp":18,"templow":12,"cf":18,"wind":16,"wd":230,"hum":67,"pc":52,"rain":0.5 },{"date":17192736E5,"ts":"Tue, 25","ds":"Tue, 25 Jun","icon":21,"desc":"Isolated tstorms. Scattered clouds.","temp":18,"templow":11,"cf":18,"wind":19,"wd":250,"hum":65,"pc":52,"rain":1},{"date":171936E7,"ts":"Wed, 26","ds":"Wed, 26 Jun","icon":4,"desc":"Morning clouds.","temp":17,"templow":11,"cf":17,"wind":18,"wd":300,"hum":61,"pc":57,"rain":0.3 },{"date":17194464E5,"ts":"Thu, 27","ds":"Thu, 27 Jun","icon":2,"desc":"Mostly sunny.","temp":18,"templow":11,"cf":18,"wind":7,"wd":340,"hum":53,"pc":5},{"date":17195328E5,"ts":"Fri, 28","ds":"Fri, 28 Jun","icon":6,"desc":"Broken clouds.","temp":19,"templow":11,"cf":18,"wind":6,"wd":120,"hum":68,"pc":6}],"grid":{"temp":{"low":8,"high":20,"range":12},"prec":{"high":5.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/HaLRGB+v2Pugh1100c.jpg',
		Title:     'RCW 85',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/HaLRGB+v2Pugh.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240614.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Khalili_Collection_Hajj_and_Arts_of_Pilgrimage_MSS_1288.jpg/270px-Khalili_Collection_Hajj_and_Arts_of_Pilgrimage_MSS_1288.jpg',
		Title:    'Al-Hajj',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Al-Hajj',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Al-Hajj" title="Al-Hajj">Al-Hajj</a></b> is the <a href="https://en.wikipedia.org/wiki/List_of_chapters_in_the_Quran" title="List of chapters in the Quran">22nd chapter</a> (<i><a href="https://en.wikipedia.org/wiki/Surah" title="Surah">surah</a></i>) of the <a href="https://en.wikipedia.org/wiki/Quran" title="Quran">Quran</a>, describing the pilgrimage to <a href="https://en.wikipedia.org/wiki/Mecca" title="Mecca">Mecca</a> known as the <a href="https://en.wikipedia.org/wiki/Hajj" title="Hajj">Hajj</a>. This Chinese scroll in ink, watercolour and gold on paper was produced in the second half of the 19th century, contains the full text of the chapter in Arabic, and is now part of the <a href="https://en.wikipedia.org/wiki/Khalili_Collection_of_Hajj_and_the_Arts_of_Pilgrimage" title="Khalili Collection of Hajj and the Arts of Pilgrimage">Khalili Collection of Hajj and the Arts of Pilgrimage</a>. Almost five metres (16 feet) in length, the scroll\'s illustrations include  a map entitled "Routes of the Hajj", a view of the <a href="https://en.wikipedia.org/wiki/Great_Wall_of_China" title="Great Wall of China">Great Wall of China</a>, and views of Mecca and <a href="https://en.wikipedia.org/wiki/Medina" title="Medina">Medina</a>, as well as diagrammatic depictions of the stations of pilgrimage and Jerusalem, including the <a href="https://en.wikipedia.org/wiki/Kaaba" title="Kaaba">Kaaba</a>. The illustrations are captioned in Chinese.<small style="display: block; margin-top: 0.8em;">Calligraphy credit: \'Abdallah; photographed by the <a href="https://en.wikipedia.org/wiki/Khalili_Collections" title="Khalili Collections">Khalili Collections</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1718341200,"duration":12600,"svcId":560,"evtId":25161,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718352000,"availabilityEnd":1718440140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00202ng\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Gethin Jones and Jacqui Joseph talk to Matt Allwright about the current best energy deals. [S] [HD]","startTime":1718353800,"duration":4500,"svcId":560,"evtId":25162,"image":"\/ms\/img\/epg\/rb\/fec6-p0j47n8r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718358305,"availabilityEnd":1749894305,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00202nj\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":35},{"name":"Scam Interceptors","description":"5\/20. The race is on for Rav Wilding and his team as they try to protect an elderly man in a remote community from scammers. [S] [HD]","startTime":1718358300,"duration":1800,"svcId":560,"evtId":25287,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j161xl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717995600,"availabilityEnd":1749531600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00203gw\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":5},{"name":"Homes Under the Hammer","description":"68\/80. Martin and Dion take a look at a Somerset cottage in need of transformation, a Blackpool mid-terrace with sloping floors, and a Leicestershire semi of non-standard construction. [S,AD] [HD]","startTime":1718360100,"duration":3600,"svcId":560,"evtId":25163,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gq5t6g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1699532110,"availabilityEnd":1731154510,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001s7n6\u0026ui_id=4.0.0"},"seriesNo":39,"episodeNo":68},{"name":"Bargain Hunt: Barking Hunt","description":"Christina Trevanion marks the 200th anniversary of the RSPCA, and two teams hunt for bargains with their dogs at Shepton Mallet antiques fair in Somerset. [S,AD] [HD]","startTime":1718363700,"duration":2700,"svcId":560,"evtId":25229,"image":"\/ms\/img\/epg\/rb\/fec6-p0j1x0h8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718366400,"availabilityEnd":1749902400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002047f\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1718366400,"duration":3600,"svcId":560,"evtId":25432,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718370000,"availabilityEnd":1718456400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00202nl\u0026ui_id=4.0.0"},"episodeNo":55},{"name":"Hope Street","description":"13\/15. When a taxi is burnt out, Finn worries that organised crime is coming to town in the shape of ex-con Aidan Hunter. The truth about Aidan is far more shocking. [S,AD] [HD]","startTime":1718370000,"duration":2700,"svcId":560,"evtId":25165,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h09mkv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704131820,"availabilityEnd":1770875940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0gm683s\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":13},{"name":"Escape to the Country","description":"Sonali Shah tours the East Midlands in search of a property to suit today\u0027s buyers who, for the last 23 years, have been living in the USA. [S] [HD]","startTime":1718372700,"duration":3600,"svcId":560,"evtId":25230,"image":"\/ms\/img\/epg\/rb\/fec6-p0gd8bjj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718376256,"availabilityEnd":1720968256,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002047h\u0026ui_id=4.0.0"},"seriesNo":50},{"name":"Garden Rescue","description":"19\/35. Charlie and Lee are in Warrington to transform Bindu and Vivek\u0027s first garden into a productive, eco-friendly retreat. [S] [HD]","startTime":1718376300,"duration":2700,"svcId":560,"evtId":25166,"image":"\/ms\/img\/epg\/rb\/fec6-p0fv4dgt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687447810,"availabilityEnd":1720970973,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001n3p9\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":19},{"name":"New: The Finish Line","description":"30\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1718379000,"duration":2700,"svcId":560,"evtId":25231,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1ygjv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718381724,"availabilityEnd":1752596014,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002047k\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":30},{"name":"Pointless","description":"41\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1718381700,"duration":2700,"svcId":560,"evtId":25167,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g2n1yg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691773200,"availabilityEnd":1723309200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001phdb\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":41},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1718384400,"duration":1800,"svcId":560,"evtId":25168,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718386230,"availabilityEnd":1718472630,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202nn\u0026ui_id=4.0.0"},"episodeNo":55},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1718386200,"duration":1500,"svcId":560,"evtId":25169,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718387805,"availabilityEnd":1718474205,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202nq\u0026ui_id=4.0.0"},"episodeNo":75},{"name":"Party Election Broadcast by...","description":"...Reform UK. A party election broadcast by Reform UK for the general election on 4 July. [S] [HD]","startTime":1718387700,"duration":300,"svcId":560,"evtId":25621,"image":"\/ms\/img\/epg\/rb\/fec6-p0j465b9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718301565,"availabilityEnd":1720980175,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020jzy\u0026ui_id=4.0.0"}},{"name":"The One Show","description":"Olympian Helen Glover and singer Meghan Trainor join Alex Jones and Clara Amfo on the One Show. [S] [HD]","startTime":1718388000,"duration":1800,"svcId":560,"evtId":25232,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718389840,"availabilityEnd":1720981840,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002047m\u0026ui_id=4.0.0"}},{"name":"The Panorama Interviews with...","description":"...Nick Robinson. Nick Robinson interviews Sir Keir Starmer in the run-up to the general election. [S] [HD]","startTime":1718389800,"duration":1800,"svcId":560,"evtId":25622,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2v2jz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718391695,"availabilityEnd":1749927695,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020k00\u0026ui_id=4.0.0"}},{"name":"Michael Mosley: The Doctor Who...","description":"...Changed Britain. Michael Mosley transformed the lives of millions of people. In this programme, we look back at an extraordinary broadcasting career which spanned almost 40 years. [S] [HD]","startTime":1718391600,"duration":1800,"svcId":560,"evtId":25627,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j412yj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718393501,"availabilityEnd":1749929501,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020k8h\u0026ui_id=4.0.0"}},{"name":"Outnumbered","description":"3\/6. Sitcom following the hectic lives of the Brockman family. The arrival of Dad\u0027s god-daughter from Australia has an unfortunate effect on the Brockman household. [S,AD] [HD]","startTime":1718393400,"duration":1800,"svcId":560,"evtId":25292,"image":"\/ms\/img\/epg\/rb\/ae0c-p06tvfjs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685595600,"availabilityEnd":1780290000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b03vm2fq\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"Death in Paradise","description":"1\/8. New Year\u0027s Eve celebrations are cut short when a masked man stabs a woman in her own home. [S,AD] [HD]","startTime":1718395200,"duration":3600,"svcId":560,"evtId":25293,"image":"\/ms\/img\/epg\/rb\/fec6-p07z5k12.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1614416400,"availabilityEnd":1740733200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000d2tc\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":1},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1718398800,"duration":1800,"svcId":560,"evtId":25170,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718400690,"availabilityEnd":1718487090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202ns\u0026ui_id=4.0.0"},"episodeNo":55},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1718400600,"duration":600,"svcId":560,"evtId":25171,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718401050,"availabilityEnd":1718487450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202nv\u0026ui_id=4.0.0"},"episodeNo":65},{"name":"MOTD: Euro 2024 Highlights","description":"Alex Scott presents the best of the action from the opening game at this summer\u0027s European Championship, with hosts Germany taking on Scotland in Munich. [S] [HD]","startTime":1718401200,"duration":2700,"svcId":560,"evtId":25294,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j46jdl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718403981,"availabilityEnd":1720999535,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00204sk\u0026ui_id=4.0.0"}},{"name":"Tinker Tailor Soldier Spy","description":"Cold War thriller about a retired MI6 agent who must track down a Soviet mole. Contains some strong language, some sexual content and some violence. [2011] [S,AD] [HD]","startTime":1718403900,"duration":7200,"svcId":560,"evtId":25233,"image":"\/ms\/img\/epg\/rb\/ae0c-p08psfcn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718411142,"availabilityEnd":1721003142,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000m7yz\u0026ui_id=4.0.0"}},{"name":"Euro 2024 Match Replay: Germany...","description":"...v Scotland. A full replay of the opening match at this summer\u0027s European Championship, with Germany hosting Group A rivals Scotland in Munich. [S] [HD]","startTime":1718411100,"duration":6000,"svcId":560,"evtId":25295,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2v4ft.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718417153,"availabilityEnd":1721009153,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00204sm\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1718417100,"duration":300,"svcId":560,"evtId":25173,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718417437,"availabilityEnd":1719022237,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202nx\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1718417400,"duration":10200,"svcId":560,"evtId":25174,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":75}]},{"channelid":700,"offset":0,"event":[{"name":"Homes Under the Hammer","description":"12\/30. Tommy sees the potential in a bungalow in the beautiful Norfolk Broads, while Dion is on familiar turf in both Stoke and Coventry with two intriguing projects. [S] [HD]","startTime":1718343000,"duration":3600,"svcId":700,"evtId":16947,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j227gc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718277312,"availabilityEnd":1749813312,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020463\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":12},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"11\/15. Clive heads to the west coast of Barbados to find out why the country produces so many great cricketers before hitting the water to land a Caribbean catch for an island cookout. [S] [HD]","startTime":1718346600,"duration":1800,"svcId":700,"evtId":16948,"image":"\/ms\/img\/epg\/rb\/fec6-p0hzs61z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpnr\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":11},{"name":"Mammals","description":"2\/6. Mammals have mastered every environment on Earth, but today the planet is changing faster than ever. Mammals must change with it to have a chance of survival in this, the new wild. [S,AD,SL] [HD]","startTime":1718348400,"duration":3600,"svcId":700,"evtId":16949,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hn9rqp.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1718352000,"duration":11700,"svcId":700,"evtId":16950,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Could Nigel Farage\u0027s Reform UK become the opposition voice in the next Parliament? [S] [HD]","startTime":1718363700,"duration":2700,"svcId":700,"evtId":16951,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718366395,"availabilityEnd":1720958395,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00205fd\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"5\/30. The quiz show where players must avoid Impossible answers to stay in the competition. Twelve people start today\u0027s show, but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1718366400,"duration":2700,"svcId":700,"evtId":16952,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718369095,"availabilityEnd":1720961095,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000t93n\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":5},{"name":"Mastermind Final","description":"31\/31. Clive Myrie asks the questions in the grand final. Specialist subjects include Sir Steve McQueen\u0027s film and TV works, the Peak District, Eleanor of Aquitaine and Open All Hours. [S] [HD]","startTime":1718369100,"duration":3600,"svcId":700,"evtId":16953,"image":"\/ms\/img\/epg\/rb\/ae0c-p0c00k9m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0016dxj\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":31},{"name":"Five Bedrooms","description":"8\/8. The sudden sale hits stumbling blocks, emotions run rampant and moving on proves painful. [S,AD] [HD]","startTime":1718372700,"duration":3000,"svcId":700,"evtId":16954,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g8c4g3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693544400,"availabilityEnd":1725197384,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fwgbk1\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":8},{"name":"Stanley Tucci: Searching for Italy","description":"4\/8. Stanley Tucci sets out to explore how Italian immigration has transformed the food scene in his adopted hometown of London. [S,AD] [HD]","startTime":1718375700,"duration":2400,"svcId":700,"evtId":16955,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7rsdj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1666555335,"availabilityEnd":1751259540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001dht6\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"Great Bear Stakeout","description":"2\/2. Documentary following the lives of grizzly bears. The world-famous salmon run arrives in Alaska. Parsnip and Pushki return to the bay to feed, but they face fierce competition. [S] [HD]","startTime":1718378100,"duration":3600,"svcId":700,"evtId":16956,"image":"\/ms\/img\/epg\/rb\/fec6-p0b2yrf7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718381770,"availabilityEnd":1720973770,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0176qr2\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Flog It!","description":"Paul Martin presents previously unseen finds from the show\u0027s travels round the country, visiting Muncaster Castle, the Bowes Museum and Norwich Cathedral. [S] [HD]","startTime":1718381700,"duration":2700,"svcId":700,"evtId":16957,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718384449,"availabilityEnd":1720976449,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b076zw12\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":39},{"name":"Richard Osman\u0027s House of Games","description":"75\/100. Kevin Eldon, Sarah Keyworth, Laila Rouass and John Whaite test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1718384400,"duration":1800,"svcId":700,"evtId":16958,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlymx8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718386231,"availabilityEnd":1720978231,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001g691\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":75},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"15\/15. Clive travels north and learns about the Jewish refugees that found shelter here during World War II, joins a merengue group and tries a Dominican drink with a racy reputation. [S] [HD]","startTime":1718386200,"duration":1800,"svcId":700,"evtId":16959,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzsxdf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpp8\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":15},{"name":"Digging for Britain: The...","description":"...Greatest Discoveries. 3\/4. Professor Alice Roberts re-examines the key archaeological sites of Roman Britain. [S,AD] [HD]","startTime":1718388000,"duration":1800,"svcId":700,"evtId":16960,"image":"\/ms\/img\/epg\/rb\/ae0c-p088c1j4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718389816,"availabilityEnd":1720981816,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000gx1f\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":3},{"name":"Beechgrove Garden","description":"11\/26. Kirsty Wilson discusses what to sow and plant in order to attract birds to the area, and Lizzie Schofieid continues her work refreshing the perennials in the zig-zag garden. [S] [HD]","startTime":1718389800,"duration":1800,"svcId":700,"evtId":16961,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3jgmv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718307060,"availabilityEnd":1749843060,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00205fh\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":11},{"name":"Gardeners\u0027 World","description":"13\/32. The team are Birmingham-bound for one of the highlights of the horticultural year, the annual Gardeners\u0027 World Live event. [S] [HD]","startTime":1718391600,"duration":3600,"svcId":700,"evtId":16962,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j41f8z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718395202,"availabilityEnd":1749931202,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00205fk\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":13},{"name":"Hidden Treasures of the...","description":"...National Trust. 6\/6. A mysterious portrait of a servant reveals its secrets, and two rare hidden treasures are brought back into the light. [S,AD] [HD]","startTime":1718395200,"duration":3600,"svcId":700,"evtId":16963,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvlfbd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715317200,"availabilityEnd":1809925140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001yzxm\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"QI","description":"13\/14. Sandi takes a look at tubes and tubas in a totally tubular show with Bridget Christie, Sara Pascoe, Deborah Frances White and Alan Davies. [S] [HD]","startTime":1718398800,"duration":1800,"svcId":700,"evtId":16964,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f080f0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709499600,"availabilityEnd":1740981540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001j6v9\u0026ui_id=4.0.0"},"seriesNo":21,"episodeNo":13},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Faisal Islam. [S] [HD]","startTime":1718400600,"duration":1800,"svcId":700,"evtId":16965,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j101sb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718402490,"availabilityEnd":1749938490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205fm\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1718402400,"duration":300,"svcId":700,"evtId":16966,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718402729,"availabilityEnd":1718489129,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205fp\u0026ui_id=4.0.0"}},{"name":"Dear Evan Hansen","description":"High school misfit Evan lies to comfort a grieving mother - but will the truth come out? Contains some strong language. [2021] [S] [HD]","startTime":1718402700,"duration":7500,"svcId":700,"evtId":16967,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j24ylw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718410356,"availabilityEnd":1721002356,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205fr\u0026ui_id=4.0.0"}},{"name":"The Wrong Man: 17 Years Behind...","description":"...Bars. A man fighting for freedom after spending 17 years in prison for a crime he didn\u0027t commit. Contains some strong language and disturbing scenes. [S,AD,SL] [HD]","startTime":1718410200,"duration":3600,"svcId":700,"evtId":16889,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j14q38.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717650000,"availabilityEnd":1749186000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zywl\u0026ui_id=4.0.0"}},{"name":"Andi Oliver\u0027s Fabulous Feasts","description":"8\/8. In her old neighbourhood of Notting Hill, Andi revisits her past with daughter Miquita to make her most fabulous feast yet, celebrating the incredible work of the community. [S,AD,SL] [HD]","startTime":1718413800,"duration":3600,"svcId":700,"evtId":16968,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwx0sq.jpg","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"David \u0026 Jay\u0027s Touring Toolshed","description":"10\/15. Sir David Jason and Jay Blades jump at the chance to help a motorcycle enthusiast with his World War II bike, and a model helicopter pilot puts the pair to the test. [S,AD,SL] [HD]","startTime":1718417400,"duration":1800,"svcId":700,"evtId":16969,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h58bls.jpg","hasTstv":false,"seriesNo":1,"episodeNo":10},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1718419200,"duration":9300,"svcId":700,"evtId":16970,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp shows us how to create beautiful crafts with items we already own. Inspired by nature, she takes to the garden to create some tiny terrariums and a hotel for bees and bugs.  [S]","startTime":1718338200,"duration":900,"svcId":1500,"evtId":25486,"image":"\/ms\/img\/epg\/rb\/5d52-412779072.l.png","hasTstv":false},{"name":"Frasier","description":"The 1000th Show: Frasier\u0027s self-importance over a professional milestone and his persistent sibling rivalry with Niles reach crisis point. (S5 Ep5)  [AD,S]","startTime":1718339100,"duration":1500,"svcId":1500,"evtId":25398,"image":"\/ms\/img\/epg\/rb\/5d52-648361.l.png","hasTstv":false,"seriesNo":5,"episodeNo":5},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Sam Quek joins Susie Dent in Dictionary Corner.  [S]","startTime":1718340600,"duration":2400,"svcId":1500,"evtId":25297,"image":"\/ms\/img\/epg\/rb\/5d52-9513880.l.png","hasTstv":false},{"name":"Cheers","description":"Affairs of the Heart: When a classy customer falls for Carla, no one can work out why she\u0027s not interested, but it seems she is convinced that he must have some terrible flaw. (S2 Ep6\/22)  [S]","startTime":1718343000,"duration":1500,"svcId":1500,"evtId":25298,"image":"\/ms\/img\/epg\/rb\/5d52-92045.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Cheers","description":"Old Flames: Sam\u0027s old buddy Dave insists that he can break up Sam\u0027s romance with Diane in just 24 hours, especially when Diane discovers Sam still has his \u0027little black book\u0027. (S2 Ep7\/22)  [S]","startTime":1718344500,"duration":1500,"svcId":1500,"evtId":25299,"image":"\/ms\/img\/epg\/rb\/5d52-95864.l.png","hasTstv":false,"seriesNo":2,"episodeNo":7},{"name":"Everybody Loves Raymond","description":"Tasteless Frank: Frank loses his sense of taste. Is it a side-effect of his potency medication? And will he have to tell Marie that he is receiving chemical assistance? (S9 Ep12)  [AD,S]","startTime":1718346000,"duration":1500,"svcId":1500,"evtId":25300,"image":"\/ms\/img\/epg\/rb\/5d52-5477721.l.png","hasTstv":false,"seriesNo":9,"episodeNo":12},{"name":"Everybody Loves Raymond","description":"Sister-in-Law: Trouble brews in the Barone family when Robert\u0027s wife Amy finds out that Ray thinks she is in the habit of talking too much. (S9 Ep13)  [AD,S]","startTime":1718347500,"duration":1500,"svcId":1500,"evtId":25421,"image":"\/ms\/img\/epg\/rb\/5d52-5484126.l.png","hasTstv":false,"seriesNo":9,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"The Power of No: Ray tries to make himself more desirable in Debra\u0027s eyes by playing hard to get, but there\u0027s trouble when she finds out what he\u0027s up to. (S9 Ep14)  [AD,S]","startTime":1718349000,"duration":1800,"svcId":1500,"evtId":25422,"image":"\/ms\/img\/epg\/rb\/5d52-5492223.l.png","hasTstv":false,"seriesNo":9,"episodeNo":14},{"name":"Everybody Loves Raymond","description":"Pat\u0027s Secret: Robert is shocked when he discovers Pat smoking, but not enough to refuse a drag on her cigarette. Then he proves that he can\u0027t be trusted with secrets... (S9 Ep15)  [AD,S]","startTime":1718350800,"duration":1800,"svcId":1500,"evtId":25423,"image":"\/ms\/img\/epg\/rb\/5d52-5498955.l.png","hasTstv":false,"seriesNo":9,"episodeNo":15},{"name":"Frasier","description":"The Placeholder: Frasier feels like a gooseberry on a night out with Niles, Daphne, Martin and Ronee, so Roz convinces him to go on a date with her friend Ann. (S11 Ep5)  [AD,S]","startTime":1718352600,"duration":1800,"svcId":1500,"evtId":25424,"image":"\/ms\/img\/epg\/rb\/5d52-49559771.l.png","hasTstv":false,"seriesNo":11,"episodeNo":5},{"name":"Frasier","description":"I\u0027m Listening: Frasier overhears his dad\u0027s girlfriend Ronee making a date with another man, but when Martin hears the news he accuses his son of eavesdropping. (S11 Ep6)  [AD,S]","startTime":1718354400,"duration":1800,"svcId":1500,"evtId":25425,"image":"\/ms\/img\/epg\/rb\/5d52-5010783.l.png","hasTstv":false,"seriesNo":11,"episodeNo":6},{"name":"Frasier","description":"Maris Returns (Part 1\/2): Niles\u0027s ex-wife Maris needs his help. Can he keep her return secret from a pregnant and emotional Daphne? (S11 Ep7)  [AD,S]","startTime":1718356200,"duration":1800,"svcId":1500,"evtId":25426,"image":"\/ms\/img\/epg\/rb\/5d52-5016528.l.png","hasTstv":false,"seriesNo":11,"episodeNo":7},{"name":"Frasier","description":"Murder Most Maris (Part 2\/2): Niles is suspected as an accomplice to murder, and Frasier accidentally recommends that his brother should be executed... (S11 Ep8)  [AD,S]","startTime":1718358000,"duration":1800,"svcId":1500,"evtId":25427,"image":"\/ms\/img\/epg\/rb\/5d52-5021655.l.png","hasTstv":false,"seriesNo":11,"episodeNo":8},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"At Amy\u0027s Baking Company in Scottsdale, Arizona, Gordon Ramsay meets a husband and wife team with a shocking contempt for customer feedback. (S6 Ep15)  [S]","startTime":1718359800,"duration":3300,"svcId":1500,"evtId":25428,"image":"\/ms\/img\/epg\/rb\/5d52-380023272.l.png","hasTstv":false,"seriesNo":5,"episodeNo":16},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1718363100,"duration":300,"svcId":1500,"evtId":25429,"image":"\/ms\/img\/epg\/rb\/5d52-9513998.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Sebastian\u0027s, a pizzeria in Los Angeles. The customers are scarce and the debt is mounting. Can Gordon turn the restaurant\u0027s fortunes around? (S1 Ep7)  [S]","startTime":1718363400,"duration":3600,"svcId":1500,"evtId":25430,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Car S.O.S","description":"Tim and Fuzz\u0027s Greatest Hits: Tim Shaw and Fuzz Townshend take Tim\u0027s 1965 Ford Mustang Fastback on a road trip to revisit some of their favourite cars from series one to four. (S4 Ep10\/10)  [AD,S]","startTime":1718367000,"duration":3600,"svcId":1500,"evtId":25431,"image":"\/ms\/img\/epg\/rb\/5d52-212542451.l.png","hasTstv":false,"seriesNo":4,"episodeNo":10},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Sam Quek joins Susie Dent in Dictionary Corner.  [S]","startTime":1718370600,"duration":3000,"svcId":1500,"evtId":25432,"image":"\/ms\/img\/epg\/rb\/5d52-9514023.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Penny and Russell want a holiday home near Spain\u0027s seaside town of Moj\u00e1car, with a communal pool and just a short drive to the beach. Can Ben Hillman deliver their dream for \u00a3125k?  [S]","startTime":1718373600,"duration":3600,"svcId":1500,"evtId":25433,"image":"\/ms\/img\/epg\/rb\/5d52-8635245.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Lucy\u0027s been thinking about buying a home abroad since she was 16 and is now ready to take the plunge. Jean Johansson shows her what M\u00e1laga has to offer for \u00a3100k.  [S]","startTime":1718377200,"duration":3600,"svcId":1500,"evtId":25434,"image":"\/ms\/img\/epg\/rb\/5d52-9514073.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"The new series continues. In Calp, the Aldertons help Vicky and Mac - and their dogs and tortoises - find a pad. In Almer\u00eda, the Garners catch up with ex-clients Taz and Nicky. (S7 Ep10\/20)  [S]","startTime":1718380800,"duration":3600,"svcId":1500,"evtId":25435,"image":"\/ms\/img\/epg\/rb\/5d52-9514074.l.png","hasTstv":false,"seriesNo":7,"episodeNo":10},{"name":"Four in a Bed","description":"Payment day brings cutting questions, cleanliness concerns and a Moroccan mismatch as the B\u0026Bers find out who\u0027s won the week.  [S]","startTime":1718384400,"duration":1800,"svcId":1500,"evtId":25436,"image":"\/ms\/img\/epg\/rb\/5d52-414891925.l.png","hasTstv":false},{"name":"The Simpsons","description":"Bonfire of the Manatees: Marge meets a handsome marine biologist (guest star Alec Baldwin). Will he woo her? Can Homer win her back? (S17 Ep1\/22)  [AD,S]","startTime":1718386200,"duration":1800,"svcId":1500,"evtId":25437,"image":"\/ms\/img\/epg\/rb\/5d52-5585040.l.png","hasTstv":false,"seriesNo":17,"episodeNo":1},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1718388000,"duration":3300,"svcId":1500,"evtId":25438,"image":"\/ms\/img\/epg\/rb\/5d52-9514108.l.png","hasTstv":false},{"name":"Party Election Broadcast","description":"A party election broadcast.  [S]","startTime":1718391300,"duration":300,"svcId":1500,"evtId":25970,"image":"\/ms\/img\/epg\/rb\/5d52-news.genre.l.png","hasTstv":false},{"name":"The Dog House","description":"Harry needs a new friend to play fetch; is Ollie the spaniel the ideal match? Sassy fluffball Ballo causes a stir. And can blind cockapoo Marnie take guidance from Bella the stray? (S5 Ep2)  [AD,S]","startTime":1718391600,"duration":3600,"svcId":1500,"evtId":25439,"image":"\/ms\/img\/epg\/rb\/5d52-8924155.l.png","hasTstv":false,"seriesNo":5,"episodeNo":2},{"name":"New: Celebrity Gogglebox","description":"This time the celebs have been watching The Piano, Bridgerton, Celebrity Bridge of Lies, UK\u0027s Strongest Man 2024, The World\u0027s Most Luxurious Retirement Homes and Scam Interceptors. (S6 Ep2) [AD,S]","startTime":1718395200,"duration":3600,"svcId":1500,"evtId":25440,"image":"\/ms\/img\/epg\/rb\/5d52-9514261.l.png","hasTstv":false,"seriesNo":6,"episodeNo":2},{"name":"New: The Nevermets","description":"Leah prepares to meet her American lover Chad after two months of talking online. Jay and Veena and Jgoy and Sarah await visa decisions. Mazi finally shows up for Dumebi. (Ep4\/6)  [AD,S]","startTime":1718398800,"duration":3900,"svcId":1500,"evtId":25441,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"The Inbetweeners Movie","description":"(2011) Comedy with Simon Bird, Joe Thomas, Blake Harrison and James Buckley. School is over, so the boys celebrate with an outrageous lads holiday in Crete. Very strong language\/sex.  [AD,S]","startTime":1718402700,"duration":6600,"svcId":1500,"evtId":25442,"image":"\/ms\/img\/epg\/rb\/5d52-47644151.l.png","hasTstv":false},{"name":"Skyscraper","description":"(2018) Adrenaline-fuelled thriller. Can Dwayne \u0027The Rock\u0027 Johnson save his family from the world\u0027s tallest skyscraper, while it\u0027s on fire and full of terrorists?  [AD,S]","startTime":1718409300,"duration":6000,"svcId":1500,"evtId":25443,"image":"\/ms\/img\/epg\/rb\/5d52-2883764.l.png","hasTstv":false},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"Gordon Ramsay visits Bayou on the Vine, a family-run Cajun restaurant in Kansas City, Missouri, where he redecorates with a jazz theme and upgrades the menu. (S2 Ep6)  [AD,S,SL]","startTime":1718415300,"duration":3000,"svcId":1500,"evtId":25444,"image":"\/ms\/img\/epg\/rb\/5d52-412299424.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Come Dine with Me","description":"Essex area. The first host, colourful 46-year-old head teacher Corinna, plans a royal-themed evening. (Ep1\/5)  [AD,S]","startTime":1718418300,"duration":1500,"svcId":1500,"evtId":25445,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false,"seriesNo":43,"episodeNo":51},{"name":"Come Dine with Me","description":"Essex area. On the second night, money broker Paul plans an evening of fine dining. And he\u0027s travelled more than 300 miles to source his ingredients! (Ep2\/5)  [AD,S]","startTime":1718419800,"duration":1500,"svcId":1500,"evtId":25446,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false,"seriesNo":43,"episodeNo":52},{"name":"Come Dine with Me","description":"Essex area. Teacher Harmy plans to spice up her guests\u0027 lives with an authentic Punjabi feast. But is it too hot for them to handle? (Ep3\/5)  [AD,S]","startTime":1718421300,"duration":1500,"svcId":1500,"evtId":25447,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false,"seriesNo":43,"episodeNo":53},{"name":"Come Dine with Me","description":"Essex area. Recruitment consultant Adam, who\u0027s 25, hopes to exceed his guests\u0027 expectations with a menu of posh nosh... at his dad\u0027s house. (Ep4\/5)  [AD,S]","startTime":1718422800,"duration":1500,"svcId":1500,"evtId":25448,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false,"seriesNo":43,"episodeNo":54}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('199');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('127');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('13');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'izyvcmEj8ZU', title: "All of AQA PHYSICS Paper 2 in 35 minutes - GCSE Science Revision", label: "All of AQA PHYSICS Paper 2 in 35 minutes - GCSE Science Revision by Science Shorts 99,376 views 14 hours ago 35 minutes" },
{ id: '8nE_mO0sM8Y', title: "I FORCED MY DAD TO FIX MY MERCEDES C63", label: "I FORCED MY DAD TO FIX MY MERCEDES C63 by Mat Armstrong MK2 596,278 views 22 hours ago 23 minutes" },
{ id: 'ZSAAL_7WIiQ', title: "NAYEON \&quot;ABCD\&quot; M/V", label: "NAYEON \&quot;ABCD\&quot; M/V by JYP Entertainment 7,731,300 views 11 hours ago 3 minutes, 42 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "The season has finished :(";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Eternal Sunshine of the Spotless Mind (2004)">Eternal Sunshine of the Spotless Mind (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Crash (1996)">Crash (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S2, 2024)">Float (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1, 2021)">Float (S1, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S2, 2021)">In My Skin (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1, 2018)">In My Skin (S1, 2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S2, 2019)">Fleabag (S2, 2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1, 2016)">Fleabag (S1, 2016)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 210.77, tooltip: "Thu, Jun 13, 2024<br/>£210.77"},
{ number: 210.23, tooltip: "Wed, Jun 12, 2024<br/>£210.23"},
{ number: 210.26, tooltip: "Tue, Jun 11, 2024<br/>£210.26"},
{ number: 210.47, tooltip: "Mon, Jun 10, 2024<br/>£210.47"},
{ number: 210.26, tooltip: "Fri, Jun 07, 2024<br/>£210.26"},
{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Jun 13, 2024",
		"vs Day":      "Wed, Jun 12, 2024",
		"vs Week":     "Thu, Jun 06, 2024",
		"vs Month":    "Wed, May 15, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£210.77/share",
		'vs Day':      "+0.26%",
		'vs Week':     "+0.32%",
		'vs Month':    "-0.40%",
		'vs Year':     "+17.35%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '54.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 14 June and 15 June">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.542&p=0.897&r=0.869',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:44',
		Set:      '21:29',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To rebuff something, such as an offer or suggestion, is to reject or criticize it sharply. One can also rebuff a person by rudely rejecting or refusing them.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23CurrysFootball">#CurrysFootball</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23TSTTPDID">#TSTTPDID</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23euro2024">#euro2024</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Germany">Germany</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23ENGSER">#ENGSER</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23TSTTPDID">#TSTTPDID</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23FlagDay">#FlagDay</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=SCOTUS">SCOTUS</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Happy+Birthday+President+Trump%22">Happy Birthday President T…</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23WWECastle">#WWECastle</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>