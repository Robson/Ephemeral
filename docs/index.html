<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:36 27-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Equity in Cricket report: Discrimination \'widespread\' in English cricket</b><br/>Racism, sexism, classism and elitism is &quot;widespread&quot; in English and Welsh cricket, according to a long-awaited independent report." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/cricket/66022949?at_medium=RSS&amp;at_campaign=KARANGA">Equity in Cricket report: Discrimination \'widespread\' in English cricket</a></li><li class="ttt" data-tt="<b>Secondary school uniform costs parents £422 a year</b><br/>Parents still spending &quot;exorbitant&quot; sums on uniforms despite rules meant to cut costs, says charity."><a href="https://www.bbc.co.uk/news/business-66019781?at_medium=RSS&amp;at_campaign=KARANGA">Secondary school uniform costs parents £422 a year</a></li><li class="ttt" data-tt="<b>Anger at police failings over new Stephen Lawrence suspect</b><br/>There have been calls to reopen police inquiries after the BBC revealed new evidence in the racist murder."><a href="https://www.bbc.co.uk/news/uk-66023387?at_medium=RSS&amp;at_campaign=KARANGA">Anger at police failings over new Stephen Lawrence suspect</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/cricket/66022949?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/265D/production/_130212890_cricket.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Colorado Club Q shooting: Attacker sentenced to life in prison after pleading guilty</b><br/>Anderson Lee Aldrich, 23, killed five people at the Club Q nightclub in Colorado Springs last year." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66023940?at_medium=RSS&amp;at_campaign=KARANGA">Colorado Club Q shooting: Attacker sentenced to life in prison after pleadi...</a></li><li class="ttt" data-tt="<b>John Goodenough: World\'s oldest Nobel Prize winner dies at 100</b><br/>John Goodenough won the Nobel Prize in chemistry at the age of 97 for his revolutionary work."><a href="https://www.bbc.co.uk/news/world-us-canada-65993968?at_medium=RSS&amp;at_campaign=KARANGA">John Goodenough: World\'s oldest Nobel Prize winner dies at 100</a></li><li class="ttt" data-tt="<b>Tucker Carlson: Fox News names Jesse Watters to replace star anchor</b><br/>Jesse Watters, who joined the network in 2002, will host the channel\'s primetime evening slot."><a href="https://www.bbc.co.uk/news/world-us-canada-66024729?at_medium=RSS&amp;at_campaign=KARANGA">Tucker Carlson: Fox News names Jesse Watters to replace star anchor</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66023940?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/21F2/production/_130209680_gettyimages-1244929566.jpg" class="ttt" data-tt="Club Q" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Vladimir Putin says Wagner mutiny leaders will be \'brought to justice\'</b><br/>Russia\'s president says the organisers of the march on Moscow will be &quot;brought to justice&quot;." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-66024526?at_medium=RSS&amp;at_campaign=KARANGA">Vladimir Putin says Wagner mutiny leaders will be \'brought to justice\'</a></li><li class="ttt" data-tt="<b>Russia still investigating Wagner boss Prigozhin for treason</b><br/>The Kremlin initially said charges against Prigozhin would be dropped in a deal to end his rebellion."><a href="https://www.bbc.co.uk/news/world-europe-66021601?at_medium=RSS&amp;at_campaign=KARANGA">Russia still investigating Wagner boss Prigozhin for treason</a></li><li class="ttt" data-tt="<b>Colorado Club Q shooting: Attacker sentenced to life in prison after pleading guilty</b><br/>Anderson Lee Aldrich, 23, killed five people at the Club Q nightclub in Colorado Springs last year."><a href="https://www.bbc.co.uk/news/world-us-canada-66023940?at_medium=RSS&amp;at_campaign=KARANGA">Colorado Club Q shooting: Attacker sentenced to life in prison after pleadi...</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-66024526?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6415/production/_130212652_vladimirputin.png" class="ttt" data-tt="Russian President Vladimir Putin at a televised address in Moscow on Monday" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Alpine: Ryan Reynolds and Rob McElhenney part of group taking 24% equity stake in F1 team</b><br/>Wrexham Football Club owners Ryan Reynolds and Rob McElhenney are part of an investor group taking a 24% equity stake in Alpine." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66016904?at_medium=RSS&amp;at_campaign=KARANGA">Alpine: Ryan Reynolds and Rob McElhenney part of group taking 24% equity st...</a></li><li class="ttt" data-tt="<b>Ferrari \'going in the right direction\' after strong Canadian Grand Prix, says team boss Fred Vasseur</b><br/>Ferrari boss Fred Vasseur says the team are &quot;going in the right direction&quot; after the Canadian Grand Prix, in which Charles Leclerc and Carlos Sainz climbed from 10th and 11th on the grid to fourth and fifth"><a href="https://www.bbc.co.uk/sport/formula1/65961271?at_medium=RSS&amp;at_campaign=KARANGA">Ferrari \'going in the right direction\' after strong Canadian Grand Prix,...</a></li><li class="ttt" data-tt="<b>Canadian Grand Prix: Max Verstappen and Red Bull celebrate \'historical\' landmarks</b><br/>Max Verstappen and Red Bull can celebrate achievements of great historical consequence but Canada did offer a chink of light to their competitors."><a href="https://www.bbc.co.uk/sport/formula1/65946806?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix: Max Verstappen and Red Bull celebrate \'historical\' l...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66016904?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/12336/production/_130205547_rob1.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Jail terms for sharing or creating explicit images without consent</b><br/>Changes to the Online Safety Bill include up to two years in prison for sharing or creating explicit images without consent." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66021643?at_medium=RSS&amp;at_campaign=KARANGA">Jail terms for sharing or creating explicit images without consent</a></li><li class="ttt" data-tt="<b>The robotic falcon maker who lost £100,000 to cyber criminals</b><br/>John Donald transferred the money to fraudsters as his business struggled during the Covid pandemic."><a href="https://www.bbc.co.uk/news/uk-scotland-66013970?at_medium=RSS&amp;at_campaign=KARANGA">The robotic falcon maker who lost £100,000 to cyber criminals</a></li><li class="ttt" data-tt="<b>Facebook and Instagram to restrict news access in Canada</b><br/>It comes after parliament passed a bill requiring tech giants to compensate publishers for news."><a href="https://www.bbc.co.uk/news/world-us-canada-65969970?at_medium=RSS&amp;at_campaign=KARANGA">Facebook and Instagram to restrict news access in Canada</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66021643?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/371F/production/_130211141_gettyimages-1371444419.jpg" class="ttt" data-tt="Woman looking at her smartphone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"26 Jun – 2 Jul","date":1687824E6,"ts":"Tue, 27","ds":"Tue, 27 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":11,"cf":20,"wind":13,"wd":236,"hum":72,"pc":24,"rain":3.2 },{"date":16879104E5,"ts":"Wed, 28","ds":"Wed, 28 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":22,"templow":16,"cf":21,"wind":9,"wd":238,"hum":78,"pc":63,"rain":5.3 },{"date":16879968E5,"ts":"Thu, 29","ds":"Thu, 29 Jun","icon":33,"desc":"Showers late. Cloudy.","temp":18,"templow":10,"cf":17,"wind":9,"wd":336,"hum":67,"pc":18,"rain":0.6 },{"date":16880832E5,"ts":"Fri, 30","ds":"Fri, 30 Jun","icon":33,"desc":"Passing showers. Cloudy.","temp":19,"templow":9,"cf":17,"wind":13,"wd":229,"hum":69,"pc":42,"rain":2.2 },{"date":16881696E5,"ts":"Sat, 1","ds":"Sat, 1 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":12,"cf":20,"wind":18,"wd":253,"hum":62,"pc":23,"rain":3},{"date":1688256E6,"ts":"Sun, 2","ds":"Sun, 2 Jul","icon":1,"desc":"Sunny.","temp":22,"templow":10,"cf":25,"wind":11,"wd":270,"hum":43,"pc":2},{"hl":true,"hls":"3 Jul – 9 Jul","date":16883424E5,"ts":"Mon, 3","ds":"Mon, 3 Jul","icon":21,"desc":"A few tstorms. Mostly cloudy.","temp":21,"templow":11,"cf":20,"wind":14,"wd":240,"hum":77,"pc":48,"rain":5.9 },{"date":16884288E5,"ts":"Tue, 4","ds":"Tue, 4 Jul","icon":2,"desc":"Mostly sunny.","temp":19,"templow":10,"cf":19,"wind":14,"wd":240,"hum":48,"pc":6},{"date":16885152E5,"ts":"Wed, 5","ds":"Wed, 5 Jul","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":17,"templow":10,"cf":17,"wind":14,"wd":200,"hum":91,"pc":76,"rain":18.1 },{"date":16886016E5,"ts":"Thu, 6","ds":"Thu, 6 Jul","icon":33,"desc":"Light showers. Broken clouds.","temp":17,"templow":10,"cf":17,"wind":15,"wd":210,"hum":72,"pc":63,"rain":3.7 },{"date":1688688E6,"ts":"Fri, 7","ds":"Fri, 7 Jul","icon":21,"desc":"A few tstorms. Morning clouds.","temp":18,"templow":10,"cf":17,"wind":11,"wd":260,"hum":62,"pc":82,"rain":1.3 },{"date":16887744E5,"ts":"Sat, 8","ds":"Sat, 8 Jul","icon":33,"desc":"Rain showers. Cloudy.","temp":17,"templow":10,"cf":16,"wind":21,"wd":180,"hum":92,"pc":62,"rain":7},{"date":16888608E5,"ts":"Sun, 9","ds":"Sun, 9 Jul","icon":4,"desc":"Partly cloudy.","temp":17,"templow":10,"cf":16,"wind":13,"wd":270,"hum":52,"pc":6},{"hl":true,"hls":"10 Jul – 16 Jul","date":16889472E5,"ts":"Mon, 10","ds":"Mon, 10 Jul","icon":18,"desc":"Sprinkles late. Mostly cloudy.","temp":17,"templow":11,"cf":17,"wind":6,"wd":240,"hum":60,"pc":49,"rain":0.8 },{"date":16890336E5,"ts":"Tue, 11","ds":"Tue, 11 Jul","icon":4,"desc":"Partly cloudy.","temp":18,"templow":12,"cf":17,"wind":5,"wd":250,"hum":46,"pc":43,"rain":0.1 }],"grid":{"temp":{"low":9,"high":22,"range":13},"prec":{"high":18.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2306/BeltofEverest_Mukherjee_960.jpg',
		Title:     'The Belt of Venus over Mount Everest',
		LinkImage: 'https://apod.nasa.gov/apod/image/2306/BeltofEverest_Mukherjee_4000_annotated.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230626.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Pomegranate_%28opened%29.jpg/500px-Pomegranate_%28opened%29.jpg',
		Title:    'Pomegranate',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Pomegranate',
		Description: '    The <b><a href="/wiki/Pomegranate" title="Pomegranate">pomegranate</a></b> (<i>Punica granatum</i>) is a <a href="/wiki/Fruit" title="Fruit">fruit</a>-bearing <a href="/wiki/Deciduous" title="Deciduous">deciduous</a> <a href="/wiki/Shrub" title="Shrub">shrub</a> in the family <a href="/wiki/Lythraceae" title="Lythraceae">Lythraceae</a>, subfamily Punicoideae, that grows between 5 and 10&#160;m (16 and 33&#160;ft) tall. The pomegranate was originally found only throughout the <a href="/wiki/Mediterranean_Basin" title="Mediterranean Basin">Mediterranean</a> region. It was introduced into <a href="/wiki/Spanish_America" title="Spanish America">Spanish America</a> in the late 16th century and into California by <a href="/wiki/New_Spain" title="New Spain">Spanish settlers</a> in 1769.<small style="display: block; margin-top: 0.8em;">Photograph credit <a href="https://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="commons:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1687834500,"duration":8400,"svcId":700,"evtId":7990,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Garden Rescue","description":"17\/35. Chris and Lee are in Wilmslow to transform Adam and Lauren\u0027s tired, boring garden into a Chinese-inspired space with a woodland vibe. [S] [HD]","startTime":1687842900,"duration":2700,"svcId":700,"evtId":8012,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv4hn4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687275027,"availabilityEnd":1726932535,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001n3h9\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":17},{"name":"Hidden Treasures of the...","description":"...National Trust. 5\/6. Featuring reinforcements to Churchill\u0027s D-Day map and wallpaper under attack from insects. [S,AD,SL] [HD]","startTime":1687845600,"duration":3600,"svcId":700,"evtId":8013,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwygq.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Super League Show 2023","description":"Super League highlights from round 16 of the season, presented by Damian Johnson. [S] [HD]","startTime":1687849200,"duration":3600,"svcId":700,"evtId":8014,"image":"\/ms\/img\/epg\/rb\/8df1-p0bpycx3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687784400,"availabilityEnd":1690412820,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nb5s\u0026ui_id=4.0.0"},"episodeNo":16},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1687852800,"duration":7200,"svcId":700,"evtId":8015,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1687860000,"duration":4500,"svcId":700,"evtId":8016,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1687864500,"duration":2700,"svcId":700,"evtId":8017,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Tennis: Eastbourne","description":"Further live coverage from Eastbourne, the last major women\u0027s tournament before Wimbledon. Presented by Gigi Salmon. [S] [HD]","startTime":1687867200,"duration":15300,"svcId":700,"evtId":8018,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwwlz3.jpg","hasTstv":false,"seriesNo":2023},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Norwich Cathedral in Norfolk, once home to Benedictine monks, and he also visits the circus. [S] [HD]","startTime":1687882500,"duration":2700,"svcId":700,"evtId":8019,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":14,"episodeNo":34},{"name":"Richard Osman\u0027s House of Games","description":"87\/140. Former winners Maisie Adam, Ivo Graham, Dev Griffin and Zoe Lyons test their general knowledge skills on this week\u0027s Richard Osman\u0027s House of Games: Champions. [S] [HD]","startTime":1687885200,"duration":1800,"svcId":700,"evtId":8020,"image":"\/ms\/img\/epg\/rb\/8df1-p0b6hm4g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1639506600,"availabilityEnd":1671042600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012kpv\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":87},{"name":"Great British Railway Journeys","description":"7\/15. Michael Portillo continues his railway exploration of the post-war Britain of his youth on a journey from London to Cambridge, starting at South Bank. [S,AD] [HD]","startTime":1687887000,"duration":1800,"svcId":700,"evtId":8021,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwg349.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687755600,"availabilityEnd":1719378000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nc4r\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":7},{"name":"NHS at 75 Live: Fit for the...","description":"...Future?. In a Newsnight special marking the NHS\u0027s 75th anniversary, Kirsty Wark probes its future. [S] [HD]","startTime":1687888800,"duration":3600,"svcId":700,"evtId":8022,"image":"\/ms\/img\/epg\/rb\/8df1-p0fxdsbk.jpg","hasTstv":false},{"name":"New: Your Home Made Perfect","description":"2\/8. Two architects compete using virtual reality to redesign Darren and Lee\u0027s 1960s home. Will the couple choose Damion\u0027s double-height hall or Laura\u0027s micro-fluted glass bar? [S,AD] [HD]","startTime":1687892400,"duration":3600,"svcId":700,"evtId":8023,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwn7l5.jpg","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"Africa Rising with Afua Hirsch","description":"3\/3. Afua Hirsch discovers new art, music and theatre in South Africa\u0027s townships as she explores creativity emerging in amapiano dancing, hair braiding and black surf culture. [S,AD] [HD]","startTime":1687896000,"duration":3600,"svcId":700,"evtId":8024,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft1y3p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686632400,"availabilityEnd":1718254800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fpwfyw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"The Lenny Henry Show","description":"A classic edition of Lenny Henry\u0027s character sketch show, introducing boxer Joe \u0027Bomber\u0027 Baxter and Billy Bradford, the singing comic. [S]","startTime":1687899600,"duration":1800,"svcId":700,"evtId":8025,"image":"\/ms\/img\/epg\/rb\/8df1-p0d70j43.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Newsnight","description":"Comprehensive coverage of the day\u0027s important news stories. With Victoria Derbyshire. [S] [HD]","startTime":1687901400,"duration":2400,"svcId":700,"evtId":8026,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false,"episodeNo":57},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1687903800,"duration":300,"svcId":700,"evtId":8027,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Phantom Thread","description":"1950s London. A dressmaker meets his match in new muse Alma, who resists being discarded. Contains strong language. [2018] [S] [HD]","startTime":1687904100,"duration":7500,"svcId":700,"evtId":8028,"image":"\/ms\/img\/epg\/rb\/8df1-p090t8kh.jpg","hasTstv":false},{"name":"Big Little Crimes","description":"3\/10. A stop-and-search leads to the arrest of a serial killer, a copper\u0027s decision ends in an armed stand-off, and a road traffic collision cracks open a massive fraud case. [S,SL] [HD]","startTime":1687911600,"duration":2700,"svcId":700,"evtId":8029,"image":"\/ms\/img\/epg\/rb\/8df1-p0dpc38r.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"The Great British Sewing Bee","description":"5\/10. It\u0027s Week 5 and Art Week as the sewers take on modernist skirts, transform canvasses and make surrealist, made-to-measure dresses. [S,AD,SL] [HD]","startTime":1687914300,"duration":3600,"svcId":700,"evtId":8030,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv5thv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687381200,"availabilityEnd":1721941080,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001n3x8\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":5},{"name":"Frontline Fightback","description":"6\/10. A driver is ambushed by carjackers outside his home in Birmingham. Data downloaded off their mobile phones helps link the gang to nearly 100 car thefts and break-ins. [S,SL] [HD]","startTime":1687917900,"duration":2700,"svcId":700,"evtId":8031,"image":"\/ms\/img\/epg\/rb\/8df1-p0fmxxmm.jpg","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1687920600,"duration":8700,"svcId":700,"evtId":8032,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"George Clarke\u0027s Amazing Spaces","description":"George discovers more ingenious small builds. He meets a couple who are turning an old fire engine into a bar, and a 23-year-old who\u0027s building a shepherd\u0027s hut from scratch. (S9 Ep5)  [AD,S,SL]","startTime":1687834200,"duration":3000,"svcId":1500,"evtId":29488,"image":"\/ms\/img\/epg\/rb\/5d52-396204990.l.png","hasTstv":false,"seriesNo":9,"episodeNo":5},{"name":"Grand Designs Australia","description":"Stephen has spent 15 years as the boss of his own construction firm. Now, with a child on the way, he\u0027s building his own grand home, in Curl Curl, a coastal suburb of Sydney. (S8 Ep3)  [AD,S]","startTime":1687837200,"duration":3000,"svcId":1500,"evtId":29434,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":3},{"name":"Fame in the Family","description":"Soap star Hayley Tamaddon hosts a dinner party for guests she\u0027s never met. Hayley\u0027s on the hunt for a peculiar family trait, but will anyone correctly work out they\u0027re her cousin? (Ep11\/15)  [S]","startTime":1687840200,"duration":1500,"svcId":1500,"evtId":29435,"image":"\/ms\/img\/epg\/rb\/5d52-5727134.l.png","hasTstv":false,"seriesNo":1,"episodeNo":11},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp tests the coaster-making skills of TV presenters Rav Wilding and Angellica Bell, while presenter Amanda Lamb takes on actor Debra Stephenson in a timed challenge.  [S]","startTime":1687841700,"duration":600,"svcId":1500,"evtId":29489,"image":"\/ms\/img\/epg\/rb\/5d52-414891917.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Dr Maggie Aderin-Pocock is in Dictionary Corner.  [S]","startTime":1687842300,"duration":2400,"svcId":1500,"evtId":27994,"image":"\/ms\/img\/epg\/rb\/5d52-7769573.l.png","hasTstv":false},{"name":"Cheers","description":"Grease: Norm struggles to come to terms with the news that the Hungry Heifer restaurant is to close and launches a campaign to save it. Rebecca worries about Robin\u0027s welfare. (S9 Ep6\/25)  [S]","startTime":1687844700,"duration":1500,"svcId":1500,"evtId":27995,"image":"\/ms\/img\/epg\/rb\/5d52-592901.l.png","hasTstv":false,"seriesNo":9,"episodeNo":6},{"name":"Cheers","description":"Breaking In Is Hard to Do: Frasier and Lilith aim to spend more time with their son. Rebecca and Carla research how Rebecca can break into jail to pay Robin a conjugal visit. (S9 Ep7\/25)  [S]","startTime":1687846200,"duration":1500,"svcId":1500,"evtId":27996,"image":"\/ms\/img\/epg\/rb\/5d52-595027.l.png","hasTstv":false,"seriesNo":9,"episodeNo":7},{"name":"The King of Queens","description":"Damned Yanky: Under sedation in hospital to have his appendix removed, Doug starts to fantasise about other women... out loud. (S6 Ep16\/24)  [AD,S]","startTime":1687847700,"duration":1500,"svcId":1500,"evtId":27997,"image":"\/ms\/img\/epg\/rb\/5d52-383522270.l.png","hasTstv":false,"seriesNo":6,"episodeNo":16},{"name":"The King of Queens","description":"Multiple Plots: Doug is freaked out by a customer who answers the door semi-naked. Carrie hates her new job as a dog walker. (S6 Ep17\/24)  [AD,S]","startTime":1687849200,"duration":1500,"svcId":1500,"evtId":27998,"image":"\/ms\/img\/epg\/rb\/5d52-383740955.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"Frasier","description":"The Adventures of Bad Boy and Dirty Girl: It\u0027s the morning after, and Kate and Frasier are worried about the consequences of their fling. (S3 Ep7)  [AD,S]","startTime":1687850700,"duration":1800,"svcId":1500,"evtId":27999,"image":"\/ms\/img\/epg\/rb\/5d52-438339.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"Frasier","description":"The Last Time I Saw Maris: Niles decides to stand up to Maris after she disappears to New York for two days on a shopping trip. In retaliation, she moves to divorce him. (S3 Ep8)  [AD,S]","startTime":1687852500,"duration":1800,"svcId":1500,"evtId":28000,"image":"\/ms\/img\/epg\/rb\/5d52-440116.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Frasier","description":"Frasier Grinch: Frasier is excited that his son Frederick is coming for Christmas, but Martin thinks a proper Christmas should mean more than just educational presents. (S3 Ep9)  [AD,S]","startTime":1687854300,"duration":1800,"svcId":1500,"evtId":28001,"image":"\/ms\/img\/epg\/rb\/5d52-442668.l.png","hasTstv":false,"seriesNo":3,"episodeNo":9},{"name":"Find It, Fix It, Flog It","description":"In Wiltshire, Simon O\u0027Brien and Henry Cole meet dairy farming mum and son Jane and Justin, where they rescue and restore a dilapidated table football game and a model Citro\u00ebn van. (S7 Ep24)  [AD,S]","startTime":1687856100,"duration":3600,"svcId":1500,"evtId":28002,"image":"\/ms\/img\/epg\/rb\/5d52-6208261.l.png","hasTstv":false,"seriesNo":7,"episodeNo":24},{"name":"Couples Come Dine with Me","description":"In Northampton, Shelly and Scott serve food that they think nobody will have heard of. They take on \u0027Team Texas\u0027 - Ilyas and Amanda - and Sabbi and Ashley, who host an Indo-Caribbean night.  [S]","startTime":1687859700,"duration":3600,"svcId":1500,"evtId":28003,"image":"\/ms\/img\/epg\/rb\/5d52-4130822.l.png","hasTstv":false,"seriesNo":4,"episodeNo":25},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1687863300,"duration":300,"svcId":1500,"evtId":28004,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Live: Steph\u0027s Packed Lunch","description":"Steph McGovern presents her live lunchtime show featuring celebrity guests, fantastic food and the best entertainment, lifestyle and consumer stories making the headlines.  [S]","startTime":1687863600,"duration":7800,"svcId":1500,"evtId":28005,"image":"\/ms\/img\/epg\/rb\/5d52-7780252.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Dr Maggie Aderin-Pocock is in Dictionary Corner.  [S]","startTime":1687871400,"duration":3000,"svcId":1500,"evtId":28006,"image":"\/ms\/img\/epg\/rb\/5d52-7780253.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Bob and Sammi want to buy a spacious holiday home near the lively resort of Corralejo, on Fuerteventura in the Canary Islands. Can Laura Hamilton find their perfect place for \u00a3150k?  [S]","startTime":1687874400,"duration":3600,"svcId":1500,"evtId":28007,"image":"\/ms\/img\/epg\/rb\/5d52-411884260.l.png","hasTstv":false},{"name":"Chateau DIY","description":"Ben and Vanessa rush to finish their new gin bar, housed in an old garage. Having discovered discarded oak boards in the chicken shed, Ben\u0027s DIY skills come in handy. (S3 Ep17)  [AD,S]","startTime":1687878000,"duration":3600,"svcId":1500,"evtId":28008,"image":"\/ms\/img\/epg\/rb\/5d52-6431036.l.png","hasTstv":false,"seriesNo":3,"episodeNo":17},{"name":"Sun, Sea and Selling Houses","description":"In Alicante, can the Rodriguez sisters find Ian and Claire their dream holiday home? And the Garners take on a supersized search for Dawn, Ken and their 18 grandchildren. (S6 Ep2)  [S]","startTime":1687881600,"duration":3600,"svcId":1500,"evtId":28009,"image":"\/ms\/img\/epg\/rb\/5d52-7789763.l.png","hasTstv":false,"seriesNo":6,"episodeNo":2},{"name":"The Simpsons","description":"Little Big Mom: When Marge breaks her leg in a skiing accident, Lisa takes over running the Simpson household and Homer and Bart end up relocating to a leper colony in Hawaii. (S11 Ep10\/22)  [AD,S]","startTime":1687885200,"duration":1800,"svcId":1500,"evtId":28010,"image":"\/ms\/img\/epg\/rb\/5d52-387150234.l.png","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"Hollyoaks","description":"The heist plot is finally put into motion. A letter leaves Tom worried about his sister Cindy. Sienna is having doubts about her and Ethan\u0027s plan. And Rayne wants to hurt Romeo.  [AD,S]","startTime":1687887000,"duration":1800,"svcId":1500,"evtId":28011,"image":"\/ms\/img\/epg\/rb\/5d52-7789791.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1687888800,"duration":3600,"svcId":1500,"evtId":28012,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: The Greatest Auction","description":"A piece of Ayrton Senna\u0027s race car and a poster from a Sex Pistols tour that never happened are up for grabs this time. Plus: a gold and platinum-plated car engine priced at \u00a318k. (Ep8)  [AD,S]","startTime":1687892400,"duration":3600,"svcId":1500,"evtId":28013,"image":"\/ms\/img\/epg\/rb\/5d52-7789812.l.png","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"New: Before We Die","description":"Crime drama. When Hannah and Billy learn that Bianca is back without Christian, they hatch a plan to save Christian by getting to him before the Mimicas can. The race is on. (S2 Ep3\/5)  [AD,S]","startTime":1687896000,"duration":3600,"svcId":1500,"evtId":28014,"image":"\/ms\/img\/epg\/rb\/5d52-7789822.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"New: Boris, the Lord \u0026 the...","description":"...Russian Spy: Dispatches: The full story of Boris Johnson\u0027s friendship with press baron Evgeny Lebedev and dad Alexander, an ex-KGB spy - revealing the secret fears of security services.  [AD,S]","startTime":1687899600,"duration":3900,"svcId":1500,"evtId":28015,"image":"\/ms\/img\/epg\/rb\/5d52-7789833.l.png","hasTstv":false},{"name":"New: Dr. Death","description":"Ain\u0027t No Bum: Doctors Henderson and Kirby go to the Texas Medical Board to strip Dr Duntsch of his medical licence. Starring Alec Baldwin and Christian Slater. (Ep2\/8)  [AD,S]","startTime":1687903500,"duration":3600,"svcId":1500,"evtId":28016,"image":"\/ms\/img\/epg\/rb\/5d52-4862851.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Untold: The Secrets of UK Prisons","description":"Drugs, fights, bullying and self-harm: former prisoner David Navarro exposes the tough reality of life inside, using footage filmed by inmates on mobile phones they\u0027re not supposed to have.  [S]","startTime":1687907100,"duration":3300,"svcId":1500,"evtId":29276,"image":"\/ms\/img\/epg\/rb\/5d52-7780286.l.png","hasTstv":false},{"name":"24 Hours in A\u0026E","description":"Nurse Emma has a narrow window of time to help 71-year-old Thomas after a suspected stroke. And 97-year-old Leslie is brought to A\u0026E after experiencing persistent nosebleeds. (S27 Ep3)  [AD,S]","startTime":1687910400,"duration":3300,"svcId":1500,"evtId":29277,"image":"\/ms\/img\/epg\/rb\/5d52-6232604.l.png","hasTstv":false,"seriesNo":27,"episodeNo":3},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In the first half of a two-part Nightmare, Gordon tries to save The Burger Kitchen in Los Angeles, which is run by a dysfunctional family in a state of constant conflict. (S5 Ep3)  [S]","startTime":1687913700,"duration":3000,"svcId":1500,"evtId":29278,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"The Change","description":"Sharp comedy from Bridget Christie. When 50-year-old mum of two Linda finds out she\u0027s menopausal, she leaves her life behind to live in a caravan in the Forest of Dean. (Ep1\/6)  [AD,S,SL]","startTime":1687916700,"duration":1800,"svcId":1500,"evtId":29279,"image":"\/ms\/img\/epg\/rb\/5d52-7768452.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"The Change","description":"Comedy. Linda heads into the forest to search for a time capsule she hid when she was 10, and meets the mysterious Pig Man, who may know more about the capsule than he\u0027s letting on. (Ep2\/6)  [AD,S,SL]","startTime":1687918500,"duration":1500,"svcId":1500,"evtId":29280,"image":"\/ms\/img\/epg\/rb\/5d52-7768456.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Iris Prize Best British Shorts","description":"Fluorescent Adolescent: (2022) Iris Prize-nominated short film. Against the backdrop of the 1980s AIDS crisis, two outsider teenagers bond over a shared love of music. Strong language.  [S]","startTime":1687920000,"duration":600,"svcId":1500,"evtId":29281,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Extraordinary Escapes with...","description":"...Sandi Toksvig: Sandi explores more remarkable retreats. In the Republic of Ireland, Sandi takes Eddie Izzard to a mini modern marvel, a charming treehouse and a cosy cottage. (S3 Ep1\/5)  [AD,S,SL]","startTime":1687920600,"duration":3300,"svcId":1500,"evtId":29282,"image":"\/ms\/img\/epg\/rb\/5d52-7710652.l.png","hasTstv":false,"seriesNo":3,"episodeNo":1},{"name":"Ancient Egypt by Train with...","description":"...Alice Roberts - The Temples: Alice visits Aswan, whose quarries provided the granite for Egypt\u0027s many ancient monuments. And she catches a boat to the amazing Philae Temple. (Ep4\/4)  [AD,S,SL]","startTime":1687923900,"duration":3300,"svcId":1500,"evtId":29283,"image":"\/ms\/img\/epg\/rb\/5d52-7780140.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('362');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('8');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('17');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('40');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'VOVcLmfIaJc', title: "Fans Help Lewis Capaldi Finish Glastonbury Set", label: "Fans Help Lewis Capaldi Finish Glastonbury Set by The Project 1 day ago 1 minute, 36 seconds 437,077 views" },
{ id: 'Gl907s3oRe0', title: "Rah Digga, Swizz Beatz, Coi Leray \u0026 More Pay Tribute To Busta Rhymes! | BET Awards '23", label: "Rah Digga, Swizz Beatz, Coi Leray \u0026 More Pay Tribute To Busta Rhymes! | BET Awards '23 by BETNetworks 17 hours ago 11 minutes, 51 seconds 906,662 views" },
{ id: 'Mh8qOVzC1PI', title: "Yung Filly, Nella Rose, Johnny Carey \u0026 GK Barry take on BAD BISTRO | S3 EP1 @Footasylumofficial", label: "Yung Filly, Nella Rose, Johnny Carey \u0026 GK Barry take on BAD BISTRO | S3 EP1 @Footasylumofficial by Footasylum 1 day ago 30 minutes 212,531 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Austria.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Austrian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>2 July</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert (2020)">Command & Conquer: Red Alert (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs (2021)">100 Hidden Frogs (2021)</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island (2022)">Return to Monkey Island (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2014, S5)">Downton Abbey (2014, S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2013, S4)">Downton Abbey (2013, S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2012, S3)">Downton Abbey (2012, S3)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "23 June 2023 -  29 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/64937/dave-and-central-cee/'>dave &amp; central cee</a>", Title: "<a href='https://www.officialcharts.com/search/singles/sprinter/'>SPRINTER</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/61mUg%2BNLggL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/64960/j-hus-ft-drake/'>j hus ft drake</a>", Title: "<a href='https://www.officialcharts.com/search/singles/who-told-you/'>WHO TOLD YOU</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41K-4Fs0ZCL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/61762/jazzy/'>jazzy</a>", Title: "<a href='https://www.officialcharts.com/search/singles/giving-me/'>GIVING ME</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51SkZDT4AyL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/51376/harry-styles/'>harry styles</a>", Title: "<a href='https://www.officialcharts.com/search/singles/as-it-was/'>AS IT WAS</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/411key4w0jL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 175.84, tooltip: "Fri, Jun 23, 2023<br/>£175.84"},
{ number: 177.15, tooltip: "Thu, Jun 22, 2023<br/>£177.15"},
{ number: 177.37, tooltip: "Wed, Jun 21, 2023<br/>£177.37"},
{ number: 178.07, tooltip: "Tue, Jun 20, 2023<br/>£178.07"},
{ number: 178.24, tooltip: "Mon, Jun 19, 2023<br/>£178.24"},
{ number: 178.58, tooltip: "Fri, Jun 16, 2023<br/>£178.58"},
{ number: 179.61, tooltip: "Thu, Jun 15, 2023<br/>£179.61"},
{ number: 178.74, tooltip: "Wed, Jun 14, 2023<br/>£178.74"},
{ number: 179.51, tooltip: "Tue, Jun 13, 2023<br/>£179.51"},
{ number: 179.33, tooltip: "Mon, Jun 12, 2023<br/>£179.33"},
{ number: 177.26, tooltip: "Fri, Jun 09, 2023<br/>£177.26"},
{ number: 177.60, tooltip: "Thu, Jun 08, 2023<br/>£177.60"},
{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jun 23, 2023",
		"vs Day":      "Thu, Jun 22, 2023",
		"vs Week":     "Fri, Jun 16, 2023",
		"vs Month":    "Tue, May 30, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£175.84/share",
		'vs Day':      "-0.74%",
		'vs Week':     "-1.53%",
		'vs Month':    "+0.29%",
		'vs Year':     "+7.15%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '56.6',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 26 June and 27 June">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.566&p=6.049&r=6.021',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:46',
		Set:      '21:32',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Consigliere</em> refers to a trusted adviser or counselor. Originally, a consigliere specifically served the leader of a criminal organization such as the Mafia, but others likened to such an adviser are now sometimes called consiglieri too. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Whitney">Whitney</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Mehdi">Mehdi</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Zach">Zach</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Kady">Kady</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Medhi">Medhi</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23RumbleByMoe">#RumbleByMoe</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Sega">Sega</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Cashapp">Cashapp</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Skullgirls">Skullgirls</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22John+Collins%22">John Collins</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>