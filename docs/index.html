<!DOCTYPE html>
<html lang="en">
	<head>
		<title>12:19 23-Nov - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Parents \'devastated\' over daughter\'s suspected poisoning death</b><br/>Simone White died in Laos after drinking alcohol suspected to have been laced with methanol." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c5y3ze59zzeo">Parents \'devastated\' over daughter\'s suspected poisoning death</a></li><li class="ttt" data-tt="<b>A toxic staffing row is splitting the NHS</b><br/>A toxic row has engulfed the NHS, say ministers. So why have doctors turned on physician associates?"><a href="https://www.bbc.com/news/articles/c2dly5ldrxjo">A toxic staffing row is splitting the NHS</a></li><li class="ttt" data-tt="<b>Kate invites Southport families to Christmas carols</b><br/>It comes after the Prince and Princess of Wales met families of those killed in the attack."><a href="https://www.bbc.com/news/articles/c5y56068wr0o">Kate invites Southport families to Christmas carols</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c5y3ze59zzeo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/5d7b/live/26ac64d0-a8f9-11ef-a4fe-a3e9a6c5d640.jpg" class="ttt" data-tt="Headshot of Simone White smiling and looking at the camera in a black turtleneck" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump nominates Bessent to lead US Treasury in flurry of announcements</b><br/>He also announces nominees for labour secretary, housing secretary and surgeon general." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cj3mv6l1ypyo">Trump nominates Bessent to lead US Treasury in flurry of announcements</a></li><li class="ttt" data-tt="<b>Who has joined Trump\'s team so far?</b><br/>Trump\'s latest picks include a former NFL player, a House legislator, and Wall Street financer to lead housing, labour, and the treasury."><a href="https://www.bbc.com/news/articles/cx24gze60yzo">Who has joined Trump\'s team so far?</a></li><li class="ttt" data-tt="<b>Texas schools can now teach Bible-based reading lessons</b><br/>Schools will not be required to use the new curriculum, but will receive extra funding if they do."><a href="https://www.bbc.com/news/articles/c0mzyexv018o">Texas schools can now teach Bible-based reading lessons</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cj3mv6l1ypyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/05b9/live/e0efc290-a928-11ef-a4fe-a3e9a6c5d640.jpg" class="ttt" data-tt="Scott Bessent" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Central Beirut residential building hit by massive Israeli strikes</b><br/>A residential building is said to be completely destroyed, and there are also reports of several deaths." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy8ne9757jdo">Central Beirut residential building hit by massive Israeli strikes</a></li><li class="ttt" data-tt="<b>Putin says Russia will use new missile again in \'combat conditions\'</b><br/>Ukraine\'s President Zelensky has urged a &quot;serious response&quot; to Moscow\'s use of its Oreshnik ballistic missile"><a href="https://www.bbc.com/news/articles/cx28dzvxjyjo">Putin says Russia will use new missile again in \'combat conditions\'</a></li><li class="ttt" data-tt="<b>New weapons and nuclear threats: A week of change in Ukraine war</b><br/>Russia made its loudest threat yet of nuclear war, as Western powers bolstered Ukraine\'s arsenal."><a href="https://www.bbc.com/news/articles/cvgxly3nzwpo">New weapons and nuclear threats: A week of change in Ukraine war</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy8ne9757jdo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/96c2/live/5ceaa860-a98d-11ef-a4fe-a3e9a6c5d640.jpg" class="ttt" data-tt="The scene of destruction following a massive Israeli strike on central Beirut. An excavator is digging through the rubble as dozens of rescue workers move around. It&#x27;s daylight and dust hangs in the air." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Norris will \'do everything\' to keep hopes alive</b><br/>Lando Norris says he will &quot;do everything&quot; possible to keep the F1 drivers’ championship alive in the Las Vegas Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c245mq3ejmyo">Norris will \'do everything\' to keep hopes alive</a></li><li class="ttt" data-tt="<b>Russell takes pole with Verstappen ahead of Norris</b><br/>Mercedes\' George Russell pips Ferrari’s Carlos Sainz to pole position at the Las Vegas Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cdxy7e926yzo">Russell takes pole with Verstappen ahead of Norris</a></li><li class="ttt" data-tt="<b>How to follow Las Vegas Grand Prix on the BBC</b><br/>All the key BBC coverage details for the Las Vegas Grand Prix at the Strip Circuit from 22-24 November."><a href="https://www.bbc.com/sport/formula1/articles/cwyg38jn9g3o">How to follow Las Vegas Grand Prix on the BBC</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c245mq3ejmyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/09dd/live/6b724160-a981-11ef-8ff9-e5e232fcb9a1.jpg" class="ttt" data-tt="Lando Norris speaking to the media after Las Vegas Grand Prix qualifying" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Conservationists turn to AI in battle to save red squirrels</b><br/>The tech is being used to automatically control the creatures\' access to feeders at sites across the UK." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd6vwy30pv8o">Conservationists turn to AI in battle to save red squirrels</a></li><li class="ttt" data-tt="<b>Temu owner\'s shares slump as China slowdown hits sales</b><br/>US-listed shares of the e-commerce giant fell nearly 11% on Thursday following the announcement."><a href="https://www.bbc.com/news/articles/c5yxzqdq2qqo">Temu owner\'s shares slump as China slowdown hits sales</a></li><li class="ttt" data-tt="<b>Thousands of PayPal customers report brief outage</b><br/>The online payment company says a brief technical issue has now been resolved."><a href="https://www.bbc.com/news/articles/cly2exevgxxo">Thousands of PayPal customers report brief outage</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd6vwy30pv8o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/91b4/live/35adb1f0-a8fe-11ef-bdf5-b7cb2fa86e10.jpg" class="ttt" data-tt="A red squirrel stands on its hind legs in an autumnal woodland setting with the background out of focus, taken in Scotland in 2023" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"18 Nov – 24 Nov","date":173232E7,"ts":"Sat, 23","ds":"Sat, 23 Nov","icon":19,"desc":"Rain. Overcast.","temp":14,"templow":0,"cf":9,"wind":26,"wd":210,"hum":96,"pc":99,"rain":16.5 },{"date":17324064E5,"ts":"Sun, 24","ds":"Sun, 24 Nov","icon":19,"desc":"Rain. Overcast.","temp":15,"templow":9,"cf":11,"wind":23,"wd":210,"hum":90,"pc":93,"rain":16.7 },{"hl":true,"hls":"25 Nov – 1 Dec","date":17324928E5,"ts":"Mon, 25","ds":"Mon, 25 Nov","icon":18,"desc":"Sprinkles. Breaks of sun late.","temp":10,"templow":5,"cf":4,"wind":20,"wd":230,"hum":81,"pc":23,"rain":1.2 },{"date":17325792E5,"ts":"Tue, 26","ds":"Tue, 26 Nov","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":9,"templow":4,"cf":4,"wind":12,"wd":220,"hum":85,"pc":23,"rain":1.5 },{"date":17326656E5,"ts":"Wed, 27","ds":"Wed, 27 Nov","icon":19,"desc":"Rain. Cloudy.","temp":11,"templow":5,"cf":3,"wind":21,"wd":280,"hum":84,"pc":69,"rain":8.8 },{"date":1732752E6,"ts":"Thu, 28","ds":"Thu, 28 Nov","icon":7,"desc":"Overcast.","temp":7,"templow":2,"cf":6,"wind":3,"wd":70,"hum":88,"pc":5},{"date":17328384E5,"ts":"Fri, 29","ds":"Fri, 29 Nov","icon":7,"desc":"Overcast.","temp":12,"templow":4,"cf":8,"wind":14,"wd":160,"hum":92,"pc":20,"rain":0.2 },{"date":17329248E5,"ts":"Sat, 30","ds":"Sat, 30 Nov","icon":18,"desc":"Drizzle. Overcast.","temp":14,"templow":10,"cf":11,"wind":17,"wd":210,"hum":84,"pc":52,"rain":1.5 },{"date":17330112E5,"ts":"Sun, 1","ds":"Sun, 1 Dec","icon":33,"desc":"Showers early. Overcast.","temp":12,"templow":10,"cf":10,"wind":16,"wd":220,"hum":85,"pc":70,"rain":8.3 },{"hl":true,"hls":"2 Dec – 8 Dec","date":17330976E5,"ts":"Mon, 2","ds":"Mon, 2 Dec","icon":20,"desc":"Heavy rain. Overcast.","temp":9,"templow":6,"cf":4,"wind":13,"wd":20,"hum":98,"pc":88,"rain":38.1 },{"date":1733184E6,"ts":"Tue, 3","ds":"Tue, 3 Dec","icon":1,"desc":"Sunny.","temp":10,"templow":2,"cf":-0,"wind":10,"wd":30,"hum":84,"pc":6},{"date":17332704E5,"ts":"Wed, 4","ds":"Wed, 4 Dec","icon":1,"desc":"Sunny.","temp":4,"templow":1,"cf":-0,"wind":10,"wd":20,"hum":91,"pc":6},{"date":17333568E5,"ts":"Thu, 5","ds":"Thu, 5 Dec","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":4,"templow":1,"cf":-0,"wind":13,"wd":350,"hum":93,"pc":53,"rain":0.5 },{"date":17334432E5,"ts":"Fri, 6","ds":"Fri, 6 Dec","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":6,"templow":1,"cf":1,"wind":11,"wd":10,"hum":89,"pc":47,"rain":0.4 },{"date":17335296E5,"ts":"Sat, 7","ds":"Sat, 7 Dec","icon":18,"desc":"Light rain. Breaks of sun late.","temp":6,"templow":1,"cf":2,"wind":9,"wd":40,"hum":86,"pc":46,"rain":1.4 ,"snow":1}],"grid":{"temp":{"low":0,"high":15,"range":15},"prec":{"high":38.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2411/earth_cassinimessenger_1024c.jpg',
		Title:     'Interplanetary Earth',
		LinkImage: 'https://apod.nasa.gov/apod/image/2411/earth_cassinimessenger_1799.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241123.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/William_Holman_Hunt_-_The_Finding_of_the_Saviour_in_the_Temple_-_Google_Art_Project.jpg/400px-William_Holman_Hunt_-_The_Finding_of_the_Saviour_in_the_Temple_-_Google_Art_Project.jpg',
		Title:    'Finding in the Temple',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Finding_in_the_Temple',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Finding_in_the_Temple" title="Finding in the Temple">Finding in the Temple</a></b>, also called Christ among the Doctors, the Disputation in the Temple and variations of those names, is an episode in the early life of <a href="https://en.wikipedia.org/wiki/Jesus" title="Jesus">Jesus</a> depicted in <a href="https://en.wikipedia.org/wiki/Luke_2" title="Luke 2">chapter 2 of the Gospel of Luke</a>. It is the only event of the later childhood of Jesus mentioned in a <a href="https://en.wikipedia.org/wiki/Gospel#Canonical_gospels" title="Gospel">canonical gospel</a>. In the episode, Jesus – at the age of twelve – accompanies <a href="https://en.wikipedia.org/wiki/Mary,_mother_of_Jesus" title="Mary, mother of Jesus">Mary</a>, <a href="https://en.wikipedia.org/wiki/Saint_Joseph" title="Saint Joseph">Joseph</a>, and a large group of their relatives and friends to <a href="https://en.wikipedia.org/wiki/Jerusalem" title="Jerusalem">Jerusalem</a> on many pilgrimages. On the day of their return, Jesus remained in <a href="https://en.wikipedia.org/wiki/Temple_in_Jerusalem" title="Temple in Jerusalem">the Temple</a>. Mary and Joseph returned home believing he was among their group when he was not. After a day of travel they realised Jesus was missing and returned to Jerusalem, finding him three days later. He was found in the Temple in discussion with the elders, "listening to them and asking them questions". When admonished by Mary, Jesus replied: "How is it that you sought me? Did you not know that I must be in my Father\'s house?" The Finding in the Temple is frequently shown in art. This representation, titled <i><a href="https://en.wikipedia.org/wiki/The_Finding_of_the_Saviour_in_the_Temple" title="The Finding of the Saviour in the Temple">The Finding of the Saviour in the Temple</a></i>, is an <a href="https://en.wikipedia.org/wiki/Oil_painting" title="Oil painting">oil-on-canvas painting</a> produced by <a href="https://en.wikipedia.org/wiki/William_Holman_Hunt" title="William Holman Hunt">William Holman Hunt</a> in 1860. It now hangs in the <a href="https://en.wikipedia.org/wiki/Birmingham_Museum_and_Art_Gallery" title="Birmingham Museum and Art Gallery">Birmingham Museum and Art Gallery</a> in Birmingham, England.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/William_Holman_Hunt" title="William Holman Hunt">William Holman Hunt</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1732341600,"duration":14400,"svcId":560,"evtId":29529,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732355995,"availabilityEnd":1732442395,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025f2q\u0026ui_id=4.0.0"}},{"name":"Saturday Kitchen Live","description":"Matt Tebbutt is joined by chefs Bryn Williams and Seema Pankhania, and by special guest Luke Evans. Drinks expert Helen McGinn picks the wines to go with the studio dishes. [S] [HD]","startTime":1732356000,"duration":5400,"svcId":560,"evtId":29574,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zkqzw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732361402,"availabilityEnd":1763897402,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025fmr\u0026ui_id=4.0.0"}},{"name":"Mary\u0027s Foolproof Dinners","description":"4\/6. Mary teaches Sue some foolproof recipes perfect for hosting and some new tennis skills. [S,AD] [HD]","startTime":1732361400,"duration":1800,"svcId":560,"evtId":29530,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vs4z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732046501,"availabilityEnd":1764792064,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00257vv\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Football Focus","description":"Alex Scott and guests look ahead to the weekend\u0027s football, including today\u0027s game between Premier League champions Manchester City and Tottenham. [S] [HD]","startTime":1732363200,"duration":3600,"svcId":560,"evtId":29531,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k69j7y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732406340,"availabilityEnd":1733011140,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f2s\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1732366800,"duration":600,"svcId":560,"evtId":29532,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732367520,"availabilityEnd":1732453920,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f2v\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1732367400,"duration":300,"svcId":560,"evtId":29533,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732367706,"availabilityEnd":1732454106,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f2x\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"Snooker: UK Championship","description":"Live coverage from day one of the 2024 UK Snooker Championship. [S] [HD]","startTime":1732367700,"duration":11700,"svcId":560,"evtId":29534,"image":"\/ms\/img\/epg\/rb\/fec6-p07ws3vs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732379395,"availabilityEnd":1734971395,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f2z\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Final Score","description":"Jason Mohammad presents all the latest scores, results and reaction from the day\u0027s football fixtures, including Arsenal against Nottingham Forest. [S] [HD]","startTime":1732379400,"duration":2700,"svcId":560,"evtId":29535,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g71c5s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732382100,"availabilityEnd":1732986900,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f32\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1732382100,"duration":600,"svcId":560,"evtId":29536,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732382700,"availabilityEnd":1732469100,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f34\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1732382700,"duration":300,"svcId":560,"evtId":29537,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732383005,"availabilityEnd":1732469405,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f36\u0026ui_id=4.0.0"},"episodeNo":237},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1732383000,"duration":300,"svcId":560,"evtId":29538,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732383241,"availabilityEnd":1732469641,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f38\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"The Hit List Celebrity Special","description":"3\/5. Broadcasters Dan Walker and Dion Dublin, EastEnders legends Joe Swash and Rita Simons, and popstars Jamelia and Lemar try to win money for charity. [S] [HD]","startTime":1732383300,"duration":2700,"svcId":560,"evtId":29575,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d4j547.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732385959,"availabilityEnd":1734977959,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001d0fv\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"Alan Carr\u0027s Picture Slam","description":"9\/10. Attempting to Picture Slam their way to \u00a310,000 are friends Tre and Maz from Bristol, siblings Lucy and Stephen from Glasgow, and married couple Jade and Curtis from Middleton. [S] [HD]","startTime":1732386000,"duration":2700,"svcId":560,"evtId":29576,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k68ghb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732388702,"availabilityEnd":1764529562,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025p0s\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":9},{"name":"Strictly Come Dancing","description":"The couples return to the Strictly ballroom and take on a brand new challenge - the first ever samba-thon. Who will volta their way to victory? Contains scenes of flashing images. [S,AD] [HD]","startTime":1732388700,"duration":4800,"svcId":560,"evtId":29577,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqwjx1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732393641,"availabilityEnd":1765744485,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025fmw\u0026ui_id=4.0.0"},"seriesNo":25},{"name":"Michael McIntyre\u0027s The Wheel","description":"7\/10. The celebrities on The Wheel are Bruno Tonioli, Clare Balding, Guz Khan, Stuart Broad, Sam Campbell and Maggie Aderin-Pocock, with Chris and Rosie Ramsey in the Double Chair. [S] [HD]","startTime":1732393500,"duration":3600,"svcId":560,"evtId":29578,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5jgx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732397237,"availabilityEnd":1766351481,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025fmy\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":7},{"name":"Moonflower Murders","description":"3\/6. Susan discovers that Frank Parris needed money urgently when his business failed. Contains very strong language. [S,AD] [HD]","startTime":1732397100,"duration":3000,"svcId":560,"evtId":29579,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k4s5d2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732289441,"availabilityEnd":1857945540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024y7t\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1732400100,"duration":600,"svcId":560,"evtId":29539,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732401060,"availabilityEnd":1732487460,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f3b\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1732400700,"duration":300,"svcId":560,"evtId":29540,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732401226,"availabilityEnd":1732487626,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f3d\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"Match of the Day","description":"Gary Lineker introduces highlights of the day\u0027s seven Premier League games, including the fixture between Manchester City and Tottenham. [S] [HD]","startTime":1732401000,"duration":5400,"svcId":560,"evtId":29541,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5j25m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732406340,"availabilityEnd":1733011140,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f3g\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":15},{"name":"The Rap Game UK","description":"3\/6. Two new artists vie for a place in the competition. Mentors are D Double E and Bellah. Contains strong language. [S] [HD]","startTime":1732406400,"duration":3900,"svcId":560,"evtId":29580,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k41n9r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1793858400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00256vh\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":3},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1732410300,"duration":300,"svcId":560,"evtId":29542,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732410584,"availabilityEnd":1733019880,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f3j\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1732410600,"duration":17400,"svcId":560,"evtId":29543,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":237}]},{"channelid":700,"offset":0,"event":[{"name":"Hey Duggee","description":"The Training Badge. The Squirrels need some training to improve their concentration. [S] [HD]","startTime":1732343100,"duration":300,"svcId":700,"evtId":20972,"image":"\/ms\/img\/epg\/rb\/fec6-p09twb9v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1630737770,"availabilityEnd":1788145200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p09tdrhd\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":46},{"name":"Go Jetters","description":"Waitomo Glow-worm Caves, New Zealand. Animated adventure comedy series. It\u0027s Go Jetters glow when Glitch uses some glow-worms for his disco pizzazz in New Zealand. [S] [HD]","startTime":1732343400,"duration":900,"svcId":700,"evtId":20973,"image":"\/ms\/img\/epg\/rb\/ae0c-p04s8cbb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1572345960,"availabilityEnd":1793073600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b08fltr0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":42},{"name":"Grizzy and the Lemmings","description":"High Tension Fireflies. Lacking electricity, Grizzy and the Lemmings fight over a tiara that controls fireflies. [S] [HD]","startTime":1732344300,"duration":300,"svcId":700,"evtId":20974,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g4kfcr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732344731,"availabilityEnd":1734936731,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pnlf\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":77},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"No Paint No Gain. Dog paints Lady Burlington a portrait. [S] [HD]","startTime":1732344600,"duration":900,"svcId":700,"evtId":20975,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jds1w0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722840300,"availabilityEnd":1879297200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021t74\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":38},{"name":"Monster Loving Maniacs","description":"Next Level Interdimensional Stuff. Ernest and Ishaani take another trip inside the mirror. [S] [HD]","startTime":1732345500,"duration":600,"svcId":700,"evtId":20976,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fpwr39.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685934000,"availabilityEnd":1807239600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fprx56\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":33},{"name":"Pok\u00e9mon Horizons: The Series","description":"Lapras\u0027s Feelings for Its Friends. Liko comes up with a plan for confronting Lapras of the Six Heroes. [S,AD] [HD]","startTime":1732346100,"duration":1200,"svcId":700,"evtId":20977,"image":"\/ms\/img\/epg\/rb\/fec6-p0hz9m0r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716778800,"availabilityEnd":1796011200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpgd\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":32},{"name":"Cooking Buddies","description":"Knock-Out Fish Finger Sandwich. Buddy and boxer Jackson take a time out to make a fish finger sarnie that packs a punch! [S] [HD]","startTime":1732347300,"duration":1200,"svcId":700,"evtId":20978,"image":"\/ms\/img\/epg\/rb\/fec6-p0j6thwc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720629000,"availabilityEnd":1844305200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021045\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"BMX All Stars","description":"One Result. Ti hopes to put recent poor form behind him as he gears up for the Manchester Nationals. [S,AD] [HD]","startTime":1732348500,"duration":1500,"svcId":700,"evtId":20979,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6wk4n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721962800,"availabilityEnd":1913425200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020sm6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Blue Peter: Olympic and...","description":"...Paralympic Stars, Wicked and Epic Rescues. Olympic and Paralympic Stars, Wicked and Epic Rescues. With Olympians Max Whitlock and Megan Havers, and Paralympic medallist Oliver Lam-Watson! [S] [HD]","startTime":1732350000,"duration":1800,"svcId":700,"evtId":20980,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k69vhr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732296600,"availabilityEnd":1737480600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002586g\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"Newsround","description":"23\/11\/2024. Topical news magazine for children. [S] [HD]","startTime":1732351800,"duration":600,"svcId":700,"evtId":20981,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzmxhv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732352408,"availabilityEnd":1732438808,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025bn4\u0026ui_id=4.0.0"}},{"name":"Gardeners\u0027 World Winter Specials","description":"2\/4. Adam Frost takes stock in his garden, and Rachel de Thame visits an inspirational garden full of vibrant perennials that really pack a punch. [S] [HD]","startTime":1732352400,"duration":3600,"svcId":700,"evtId":20982,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k631md.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732309273,"availabilityEnd":1765659740,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025856\u0026ui_id=4.0.0"},"seriesNo":23,"episodeNo":2},{"name":"My Life at Christmas: Adrian...","description":"...Chiles Meets John Simpson. 2\/3. Adrian Chiles meets war correspondent John Simpson to discuss his memories of Christmas. [S,AD] [HD]","startTime":1732356000,"duration":3600,"svcId":700,"evtId":20983,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gxp7xn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1702207776,"availabilityEnd":1734951643,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tcbt\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"This Wild Life","description":"1\/10. Series following a family who moved to Kenya to run a safari camp. Things get off to a rocky start when guests arrive earlier than expected. [S] [HD]","startTime":1732359600,"duration":1800,"svcId":700,"evtId":20984,"image":"\/ms\/img\/epg\/rb\/ae0c-p02kbr16.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732361489,"availabilityEnd":1734953489,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p02cjqfc\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Villages by the Sea","description":"2\/6. Archaeologist Ben Robinson casts his eye over the village of Seahouses in Northumberland, where he discovers how the lethal rocks offshore have been both a blessing and a curse. [S] [HD]","startTime":1732361400,"duration":1800,"svcId":700,"evtId":20985,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2snj7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731353459,"availabilityEnd":2049861540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024zqs\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":2},{"name":"Lorraine Pascale: How to Be a...","description":"...Better Cook. 2\/6. Lorraine Pascale shows people with no kitchen confidence how to create meals. Lorraine helps Bryony Crutcher host her best friend\u0027s hen party. [S,AD] [HD]","startTime":1732363200,"duration":1800,"svcId":700,"evtId":20986,"image":"\/ms\/img\/epg\/rb\/ae0c-p026c5c8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1616652000,"availabilityEnd":1963807140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b04hzl9h\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Nigel Slater\u0027s Simple Suppers","description":"Nigel cooks a juniper-flavoured rabbit dish. [S] [HD]","startTime":1732365000,"duration":300,"svcId":700,"evtId":20987,"image":"\/ms\/img\/epg\/rb\/ae0c-p090cm7m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732365436,"availabilityEnd":1734957436,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00051vz\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"A Matter of Life and Death","description":"A British pilot survives a plane crash, meets a US servicewoman and falls in love. In heaven, however, a mistake is discovered. [1946] [S] [HD]","startTime":1732365300,"duration":6300,"svcId":700,"evtId":20988,"image":"\/ms\/img\/epg\/rb\/fec6-p0b5m831.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732371565,"availabilityEnd":1734963565,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0002fc4\u0026ui_id=4.0.0"}},{"name":"The Red Shoes","description":"Drama about a young ballerina torn between two creative but possessive men - one a struggling composer, the other an autocratic impresario. [1948] [S,AD] [HD]","startTime":1732371600,"duration":7800,"svcId":700,"evtId":20989,"image":"\/ms\/img\/epg\/rb\/ae0c-p08qs5rr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732379400,"availabilityEnd":1734971400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0074t6v\u0026ui_id=4.0.0"}},{"name":"Snooker: UK Championship","description":"Live coverage from day one of the 2024 UK Snooker Championship. [S] [HD]","startTime":1732379400,"duration":3600,"svcId":700,"evtId":20990,"image":"\/ms\/img\/epg\/rb\/fec6-p07ws3vs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732383045,"availabilityEnd":1734975045,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f4k\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Nadiya\u0027s American Adventure","description":"2\/2. In California, Nadiya samples Guatemalan and Salvadoran food, learns to make Chinese fortune cookies, joins a quinceanera and meets an all-female Mexican rodeo team. [S,AD] [HD]","startTime":1732383000,"duration":3600,"svcId":700,"evtId":20991,"image":"\/ms\/img\/epg\/rb\/ae0c-p09141kd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732386621,"availabilityEnd":1734978621,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qddm\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Flog It!","description":"Antiques series. This episode comes from Layer Marney Tower in rural Essex. Paul Martin is joined by experts Elizabeth Talbot and Philip Serrell. [S] [HD]","startTime":1732386600,"duration":3300,"svcId":700,"evtId":20992,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732389996,"availabilityEnd":1734981996,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b07lqhrh\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":8},{"name":"World\u0027s Busiest Cities: Mexico","description":"In Mexico City, Dan Snow, Anita Rani and Ade Adepitan uncover the hidden systems and armies of people that help run this sprawling megalopolis of over 22 million people. [S,AD] [HD]","startTime":1732389900,"duration":3600,"svcId":700,"evtId":20993,"image":"\/ms\/img\/epg\/rb\/fec6-p05d9sfx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732393619,"availabilityEnd":1734985619,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b094kkwx\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Take That at the BBC","description":"A selection of Take That\u0027s greatest BBC appearances, including all their biggest hits. [S] [HD]","startTime":1732393500,"duration":3600,"svcId":700,"evtId":20994,"image":"\/ms\/img\/epg\/rb\/ae0c-p0byf0z0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732397269,"availabilityEnd":1734989269,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00165cr\u0026ui_id=4.0.0"}},{"name":"Boybands Forever","description":"3\/3. The new millennium, and a finely tuned boyband industry gives rise to Blue and Westlife. Contains strong language. [S,AD] [HD]","startTime":1732397100,"duration":3900,"svcId":700,"evtId":20995,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2f2x8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731736800,"availabilityEnd":1794808740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024qbz\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Later... with Jools Holland","description":"6\/6. With St. Vincent, Yannis Philippakis, K.O.G, Arooj Aftab, Jalen Ngonda and Joe Webb. [S] [HD]","startTime":1732401000,"duration":2700,"svcId":700,"evtId":20996,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k4hgqj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732403838,"availabilityEnd":1763939838,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025gd7\u0026ui_id=4.0.0"},"seriesNo":80,"episodeNo":6},{"name":"Westlife: Radio 2 Live 2021","description":"Westlife play their first post-lockdown gig to an intimate, but loud and lively audience at the Ulster Hall in Belfast. Part of Radio 2 Live 2021, across UK music venues. [S] [HD]","startTime":1732403700,"duration":2700,"svcId":700,"evtId":20997,"image":"\/ms\/img\/epg\/rb\/ae0c-p09v5mlb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732406419,"availabilityEnd":1734998419,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p09s4l2s\u0026ui_id=4.0.0"}},{"name":"Snooker: UK Championship Extra","description":"Further highlights from day one of the 2024 UK Snooker Championship. [S] [HD]","startTime":1732406400,"duration":7200,"svcId":700,"evtId":20998,"image":"\/ms\/img\/epg\/rb\/fec6-p07ws3vs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732413619,"availabilityEnd":1735005619,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f4m\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Wolf Hall: The Mirror and the...","description":"...Light. 2\/6. A young nun profoundly shakes Cromwell\u0027s view of himself and his place in the world. [S,AD,SL] [HD]","startTime":1732413600,"duration":3600,"svcId":700,"evtId":20999,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k40mhw.jpg","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Boybands Forever","description":"1\/3. It\u0027s the early 90s, and boy bands Take That and East 17 battle it out for teenage hearts. Contains strong language. [S,AD,SL] [HD]","startTime":1732417200,"duration":3600,"svcId":700,"evtId":21000,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2f2kc.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"When a Man Loves Two Women: Frasier dates Cassandra, with whom he had a confusing time on Valentine\u0027s Day. Then he bumps into Faye and decides to date her too. (S6 Ep21)  [AD,S]","startTime":1732335900,"duration":1500,"svcId":1500,"evtId":50981,"image":"\/ms\/img\/epg\/rb\/5d52-808578.l.png","hasTstv":false,"seriesNo":6,"episodeNo":21},{"name":"Frasier","description":"Visions of Daphne: Daphne gets engaged to her boyfriend Donny but then has a psychic vision that suggests he isn\u0027t the right man for her. (S6 Ep22)  [AD,S]","startTime":1732337400,"duration":1500,"svcId":1500,"evtId":51646,"image":"\/ms\/img\/epg\/rb\/5d52-811198.l.png","hasTstv":false,"seriesNo":6,"episodeNo":22},{"name":"Frasier","description":"Shutout in Seattle (Part 1\/2): Daphne\u0027s engagement to Donny upsets Niles, but Peppy from Caf\u00e9 Nervosa provides a pick-me-up. Frasier keeps getting Faye\u0027s name wrong. (S6 Ep23)  [AD,S]","startTime":1732338900,"duration":1500,"svcId":1500,"evtId":51641,"image":"\/ms\/img\/epg\/rb\/5d52-814188.l.png","hasTstv":false,"seriesNo":6,"episodeNo":23},{"name":"Frasier","description":"Shutout in Seattle (Part 2\/2): In the concluding part of the sixth season finale, will any of the Crane men sort out their romantic problems? (S6 Ep24)  [AD,S]","startTime":1732340400,"duration":1500,"svcId":1500,"evtId":51642,"image":"\/ms\/img\/epg\/rb\/5d52-814191.l.png","hasTstv":false,"seriesNo":6,"episodeNo":24},{"name":"Cheers","description":"Cliffie\u0027s Big Score: Carla tells Cliff he\u0027s on to a sure thing with Diane, so he invites Diane to the postman\u0027s ball, hoping to make a move. Will she attend - or will Carla go? (S4 Ep16\/26)  [S]","startTime":1732341900,"duration":1500,"svcId":1500,"evtId":51773,"image":"\/ms\/img\/epg\/rb\/5d52-326650.l.png","hasTstv":false,"seriesNo":4,"episodeNo":16},{"name":"Cheers","description":"Second Time Around: After one dinner date with an old flame of Sam\u0027s, Frasier announces he\u0027s getting married. The regulars agree it\u0027s a bad idea, but what can they do about it? (S4 Ep17\/26)  [S]","startTime":1732343400,"duration":1500,"svcId":1500,"evtId":51774,"image":"\/ms\/img\/epg\/rb\/5d52-329391.l.png","hasTstv":false,"seriesNo":4,"episodeNo":17},{"name":"Frasier","description":"Sleeping with the Enemy: Frasier marches into Kate\u0027s office demanding a pay rise. So why do they end up playing tonsil hockey instead? (S3 Ep6)  [AD,S]","startTime":1732344900,"duration":1500,"svcId":1500,"evtId":51775,"image":"\/ms\/img\/epg\/rb\/5d52-436955.l.png","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"Frasier","description":"The Adventures of Bad Boy and Dirty Girl: It\u0027s the morning after, and Kate and Frasier are worried about the consequences of their fling. (S3 Ep7)  [AD,S]","startTime":1732346400,"duration":1500,"svcId":1500,"evtId":51776,"image":"\/ms\/img\/epg\/rb\/5d52-438339.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"Frasier","description":"The Last Time I Saw Maris: Niles decides to stand up to Maris after she disappears to New York for two days on a shopping trip. In retaliation, she moves to divorce him. (S3 Ep8)  [AD,S]","startTime":1732347900,"duration":1500,"svcId":1500,"evtId":51777,"image":"\/ms\/img\/epg\/rb\/5d52-440116.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Frasier","description":"It\u0027s Hard to Say Goodbye If You Won\u0027t Leave: Frasier realises that he has strong feelings for Kate, just as she announces she is moving to Chicago. (S3 Ep10)  [AD,S]","startTime":1732349400,"duration":1800,"svcId":1500,"evtId":51778,"image":"\/ms\/img\/epg\/rb\/5d52-493391.l.png","hasTstv":false,"seriesNo":3,"episodeNo":10},{"name":"Frasier","description":"The Friend: Frasier realises that he hasn\u0027t made any friends since moving to Seattle, so he sets out to meet someone new. (S3 Ep11)  [AD,S]","startTime":1732351200,"duration":1800,"svcId":1500,"evtId":51894,"image":"\/ms\/img\/epg\/rb\/5d52-446823.l.png","hasTstv":false,"seriesNo":3,"episodeNo":11},{"name":"The Simpsons","description":"The Front: At his high school reunion, Homer wins several awards including \u0027Most Weight Gained\u0027 and \u0027Most Improved Odour\u0027. But then the Principal finds out he never graduated. (S4 Ep19\/22)  [AD,S]","startTime":1732353000,"duration":1800,"svcId":1500,"evtId":51780,"image":"\/ms\/img\/epg\/rb\/5d52-156220.l.png","hasTstv":false,"seriesNo":4,"episodeNo":19},{"name":"The Simpsons","description":"Whacking Day: Lisa asks singer Barry White to help stop the cruel Springfield \u0027Whacking Day\u0027 tradition of hitting snakes with sticks. (S4 Ep20\/22)  [AD,S]","startTime":1732354800,"duration":1800,"svcId":1500,"evtId":51781,"image":"\/ms\/img\/epg\/rb\/5d52-163158.l.png","hasTstv":false,"seriesNo":4,"episodeNo":20},{"name":"F1 Las Vegas GP Qualifying...","description":"...Highlights: After an electrifying debut last season, the F1 world has been eagerly awaiting the return of the Las Vegas Strip Circuit. Can Leclerc take pole again here? With Steve Jones.  [S]","startTime":1732356600,"duration":5400,"svcId":1500,"evtId":51362,"image":"\/ms\/img\/epg\/rb\/5d52-10197340.l.png","hasTstv":false},{"name":"The Simpsons","description":"Krusty Gets Cancelled: When Krusty\u0027s show gets axed, Bart and Lisa enlist Bette Midler, Hugh Hefner, the Red Hot Chili Peppers and Elizabeth Taylor to help him get it back. (S4 Ep22\/22)  [AD,S]","startTime":1732362000,"duration":1800,"svcId":1500,"evtId":51782,"image":"\/ms\/img\/epg\/rb\/5d52-164717.l.png","hasTstv":false,"seriesNo":4,"episodeNo":22},{"name":"The Simpsons","description":"So It Has Come to This: The Simpsons\u0027 Clip Show: Bart\u0027s special April Fools\u0027 Day prank seriously misfires when the whole house explodes. (S4 Ep18\/22)  [AD,S]","startTime":1732363800,"duration":1800,"svcId":1500,"evtId":51364,"image":"\/ms\/img\/epg\/rb\/5d52-1499283.l.png","hasTstv":false,"seriesNo":4,"episodeNo":18},{"name":"The Simpsons","description":"Pokey Mom: When Homer ends up in prison hospital after visiting the jail\u0027s rodeo, Marge notices an inmate\u0027s artistic talent and vouches for him at his parole hearing. (S12 Ep10\/21)  [AD,S]","startTime":1732365600,"duration":1800,"svcId":1500,"evtId":51365,"image":"\/ms\/img\/epg\/rb\/5d52-1130649.l.png","hasTstv":false,"seriesNo":12,"episodeNo":10},{"name":"The Simpsons","description":"Worst Episode Ever: Bart and Milhouse end up running Comic Book Guy\u0027s shop after he has a heart attack. And, while he recovers, Comic Book Guy falls in love... (S12 Ep11\/21)  [AD,S]","startTime":1732367400,"duration":1800,"svcId":1500,"evtId":51366,"image":"\/ms\/img\/epg\/rb\/5d52-1145007.l.png","hasTstv":false,"seriesNo":12,"episodeNo":11},{"name":"The Simpsons","description":"Tennis the Menace: Homer builds a tennis court in the back garden but becomes jealous of Bart\u0027s tennis skills and swears revenge at the Krusty Klassic tournament. (S12 Ep12\/21)  [AD,S]","startTime":1732369200,"duration":1800,"svcId":1500,"evtId":51367,"image":"\/ms\/img\/epg\/rb\/5d52-1164987.l.png","hasTstv":false,"seriesNo":12,"episodeNo":12},{"name":"Four in a Bed","description":"John and Elleke Ross welcome their rivals to the Mevagissey Bay Hotel in Cornwall. Catherine and Andrew are dazzled by the decking but puzzled by a mysterious gap around their door.  [S]","startTime":1732371000,"duration":1800,"svcId":1500,"evtId":51368,"image":"\/ms\/img\/epg\/rb\/5d52-363333404.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Jay and Sarah Brewer host at Glebe House Cottages in Devon. At breakfast, their bakery baskets pass the taste test, but the menu leaves the guests wanting more.  [S]","startTime":1732372800,"duration":1800,"svcId":1500,"evtId":51369,"image":"\/ms\/img\/epg\/rb\/5d52-363419067.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Catherine and Andrew Watt host at their converted police station, the Kings Park Hotel in Nottinghamshire. John and Elleke get forensic with the furniture. Sarah feels boxed in by her room.  [S]","startTime":1732374600,"duration":1800,"svcId":1500,"evtId":51370,"image":"\/ms\/img\/epg\/rb\/5d52-363421696.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Sarah Smith welcomes her guests to The Dukes in Bedfordshire, where she\u0027s under pressure to deliver at breakfast, and some of the feedback is hard to stomach.  [S]","startTime":1732376400,"duration":1800,"svcId":1500,"evtId":51371,"image":"\/ms\/img\/epg\/rb\/5d52-363423757.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s the day of reckoning for the B\u0026Bers. Whose property will emerge from the thud and blunder of bitter recrimination as the best value for money?  [S]","startTime":1732378200,"duration":1800,"svcId":1500,"evtId":51372,"image":"\/ms\/img\/epg\/rb\/5d52-267423876.l.png","hasTstv":false},{"name":"Junior Taskmaster","description":"Rose Matafeo and her sidekick Mike Wozniak host as the competition hots up. In heat three, our fresh-faced five sport faces full of foam and there\u0027s an unfortunate mix-up with peas. (Ep3\/8)  [AD,S]","startTime":1732380000,"duration":3900,"svcId":1500,"evtId":51373,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"The Great British Bake Off","description":"It\u0027s the semi-final and the bakers show off their patisserie prowess with breakfast pastries and a classic-but-theatrical Technical. Who\u0027ll make final-worthy fruit entremets? (S15 Ep9\/10)  [AD,S]","startTime":1732383900,"duration":4200,"svcId":1500,"evtId":51374,"image":"\/ms\/img\/epg\/rb\/5d52-412974968.l.png","hasTstv":false,"seriesNo":15,"episodeNo":9},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1732388100,"duration":1800,"svcId":1500,"evtId":51375,"image":"\/ms\/img\/epg\/rb\/5d52-10197357.l.png","hasTstv":false},{"name":"Britain\u0027s Most Luxurious Train...","description":"...Journeys: All aboard for some luxury train rides across Britain. This episode rolls along the stunning Devon coastline, with comfy carriages and excellent fine dining. (Ep1\/4)  [AD,S]","startTime":1732389900,"duration":3600,"svcId":1500,"evtId":51376,"image":"\/ms\/img\/epg\/rb\/5d52-travel.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Legends of Comedy with...","description":"...Lenny Henry: Sir Lenny and Sally Phillips explore Sally\u0027s illustrious career, from Miranda and award-winning Smack the Pony, to I\u0027m Alan Partridge and the Bridget Jones movies. (Ep2\/4)  [AD,S]","startTime":1732393500,"duration":3600,"svcId":1500,"evtId":51377,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"New: Ottoman Empire by Train...","description":"...with Alice Roberts: Completing her rail adventure with stops in Romania and Budapest, Alice explores how close the Ottomans came to conquering all of Europe and how it all ended. (Ep5\/5)  [AD,S]","startTime":1732397100,"duration":3600,"svcId":1500,"evtId":51378,"image":"\/ms\/img\/epg\/rb\/5d52-10197370.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Knives Out","description":"(2019) Sharp, eccentric murder-mystery starring Daniel Craig as a detective anonymously hired to investigate the death of a wealthy writer (Christopher Plummer). With Ana de Armas.  [AD,S]","startTime":1732400700,"duration":9000,"svcId":1500,"evtId":51379,"image":"\/ms\/img\/epg\/rb\/5d52-3444052.l.png","hasTstv":false},{"name":"Under Siege","description":"(1992) Action thriller. Steven Seagal plays lowly Navy chef Casy Ryback, who reveals his true Navy SEAL identity when terrorists hijack his ship. With Tommy Lee Jones and Gary Busey.  [AD,S]","startTime":1732409700,"duration":6300,"svcId":1500,"evtId":51380,"image":"\/ms\/img\/epg\/rb\/5d52-831760.l.png","hasTstv":false},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"In Greenville in Mississippi, Gordon has just 24 hours to give family-owned fine-dining restaurant Sherman\u0027s a bright, farmhouse-chic interior and a modernised menu. (S1 Ep4\/8)  [AD,S,SL]","startTime":1732416000,"duration":3000,"svcId":1500,"evtId":51907,"image":"\/ms\/img\/epg\/rb\/5d52-3011297.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Undercover Boss USA","description":"Armando Montelongo, CEO of Texas-based Armando Montelongo Companies, one of the leaders in real estate investment education in the US, goes incognito to work beside his staff. (S6 Ep9\/13)  [S]","startTime":1732419000,"duration":3000,"svcId":1500,"evtId":51681,"image":"\/ms\/img\/epg\/rb\/5d52-388572462.l.png","hasTstv":false,"seriesNo":6,"episodeNo":8}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('401');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('76');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('78');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'D7liwdjvhWc', title: "GNX", label: "GNX by Kendrick Lamar 2,170,459 views 19 hours ago 1 minute" },
{ id: 'UINOyOJHyrw', title: "Blox Fruits | DRAGON UPDATE OFFICIAL NEWS", label: "Blox Fruits | DRAGON UPDATE OFFICIAL NEWS by Gamer Robot 2,197,892 views 10 hours ago 14 minutes, 23 seconds" },
{ id: 'Esk3MzaMn9A', title: "I Meet MrBeast To Break The Internet!!", label: "I Meet MrBeast To Break The Internet!! by UR · Cristiano 30,367,138 views 1 day ago 14 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+My Life Without Me (2003)">My Life Without Me (2003)</a></li><li><a href="https://www.google.com/search?q=Films+-+Stockholm, Pennsylvania (2015)">Stockholm, Pennsylvania (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Duelle (1976)">Duelle (1976)</a></li><li><a href="https://www.google.com/search?q=Films+-+Wanda (1970)">Wanda (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+Les rendez-vous d\'Anna (1978)">Les rendez-vous d\'Anna (1978)</a></li><li><a href="https://www.google.com/search?q=Films+-+God\'s Creatures (2022)">God\'s Creatures (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Visit (1964)">The Visit (1964)</a></li><li><a href="https://www.google.com/search?q=Films+-+War and Peace (1965)">War and Peace (1965)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Outrun (2024)">The Outrun (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Monster (2023)">Monster (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
{ number: 225.78, tooltip: "Fri, Nov 08, 2024<br/>£225.78"},
{ number: 224.64, tooltip: "Thu, Nov 07, 2024<br/>£224.64"},
{ number: 224.52, tooltip: "Wed, Nov 06, 2024<br/>£224.52"},
{ number: 219.40, tooltip: "Tue, Nov 05, 2024<br/>£219.40"},
{ number: 217.60, tooltip: "Mon, Nov 04, 2024<br/>£217.60"},
{ number: 217.96, tooltip: "Fri, Nov 01, 2024<br/>£217.96"},
{ number: 219.00, tooltip: "Thu, Oct 31, 2024<br/>£219.00"},
{ number: 219.52, tooltip: "Wed, Oct 30, 2024<br/>£219.52"},
{ number: 220.32, tooltip: "Tue, Oct 29, 2024<br/>£220.32"},
{ number: 220.65, tooltip: "Mon, Oct 28, 2024<br/>£220.65"},
{ number: 219.76, tooltip: "Fri, Oct 25, 2024<br/>£219.76"},
{ number: 220.46, tooltip: "Thu, Oct 24, 2024<br/>£220.46"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Nov 21, 2024",
		"vs Day":      "Wed, Nov 20, 2024",
		"vs Week":     "Thu, Nov 14, 2024",
		"vs Month":    "Thu, Oct 24, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£228.47/share",
		'vs Day':      "+0.76%",
		'vs Week':     "+0.85%",
		'vs Month':    "+3.63%",
		'vs Year':     "+24.18%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '45.8',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 23 November and 24 November">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.458&p=2.856&r=5.968',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:41',
		Set:      '16:03',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To negotiate is to discuss something formally in order to make an agreement. <em>Negotiate</em> can also mean, when applied to people or things in motion, "to get through, around, or over successfully."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>