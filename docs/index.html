<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:11 24-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>World first epilepsy device fitted in UK boy\'s skull</b><br/>Oran, who is 13, was sometimes having hundreds of seizures a day due to his severe epilepsy." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cg33kgd81mvo">World first epilepsy device fitted in UK boy\'s skull</a></li><li class="ttt" data-tt="<b>Manchester Airport flights resume after power cut chaos</b><br/>An investigation will be held after flights from Terminals 1 and 2 were cancelled after a power cut."><a href="https://www.bbc.com/news/articles/c722ppxldldo">Manchester Airport flights resume after power cut chaos</a></li><li class="ttt" data-tt="<b>Two arrested on murder charge after holiday park death</b><br/>A man, aged in his 70s, is found dead in Heron Lake, Crossways, just after midnight on Sunday."><a href="https://www.bbc.com/news/articles/cx999y4p88wo">Two arrested on murder charge after holiday park death</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cg33kgd81mvo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/44b1/live/1c22d0a0-31b5-11ef-bde7-8da015f1008e.jpg" class="ttt" data-tt="Oran with his mum, Justine, and siblings" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump and Biden sharpen lines ahead of debate showdown</b><br/>Joe Biden spent the weekend with aides at Camp David while Donald Trump was on the campaign trail." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cp00032elggo">Trump and Biden sharpen lines ahead of debate showdown</a></li><li class="ttt" data-tt="<b>One million under flood warnings as heavy rain hits US Midwest</b><br/>More than 100 million Americans are also under heat advisory alerts, many of which will extend early into the week."><a href="https://www.bbc.com/news/articles/c6ppp4z85y0o">One million under flood warnings as heavy rain hits US Midwest</a></li><li class="ttt" data-tt="<b>Missing hiker survives by drinking gallon of water a day</b><br/>A California man was found by a rescue team after missing for 10 days in the wilderness."><a href="https://www.bbc.com/news/articles/cq5554991pvo">Missing hiker survives by drinking gallon of water a day</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cp00032elggo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0f2c/live/8cc58bb0-3186-11ef-b8ad-bbb2466c3a12.jpg" class="ttt" data-tt="Composite image of Donald Trump and Joe Biden " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Deadly attacks on Dagestan synagogue and churches</b><br/>Unidentified gunmen in the southern Russian republic kill six police officers and wound 12 more." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crgggwg158do">Deadly attacks on Dagestan synagogue and churches</a></li><li class="ttt" data-tt="<b>At least 1,301 people died during Hajj - Saudi Arabia</b><br/>Most were unregistered pilgrims who walked long distances in intense heat, officials said."><a href="https://www.bbc.com/news/articles/c8000dgk9gzo">At least 1,301 people died during Hajj - Saudi Arabia</a></li><li class="ttt" data-tt="<b>A year after mutiny, Kremlin controls Wagner remnants</b><br/>Moscow has effectively replaced the mercenary group\'s influence in Africa and Ukraine, experts say."><a href="https://www.bbc.com/news/articles/c4nn1p81q59o">A year after mutiny, Kremlin controls Wagner remnants</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crgggwg158do"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/76fb/live/22fee400-3196-11ef-90be-b75b34b0bbb2.jpg" class="ttt" data-tt="Site of attack in Makhachkala, 23 June" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Norris \'happy with 99% of things\' but needs extra 1% to beat Verstappen</b><br/>Lando Norris still has hopes of challenging Max Verstappen for the Formula 1 title despite losing out to the Dutchman in the Spanish Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/crgggvn7elgo">Norris \'happy with 99% of things\' but needs extra 1% to beat Verstappen</a></li><li class="ttt" data-tt="<b>Verstappen holds off Norris to win in Spain</b><br/>Red Bull’s Max Verstappen prevails in a tense, strategic battle with McLaren’s Lando Norris to win the Spanish Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/c722212ngedo">Verstappen holds off Norris to win in Spain</a></li><li class="ttt" data-tt="<b>F1: Chequered Flag</b><br/>Harry and the team discuss if Lando Norris can now be described as a title contender."><a href="https://www.bbc.co.uk/sounds/play/p0j619zg">F1: Chequered Flag</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/crgggvn7elgo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/934c/live/57788ae0-317f-11ef-b8ad-bbb2466c3a12.jpg" class="ttt" data-tt="Lando Norris puts his thumbs up to the crowd at the Spanish Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>TikTok confirms it offered US government a \'kill switch\'</b><br/>The platform made the disclosure as part of its legal challenge against a law forcing its sale in the US." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cxwwz7l02j0o">TikTok confirms it offered US government a \'kill switch\'</a></li><li class="ttt" data-tt="<b>Stolen test data and NHS numbers published by hospital hackers</b><br/>Experts say the hack is one of the most &quot;significant and harmful&quot; cyber attacks ever in the UK."><a href="https://www.bbc.com/news/articles/c9ww90j9dj8o">Stolen test data and NHS numbers published by hospital hackers</a></li><li class="ttt" data-tt="<b>Microsoft back as most valuable firm as Nvidia slips</b><br/>The artificial intelligence chip giant briefly took the top spot from the software company this week."><a href="https://www.bbc.com/news/articles/c8884389l35o">Microsoft back as most valuable firm as Nvidia slips</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cxwwz7l02j0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1af6/live/856bd080-2fbb-11ef-a044-9d4367d5b599.jpg" class="ttt" data-tt="A hand holding a phone with the TikTok logo on it, int front of the US Capitol building" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"24 Jun – 30 Jun","date":17191872E5,"ts":"Mon, 24","ds":"Mon, 24 Jun","icon":7,"desc":"Cloudy.","temp":24,"templow":16,"cf":25,"wind":7,"wd":180,"hum":59,"pc":1},{"date":17192736E5,"ts":"Tue, 25","ds":"Tue, 25 Jun","icon":33,"desc":"Passing showers. Cloudy.","temp":25,"templow":16,"cf":26,"wind":4,"wd":10,"hum":54,"pc":42,"rain":1.3 },{"date":171936E7,"ts":"Wed, 26","ds":"Wed, 26 Jun","icon":21,"desc":"Isolated tstorms late. Scattered clouds.","temp":26,"templow":15,"cf":26,"wind":6,"wd":110,"hum":56,"pc":22,"rain":0.7 },{"date":17194464E5,"ts":"Thu, 27","ds":"Thu, 27 Jun","icon":33,"desc":"Showers late. Cloudy.","temp":23,"templow":14,"cf":25,"wind":11,"wd":280,"hum":58,"pc":38,"rain":0.7 },{"date":17195328E5,"ts":"Fri, 28","ds":"Fri, 28 Jun","icon":6,"desc":"Mostly cloudy.","temp":21,"templow":11,"cf":21,"wind":6,"wd":240,"hum":41,"pc":4},{"date":17196192E5,"ts":"Sat, 29","ds":"Sat, 29 Jun","icon":33,"desc":"Rain showers. Overcast.","temp":15,"templow":11,"cf":13,"wind":15,"wd":190,"hum":88,"pc":65,"rain":7.1 },{"date":17197056E5,"ts":"Sun, 30","ds":"Sun, 30 Jun","icon":18,"desc":"Sprinkles. Cloudy.","temp":17,"templow":10,"cf":16,"wind":13,"wd":270,"hum":54,"pc":39,"rain":2.3 },{"hl":true,"hls":"1 Jul – 7 Jul","date":1719792E6,"ts":"Mon, 1","ds":"Mon, 1 Jul","icon":33,"desc":"Light showers. Overcast.","temp":16,"templow":11,"cf":16,"wind":15,"wd":210,"hum":88,"pc":62,"rain":3.8 },{"date":17198784E5,"ts":"Tue, 2","ds":"Tue, 2 Jul","icon":21,"desc":"A few tstorms. Breaks of sun late.","temp":16,"templow":10,"cf":16,"wind":11,"wd":300,"hum":76,"pc":72,"rain":7.2 },{"date":17199648E5,"ts":"Wed, 3","ds":"Wed, 3 Jul","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":16,"templow":10,"cf":16,"wind":15,"wd":260,"hum":72,"pc":59,"rain":2.6 },{"date":17200512E5,"ts":"Thu, 4","ds":"Thu, 4 Jul","icon":18,"desc":"Sprinkles. Overcast.","temp":16,"templow":11,"cf":16,"wind":12,"wd":270,"hum":70,"pc":51,"rain":1.1 },{"date":17201376E5,"ts":"Fri, 5","ds":"Fri, 5 Jul","icon":33,"desc":"Light showers. Cloudy.","temp":17,"templow":12,"cf":16,"wind":16,"wd":240,"hum":83,"pc":61,"rain":4.7 },{"date":1720224E6,"ts":"Sat, 6","ds":"Sat, 6 Jul","icon":21,"desc":"Isolated tstorms. Breaks of sun late.","temp":17,"templow":12,"cf":16,"wind":16,"wd":280,"hum":68,"pc":64,"rain":3.7 },{"date":17203104E5,"ts":"Sun, 7","ds":"Sun, 7 Jul","icon":21,"desc":"Isolated tstorms. Afternoon clouds.","temp":17,"templow":11,"cf":17,"wind":6,"wd":230,"hum":63,"pc":55,"rain":1.7 },{"hl":true,"hls":"8 Jul – 14 Jul","date":17203968E5,"ts":"Mon, 8","ds":"Mon, 8 Jul","icon":21,"desc":"Isolated tstorms. Overcast.","temp":18,"templow":11,"cf":18,"wind":8,"wd":90,"hum":85,"pc":51,"rain":1.4 }],"grid":{"temp":{"low":10,"high":26,"range":16},"prec":{"high":7.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/SaturnColors_CassiniSchmidt_960.jpg',
		Title:     'The Colors of Saturn from Cassini',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/SaturnColors_CassiniSchmidt_960.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240623.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Sedge_warbler_%28Acrocephalus_schoenobaenus%29_3.jpg/350px-Sedge_warbler_%28Acrocephalus_schoenobaenus%29_3.jpg',
		Title:    'Sedge warbler',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Sedge_warbler',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Sedge_warbler" title="Sedge warbler">sedge warbler</a></b> (<i>Acrocephalus schoenobaenus</i>) is a passerine bird in the <a href="https://en.wikipedia.org/wiki/Acrocephalidae" title="Acrocephalidae">Acrocephalidae</a> family, the reed warblers. It is a medium-sized warbler with a brown, streaked back and wings and a distinct pale <a href="https://en.wikipedia.org/wiki/Supercilium" title="Supercilium">supercilium</a>. Sedge warblers are <a href="https://en.wikipedia.org/wiki/Bird_migration" title="Bird migration">migratory</a>, crossing the <a href="https://en.wikipedia.org/wiki/Sahara" title="Sahara">Sahara</a> to get from their European and Asian breeding grounds to spend winter in Africa. The male\'s song is composed of chattering phrases and can include mimicry of other species. The species is mostly <a href="https://en.wikipedia.org/wiki/Insectivore" title="Insectivore">insectivorous</a>. This sedge warbler was photographed in <a href="https://en.wikipedia.org/wiki/Otmoor_RSPB_reserve" title="Otmoor RSPB reserve">Otmoor RSPB reserve</a> in <a href="https://en.wikipedia.org/wiki/Oxfordshire" title="Oxfordshire">Oxfordshire</a>, England.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

console.log('Error in tv module: The remote server returned an error: (500) Internal Server Error.');

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('223');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('123');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('15');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'e3HpmhBlKNQ', title: "Mazza L20 - Fire in the Booth", label: "Mazza L20 - Fire in the Booth by CharlieSloth 130,060 views 8 hours ago 10 minutes, 55 seconds" },
{ id: 'm9qhqtBuCF0', title: "Race Highlights | 2024 Spanish Grand Prix", label: "Race Highlights | 2024 Spanish Grand Prix by FORMULA 1 2,105,404 views 7 hours ago 8 minutes, 1 second" },
{ id: 'U0Mq3mJdwh4', title: "MEGA BOXES ARE BACK!!!", label: "MEGA BOXES ARE BACK!!! by Brawl Stars 24,441,243 views 1 day ago 8 minutes, 53 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "The season has finished :(";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Final Cut: Ladies & Gentlemen (2012)">Final Cut: Ladies & Gentlemen (2012)</a></li><li><a href="https://www.google.com/search?q=Films+-+Shiva Baby (2020)">Shiva Baby (2020)</a></li><li><a href="https://www.google.com/search?q=Films+-+When Björk Met Attenborough (2013)">When Björk Met Attenborough (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Everything Beautiful Is Far Away (2017)">Everything Beautiful Is Far Away (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+Neighbours (1952)">Neighbours (1952)</a></li><li><a href="https://www.google.com/search?q=Films+-+Persona (1966)">Persona (1966)</a></li><li><a href="https://www.google.com/search?q=Films+-+My First Summer (2020)">My First Summer (2020)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Neon Demon (2016)">The Neon Demon (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+Weekend (2011)">Weekend (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Handmaiden (2016)">The Handmaiden (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1-3, 2015-2017)">My Mad Fat Diary (S1-3, 2015-2017)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 213.43, tooltip: "Fri, Jun 21, 2024<br/>£213.43"},
{ number: 213.21, tooltip: "Thu, Jun 20, 2024<br/>£213.21"},
{ number: 212.98, tooltip: "Tue, Jun 18, 2024<br/>£212.98"},
{ number: 212.22, tooltip: "Mon, Jun 17, 2024<br/>£212.22"},
{ number: 211.68, tooltip: "Fri, Jun 14, 2024<br/>£211.68"},
{ number: 210.77, tooltip: "Thu, Jun 13, 2024<br/>£210.77"},
{ number: 210.23, tooltip: "Wed, Jun 12, 2024<br/>£210.23"},
{ number: 210.26, tooltip: "Tue, Jun 11, 2024<br/>£210.26"},
{ number: 210.47, tooltip: "Mon, Jun 10, 2024<br/>£210.47"},
{ number: 210.26, tooltip: "Fri, Jun 07, 2024<br/>£210.26"},
{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jun 21, 2024",
		"vs Day":      "Thu, Jun 20, 2024",
		"vs Week":     "Thu, Jun 13, 2024",
		"vs Month":    "Fri, May 24, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£213.43/share",
		'vs Day':      "+0.10%",
		'vs Week':     "+1.26%",
		'vs Month':    "+1.88%",
		'vs Year':     "+21.37%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '95.3',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 23 June and 24 June">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.953&p=3.538&r=0.220',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:45',
		Set:      '21:32',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A polemic is a strong written or spoken attack against someone else’s opinions, beliefs, practices, etc.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Scotland">Scotland</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23SCOHUN">#SCOHUN</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Clarke">Clarke</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Sean">Sean</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Joey">Joey</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22Angel+Reese%22">Angel Reese</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Pulisic">Pulisic</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23USMNT">#USMNT</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23WNBA">#WNBA</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Balogun">Balogun</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>