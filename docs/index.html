<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:30 10-Apr - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Good Friday Agreement: Rishi Sunak calls on Stormont return ahead of Joe Biden visit</b><br/>Rishi Sunak praises &quot;brave&quot; Good Friday Agreement leaders but says &quot;there is work to be done&quot;." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-northern-ireland-65228411?at_medium=RSS&amp;at_campaign=KARANGA">Good Friday Agreement: Rishi Sunak calls on Stormont return ahead of Joe Bi...</a></li><li class="ttt" data-tt="<b>Maia and Rina Dee: Father mourns at funeral of sisters killed in West Bank</b><br/>Maia and Rina Dee, originally from the UK, were shot dead in a suspected Palestinian attack."><a href="https://www.bbc.co.uk/news/world-middle-east-65224751?at_medium=RSS&amp;at_campaign=KARANGA">Maia and Rina Dee: Father mourns at funeral of sisters killed in West Bank</a></li><li class="ttt" data-tt="<b>Unesco world heritage status: Seven sites win UK backing</b><br/>York, Birkenhead Park and an iron age settlement in Shetland are among the sites being put forward."><a href="https://www.bbc.co.uk/news/uk-65225817?at_medium=RSS&amp;at_campaign=KARANGA">Unesco world heritage status: Seven sites win UK backing</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-northern-ireland-65228411?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/E7EB/production/_129317395_a766b15b071597346f9336008d8b2c6970edcb09.jpg" class="ttt" data-tt="Joe Biden and Rishi Sunak shake hands" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Mifepristone: US abortion pill access in doubt after rival rulings</b><br/>A Texas judge orders a hold on approval of the drug, a decision swiftly challenged by another court." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65217437?at_medium=RSS&amp;at_campaign=KARANGA">Mifepristone: US abortion pill access in doubt after rival rulings</a></li><li class="ttt" data-tt="<b>Supreme Court Justice Clarence Thomas defends luxury trips</b><br/>Clarence Thomas says guidelines were followed as a report reveals holidays funded by a billionaire."><a href="https://www.bbc.co.uk/news/world-us-canada-65215407?at_medium=RSS&amp;at_campaign=KARANGA">Supreme Court Justice Clarence Thomas defends luxury trips</a></li><li class="ttt" data-tt="<b>How this historically black college gymnastics team made history</b><br/>For decades, young black gymnasts had to make a difficult choice about where to go to university."><a href="https://www.bbc.co.uk/news/world-us-canada-65193458?at_medium=RSS&amp;at_campaign=KARANGA">How this historically black college gymnastics team made history</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65217437?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/16878/production/_129308229_gettyimages-1356608449.jpg" class="ttt" data-tt="Protesters at the Supreme Court" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Ukraine war: Who leaked top secret US documents - and why?</b><br/>Almost 100 US defence department documents have been leaked - and it is unclear who will benefit." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-65225985?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine war: Who leaked top secret US documents - and why?</a></li><li class="ttt" data-tt="<b>China simulates hitting \'key targets\' on Taiwan</b><br/>The US says it is &quot;monitoring Beijing\'s actions&quot; as China\'s military drills round Taiwan continue."><a href="https://www.bbc.co.uk/news/world-65223970?at_medium=RSS&amp;at_campaign=KARANGA">China simulates hitting \'key targets\' on Taiwan</a></li><li class="ttt" data-tt="<b>Vitaly Votanovsky flees Russia after documenting a Wagner cemetery</b><br/>How an activist documented Russia\'s war dead by counting graves - and was forced to flee."><a href="https://www.bbc.co.uk/news/world-europe-65213426?at_medium=RSS&amp;at_campaign=KARANGA">Vitaly Votanovsky flees Russia after documenting a Wagner cemetery</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-65225985?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10B13/production/_129317386_22d78eeb9cf3e55a2ab2ca3f3f07600e785312d00_573_5500_30955500x3095.jpg" class="ttt" data-tt="New Ukrainian army brigade recruits take part in a military exercise conducted by a foreign instructor" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Charles Leclerc: Ferrari driver asks fans to stop gathering outside his home</b><br/>Ferrari driver Charles Leclerc asks fans to respect his privacy and stop turning up outside his Monaco apartment." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65225543?at_medium=RSS&amp;at_campaign=KARANGA">Charles Leclerc: Ferrari driver asks fans to stop gathering outside his home</a></li><li class="ttt" data-tt="<b>Formula 1: Red Bull budget cap penalty \'very light\', says Ferrari\'s Frederic Vasseur</b><br/>Ferrari say Red Bull\'s strong start to the season is partly due to their being given a &quot;very light&quot; punishment for breaking Formula 1\'s budget cap."><a href="https://www.bbc.co.uk/sport/formula1/65209594?at_medium=RSS&amp;at_campaign=KARANGA">Formula 1: Red Bull budget cap penalty \'very light\', says Ferrari\'s Fred...</a></li><li class="ttt" data-tt="<b>Fernando Alonso: How the Spaniard helped Aston Martin leap on to the podium places</b><br/>Fernando Alonso\'s contribution to Aston Martin\'s leap to the podium should not be underestimated, says team principal Mike Krack."><a href="https://www.bbc.co.uk/sport/formula1/65200473?at_medium=RSS&amp;at_campaign=KARANGA">Fernando Alonso: How the Spaniard helped Aston Martin leap on to the podium...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65225543?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/B7CB/production/_129315074_gettyimages-1474863917.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>The women who left their jobs to code</b><br/>Studies suggest women are less likely to work in tech than men but some are bucking the trend." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65175900?at_medium=RSS&amp;at_campaign=KARANGA">The women who left their jobs to code</a></li><li class="ttt" data-tt="<b>Twitter: BBC objects to \'government funded media\' label</b><br/>Corporation says it wants to resolve issue after one of its main accounts receives new designation."><a href="https://www.bbc.co.uk/news/entertainment-arts-65226481?at_medium=RSS&amp;at_campaign=KARANGA">Twitter: BBC objects to \'government funded media\' label</a></li><li class="ttt" data-tt="<b>Samsung to cut chip production after profits plunge 96%</b><br/>The memory chip-making giant reports its worst profit since the 2009 financial crisis."><a href="https://www.bbc.co.uk/news/business-65210190?at_medium=RSS&amp;at_campaign=KARANGA">Samsung to cut chip production after profits plunge 96%</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65175900?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/FA26/production/_129283046_gettyimages-684641103.jpg" class="ttt" data-tt="A woman&#x27;s face is lit up with strings of code" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"10 Apr – 16 Apr","date":16810848E5,"ts":"Mon, 10","ds":"Mon, 10 Apr","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":13,"templow":7,"cf":9,"wind":18,"wd":236,"hum":66,"pc":69,"rain":6.1 },{"date":16811712E5,"ts":"Tue, 11","ds":"Tue, 11 Apr","icon":18,"desc":"Light rain. Increasing cloudiness.","temp":10,"templow":6,"cf":6,"wind":18,"wd":238,"hum":76,"pc":72,"rain":5.3 },{"date":16812576E5,"ts":"Wed, 12","ds":"Wed, 12 Apr","icon":33,"desc":"Passing showers. Broken clouds.","temp":8,"templow":4,"cf":3,"wind":28,"wd":226,"hum":75,"pc":69,"rain":5.9 },{"date":1681344E6,"ts":"Thu, 13","ds":"Thu, 13 Apr","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":11,"templow":5,"cf":8,"wind":13,"wd":263,"hum":52,"pc":46,"rain":3.4 },{"date":16814304E5,"ts":"Fri, 14","ds":"Fri, 14 Apr","icon":33,"desc":"Passing showers. Overcast.","temp":11,"templow":4,"cf":8,"wind":10,"wd":191,"hum":77,"pc":59,"rain":8.2 },{"date":16815168E5,"ts":"Sat, 15","ds":"Sat, 15 Apr","icon":7,"desc":"Overcast.","temp":13,"templow":4,"cf":12,"wind":8,"wd":220,"hum":62,"pc":14,"rain":0.3 },{"date":16816032E5,"ts":"Sun, 16","ds":"Sun, 16 Apr","icon":7,"desc":"Overcast.","temp":17,"templow":10,"cf":17,"wind":7,"wd":240,"hum":70,"pc":42,"rain":1.1 },{"hl":true,"hls":"17 Apr – 23 Apr","date":16816896E5,"ts":"Mon, 17","ds":"Mon, 17 Apr","icon":7,"desc":"Cloudy.","temp":17,"templow":7,"cf":17,"wind":8,"wd":170,"hum":69,"pc":5},{"date":1681776E6,"ts":"Tue, 18","ds":"Tue, 18 Apr","icon":2,"desc":"Mostly sunny.","temp":16,"templow":9,"cf":16,"wind":14,"wd":110,"hum":63,"pc":6},{"date":16818624E5,"ts":"Wed, 19","ds":"Wed, 19 Apr","icon":33,"desc":"Passing showers. Mostly sunny.","temp":16,"templow":9,"cf":16,"wind":18,"wd":90,"hum":68,"pc":48,"rain":0.3 },{"date":16819488E5,"ts":"Thu, 20","ds":"Thu, 20 Apr","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":16,"templow":9,"cf":16,"wind":15,"wd":80,"hum":68,"pc":47,"rain":0.4 },{"date":16820352E5,"ts":"Fri, 21","ds":"Fri, 21 Apr","icon":7,"desc":"Overcast.","temp":16,"templow":9,"cf":16,"wind":5,"wd":180,"hum":75,"pc":57,"rain":4.7 },{"date":16821216E5,"ts":"Sat, 22","ds":"Sat, 22 Apr","icon":18,"desc":"Sprinkles early. Breaks of sun late.","temp":14,"templow":9,"cf":13,"wind":15,"wd":310,"hum":62,"pc":39,"rain":0.1 },{"date":1682208E6,"ts":"Sun, 23","ds":"Sun, 23 Apr","icon":7,"desc":"Cloudy.","temp":14,"templow":9,"cf":12,"wind":13,"wd":290,"hum":77,"pc":6},{"hl":true,"hls":"24 Apr – 30 Apr","date":16822944E5,"ts":"Mon, 24","ds":"Mon, 24 Apr","icon":2,"desc":"Mostly sunny.","temp":17,"templow":8,"cf":17,"wind":11,"wd":340,"hum":70,"pc":5}],"grid":{"temp":{"low":4,"high":17,"range":13},"prec":{"high":8.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2304/egg_hst_0c1099.jpg',
		Title:     'The Egg Nebula in Polarized Light',
		LinkImage: 'https://apod.nasa.gov/apod/image/2304/egg_hst_0.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230409.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/04/Cascade-Layers-By-David-Connel.jpg',
		Title:    'Cascade Layers By David Connel',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-david-connel-30/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/NASA_spacecraft_comparison.jpg/500px-NASA_spacecraft_comparison.jpg',
		Title:    'Project Mercury',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Project_Mercury',
		Description: '    <b><a href="/wiki/Project_Mercury" title="Project Mercury">Project Mercury</a></b> was the first <a href="/wiki/Human_spaceflight" title="Human spaceflight">human-spaceflight</a> program of the United States, running from 1958 through 1963. It was one of the first projects of <a href="/wiki/NASA" title="NASA">NASA</a>, which was created as a response to the Soviet Union\'s 1957 launch of <a href="/wiki/Sputnik_1" title="Sputnik 1">Sputnik&#160;1</a>, the first satellite in Earth orbit. The program\'s goals were to orbit a crewed spacecraft around Earth, investigate the pilot\'s ability to function in space, and to recover both pilot and spacecraft safely. The Soviet Union won the race to put the first human into orbit when <a href="/wiki/Yuri_Gagarin" title="Yuri Gagarin">Yuri Gagarin</a> traveled in <a href="/wiki/Vostok_1" title="Vostok 1">Vostok&#160;1</a> in 1961, while the US launched its first astronaut on a <a href="/wiki/Sub-orbital_spaceflight" title="Sub-orbital spaceflight">suborbital flight</a> in the same year, and achieved crewed orbital flight in 1962 when <a href="/wiki/John_Glenn" title="John Glenn">John Glenn</a> made three orbits around the Earth. The Mercury project\'s missions were followed by millions on radio and television around the world, and it laid the groundwork for <a href="/wiki/Project_Gemini" title="Project Gemini">Project Gemini</a>, which carried two astronauts in each capsule and perfected space docking maneuvers essential for crewed <a href="/wiki/Moon_landing" title="Moon landing">lunar landings</a> in the subsequent <a href="/wiki/Apollo_program" title="Apollo program">Apollo program</a>, announced a few weeks after the first crewed Mercury flight. This NASA illustration compares the relative sizes and launch positions of the spacecraft and rockets of Project Mercury (small) with those of Gemini (medium) and Apollo (large).<small style="display: block; margin-top: 0.8em;">Illustration credit: Davis Paul Meltzer</small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1681095600,"duration":8100,"svcId":700,"evtId":6014,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Gardeners\u0027 World","description":"Monty adds some interest to the spring garden. Carol Klein visits Mothecombe Gardens in Devon, and Arit Anderson joins a group of young carers at a community garden in West Sussex. [S] [HD]","startTime":1681103700,"duration":3600,"svcId":700,"evtId":6015,"image":"\/ms\/img\/epg\/rb\/8df1-p08jbf3w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680897629,"availabilityEnd":1712520029,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ksbz\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"The Bidding Room","description":"14\/30. Nigel Havers hosts as five dealers bid to buy items brought in by the public, including a decorative clock, a mid-century teddy bear and a mystery copper item. [S] [HD]","startTime":1681107300,"duration":2700,"svcId":700,"evtId":6016,"image":"\/ms\/img\/epg\/rb\/8df1-p0cvnczs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680881424,"availabilityEnd":1713626949,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ksms\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":14},{"name":"Rick Stein\u0027s Cornwall","description":"4\/15. After soaking up the ambience at one of the UK\u0027s last live cattle markets, Rick\u0027s in the mood for steak and kidney pudding before setting sail out of Falmouth in a handbuilt boat. [S,AD,SL] [HD]","startTime":1681110000,"duration":1800,"svcId":700,"evtId":6017,"image":"\/ms\/img\/epg\/rb\/8df1-p0f24brq.jpg","hasTstv":false,"seriesNo":3,"episodeNo":4},{"name":"Weatherman Walking: The Welsh...","description":"...Coast. 4\/8. Weatherman Derek Brockway walks from Fall Bay to Oxwich on the Gower Peninsular. [S,SL] [HD]","startTime":1681111800,"duration":1800,"svcId":700,"evtId":6018,"image":"\/ms\/img\/epg\/rb\/8df1-p075jq3h.jpg","hasTstv":false,"seriesNo":17,"episodeNo":4},{"name":"BBC News","description":"The latest headlines, breaking news and sport from the BBC newsroom. [S] [HD]","startTime":1681113600,"duration":3600,"svcId":700,"evtId":6019,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"The Lavender Hill Mob","description":"One of the most famous of the 1950s Ealing comedies. An unassuming bank clerk, in charge of gold bullion deliveries for almost 20 years, hatches a plot to steal a consignment. [1951] [S] [HD]","startTime":1681117200,"duration":4800,"svcId":700,"evtId":6020,"image":"\/ms\/img\/epg\/rb\/8df1-p091vq6f.jpg","hasTstv":false},{"name":"Passport to Pimlico","description":"In 1949, a group of Londoners discover an old royal treaty suggesting that Pimlico is legally a part of Burgundy. They declare Pimlico\u0027s independence to avoid postwar rationing. [1948] [S,AD] [HD]","startTime":1681122000,"duration":5100,"svcId":700,"evtId":6021,"image":"\/ms\/img\/epg\/rb\/8df1-p0c347v5.jpg","hasTstv":false},{"name":"Impossible","description":"3\/20. The quiz show where players must avoid the Impossible answer to stay in the competition. 21 people begin the week but how many of them will survive to face the \u00a310,000 Question? [S] [HD]","startTime":1681127100,"duration":2700,"svcId":700,"evtId":6022,"image":"\/ms\/img\/epg\/rb\/8df1-p06q68c1.jpg","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"Eggheads","description":"Jeremy Vine hosts a general knowledge quiz featuring the greatest quiz team in Britain. [S] [HD]","startTime":1681129800,"duration":1800,"svcId":700,"evtId":6023,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":20,"episodeNo":69},{"name":"The Hairy Bikers\u0027 Pubs That...","description":"...Built Britain. Si and Dave step back in time to the 50s and 60s of London\u0027s East End. Their tour takes them to pubs once central to the criminal deeds of the notorious Kray twins. [S,AD] [HD]","startTime":1681131600,"duration":1800,"svcId":700,"evtId":6024,"image":"\/ms\/img\/epg\/rb\/8df1-p03rr4j6.jpg","hasTstv":false,"episodeNo":10},{"name":"Beechgrove Repotted","description":"The Beechgrove team find ways to connect trendiness with sustainability to garden for a greener future. [S] [HD]","startTime":1681133400,"duration":900,"svcId":700,"evtId":6025,"image":"\/ms\/img\/epg\/rb\/8df1-p07dcc9t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1671391865,"availabilityEnd":1702927865,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001gf40\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":25},{"name":"Amazon: Earth\u0027s Great Rivers","description":"1\/3. Documentary revealing the animals, landscapes and people of the greatest river on earth. From transparent lagoons to pink dolphins, the Amazon hides spectacular secrets. [S,AD] [HD]","startTime":1681134300,"duration":3600,"svcId":700,"evtId":6026,"image":"\/ms\/img\/epg\/rb\/8df1-p07j58m4.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"My Unique B\u0026B","description":"11\/15. Simon is in Shropshire to help vintage-vehicle-loving Bethan and John turn a 1940s railway goods carriage into a unique B\u0026B located in their back garden. [S,AD] [HD]","startTime":1681137900,"duration":1800,"svcId":700,"evtId":6027,"image":"\/ms\/img\/epg\/rb\/8df1-p0c4t3vr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1657765070,"availabilityEnd":1689926400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00177gk\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Charlie Mackesy: The Boy, The...","description":"...Mole, The Fox, The Horse, and Me. Artist and illustrator Charlie Mackesy takes us on a journey through his life. [S,AD] [HD]","startTime":1681139700,"duration":3600,"svcId":700,"evtId":6028,"image":"\/ms\/img\/epg\/rb\/8df1-p0dqgm96.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1674118800,"availabilityEnd":1705654800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001gnqz\u0026ui_id=4.0.0"}},{"name":"Flog It!","description":"10\/60. In this edition, Flog It! flies around the UK, touching down at historic hotspots like Capesthorne Hall, where Anita Manning has a surprise in store for one lucky lady. [S] [HD]","startTime":1681143300,"duration":2700,"svcId":700,"evtId":6029,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":16,"episodeNo":10},{"name":"Richard Osman\u0027s House of Games","description":"21\/140. Kaye Adams, Mark Chapman, Philip Glenister and Thanyia Moore test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1681146000,"duration":1800,"svcId":700,"evtId":6030,"image":"\/ms\/img\/epg\/rb\/8df1-p09v6mrt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1631554200,"availabilityEnd":1663090200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000zqsm\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":21},{"name":"B\u0026B by the Sea","description":"1\/15. Deborah Meaden has taken time out of her busy schedule to lend a hand to the B\u0026B team. She has a unique connection to the sea, making this visit even more personal. [S] [HD]","startTime":1681147800,"duration":1800,"svcId":700,"evtId":6031,"image":"\/ms\/img\/epg\/rb\/8df1-p0dgl8xq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1669406448,"availabilityEnd":1700942448,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0df1727\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Between the Covers","description":"5\/6. Sara is joined by Nick Knowles, Sara Barron, Ore Oduba and Helen McGinn. [S] [HD]","startTime":1681149600,"duration":1800,"svcId":700,"evtId":6032,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8v3f.jpg","hasTstv":false,"seriesNo":6,"episodeNo":5},{"name":"Saving Lives at Sea","description":"The RNLI volunteers race to the rescue of the last inhabitant of a remote island, a kayaker in trouble in the North Sea and, on the river Thames, a dog trapped by the tide. [S,AD] [HD]","startTime":1681151400,"duration":1800,"svcId":700,"evtId":6033,"image":"\/ms\/img\/epg\/rb\/8df1-p07r32r5.jpg","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Mastermind","description":"29\/31. Clive Myrie asks the questions in another semi-final. The specialist subjects are Fridtjof Nansen, the record label 4AD, Christina Rossetti and the Jason Bourne films. [S] [HD]","startTime":1681153200,"duration":1800,"svcId":700,"evtId":6034,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8vjz.jpg","hasTstv":false,"seriesNo":2022,"episodeNo":29},{"name":"University Challenge","description":"31\/37. The quarter-finals continue. Two more teams return for another qualification match. Jeremy Paxman asks the questions. [S] [HD]","startTime":1681155000,"duration":1800,"svcId":700,"evtId":6035,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8xn0.jpg","hasTstv":false,"seriesNo":2022,"episodeNo":31},{"name":"Secrets of the Chippendales...","description":"...Murders. 3\/4. The NYPD investigates multiple leads into the murder of Nick De Noia. Contains some strong language. [S,AD] [HD]","startTime":1681156800,"duration":2700,"svcId":700,"evtId":6036,"image":"\/ms\/img\/epg\/rb\/8df1-p0f7nxc3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1678514400,"availabilityEnd":1735624800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f68jr6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Secrets of the Chippendales...","description":"...Murders. 4\/4. The FBI are led on an international manhunt for the person behind Nick De Noia\u0027s murder. Contains strong language and some upsetting scenes. [S,AD] [HD]","startTime":1681159500,"duration":3000,"svcId":700,"evtId":6147,"image":"\/ms\/img\/epg\/rb\/8df1-p0f7nx4d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1678514400,"availabilityEnd":1735624800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f68m06\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"The Graduate","description":"An aimless college graduate finds himself torn between his older lover and her daughter. Deals with adult themes. [1968] [S] [HD]","startTime":1681162500,"duration":6300,"svcId":700,"evtId":6037,"image":"\/ms\/img\/epg\/rb\/8df1-p09v5v2c.jpg","hasTstv":false},{"name":"Gods of Snooker","description":"2\/3. As snooker becomes big business, Alex Higgins struggles to keep up with the professionalism of a new rising star - Steve Davis. Contains some strong language. [S] [HD]","startTime":1681168800,"duration":3600,"svcId":700,"evtId":6038,"image":"\/ms\/img\/epg\/rb\/8df1-p09gthgg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1652130000,"availabilityEnd":1683764421,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000w76x\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Countryfile","description":"Margherita Taylor and Joe Crowley visit Sherwood Forest to discover how much more there is to this nature reserve and site of special scientific interest than Robin Hood. [S,SL] [HD]","startTime":1681172400,"duration":3300,"svcId":700,"evtId":6039,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff82b0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680797494,"availabilityEnd":1683389494,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001krgp\u0026ui_id=4.0.0"}},{"name":"Dragons\u0027 Den","description":"13\/14. A surgeon turned inventor thinks he\u0027s solved a universal problem for parents, and an entrepreneur is on a mission to eliminate the dreaded sweat patch. [S,AD,SL] [HD]","startTime":1681175700,"duration":3600,"svcId":700,"evtId":6040,"image":"\/ms\/img\/epg\/rb\/8df1-p0fbrcsp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680206442,"availabilityEnd":1712347243,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001kk8r\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":13},{"name":"Make It at Market","description":"15\/15. Dom and his team help woodturner Shannon and upcycler Ryan produce more marketable pieces. [S,AD,SL] [HD]","startTime":1681179300,"duration":2700,"svcId":700,"evtId":6041,"image":"\/ms\/img\/epg\/rb\/8df1-p0fcdywj.jpg","hasTstv":false,"seriesNo":1,"episodeNo":15},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1681182000,"duration":9000,"svcId":700,"evtId":6042,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Aberdeen. Comedy promoter Naz has his work cut out to pull off the winning party: he\u0027s managed to offend nearly all of his guests during the week, and he\u0027s not the greatest cook... (Ep4\/5)  [S]","startTime":1681095600,"duration":1500,"svcId":1500,"evtId":17531,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Aberdeen. Journalist Turid serves up a menu of home-grown produce, on a night featuring shocking revelations, farmyard antics and plenty of laughter. (Ep5\/5)  [S]","startTime":1681097100,"duration":1800,"svcId":1500,"evtId":17532,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"The Dog House","description":"Can terrified terrier Tiny find a new home? He might have to wear a dog-sized leather jacket to impress potential owners Heather and Elliot... (S1 Ep1\/8)  [AD,S]","startTime":1681098900,"duration":3000,"svcId":1500,"evtId":18217,"image":"\/ms\/img\/epg\/rb\/5d52-341631593.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Escape to the Chateau","description":"From the discovery of the old 19th-century wash house to the pepper pot tower library, we revisit some of the Strawbridges\u0027 best moments at the chateau from series seven.  [AD,S]","startTime":1681101900,"duration":600,"svcId":1500,"evtId":18418,"image":"\/ms\/img\/epg\/rb\/5d52-414294809.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Steve Cram joins Susie Dent in Dictionary Corner.  [S]","startTime":1681102500,"duration":2400,"svcId":1500,"evtId":17764,"image":"\/ms\/img\/epg\/rb\/5d52-7441586.l.png","hasTstv":false},{"name":"Cheers","description":"Birth, Death, Love and Rice: Frasier visits the bar and informs Sam that Diane is now working in a convent. Sam hires Woody, who was a friend of Coach\u0027s, to work at Cheers. (S4 Ep1\/26)  [S]","startTime":1681104900,"duration":1500,"svcId":1500,"evtId":17765,"image":"\/ms\/img\/epg\/rb\/5d52-235799.l.png","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"Cheers","description":"Woody Goes Belly Up: New barman Woody desperately misses his girlfriend, so Sam and Diane fly her in from Indiana for a surprise visit. Frasier finds a way to pay his bar bill. (S4 Ep2\/26)  [S]","startTime":1681106400,"duration":1500,"svcId":1500,"evtId":17766,"image":"\/ms\/img\/epg\/rb\/5d52-237504.l.png","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"The King of Queens","description":"Move Doubt: Doug and Carrie\u0027s neighbours decide to sell their home. Danny and Spence both like the same beautiful Albanian girl. (S8 Ep8\/23)  [AD,S]","startTime":1681107900,"duration":1500,"svcId":1500,"evtId":17767,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":8},{"name":"The King of Queens","description":"G\u0027Night, Stalker: Doug\u0027s karaoke performance leads to him being pestered by an email stalker. (S8 Ep9\/23)  [AD,S]","startTime":1681109400,"duration":1500,"svcId":1500,"evtId":17768,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":9},{"name":"The King of Queens","description":"Raygin Bulls: Doug and Ray Barone (Everybody Loves Raymond\u0027s Ray Romano) have a guys\u0027 night out. Meanwhile, Carrie gets a shock when she visits her mother\u0027s grave. (S8 Ep10\/23)  [AD,S]","startTime":1681110900,"duration":1800,"svcId":1500,"evtId":18218,"image":"\/ms\/img\/epg\/rb\/5d52-386652277.l.png","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"Frasier","description":"Decoys: Niles discovers that Daphne is dating Donny, his divorce attorney, so he hatches a plan to get Donny back together with Roz. (S6 Ep16)  [AD,S]","startTime":1681112700,"duration":1800,"svcId":1500,"evtId":18219,"image":"\/ms\/img\/epg\/rb\/5d52-797373.l.png","hasTstv":false,"seriesNo":6,"episodeNo":16},{"name":"Frasier","description":"Dinner Party: Frasier and Niles decide to throw a dinner party but can\u0027t agree on who they should invite. (S6 Ep17)  [AD,S]","startTime":1681114500,"duration":1800,"svcId":1500,"evtId":17771,"image":"\/ms\/img\/epg\/rb\/5d52-799250.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"Frasier","description":"Taps at the Montana: Niles wants his apartment back, but he must face up to both the snooty neighbours who think he is a menace and the person who is renting from him. (S6 Ep18)  [AD,S]","startTime":1681116300,"duration":1800,"svcId":1500,"evtId":18220,"image":"\/ms\/img\/epg\/rb\/5d52-801726.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"Emergency Helicopter Medics","description":"The heli-medics struggle to free Malcolm, who\u0027s trapped in his mangled car, and a motorbike accident in the Peaks sees medics rushing to help Jamie, who\u0027s fractured his arm. (S4 Ep1\/10)  [AD,S]","startTime":1681118100,"duration":3600,"svcId":1500,"evtId":17772,"image":"\/ms\/img\/epg\/rb\/5d52-5981996.l.png","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"Guys and Dolls","description":"(1955) Samuel Goldwyn\u0027s hit production of the great Broadway musical, starring Marlon Brando as a gambler who bets that he can woo Salvation Army officer Jean Simmons. With Frank Sinatra.  [S]","startTime":1681121700,"duration":10500,"svcId":1500,"evtId":17774,"image":"\/ms\/img\/epg\/rb\/5d52-274134556.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Grace Dent joins Susie Dent in Dictionary Corner.  [S]","startTime":1681132200,"duration":3000,"svcId":1500,"evtId":17775,"image":"\/ms\/img\/epg\/rb\/5d52-7467699.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Scarlette Douglas helps Don and Margaret search for a bolthole on Portugal\u0027s western Algarve to escape the British winters. Can they find their dream holiday home within their \u00a3300k budget?  [S]","startTime":1681135200,"duration":3600,"svcId":1500,"evtId":17776,"image":"\/ms\/img\/epg\/rb\/5d52-412792249.l.png","hasTstv":false},{"name":"A New Life in the Sun","description":"A family take over a bar on the Costa del Sol, a Hampshire couple move to Bergerac to restore a 100-year-old house, and a building in Valencia is made habitable for new guests. (S7 Ep21)  [S]","startTime":1681138800,"duration":3600,"svcId":1500,"evtId":17777,"image":"\/ms\/img\/epg\/rb\/5d52-414137414.l.png","hasTstv":false,"seriesNo":7,"episodeNo":21},{"name":"Four in a Bed","description":"At the Brook Meadow B\u0026B, near Market Harborough, interior designer Claire prides herself on her dazzling d\u00e9cor. Is it a hit with her guests?  [S]","startTime":1681142400,"duration":1800,"svcId":1500,"evtId":17778,"image":"\/ms\/img\/epg\/rb\/5d52-6517946.l.png","hasTstv":false},{"name":"Strangers on a Plane","description":"On the first day in Porto, nurse Shonni from Coventry takes her guests surfing on the Atlantic coast. But with the ocean as calm as a millpond, could her day be a wipeout? (Ep6\/20)  [S]","startTime":1681144200,"duration":1800,"svcId":1500,"evtId":17779,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"The Simpsons","description":"Itchy \u0026 Scratchy \u0026 Marge: Marge campaigns against The Itchy \u0026 Scratchy Show after it inspires Maggie to hit Homer over the head with a hammer. (S2 Ep9\/22)  [AD,S]","startTime":1681146000,"duration":1800,"svcId":1500,"evtId":17780,"image":"\/ms\/img\/epg\/rb\/5d52-116727.l.png","hasTstv":false,"seriesNo":2,"episodeNo":9},{"name":"Hollyoaks","description":"The Osbourne family receive some fantastic news - but not everyone is in the mood for celebrating. A thoughtful idea leads to a slap in the face for more than one person.  [AD,S]","startTime":1681147800,"duration":1800,"svcId":1500,"evtId":17781,"image":"\/ms\/img\/epg\/rb\/5d52-7467728.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1681149600,"duration":1800,"svcId":1500,"evtId":17782,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"Britain\u0027s Most Expensive Houses","description":"Brokers John and Mary head to Windsor to view a mega mansion in 40 acres of prime polo territory. And Guy Bradshaw from Sotheby\u0027s takes on a neglected Grade I listed mansion in north Wales.  [AD,S]","startTime":1681151400,"duration":1800,"svcId":1500,"evtId":17783,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Jamie\u0027s \u00a31 Wonders","description":"Jamie Oliver takes root vegetables to another level, makes scrumptious sticky BBQ chicken and turns things upside down with a pineapple cake, all for under a quid a portion. (S1 Ep6\/6)  [AD,S]","startTime":1681153200,"duration":3600,"svcId":1500,"evtId":17784,"image":"\/ms\/img\/epg\/rb\/5d52-7467738.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"New: Tempting Fortune: The Final","description":"The trekkers enter the final stretch of their journey, and the prize money is tantalisingly close. But a bombshell rule change throws everything up in the air... (Ep6\/6)  [AD,S]","startTime":1681156800,"duration":3600,"svcId":1500,"evtId":17785,"image":"\/ms\/img\/epg\/rb\/5d52-7467741.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"New: Rise and Fall","description":"Greg James hosts the final week, as the Grafters tackle another Work Shift to add vital funds to the prize pot. In the Red Room, who will the Rulers vote to be eliminated next? (Ep15)  [S]","startTime":1681160400,"duration":3900,"svcId":1500,"evtId":17786,"image":"\/ms\/img\/epg\/rb\/5d52-7467746.l.png","hasTstv":false,"seriesNo":1,"episodeNo":15},{"name":"Send Nudes: Body SOS","description":"Ronan thinks his \u0027man boobs\u0027 hold him back from dating, and Sapphire is fed up with her flat chest. But will seeing their avatars change their minds about going ahead with surgery? (Ep7)  [S]","startTime":1681164300,"duration":3600,"svcId":1500,"evtId":17787,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"Celebrity Hunted","description":"Nikesh Patel and Nicola Thorp plot a daring return to London and a live TV appearance. James Acaster and Ed Gamble hide out in a fellow fugitive\u0027s empty home. (S5 Ep2)  [AD,S,SL]","startTime":1681167900,"duration":3300,"svcId":1500,"evtId":18225,"image":"\/ms\/img\/epg\/rb\/5d52-7441070.l.png","hasTstv":false,"seriesNo":5,"episodeNo":2},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Fleming, a Danish restaurant in Miami. It was once the best family-run restaurant in town but is now losing money fast. (S3 Ep6)  [S,SL]","startTime":1681171200,"duration":3000,"svcId":1500,"evtId":18221,"image":"\/ms\/img\/epg\/rb\/5d52-1045982.l.png","hasTstv":false,"seriesNo":2,"episodeNo":11},{"name":"Couples Come Dine with Me","description":"In the north east of England, Kevin and Lalita\u0027s hearty portions prove a tall order, Michelle and Charlotte plan an Asian theme, and Richard and Christine serve up dinner party classics.  [S]","startTime":1681174200,"duration":3000,"svcId":1500,"evtId":18224,"image":"\/ms\/img\/epg\/rb\/5d52-4433645.l.png","hasTstv":false,"seriesNo":3,"episodeNo":73},{"name":"Extraordinary Escapes with...","description":"...Sandi Toksvig: Sue Johnston joins Sandi for a Cornish adventure. They visit a modernist beach house overlooking Praa Sands and a bespoke shepherd\u0027s hut on an alpaca farm. (S2 Ep3)  [AD,S,SL]","startTime":1681177200,"duration":3300,"svcId":1500,"evtId":18222,"image":"\/ms\/img\/epg\/rb\/5d52-5620926.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"Grand Designs","description":"Kevin McCloud revisits Denise and Bruno Del Tufo who set about transforming a concrete water tower in their back garden into an avant-garde contemporary home. How did they get on?  [AD,S,SL]","startTime":1681180500,"duration":3300,"svcId":1500,"evtId":18226,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"George Clarke\u0027s Old House New Home","description":"George meets a family of five with a Victorian coach house that\u0027s more 1960s than 1860s, and helps a young couple in Hove get to grips with a 16th-century gatehouse. (S6 Ep3\/5)  [AD,S,SL]","startTime":1681183800,"duration":3300,"svcId":1500,"evtId":18223,"image":"\/ms\/img\/epg\/rb\/5d52-2623664.l.png","hasTstv":false,"seriesNo":6,"episodeNo":3}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('13')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('359');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('178');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('2');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('5');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('149');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('72');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'ZNoODFgTq3c', title: "Israel Adesanya Octagon Interview | UFC 287", label: "Israel Adesanya Octagon Interview | UFC 287 by UFC - Ultimate Fighting Championship 18 hours ago 3 minutes, 59 seconds 3,744,002 views" },
{ id: '924jfsZ6qnA', title: "Israel Adesanya on UFC 287 win: I set the trap and Alex Pereira dove in | ESPN MMA", label: "Israel Adesanya on UFC 287 win: I set the trap and Alex Pereira dove in | ESPN MMA by ESPN MMA 17 hours ago 7 minutes, 11 seconds 598,617 views" },
{ id: '2NCJkTDITf0', title: "Opening 1,000 Mystery Art Boxes", label: "Opening 1,000 Mystery Art Boxes by MrBeast 2 Streamed 1 day ago 58 minutes 1,497,366 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Azerbaijan.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Azerbaijan_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>30 April</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Knives Out (2019)">Knives Out (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li><li><a href="https://www.google.com/search?q=Games+-+Firewatch">Firewatch</a></li><li><a href="https://www.google.com/search?q=Games+-+Sniper Elite 4">Sniper Elite 4</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S1)">Downton Abbey (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Traitors (S1)">The Traitors (S1)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "07 April 2023 -  13 April 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/5138/miley-cyrus/'>miley cyrus</a>", Title: "<a href='https://www.officialcharts.com/search/singles/flowers/'>FLOWERS</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/31iDAcJi6VL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/6692/ed-sheeran/'>ed sheeran</a>", Title: "<a href='https://www.officialcharts.com/search/singles/eyes-closed/'>EYES CLOSED</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/411mB8h9-uL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/63953/libianca/'>libianca</a>", Title: "<a href='https://www.officialcharts.com/search/singles/people/'>PEOPLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/416HTM1LzFL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 172.94, tooltip: "Thu, Apr 06, 2023<br/>£172.94"},
{ number: 172.37, tooltip: "Wed, Apr 05, 2023<br/>£172.37"},
{ number: 172.27, tooltip: "Tue, Apr 04, 2023<br/>£172.27"},
{ number: 174.37, tooltip: "Mon, Apr 03, 2023<br/>£174.37"},
{ number: 174.18, tooltip: "Fri, Mar 31, 2023<br/>£174.18"},
{ number: 172.08, tooltip: "Thu, Mar 30, 2023<br/>£172.08"},
{ number: 171.74, tooltip: "Wed, Mar 29, 2023<br/>£171.74"},
{ number: 169.42, tooltip: "Tue, Mar 28, 2023<br/>£169.42"},
{ number: 169.88, tooltip: "Mon, Mar 27, 2023<br/>£169.88"},
{ number: 170.06, tooltip: "Fri, Mar 24, 2023<br/>£170.06"},
{ number: 169.10, tooltip: "Thu, Mar 23, 2023<br/>£169.10"},
{ number: 169.48, tooltip: "Wed, Mar 22, 2023<br/>£169.48"},
{ number: 171.30, tooltip: "Tue, Mar 21, 2023<br/>£171.30"},
{ number: 168.38, tooltip: "Mon, Mar 20, 2023<br/>£168.38"},
{ number: 168.94, tooltip: "Fri, Mar 17, 2023<br/>£168.94"},
{ number: 170.44, tooltip: "Thu, Mar 16, 2023<br/>£170.44"},
{ number: 169.49, tooltip: "Wed, Mar 15, 2023<br/>£169.49"},
{ number: 169.92, tooltip: "Tue, Mar 14, 2023<br/>£169.92"},
{ number: 168.40, tooltip: "Mon, Mar 13, 2023<br/>£168.40"},
{ number: 170.01, tooltip: "Fri, Mar 10, 2023<br/>£170.01"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Apr 06, 2023",
		"vs Day":      "Wed, Apr 05, 2023",
		"vs Week":     "Thu, Mar 30, 2023",
		"vs Month":    "Fri, Mar 10, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£172.94/share",
		'vs Day':      "+0.33%",
		'vs Week':     "+0.50%",
		'vs Month':    "+1.72%",
		'vs Year':     "-2.15%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '84.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 9 April and 10 April">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.847&p=3.886&r=0.673',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:20',
		Set:      '19:55',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>Something described as <em>auspicious</em> is full of promise, showing or suggesting that future success or good results are likely. <em>Auspicious</em> can also mean “attended by good fortune.”</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23themasters">#themasters</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Robertson">Robertson</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Rahm">Rahm</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23fortheloveofpaulogrady">#fortheloveofpaulogrady</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23TemptingFortune">#TemptingFortune</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22Happy+Easter%22">Happy Easter</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Lamar">Lamar</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Ravens">Ravens</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Clippers">Clippers</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Gobert">Gobert</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>