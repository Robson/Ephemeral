<!DOCTYPE html>
<html lang="en">
	<head>
		<title>17:40 15-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Kate returns to public events at Trooping the Colour</b><br/>The princess, who is currently undergoing treatment for cancer, could be seen smiling and waving from the Buckingham Palace balcony." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cw882661dq2o">Kate returns to public events at Trooping the Colour</a></li><li class="ttt" data-tt="<b>What does Nigel Farage really want?</b><br/>Why is a man who has failed to get elected to Parliament seven times causing panic in Tory ranks?"><a href="https://www.bbc.com/news/articles/c2jj95dgegno">What does Nigel Farage really want?</a></li><li class="ttt" data-tt="<b>Calls for investigation after police car strikes loose cow</b><br/>The Home Secretary said he will be asking for an explanation of how a police car hit the animal."><a href="https://www.bbc.com/news/articles/cnkkp7eejyqo">Calls for investigation after police car strikes loose cow</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cw882661dq2o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1b0f/live/cd1fbd30-2b1d-11ef-bdc5-41d7421c2adf.jpg" class="ttt" data-tt="Catherine and King Charles look up to the sky from Buckingham Palace balcony" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Supreme Court gun ruling stuns Las Vegas shooting survivors</b><br/>One survivor told the BBC the bump stocks decision was &quot;a slap in the face&quot;, but others had mixed feelings." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c033d532354o">Supreme Court gun ruling stuns Las Vegas shooting survivors</a></li><li class="ttt" data-tt="<b>US declines to charge Merrick Garland for contempt</b><br/>US justice officials say the attorney general\'s refusal to hand over audio of Mr Biden is not a crime but House Speaker Mike Johnson said he would continue to pursue the audio in federal court."><a href="https://www.bbc.com/news/articles/c988d8drn8po">US declines to charge Merrick Garland for contempt</a></li><li class="ttt" data-tt="<b>Alex Jones assets liquidated to pay Sandy Hook debt</b><br/>But a bankruptcy judge spares Infowars from being liquidated to pay the broadcaster\'s $1.5bn defamation debt."><a href="https://www.bbc.com/news/articles/cj55v57v2z2o">Alex Jones assets liquidated to pay Sandy Hook debt</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c033d532354o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1365/live/424fb0e0-2a94-11ef-a392-bbae7f2e2112.jpg" class="ttt" data-tt="Heather Gooze, a survivor of the 2017 mass shooting at a Las Vegas music festival that spurred the intial bump stock ban, attends a gun violence vigil in 2018." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Zelensky seeks show of support at giant Ukraine peace summit</b><br/>The hosts Switzerland hope the talks will bring progress towards peace, but Russia is not attending." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cv22zlq4y20o">Zelensky seeks show of support at giant Ukraine peace summit</a></li><li class="ttt" data-tt="<b>Iranian convicted of war crimes freed in Swedish swap</b><br/>Hamid Noury will return to Tehran in exchange for two Swedish citizens detained by Iran."><a href="https://www.bbc.com/news/articles/czrr2kemjleo">Iranian convicted of war crimes freed in Swedish swap</a></li><li class="ttt" data-tt="<b>Cyril Ramaphosa re-elected South African president</b><br/>It follows a coalition deal between the governing African National Congress and opposition parties."><a href="https://www.bbc.com/news/articles/cneeven9ljpo">Cyril Ramaphosa re-elected South African president</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cv22zlq4y20o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/24c8/live/dc2f52e0-2ab9-11ef-a77f-e72cb7198ff8.jpg" class="ttt" data-tt="Ukraine&#x27;s President Volodymyr Zelensky steps toward a limousine after landing in Obbuergen near the Buergenstock Resort, ahead the Summit on Peace in Ukraine, in Stansstad near Lucerne, Switzerland," style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Andrew Benson Q&A: Send us your questions</b><br/>Our F1 correspondent Andrew Benson will do a weekly Q&A this season, so get your questions in now." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cv22xdd1l09o">Andrew Benson Q&A: Send us your questions</a></li><li class="ttt" data-tt="<b>F1 Q&A after Canada: Ricciardo and Sainz future plus Perez at Red Bull</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the Canadian Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cz99q58lmvro">F1 Q&A after Canada: Ricciardo and Sainz future plus Perez at Red Bull</a></li><li class="ttt" data-tt="<b>\'Russell rues missed opportunity but big picture positive for Mercedes\'</b><br/>George Russell finished third at the Canadian Grand Prix and left Montreal with mixed feelings despite Mercedes\' significant progress."><a href="https://www.bbc.com/sport/formula1/articles/c5115gpev51o">\'Russell rues missed opportunity but big picture positive for Mercedes\'</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cv22xdd1l09o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/e270/live/1366e800-176d-11ef-80aa-699d54c46324.png" class="ttt" data-tt="F1 logo on the back of a mobile phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Is Elon Musk worth his $56bn Tesla pay package?</b><br/>He is beloved by his millions of followers online, but would Musk\'s businesses have succeeded without him?" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c9rre6nwnpwo">Is Elon Musk worth his $56bn Tesla pay package?</a></li><li class="ttt" data-tt="<b>\'Mouse jigglers\' pretending to work fired by bank</b><br/>Wells Fargo has fired a number of workers, after reviewing claims of fake keyboard activity."><a href="https://www.bbc.com/news/articles/cjll01220yeo">\'Mouse jigglers\' pretending to work fired by bank</a></li><li class="ttt" data-tt="<b>Nasa astronaut distress message broadcast in error</b><br/>Space agency says the clip was from a training exercise which was accidentally put on YouTube,"><a href="https://www.bbc.com/news/articles/c2jj9855955o">Nasa astronaut distress message broadcast in error</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c9rre6nwnpwo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ad90/live/76dbb3a0-2a43-11ef-bce4-65851c40d100.jpg" class="ttt" data-tt="Elon Musk poses for photographers " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"10 Jun – 16 Jun","date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":18,"templow":10,"cf":18,"wind":10,"wd":240,"hum":60,"pc":61,"rain":6.4 },{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":33,"desc":"Passing showers. Increasing cloudiness.","temp":19,"templow":7,"cf":18,"wind":10,"wd":240,"hum":61,"pc":52,"rain":1.2 },{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":33,"desc":"Showers late. Cloudy.","temp":19,"templow":9,"cf":19,"wind":8,"wd":0,"hum":58,"pc":20,"rain":0.4 },{"date":17187552E5,"ts":"Wed, 19","ds":"Wed, 19 Jun","icon":7,"desc":"Cloudy.","temp":21,"templow":10,"cf":20,"wind":8,"wd":120,"hum":56,"pc":2},{"date":17188416E5,"ts":"Thu, 20","ds":"Thu, 20 Jun","icon":7,"desc":"Overcast.","temp":21,"templow":8,"cf":20,"wind":4,"wd":140,"hum":57,"pc":2},{"date":1718928E6,"ts":"Fri, 21","ds":"Fri, 21 Jun","icon":33,"desc":"Showers late. Overcast.","temp":20,"templow":12,"cf":19,"wind":10,"wd":240,"hum":75,"pc":17,"rain":1.5 },{"date":17190144E5,"ts":"Sat, 22","ds":"Sat, 22 Jun","icon":21,"desc":"A few tstorms. Cloudy.","temp":19,"templow":11,"cf":19,"wind":8,"wd":270,"hum":66,"pc":57,"rain":7},{"date":17191008E5,"ts":"Sun, 23","ds":"Sun, 23 Jun","icon":33,"desc":"Passing showers. Mostly sunny.","temp":18,"templow":11,"cf":18,"wind":10,"wd":320,"hum":68,"pc":50,"rain":0.6 },{"hl":true,"hls":"24 Jun – 30 Jun","date":17191872E5,"ts":"Mon, 24","ds":"Mon, 24 Jun","icon":33,"desc":"Showers late. Afternoon clouds.","temp":20,"templow":12,"cf":20,"wind":5,"wd":180,"hum":70,"pc":41,"rain":0.5 },{"date":17192736E5,"ts":"Tue, 25","ds":"Tue, 25 Jun","icon":4,"desc":"Partly cloudy.","temp":21,"templow":14,"cf":20,"wind":3,"wd":340,"hum":67,"pc":6},{"date":171936E7,"ts":"Wed, 26","ds":"Wed, 26 Jun","icon":7,"desc":"Cloudy.","temp":21,"templow":15,"cf":21,"wind":6,"wd":80,"hum":78,"pc":4},{"date":17194464E5,"ts":"Thu, 27","ds":"Thu, 27 Jun","icon":4,"desc":"Breaks of sun late.","temp":22,"templow":15,"cf":23,"wind":8,"wd":140,"hum":70,"pc":5},{"date":17195328E5,"ts":"Fri, 28","ds":"Fri, 28 Jun","icon":21,"desc":"Isolated tstorms. Partly cloudy.","temp":19,"templow":14,"cf":19,"wind":13,"wd":310,"hum":62,"pc":42,"rain":1},{"date":17196192E5,"ts":"Sat, 29","ds":"Sat, 29 Jun","icon":4,"desc":"Morning clouds.","temp":18,"templow":12,"cf":18,"wind":16,"wd":20,"hum":74,"pc":6},{"date":17197056E5,"ts":"Sun, 30","ds":"Sun, 30 Jun","icon":7,"desc":"Cloudy.","temp":20,"templow":12,"cf":20,"wind":14,"wd":0,"hum":63,"pc":6}],"grid":{"temp":{"low":7,"high":22,"range":15},"prec":{"high":7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/Halpha_sondergaard1024.jpg',
		Title:     'Prominences and Filaments on the Active Sun',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/Halpha_sondergaard.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240615.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Violet_dropwing_%28Trithemis_annulata%29_female_Cyprus.jpg/400px-Violet_dropwing_%28Trithemis_annulata%29_female_Cyprus.jpg',
		Title:    'Trithemis annulata',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Trithemis_annulata',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Trithemis_annulata" title="Trithemis annulata">Trithemis annulata</a></b></i>, commonly known as the violet dropwing, is a species of <a href="https://en.wikipedia.org/wiki/Dragonfly" title="Dragonfly">dragonfly</a> in the family <a href="https://en.wikipedia.org/wiki/Libellulidae" title="Libellulidae">Libellulidae</a>. It is found in most of Africa, the Middle East, and southern Europe. Males of this species are violet-red with red veins in the wings, while females are yellow and brown. Both sexes have red eyes. This female violet dropwing was photographed near <a href="https://en.wikipedia.org/wiki/Kalopanagiotis" title="Kalopanagiotis">Kalopanagiotis</a> in Cyprus.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1718427600,"duration":10800,"svcId":560,"evtId":25410,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718438390,"availabilityEnd":1718524800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020bb3\u0026ui_id=4.0.0"}},{"name":"Saturday Kitchen Live","description":"Host Matt Tebbutt is joined by chefs Theo Randall and Sophie Wyburd. Drinks expert Helen McGinn picks the wines to go with the studio dishes. [S] [HD]","startTime":1718438400,"duration":5400,"svcId":560,"evtId":25466,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3jxjy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718443800,"availabilityEnd":1749979800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020cbr\u0026ui_id=4.0.0"}},{"name":"Trooping the Colour 2024: The...","description":"...King\u0027s Birthday Parade. Live coverage as the Irish Guards troop their colour to mark the King\u0027s official birthday. [S] [HD]","startTime":1718443800,"duration":9600,"svcId":560,"evtId":25467,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3sq7j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718453400,"availabilityEnd":1749989400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020cbz\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1718453400,"duration":600,"svcId":560,"evtId":25411,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718454120,"availabilityEnd":1718540520,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020bb5\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1718454000,"duration":300,"svcId":560,"evtId":25412,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718454345,"availabilityEnd":1718540745,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020bb7\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Bargain Hunt","description":"Natasha Raskin Sharp visits Kent, where experts Caroline Hawley and Raj Bisram help the reds and blues to search for bargains to send to auction. [S,AD] [HD]","startTime":1718454300,"duration":2700,"svcId":560,"evtId":25413,"image":"\/ms\/img\/epg\/rb\/ae0c-p088vxmr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718457096,"availabilityEnd":1721049096,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000hbpz\u0026ui_id=4.0.0"},"seriesNo":55},{"name":"Money for Nothing","description":"16\/20. Sarah Moore returns to Witley recycling centre and finds a well-worn blanket box, some cast iron and a set of carved dining chairs for her and her team to upcycle. [S] [HD]","startTime":1718457000,"duration":2700,"svcId":560,"evtId":25414,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gks0pl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1697637589,"availabilityEnd":1730386801,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rkfd\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":16},{"name":"Escape to the Country","description":"Jules Hudson gets to show off a gloriously sunny Cornwall to an entrepreneurial couple who are on the lookout for a property with potential for a holiday let business as well as a home. [S] [HD]","startTime":1718459700,"duration":3600,"svcId":560,"evtId":25468,"image":"\/ms\/img\/epg\/rb\/fec6-p04qmb0x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718461562,"availabilityEnd":1721055388,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020cc6\u0026ui_id=4.0.0"},"seriesNo":50},{"name":"Wreck-It Ralph","description":"Animated ode to computer games. Wreck-It Ralph, the villain of a classic 8-bit arcade game, decides he no longer wants to be the bad guy and embarks on a quest to be good. [2012] [S,AD] [HD]","startTime":1718463300,"duration":5700,"svcId":560,"evtId":25415,"image":"\/ms\/img\/epg\/rb\/ae0c-p06dwmg7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718468983,"availabilityEnd":1721060983,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b039347h\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1718469000,"duration":600,"svcId":560,"evtId":25416,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718469600,"availabilityEnd":1718556000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020bb9\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1718469600,"duration":300,"svcId":560,"evtId":25418,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718469905,"availabilityEnd":1718556305,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020bbc\u0026ui_id=4.0.0"},"episodeNo":76},{"name":"Celebrity Bridge of Lies","description":"7\/8. A team from BBC Morning Live face the Bridge of Lies. [S] [HD]","startTime":1718469900,"duration":2700,"svcId":560,"evtId":25419,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3b1sx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718472757,"availabilityEnd":1750613960,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020bwc\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":7},{"name":"Doctor Who","description":"7\/8. The Doctor and UNIT investigate Ruby\u0027s past. But as the Time Window reveals horrifying secrets from Christmas Eve, the mysterious Triad Technology unleash the greatest evil of all. [S,AD] [HD]","startTime":1718472600,"duration":3000,"svcId":560,"evtId":25469,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3blkn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718405820,"availabilityEnd":1750617310,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020ccf\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"MOTD Live: Italy v Albania","description":"Gary Lineker introduces live coverage as reigning European champions Italy begin the defence of their title against Albania in Dortmund. [S] [HD]","startTime":1718475600,"duration":10200,"svcId":560,"evtId":25470,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2v40v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718485785,"availabilityEnd":1721077785,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020ccp\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1718485800,"duration":900,"svcId":560,"evtId":25420,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718486775,"availabilityEnd":1718573175,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020bbh\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1718486700,"duration":300,"svcId":560,"evtId":25421,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718487020,"availabilityEnd":1718573420,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020bbk\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Rooney 2004: World at His Feet","description":"Wayne Rooney\u0027s definitive coming-of-age story, told by the man himself, whose performances at Euro 2004 catapulted him into international superstardom. [S,AD] [HD]","startTime":1718487000,"duration":1800,"svcId":560,"evtId":25471,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0qzdg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717218000,"availabilityEnd":1722142740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ztdn\u0026ui_id=4.0.0"}},{"name":"Pitch Invasion: How the...","description":"...Scottish and Irish Changed Football. 3\/3. How managers and players such as David Moyes and Charlie Nicholas dealt with the highs and lows of English football. [S,AD] [HD]","startTime":1718488800,"duration":3600,"svcId":560,"evtId":25472,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h5z0js.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1705816800,"availabilityEnd":1737493256,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001vpnn\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"MOTD Top Ten: Best Matches","description":"4\/10. There have been some corkers at the Euros over the years - the boys try to rank the best ones ever. [S] [HD]","startTime":1718492400,"duration":1800,"svcId":560,"evtId":25473,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2960t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717390800,"availabilityEnd":1735624740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00204bt\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":4},{"name":"Doctor Who: Unleashed","description":"7\/9. Steffan has some work experience in the prosthetics department. Plus, an exclusive interview with Susan Twist and Russell T Davies. [S,AD] [HD]","startTime":1718494200,"duration":1800,"svcId":560,"evtId":25474,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j48rh2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718408700,"availabilityEnd":1781549420,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020ccv\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":7},{"name":"Superman \u0026 Lois","description":"9\/13. Superman and John Henry clash over how to handle Bruno Mannheim. Lois worries over upcoming treatments and confides in Lana about her early courtship with Clark. [S,AD] [HD]","startTime":1718496000,"duration":2400,"svcId":560,"evtId":25475,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hr55x6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713675600,"availabilityEnd":1806533940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y3p3\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":9},{"name":"Euro 2024 Match Replay: Spain v...","description":"...Croatia. A full replay of Spain v Croatia at Euro 2024, with crucial points at stake in Group B. [S] [HD]","startTime":1718498400,"duration":6000,"svcId":560,"evtId":25476,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j40v97.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718504587,"availabilityEnd":1721096587,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020cd2\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1718504400,"duration":300,"svcId":560,"evtId":25422,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718504880,"availabilityEnd":1719109680,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020bbm\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1718504700,"duration":9300,"svcId":560,"evtId":25423,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":76}]},{"channelid":700,"offset":0,"event":[{"name":"Hey Duggee","description":"The Biology Badge. Duggee and the Squirrels hop inside the Biology Bus and miniaturise themselves to go on a voyage of discovery inside Enid. Can they find out what\u0027s making her cough? [S] [HD]","startTime":1718428500,"duration":600,"svcId":700,"evtId":17060,"image":"\/ms\/img\/epg\/rb\/fec6-p08gn632.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1624976940,"availabilityEnd":1748660400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000k5tx\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":24},{"name":"Go Jetters","description":"Amazon Rainforest, South America. Animated adventure comedy series. Glitch wants a picnic so he stops the rain in the rainforest, upsetting the local tree frogs. [S] [HD]","startTime":1718429100,"duration":600,"svcId":700,"evtId":17061,"image":"\/ms\/img\/epg\/rb\/ae0c-p03xh21x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1572274200,"availabilityEnd":1730001600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b07ff060\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":19},{"name":"Grizzy and the Lemmings","description":"Javelin Lemmings. The Lemmings happen upon a bracelet that increases the strength of its wearer. [S] [HD]","startTime":1718429700,"duration":600,"svcId":700,"evtId":17062,"image":"\/ms\/img\/epg\/rb\/fec6-p0g32gmq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716897545,"availabilityEnd":1721401809,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pgr5\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":55},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Pickle Prince. Every year, Boy enters and wins the Pickle Prince competition. However, when Dog is convinced to enter the contest to give Boy some competition, a feud erupts between the two. [S] [HD]","startTime":1718430300,"duration":600,"svcId":700,"evtId":17063,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h7r409.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1707119100,"availabilityEnd":1858219200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001w2kp\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":16},{"name":"Monster Loving Maniacs","description":"The Book of Vampires. Dracula points Edith in the direction of an ancient book about vampires. [S] [HD]","startTime":1718430900,"duration":600,"svcId":700,"evtId":17064,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7l395.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1666580400,"availabilityEnd":1792724400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0d4pv49\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":12},{"name":"Shaun the Sheep","description":"Express Delivery. Can Shaun prevent the delivery of new spectacles to the Farmer? [S] [HD]","startTime":1718431500,"duration":600,"svcId":700,"evtId":17065,"image":"\/ms\/img\/epg\/rb\/fec6-p0d0kl3s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716126913,"availabilityEnd":1721024129,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001clbl\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":16},{"name":"Pok\u00e9mon Horizons: The Series","description":"Nemona and Brassius and... Liko and Roy arrive in Artazon, but gym leader Brassius is in an artistic slump! [S] [HD]","startTime":1718432100,"duration":1200,"svcId":700,"evtId":17066,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gy5vxl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1705291200,"availabilityEnd":1796011200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tzkb\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"The Next Step","description":"Dance, Party! The Next Step hosts L\u0027\u00c9quipe \u00c9toile for a pre-internationals welcome party - but not everything is as it seems. [S,AD] [HD]","startTime":1718433300,"duration":1500,"svcId":700,"evtId":17067,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvkh1g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715961600,"availabilityEnd":2027386800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z923\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":19},{"name":"The Next Step","description":"Can-Can We Do This? As internationals begin with a surprise performance, Anthony struggles with the small group dance thanks to a classic internationals twist. [S,AD] [HD]","startTime":1718434800,"duration":1200,"svcId":700,"evtId":17068,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hx6l43.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716566400,"availabilityEnd":2027386800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zj4t\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":20},{"name":"Blue Peter: Euros 2024 Takeover!","description":"Euros 2024 Takeover! Shini and Abby go head-to-head in the unique sport of powerchair football. [S] [HD]","startTime":1718436000,"duration":1800,"svcId":700,"evtId":17069,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j46rzp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718382600,"availabilityEnd":1723566600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002055h\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Newsround","description":"15\/06\/2024. Topical news magazine for children. [S] [HD]","startTime":1718437800,"duration":600,"svcId":700,"evtId":17070,"image":"\/ms\/img\/epg\/rb\/fec6-p0chnbfw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718438398,"availabilityEnd":1721030398,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020cz4\u0026ui_id=4.0.0"}},{"name":"Gardeners\u0027 World","description":"13\/32. The team are Birmingham-bound for one of the highlights of the horticultural year, the annual Gardeners\u0027 World Live event. [S] [HD]","startTime":1718438400,"duration":3600,"svcId":700,"evtId":17071,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j41f8z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718395202,"availabilityEnd":1749931202,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00205fk\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":13},{"name":"Christine\u0027s Garden","description":"1\/6. It\u0027s early summer, and horticulturalist Christine Walkden introduces us to her small but perfectly formed garden. [S]","startTime":1718442000,"duration":1800,"svcId":700,"evtId":17072,"image":"\/ms\/img\/epg\/rb\/ae0c-p057r54t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718443830,"availabilityEnd":1721035830,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0013cqx\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Coast to Coast Food Festival","description":"3\/20. At the Ould Lammas Fair in Ballycastle, Colin Murray and Edith Bowman discover treats and top tips as well as meeting producers of new and traditional food from near and far. [S] [HD]","startTime":1718443800,"duration":1800,"svcId":700,"evtId":17073,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f7nqnx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718445664,"availabilityEnd":1721037664,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001k3wg\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Coast to Coast Food Festival","description":"4\/20. Sean Fletcher and Edith Bowman explore Cockermouth\u0027s food festival, meeting passionate food producers. [S] [HD]","startTime":1718445600,"duration":1800,"svcId":700,"evtId":17074,"image":"\/ms\/img\/epg\/rb\/fec6-p0f7nqpt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718447520,"availabilityEnd":1721039520,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001k3vd\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Jay\u0027s Yorkshire Workshop","description":"4\/6. Jay Blades\u0027 workshop makes furniture for local heroes in Yorkshire. This week, a man who set up a men\u0027s mental health charity and a youth worker who turns people\u0027s lives around. [S] [HD]","startTime":1718447400,"duration":3600,"svcId":700,"evtId":17075,"image":"\/ms\/img\/epg\/rb\/ae0c-p09v6qwq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718451132,"availabilityEnd":1721043132,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000zqw2\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"The Titfield Thunderbolt","description":"Ealing comedy about a group of villagers who battle to preserve the local railway line by running it themselves, until they are sabotaged in a midnight raid by a rival bus company. [1953] [S] [HD]","startTime":1718451000,"duration":5100,"svcId":700,"evtId":17076,"image":"\/ms\/img\/epg\/rb\/fec6-p0bffzgs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718456037,"availabilityEnd":1721048037,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b03mv97b\u0026ui_id=4.0.0"}},{"name":"A Man for All Seasons","description":"Multi-award winning historical drama about Sir Thomas More\u0027s refusal to acknowledge Henry VIII\u0027s break with the Roman Catholic Church. Starring Paul Scofield. [1966] [S] [HD]","startTime":1718456100,"duration":6900,"svcId":700,"evtId":17077,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3c0g8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718463040,"availabilityEnd":1721055040,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b00kzhwc\u0026ui_id=4.0.0"}},{"name":"The Great British Sewing Bee","description":"4\/10. It\u0027s Reduce, Reuse and Recycle week, and the sewers create a quilted bag, use textile waste to create a new garment and give wedding dresses a new lease of life. [S,AD] [HD]","startTime":1718463000,"duration":3600,"svcId":700,"evtId":17078,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j23lb1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718139600,"availabilityEnd":1753390683,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00204js\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":4},{"name":"Flog It!","description":"Today Flog It! comes from Huddersfield Town Hall, where antiques experts Christina Trevanion and Mark Stacey find antiques and collectibles to take to auction. [S] [HD]","startTime":1718466600,"duration":3600,"svcId":700,"evtId":17079,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718470147,"availabilityEnd":1721062147,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0007lql\u0026ui_id=4.0.0"},"seriesNo":16},{"name":"Trooping the Colour Highlights...","description":"...2024. Highlights of the spectacular military display from Horse Guards Parade in London, where the Colour of No 9 Company Irish Guards was trooped to mark the King\u0027s official birthday. [S] [HD]","startTime":1718470200,"duration":5400,"svcId":700,"evtId":17080,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3sqy2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718475582,"availabilityEnd":1750011582,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020cz7\u0026ui_id=4.0.0"}},{"name":"Celebrity Antiques Road Trip","description":"10\/20. Stand-up comedians Zoe Lyons and Noreen Khan turn their hand to antiquing in Shropshire. Along the way, there are unusual purchases, frightful detours and plenty of laughs. [S] [HD]","startTime":1718475600,"duration":3600,"svcId":700,"evtId":17081,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b4c57r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718479226,"availabilityEnd":1721071226,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011xdm\u0026ui_id=4.0.0"},"episodeNo":10},{"name":"Casualty","description":"1\/12. As a storm threatens Holby, a tragedy forces Cam to make a tough decision, whilst Stevie makes an unexpected connection and Tariq is  determined to help a vulnerable Rash. [S,AD] [HD]","startTime":1718479200,"duration":3000,"svcId":700,"evtId":17082,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3kqb8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718427600,"availabilityEnd":1901163600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020cz9\u0026ui_id=4.0.0"},"seriesNo":43,"episodeNo":1},{"name":"Rebus","description":"5\/6. Michael has motivation to kill Cafferty, as has John. Contains very strong language, some violence and some upsetting scenes. [S,AD] [HD]","startTime":1718482200,"duration":2700,"svcId":700,"evtId":17083,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvwr3l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715922000,"availabilityEnd":1873751581,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yjsm\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Later... with Jools Holland","description":"5\/6. With Richard Hawley, Remi Wolf, Nia Archives, Stephen Wilson Jr and Sahra Halgan. [S] [HD]","startTime":1718484900,"duration":2700,"svcId":700,"evtId":17084,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3p6gl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718487711,"availabilityEnd":1721079711,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020czd\u0026ui_id=4.0.0"},"seriesNo":79,"episodeNo":5},{"name":"LGBTQ+ Hits at the BBC","description":"Join us for this celebration of pop\u0027s greatest LGBTQ+ stars whose gender and sexuality are central to the story of their individual careers and the amazing songs they have created. [S] [HD]","startTime":1718487600,"duration":3600,"svcId":700,"evtId":17085,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ccp56d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718491328,"availabilityEnd":1721083328,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0018cg6\u0026ui_id=4.0.0"}},{"name":"Pride Hits at the BBC","description":"A musical celebration for International Pride Month, with a collection of the BBC\u0027s archives\u0027 biggest stars - including Kylie, Elton John and Lady Gaga. [S] [HD]","startTime":1718491200,"duration":3600,"svcId":700,"evtId":17086,"image":"\/ms\/img\/epg\/rb\/ae0c-p09n2y1n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718494888,"availabilityEnd":1721086888,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000xp6c\u0026ui_id=4.0.0"}},{"name":"Best of Glastonbury 2016","description":"A delightful round-up of highlights from the weekend\u0027s events at the Glastonbury Festival. Contains language which some may find offensive. [S] [HD]","startTime":1718494800,"duration":7800,"svcId":700,"evtId":17087,"image":"\/ms\/img\/epg\/rb\/ae0c-p07dcsjk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718502674,"availabilityEnd":1721094674,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b07k42d0\u0026ui_id=4.0.0"},"seriesNo":8},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1718502600,"duration":14100,"svcId":700,"evtId":17088,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Come Dine with Me","description":"Essex area. On the final night, 24-year-old Grace, who\u0027s a lover of all things Essex, plans to dazzle her guests with a glamorous party. (Ep5\/5)  [AD,S]","startTime":1718424300,"duration":1800,"svcId":1500,"evtId":25449,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false,"seriesNo":43,"episodeNo":55},{"name":"Escape to the Chateau","description":"A quick peek at some of the Strawbridges\u0027 best moments at the chateau, from series seven.  [AD,S]","startTime":1718426100,"duration":600,"svcId":1500,"evtId":25583,"image":"\/ms\/img\/epg\/rb\/5d52-414294809.l.png","hasTstv":false},{"name":"Frasier","description":"Voyage of the Damned: Frasier agrees to be a celebrity guest on a cruise ship to Alaska, but then Martin decides that the whole family should go on the trip together. (S5 Ep6)  [AD,S]","startTime":1718426700,"duration":1500,"svcId":1500,"evtId":25542,"image":"\/ms\/img\/epg\/rb\/5d52-650379.l.png","hasTstv":false,"seriesNo":5,"episodeNo":6},{"name":"Everybody Loves Raymond","description":"Finale: In the last episode of the US comedy series, events take a dramatic turn when Ray goes into hospital to have his adenoids removed. (S9 Ep16)  [AD,S]","startTime":1718428200,"duration":1500,"svcId":1500,"evtId":25121,"image":"\/ms\/img\/epg\/rb\/5d52-5506692.l.png","hasTstv":false,"seriesNo":9,"episodeNo":16},{"name":"Everybody Loves Raymond","description":"Pilot: Debra wants a peaceful birthday with Ray, so he tells his parents and brother that there\u0027s no party: a lie that has embarrassing consequences. (S1 Ep1)  [AD,S]","startTime":1718429700,"duration":1500,"svcId":1500,"evtId":25122,"image":"\/ms\/img\/epg\/rb\/5d52-964449.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Frasier","description":"Guns \u0027N\u0027 Neuroses: Lilith and Frasier are both set up on blind dates... on the same day... by a mutual friend. Niles and Daphne are upset when Martin\u0027s gun accidentally goes off. (S11 Ep9)  [AD,S]","startTime":1718431200,"duration":1500,"svcId":1500,"evtId":25579,"image":"\/ms\/img\/epg\/rb\/5d52-5029109.l.png","hasTstv":false,"seriesNo":11,"episodeNo":9},{"name":"Frasier","description":"Seabee Jeebies: After Maris is accused of murdering her husband, Niles becomes famous and starts mixing in the highest echelons of Seattle society. (S11 Ep10)  [AD,S]","startTime":1718432700,"duration":1500,"svcId":1500,"evtId":25580,"image":"\/ms\/img\/epg\/rb\/5d52-5035188.l.png","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"Alvin and the Chipmunks","description":"(2007) Part-animated family drama. Struggling songwriter Jason Lee\u0027s job is at risk - until he meets Alvin and his family of singing chipmunks.  [S]","startTime":1718434200,"duration":6600,"svcId":1500,"evtId":25123,"image":"\/ms\/img\/epg\/rb\/5d52-621837.l.png","hasTstv":false},{"name":"The Simpsons","description":"Kill the Alligator and Run: Homer thinks he only has four years to live. So he takes the family on holiday to Florida, but does something foolish and gets into big trouble... (S11 Ep19\/22)  [AD,S]","startTime":1718440800,"duration":1800,"svcId":1500,"evtId":25124,"image":"\/ms\/img\/epg\/rb\/5d52-388282066.l.png","hasTstv":false,"seriesNo":11,"episodeNo":19},{"name":"The Simpsons","description":"Last Tap Dance in Springfield: Lisa takes up dancing but discovers that she\u0027s not very good at it. Bart and Milhouse duck out of their camping trip and hide out in the mall. (S11 Ep20\/22)  [AD,S]","startTime":1718442600,"duration":1800,"svcId":1500,"evtId":25125,"image":"\/ms\/img\/epg\/rb\/5d52-388282068.l.png","hasTstv":false,"seriesNo":11,"episodeNo":20},{"name":"The Simpsons","description":"It\u0027s a Mad, Mad, Mad, Mad Marge: Otto marries his girlfriend Becky (guest star Parker Posey), but, in true rock \u0027n\u0027 roll fashion, the marriage is over as soon as it\u0027s begun. (S11 Ep21\/22)  [AD,S]","startTime":1718444400,"duration":1800,"svcId":1500,"evtId":25126,"image":"\/ms\/img\/epg\/rb\/5d52-89100.l.png","hasTstv":false,"seriesNo":11,"episodeNo":21},{"name":"The Simpsons","description":"Revenge Is a Dish Best Served Three Times: Homer\u0027s misguided revenge on Cletus combined with an untimely car breakdown leaves the Simpsons telling tales of revenge gone wrong. (S18 Ep11\/22)  [AD,S]","startTime":1718446200,"duration":1800,"svcId":1500,"evtId":25127,"image":"\/ms\/img\/epg\/rb\/5d52-6331254.l.png","hasTstv":false,"seriesNo":18,"episodeNo":11},{"name":"The Kid Who Would Be King","description":"(2019) Fantasy adventure. A 12-year-old from modern-day suburbia finds King Arthur\u0027s sword Excalibur and must save the country from a sinister sorceress. With Patrick Stewart.  [AD,S]","startTime":1718448000,"duration":8400,"svcId":1500,"evtId":25129,"image":"\/ms\/img\/epg\/rb\/5d52-2899364.l.png","hasTstv":false},{"name":"Couples Come Dine with Me","description":"In County Antrim, there\u0027s a Mexican fiesta, risky desserts and a vegetarian who doesn\u0027t like vegetables, as Rebecca and Gareth, Nel and Billy, and Mandy and Jim compete.  [S]","startTime":1718456400,"duration":3600,"svcId":1500,"evtId":25582,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":27},{"name":"Four in a Bed","description":"The first visit of the week is to The Lazy Pug in Warwickshire, run by best friends Ash and Rosie, where the quirky d\u00e9cor and neon lighting give some of the guests a headache.  [S]","startTime":1718460000,"duration":1800,"svcId":1500,"evtId":25131,"image":"\/ms\/img\/epg\/rb\/5d52-6560594.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers head to Cardiff to stay at Crofts Hotel, run by chef Lorraine. They\u0027re all expecting a knockout breakfast, but uninvited guests ruin things for some of them.  [S]","startTime":1718461800,"duration":1800,"svcId":1500,"evtId":25132,"image":"\/ms\/img\/epg\/rb\/5d52-6560643.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Anthony hosts the week\u0027s third visit at The Hollybush Inn, in Warwickshire. His 16th-century coaching inn wows the guests with its history. But some think the cleanliness needs updating.  [S]","startTime":1718463600,"duration":2100,"svcId":1500,"evtId":25133,"image":"\/ms\/img\/epg\/rb\/5d52-6560723.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers go glamping in the week\u0027s last visit, at The Pretty Thing glampsite in Essex. Ash and Rosie embrace the luxe of their Aztec tent before host Phil serves his first-ever breakfast.  [S]","startTime":1718465700,"duration":1800,"svcId":1500,"evtId":25134,"image":"\/ms\/img\/epg\/rb\/5d52-6561602.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s payment day, and the B\u0026Bers reconvene to feud about facilities, bicker over beds and cross swords over sausages, before the payments are revealed and the winner is announced.  [S]","startTime":1718467500,"duration":1800,"svcId":1500,"evtId":25135,"image":"\/ms\/img\/epg\/rb\/5d52-391890059.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Father and son Michael and Sami want to buy a holiday home with a pool on Spain\u0027s Costa del Sol for \u00a3280k. Will any of Laura Hamilton\u0027s options make a splash?  [S]","startTime":1718469300,"duration":3300,"svcId":1500,"evtId":25136,"image":"\/ms\/img\/epg\/rb\/5d52-5074650.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1718472600,"duration":1800,"svcId":1500,"evtId":25137,"image":"\/ms\/img\/epg\/rb\/5d52-9542359.l.png","hasTstv":false},{"name":"Devon and Cornwall: Fishing Lives","description":"This special programme celebrates the counties\u0027 shared heritage of fishing, as we meet people whose lives revolve around the 1000 miles of coastline and its bountiful waters.  [AD,S]","startTime":1718474400,"duration":3600,"svcId":1500,"evtId":25138,"image":"\/ms\/img\/epg\/rb\/5d52-5878429.l.png","hasTstv":false},{"name":"Fisherman\u0027s Friends","description":"(2019) Heart-warming comedy based on the real-life story of the Cornish folk ensemble who took the UK charts by storm in 2010, starring Daniel Mays and Tuppence Middleton.  [AD,S]","startTime":1718478000,"duration":7800,"svcId":1500,"evtId":25139,"image":"\/ms\/img\/epg\/rb\/5d52-3654176.l.png","hasTstv":false},{"name":"Air Force One","description":"(1997) Action-thriller with Harrison Ford and Gary Oldman. When terrorists hijack his plane, the President decides to take back control - all by himself. Violence\/strong language.  [AD,S]","startTime":1718485800,"duration":8400,"svcId":1500,"evtId":25140,"image":"\/ms\/img\/epg\/rb\/5d52-373448936.l.png","hasTstv":false},{"name":"Transformers: The Last Knight","description":"(2017) Mark Wahlberg stars in part five of the sci-fi action saga. Earth faces a grave threat from big metal aliens. Can an old Transformer\u0027s talisman save humanity?  [AD,S]","startTime":1718494200,"duration":9300,"svcId":1500,"evtId":25141,"image":"\/ms\/img\/epg\/rb\/5d52-262962780.l.png","hasTstv":false},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"In Los Angeles, Gordon visits Boardwalk 11, a gastropub and karaoke bar where the late-night singing entertainment has become more appealing than the dining experience. (S2 Ep7)  [AD,S,SL]","startTime":1718503500,"duration":3000,"svcId":1500,"evtId":25835,"image":"\/ms\/img\/epg\/rb\/5d52-412625091.l.png","hasTstv":false,"seriesNo":2,"episodeNo":7},{"name":"Hollyoaks Omnibus","description":"As Grace and Freddie head to the altar, will their plan pay off? Prince spirals at Hunter\u0027s wake. Joel seeks answers. A couple take drastic measures. And will Dave fall for Hannah\u0027s tricks?  [AD,S,SL]","startTime":1718506500,"duration":7200,"svcId":1500,"evtId":25142,"image":"\/ms\/img\/epg\/rb\/5d52-9542408.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('197');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('124');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('15');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'mp88N6ItZko', title: "My Criminal Dogs", label: "My Criminal Dogs by Haminations 1,792,832 views 1 day ago 17 minutes" },
{ id: 'wY1QotM4bkk', title: "JEFF HARDY Returns to TNA! | TNA Against All Odds 2024 Highlights", label: "JEFF HARDY Returns to TNA! | TNA Against All Odds 2024 Highlights by TNA Wrestling 231,829 views 13 hours ago 8 minutes, 33 seconds" },
{ id: 'l5ekHgK9DxU', title: "2024 U.S. Open Highlights: Round 2, Condensed", label: "2024 U.S. Open Highlights: Round 2, Condensed by United States Golf Association (USGA) 70,962 views 16 hours ago 5 minutes, 55 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "The season has finished :(";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Eighth Grade (2018)">Eighth Grade (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Eternal Sunshine of the Spotless Mind (2004)">Eternal Sunshine of the Spotless Mind (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Crash (1996)">Crash (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1-3, 2015-2017)">My Mad Fat Diary (S1-3, 2015-2017)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 211.68, tooltip: "Fri, Jun 14, 2024<br/>£211.68"},
{ number: 210.77, tooltip: "Thu, Jun 13, 2024<br/>£210.77"},
{ number: 210.23, tooltip: "Wed, Jun 12, 2024<br/>£210.23"},
{ number: 210.26, tooltip: "Tue, Jun 11, 2024<br/>£210.26"},
{ number: 210.47, tooltip: "Mon, Jun 10, 2024<br/>£210.47"},
{ number: 210.26, tooltip: "Fri, Jun 07, 2024<br/>£210.26"},
{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jun 14, 2024",
		"vs Day":      "Thu, Jun 13, 2024",
		"vs Week":     "Fri, Jun 07, 2024",
		"vs Month":    "Thu, May 16, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£211.68/share",
		'vs Day':      "+0.43%",
		'vs Week':     "+0.68%",
		'vs Month':    "+0.14%",
		'vs Year':     "+18.54%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '63.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 15 June and 16 June">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.639&p=0.824&r=0.795',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:43',
		Set:      '21:29',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Unbeknownst</em> means “without being known about by (a specified person or group of people).” </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Croatia">Croatia</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Hungary">Hungary</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23HUNSUI">#HUNSUI</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Embolo">Embolo</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Surrey+Police%22">Surrey Police</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Fubo">Fubo</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23Caturday">#Caturday</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23OverstockCrazyGoodDeals">#OverstockCrazyGoodDeals</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Switzerland">Switzerland</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23WWECastle">#WWECastle</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>