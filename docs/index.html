<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:07 24-Sep - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Flash floods and heavy rain batter England and Wales</b><br/>More than two month\'s worth of rain has fallen in some areas, causing disruption." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn4zy0mp8ldo">Flash floods and heavy rain batter England and Wales</a></li><li class="ttt" data-tt="<b>Starmer to promise \'light at the end of tunnel\'</b><br/>In his first conference speech as PM, Sir Keir will say a &quot;shared struggle&quot; is needed to build a new Britain."><a href="https://www.bbc.com/news/articles/c0e1gjexyxno">Starmer to promise \'light at the end of tunnel\'</a></li><li class="ttt" data-tt="<b>Harrods investigating if current staff involved in Fayed allegations</b><br/>One former employee tells the BBC a manager, who still works at the store, failed to investigate when she complained."><a href="https://www.bbc.com/news/articles/cdxr20lv8xvo">Harrods investigating if current staff involved in Fayed allegations</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn4zy0mp8ldo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e28d/live/5bfb7e30-79fd-11ef-8c1a-df523ba43a9a.jpg" class="ttt" data-tt="A drone view shows the A421 dual carriageway road after it was flooded following heavy rain, at Marston Moretaine near Bedford, Britain, September 23, 2024. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Why \'Comrade Kamala\' memes are spreading among Latino exiles</b><br/>The Democratic presidential nominee has been the target of misinformation portraying her as a communist." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn8jg11ynj7o">Why \'Comrade Kamala\' memes are spreading among Latino exiles</a></li><li class="ttt" data-tt="<b>What latest FBI data shows about violent crime</b><br/>BBC Verify looks at violent crime rates in the US following the release of new data from the FBI."><a href="https://www.bbc.com/news/articles/c4glxxreed7o">What latest FBI data shows about violent crime</a></li><li class="ttt" data-tt="<b>Suspect described Trump \'assassination attempt\' in pre-written note</b><br/>The letter was dropped off at the home of a witness several months before the incident in Florida."><a href="https://www.bbc.com/news/articles/c89ly20vvgvo">Suspect described Trump \'assassination attempt\' in pre-written note</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn8jg11ynj7o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3287/live/bf21ab10-76ce-11ef-a163-cf5ed1f7de06.jpg" class="ttt" data-tt="Kamala Harris addresses the Congressional Hispanic Caucus Institute on 18 September" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Israeli air strikes kill 492 people in Lebanon</b><br/>Israel says it hit 1,300 Hezbollah targets and tells civilians to flee areas near the group’s weapons." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cp3wy8kpy3eo">Israeli air strikes kill 492 people in Lebanon</a></li><li class="ttt" data-tt="<b>\'We just had to flee\': Fear and tension in Lebanon under deadly Israeli bombardment</b><br/>Thousands have fled southern Lebanon while others say they are leaving the capital Beirut."><a href="https://www.bbc.com/news/articles/crl8xw7ww70o">\'We just had to flee\': Fear and tension in Lebanon under deadly Israeli b...</a></li><li class="ttt" data-tt="<b>Suspect described Trump \'assassination attempt\' in pre-written note</b><br/>The letter was dropped off at the home of a witness several months before the incident in Florida."><a href="https://www.bbc.com/news/articles/c89ly20vvgvo">Suspect described Trump \'assassination attempt\' in pre-written note</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cp3wy8kpy3eo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2456/live/345321b0-79f0-11ef-b02d-c5f3b724a1ea.jpg" class="ttt" data-tt="Israeli air strikes on Tyre" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Swearing punishment could speed up F1 exit - Verstappen</b><br/>Max Verstappen says issues such as his punishment for swearing may &quot;decide my future&quot; and are &quot;really tiring&quot;." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c0m0wwk7ejno">Swearing punishment could speed up F1 exit - Verstappen</a></li><li class="ttt" data-tt="<b>Norris takes dominant Singapore win from Verstappen</b><br/>McLaren’s Lando Norris wins the Singapore Grand Prix to take a further chunk out of Max Verstappen’s advantage in the championship."><a href="https://www.bbc.com/sport/formula1/articles/c79n8dzl2zqo">Norris takes dominant Singapore win from Verstappen</a></li><li class="ttt" data-tt="<b>Ricciardo has \'good idea\' F1 career might be over</b><br/>Daniel Ricciardo says he has “a good idea” that he might have driven his last race in Formula 1."><a href="https://www.bbc.com/sport/formula1/articles/c98144n36p3o">Ricciardo has \'good idea\' F1 career might be over</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c0m0wwk7ejno"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/21dd/live/19aec620-7900-11ef-8923-bba15e4882b3.jpg" class="ttt" data-tt="Max Verstappen pictured at a Singapore Grand Prix news conference" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>MrBeast is YouTube\'s biggest star - now he faces 54-page lawsuit</b><br/>It’s been another busy week for Jimmy Donaldson, in what is becoming a bit of a theme for the world’s biggest YouTuber." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/ckgn8d04kdko">MrBeast is YouTube\'s biggest star - now he faces 54-page lawsuit</a></li><li class="ttt" data-tt="<b>A Tamagotchi comeback? Toy gets first UK store as global sales double</b><br/>The egg-shaped toy which housed a virtual pet was one of the biggest crazes of the 90s."><a href="https://www.bbc.com/news/articles/cd0zedgdvdlo">A Tamagotchi comeback? Toy gets first UK store as global sales double</a></li><li class="ttt" data-tt="<b>Sky Glass customers complain as TVs won\'t turn on</b><br/>The company has apologised to Sky Glass and Sky Stream customers encountering issues."><a href="https://www.bbc.com/news/articles/cy0lnxgnjkno">Sky Glass customers complain as TVs won\'t turn on</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/ckgn8d04kdko"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/64ce/live/66707d20-7728-11ef-8a58-3de0b1251a4e.png" class="ttt" data-tt="MrBeast, a young man with short brown hair and facial hair." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"23 Sep – 29 Sep","date":1727136E6,"ts":"Tue, 24","ds":"Tue, 24 Sep","icon":18,"desc":"Drizzle. Overcast.","temp":15,"templow":9,"cf":13,"wind":9,"wd":280,"hum":72,"pc":60,"rain":2.7 },{"date":17272224E5,"ts":"Wed, 25","ds":"Wed, 25 Sep","icon":33,"desc":"Light showers. Overcast.","temp":14,"templow":9,"cf":12,"wind":5,"wd":220,"hum":83,"pc":56,"rain":4.5 },{"date":17273088E5,"ts":"Thu, 26","ds":"Thu, 26 Sep","icon":22,"desc":"Thunderstorms. Overcast.","temp":13,"templow":9,"cf":11,"wind":11,"wd":200,"hum":86,"pc":75,"rain":14.9 },{"date":17273952E5,"ts":"Fri, 27","ds":"Fri, 27 Sep","icon":18,"desc":"Drizzle. Overcast.","temp":12,"templow":4,"cf":9,"wind":16,"wd":350,"hum":70,"pc":57,"rain":4.6 },{"date":17274816E5,"ts":"Sat, 28","ds":"Sat, 28 Sep","icon":6,"desc":"Mostly cloudy.","temp":13,"templow":4,"cf":11,"wind":11,"wd":250,"hum":65,"pc":4},{"date":1727568E6,"ts":"Sun, 29","ds":"Sun, 29 Sep","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":13,"templow":4,"cf":11,"wind":12,"wd":170,"hum":73,"pc":23,"rain":0.5 },{"hl":true,"hls":"30 Sep – 6 Oct","date":17276544E5,"ts":"Mon, 30","ds":"Mon, 30 Sep","icon":18,"desc":"Light rain. Overcast.","temp":10,"templow":7,"cf":7,"wind":13,"wd":280,"hum":86,"pc":60,"rain":7.7 },{"date":17277408E5,"ts":"Tue, 1","ds":"Tue, 1 Oct","icon":33,"desc":"Light showers. Cloudy.","temp":13,"templow":8,"cf":11,"wind":12,"wd":340,"hum":75,"pc":53,"rain":2.7 },{"date":17278272E5,"ts":"Wed, 2","ds":"Wed, 2 Oct","icon":4,"desc":"Increasing cloudiness.","temp":13,"templow":7,"cf":11,"wind":9,"wd":260,"hum":54,"pc":6},{"date":17279136E5,"ts":"Thu, 3","ds":"Thu, 3 Oct","icon":18,"desc":"Sprinkles early. Broken clouds.","temp":14,"templow":8,"cf":11,"wind":23,"wd":270,"hum":65,"pc":50,"rain":1.4 },{"date":1728E9,"ts":"Fri, 4","ds":"Fri, 4 Oct","icon":18,"desc":"Sprinkles late. Overcast.","temp":15,"templow":9,"cf":14,"wind":6,"wd":220,"hum":61,"pc":40,"rain":0.1 },{"date":17280864E5,"ts":"Sat, 5","ds":"Sat, 5 Oct","icon":33,"desc":"Showers late. Overcast.","temp":16,"templow":10,"cf":14,"wind":9,"wd":210,"hum":75,"pc":51,"rain":2.3 },{"date":17281728E5,"ts":"Sun, 6","ds":"Sun, 6 Oct","icon":4,"desc":"Morning clouds.","temp":17,"templow":12,"cf":17,"wind":19,"wd":240,"hum":69,"pc":58,"rain":0.3 },{"hl":true,"hls":"7 Oct – 13 Oct","date":17282592E5,"ts":"Mon, 7","ds":"Mon, 7 Oct","icon":4,"desc":"Increasing cloudiness.","temp":16,"templow":12,"cf":16,"wind":16,"wd":220,"hum":69,"pc":6},{"date":17283456E5,"ts":"Tue, 8","ds":"Tue, 8 Oct","icon":7,"desc":"Overcast.","temp":17,"templow":10,"cf":17,"wind":7,"wd":190,"hum":70,"pc":6}],"grid":{"temp":{"low":4,"high":17,"range":13},"prec":{"high":14.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2409/Comet23A3_Valente_960.jpg',
		Title:     'Comet Tsuchinshan-ATLAS Approaches',
		LinkImage: 'https://apod.nasa.gov/apod/image/2409/Comet23A3_Valente_5672.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240923.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Chestnut-crowned_antpitta_%28Grallaria_ruficapilla_ruficapilla%29_Caldas.jpg/450px-Chestnut-crowned_antpitta_%28Grallaria_ruficapilla_ruficapilla%29_Caldas.jpg',
		Title:    'Chestnut-crowned antpitta',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Chestnut-crowned_antpitta',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Chestnut-crowned_antpitta" title="Chestnut-crowned antpitta">chestnut-crowned antpitta</a></b> (<i>Grallaria ruficapilla</i>) is a species of bird in the <a href="https://en.wikipedia.org/wiki/Antpitta" title="Antpitta">antpitta</a> family, Grallariidae. It is found in Colombia, Ecuador, Peru, and Venezuela. It is around 18 to 23 centimetres (7.1 to 9.1&#160;in) long, with a mass of 70 to 98 grams (2.5 to 3.5&#160;oz). The sexes have the same plumage. Adults of the <a href="https://en.wikipedia.org/wiki/Subspecies#Nominotypical_subspecies_and_subspecies_autonyms" title="Subspecies">nominate subspecies</a> <i>G.&#160;r.&#160;ruficapilla</i> have a rufous crown, nape, and face with an olive-colored back, rump, tail, and wings. Its throat, breast, and belly are white with ochraceous edges on some breast feathers, and olivaceous and blackish streaks on their sides and sometimes their breast. This chestnut-crowned antpitta perching on a branch was photographed in the Río Blanco Ecological Reserve in <a href="https://en.wikipedia.org/wiki/Manizales" title="Manizales">Manizales</a>, Colombia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":1,"event":[{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1727136000,"duration":18000,"svcId":560,"evtId":27758,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":176},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1727154000,"duration":12600,"svcId":560,"evtId":27797,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727164800,"availabilityEnd":1727252940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00238c4\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Join Gethin Jones, Helen Skelton, Michelle Ackerley and the team for conversation, advice and tips to make your day that little bit easier. [S] [HD]","startTime":1727166600,"duration":4500,"svcId":560,"evtId":27799,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j52029.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727171075,"availabilityEnd":1758707075,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238c6\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":82},{"name":"SAS: Catching the Criminals","description":"12\/15. Ex-SAS leader Billy Billingham, Trading Standards and the police hunt down suspected rogue traders who are breaking the law and ripping off customers. [S] [HD]","startTime":1727171100,"duration":1800,"svcId":560,"evtId":27854,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnz66v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1725858000,"availabilityEnd":1757394000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022p9m\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":12},{"name":"Homes Under the Hammer","description":"A Southport Victorian villa provides a blank canvas for a six-figure development project, while in South Shields there\u0027s a much smaller budget for an already pristine maisonette. [S] [HD]","startTime":1727172900,"duration":3600,"svcId":560,"evtId":27855,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr74t1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727176483,"availabilityEnd":1769775220,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238vx\u0026ui_id=4.0.0"},"seriesNo":40},{"name":"Bargain Hunt","description":"Caroline Hawley is in Hemswell, Lincolnshire, with the reds and the blues led by experts Izzie Balmer and Mark Stacey. [S,AD] [HD]","startTime":1727176500,"duration":2700,"svcId":560,"evtId":27801,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fnrq3p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727179207,"availabilityEnd":1729771207,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001m70f\u0026ui_id=4.0.0"},"seriesNo":65},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1727179200,"duration":3600,"svcId":560,"evtId":27803,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":127},{"name":"Doctors","description":"Kirsty\u0027s news spreads, while Michelle does training with Graham. Scarlett tries a new venture, but things don\u0027t go to plan. [S,AD] [HD]","startTime":1727182800,"duration":1800,"svcId":560,"evtId":27856,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqwmdn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727184568,"availabilityEnd":1758720568,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238w1\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":246},{"name":"Robson Green\u0027s Weekend Escapes","description":"7\/15. Celebrity chef Kenny Atkinson joins Robson on a trip to Scotland\u0027s St Abb\u0027s Head. A birdwatching boat trip, outdoor cookery and pottery are on the menu. [S,AD] [HD]","startTime":1727184600,"duration":1800,"svcId":560,"evtId":27809,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h0pstk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704088800,"availabilityEnd":1735711200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tk2y\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"Escape to the Country","description":"12\/55. Jules Hudson unearths some unusual property choices in the magical landscape of Perth and Kinross, where he also learns about efforts to protect the River Tay\u0027s salmon population. [S] [HD]","startTime":1727186400,"duration":2700,"svcId":560,"evtId":27811,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gnppfk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727189087,"availabilityEnd":1729781087,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011vsh\u0026ui_id=4.0.0"},"seriesNo":43,"episodeNo":12},{"name":"Antiques Road Trip","description":"2\/25. Margie and Ochuko visit Staffordshire via the Trent and Mersey Canal. Railwayana puts one expert on track for profits, while the other hopes a birdcage will fly at auction. [S] [HD]","startTime":1727189100,"duration":2700,"svcId":560,"evtId":27921,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f1r885.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727191786,"availabilityEnd":1729783786,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001j6vy\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":2},{"name":"Garden Rescue","description":"22\/35. Lee and Chris go head-to-head to create a garden for all the family, including space for the ping-pong table! [S] [HD]","startTime":1727191800,"duration":2700,"svcId":560,"evtId":27857,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr75j1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727194489,"availabilityEnd":1760199305,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238w5\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":22},{"name":"New: Pointless","description":"19\/49. Alexander Armstrong is joined by co-host Gok Wan for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1727194500,"duration":2700,"svcId":560,"evtId":27858,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr0z23.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727197198,"availabilityEnd":1770227930,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238w9\u0026ui_id=4.0.0"},"seriesNo":32,"episodeNo":19},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1727197200,"duration":1800,"svcId":560,"evtId":27815,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727199090,"availabilityEnd":1727285490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238cf\u0026ui_id=4.0.0"},"episodeNo":127},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1727199000,"duration":1800,"svcId":560,"evtId":27816,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727200695,"availabilityEnd":1727287095,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238ch\u0026ui_id=4.0.0"},"episodeNo":177},{"name":"The One Show","description":"Alex Jones and Roman Kemp bring you the stories that matter from across the country. [S] [HD]","startTime":1727200800,"duration":1800,"svcId":560,"evtId":27859,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727202640,"availabilityEnd":1729794640,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238wd\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Bianca arrives demanding answers. Harry steps up in Kathy\u0027s hour of need. [S,AD] [HD]","startTime":1727202600,"duration":1800,"svcId":560,"evtId":27902,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr134f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727154000,"availabilityEnd":1806469200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239d1\u0026ui_id=4.0.0"},"episodeNo":6984},{"name":"Sort Your Life Out with Stacey...","description":"...Solomon. 1\/5. Stacey Solomon and her crack team help parents Tom and Chloe and their two daughters transform their family home through a life-changing declutter. [S,AD] [HD]","startTime":1727204400,"duration":3600,"svcId":560,"evtId":27903,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g9xg6k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1694116911,"availabilityEnd":1759035540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001q94r\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"Waterloo Road","description":"3\/8. Donte steps up for a struggling Tonya, while Nicky\u0027s distracted by an old flame. Coral and Neil\u0027s relationship is put to the test when she\u0027s asked to reprimand him. [S,AD] [HD]","startTime":1727208000,"duration":3600,"svcId":560,"evtId":27904,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnhcbl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1725944400,"availabilityEnd":1883710800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0022lx2\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":3},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1727211600,"duration":1800,"svcId":560,"evtId":27817,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727213490,"availabilityEnd":1727299890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238ck\u0026ui_id=4.0.0"},"episodeNo":127},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1727213400,"duration":600,"svcId":560,"evtId":27818,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727213850,"availabilityEnd":1727300250,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238cm\u0026ui_id=4.0.0"},"episodeNo":152},{"name":"A Star Is Born","description":"Club singer Ally falls for country star Jackson, but his alcoholism derails their careers. Contains strong language. [2018] [S,AD] [HD]","startTime":1727214000,"duration":7500,"svcId":560,"evtId":27905,"image":"\/ms\/img\/epg\/rb\/fec6-p0b8k5n0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727221758,"availabilityEnd":1729813758,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0012ws6\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1727221500,"duration":300,"svcId":560,"evtId":27819,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727222051,"availabilityEnd":1727828548,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238cp\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1727221800,"duration":18600,"svcId":560,"evtId":27820,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":177}]},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1727145000,"duration":10800,"svcId":700,"evtId":19405,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Bargain Hunt","description":"Roo Irvine challenges people in County Antrim to identify a mystery object, while two teams hunt for bargains at an antiques fair with experts Caroline Hawley and Thomas Forrester. [S] [HD]","startTime":1727155800,"duration":2700,"svcId":700,"evtId":19370,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrhyb1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727092799,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238tp\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"Garden Rescue","description":"21\/35. Chris and Lee are in Congleton to transform Marie\u0027s prison yard garden, with imposing high walls, into a traditional cottage garden. [S] [HD]","startTime":1727158500,"duration":2700,"svcId":700,"evtId":19372,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr0gr2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727108074,"availabilityEnd":1760199305,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023994\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":21},{"name":"Big Cats 24\/7","description":"4\/6. The Okavango Delta is transformed by the arrival of the flood, bringing new challenges for the big cats. The lion cubs experience water and the danger it brings for the first time. [S,AD,SL] [HD]","startTime":1727161200,"duration":3600,"svcId":700,"evtId":19374,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jl63gw.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1727164800,"duration":11700,"svcId":700,"evtId":19376,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1727176500,"duration":2700,"svcId":700,"evtId":19378,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727179295,"availabilityEnd":1729771295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239x9\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"17\/30. The quiz show where players must avoid Impossible answers to stay in the competition. How many of today\u0027s players will survive to face the \u00a310,000 question? [S] [HD]","startTime":1727179200,"duration":2700,"svcId":700,"evtId":19380,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727181980,"availabilityEnd":1729773980,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000typc\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":17},{"name":"Politics Live Conference 2024","description":"The big political issues of the day. [S] [HD]","startTime":1727181900,"duration":6300,"svcId":700,"evtId":19382,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727188230,"availabilityEnd":1729780230,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239xc\u0026ui_id=4.0.0"}},{"name":"Food \u0026 Drink: Keep It Simple","description":"2\/10. Tom Kerridge and MasterChef judge Monica Galetti go head to head to come up with the best simple but spectacular recipe. [S,AD] [HD]","startTime":1727188200,"duration":1800,"svcId":700,"evtId":19384,"image":"\/ms\/img\/epg\/rb\/ae0c-p02g4yzs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727190019,"availabilityEnd":1729782019,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b04xmtsk\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":2},{"name":"Home away from Home","description":"Families swap homes with complete strangers to travel around the UK. A family from Shropshire and a couple from Greater Manchester try out a new way of life. [S] [HD]","startTime":1727190000,"duration":2700,"svcId":700,"evtId":19386,"image":"\/ms\/img\/epg\/rb\/fec6-p033szwp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727192717,"availabilityEnd":1729784717,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06kvp6n\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":17},{"name":"Villages by the Sea - Lindisfarne","description":"Archaeologist Ben Robinson discovers the story of the monks and villagers of the Holy Island of Lindisfarne, off the Northumberland coast. [S] [HD]","startTime":1727192700,"duration":1800,"svcId":700,"evtId":19388,"image":"\/ms\/img\/epg\/rb\/fec6-p07wxv9x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689310800,"availabilityEnd":1734328800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000c7m1\u0026ui_id=4.0.0"},"seriesNo":1},{"name":"Flog It!","description":"13\/60. Paul Martin visits the Watts Gallery in the heart of the Surrey countryside, where David Harper uncovers a collection of British film and TV memorabilia. [S] [HD]","startTime":1727194500,"duration":2700,"svcId":700,"evtId":19390,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727197196,"availabilityEnd":1729789196,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0bqrmwd\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":13},{"name":"Richard Osman\u0027s House of Games","description":"2\/100. Ahir Shah, Michaela Strachan, Dr Xand van Tulleken and Vogue Williams test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1727197200,"duration":1800,"svcId":700,"evtId":19392,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr9zn6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727199000,"availabilityEnd":1764440930,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239xf\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":2},{"name":"Strictly - It Takes Two","description":"2\/60. Fleur East dishes up some more backstage gossip and behind-the-scenes action from the world of Strictly as the couples prepare for their next dances. [S] [HD]","startTime":1727199000,"duration":1800,"svcId":700,"evtId":19394,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727200805,"availabilityEnd":1765654200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239xj\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":2},{"name":"Designing the Hebrides","description":"2\/6. Banjo and his team have been tasked with making over an apothecary on Harris. The large, cavernous space will need completely renovating on a tiny budget. [S,AD] [HD]","startTime":1727200800,"duration":1800,"svcId":700,"evtId":19396,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnrjrs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726462800,"availabilityEnd":1757998800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022zbz\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"Nadiya\u0027s Cook Once, Eat Twice","description":"2\/6. Nadiya presents some quick and easy midweek recipes. A beef stir-fry is spun into a sushi style wrap, plus emergency frozen burritos and an ingenious two-in-one corn chowder and pie. [S,AD] [HD]","startTime":1727202600,"duration":1800,"svcId":700,"evtId":19398,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrj0h6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727204431,"availabilityEnd":1761159529,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239xp\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Digging for Britain","description":"6\/6. In Scotland and the north of England, Alice investigates an Ice Age camp, the mystery of a medieval skeleton and the earliest evidence of salt making in Britain. [S,AD] [HD]","startTime":1727204400,"duration":3600,"svcId":700,"evtId":19400,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dr5kxt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727208054,"availabilityEnd":1729800054,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0dm82fz\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":6},{"name":"Saving Lives in Cardiff","description":"6\/6. Surgeons face a high-risk operation on a tumour they know is a \u0027ticking time-bomb\u0027. Contains graphic medical scenes. [S,AD] [HD]","startTime":1727208000,"duration":3600,"svcId":700,"evtId":19402,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr770h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727211666,"availabilityEnd":1758747666,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00239xt\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Colin from Accounts","description":"7\/8. Gordon redirects his grief into making Colin a TV star. Contains very strong language and adult humour [S,AD] [HD]","startTime":1727211600,"duration":1800,"svcId":700,"evtId":19404,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jm9kz5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1725339600,"availabilityEnd":1819861200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021z71\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1727213400,"duration":1800,"svcId":700,"evtId":19406,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727215290,"availabilityEnd":1758751290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239xy\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1727215200,"duration":300,"svcId":700,"evtId":19407,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727215499,"availabilityEnd":1727301899,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239y2\u0026ui_id=4.0.0"}},{"name":"Cricket: England v Australia...","description":"...ODI Highlights. Highlights from the third ODI between England and Australia of 2024. [S] [HD]","startTime":1727215500,"duration":3600,"svcId":700,"evtId":19408,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrrsgl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727219135,"availabilityEnd":1729811135,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239y6\u0026ui_id=4.0.0"}},{"name":"Have I Got News For You US","description":"2\/10. As the American election heats up, Roy Wood Jr. hosts \u0027Have I Got News For You US\u0027 with team captains Amber Ruffin and Michael Ian Black. Joined by Rosebud Baker and Charlie Dent. [S] [HD]","startTime":1727219100,"duration":2700,"svcId":700,"evtId":19722,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrgndr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727221825,"availabilityEnd":1758757825,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023qtg\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Celebrity MasterChef","description":"17\/18. Finals Week continues, and the remaining four celebrities battle for their place in the final three. [S,AD,SL] [HD]","startTime":1727221800,"duration":3600,"svcId":700,"evtId":19409,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jq4jsg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726462800,"availabilityEnd":1893391200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00232nf\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":17},{"name":"Who Do You Think You Are?","description":"Olly Murs explores his grandfather\u0027s Latvian roots and discovers his great-grandparents were circus performers, and how a wartime decision led to a tragic family estrangement. [S,AD,SL] [HD]","startTime":1727225400,"duration":3600,"svcId":700,"evtId":19410,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jppmkv.jpg","hasTstv":false,"seriesNo":23,"episodeNo":6},{"name":"In My Own Words:  Hanif Kureishi","description":"Hanif Kureishi explores his life and career using personal archive footage and his films. Contains some strong language. [S,AD,SL] [HD]","startTime":1727229000,"duration":2700,"svcId":700,"evtId":19411,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jpgjqr.jpg","hasTstv":false,"seriesNo":1},{"name":"Our Yorkshire Stately Home","description":"How one of the UK\u0027s grandest stately homes is being saved from ruin by an army of devoted local volunteers. [S,AD,SL] [HD]","startTime":1727231700,"duration":1800,"svcId":700,"evtId":19412,"image":"\/ms\/img\/epg\/rb\/fec6-p0jgm4jk.jpg","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1727233500,"duration":8700,"svcId":700,"evtId":19413,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Kottukkaali","description":"South Asian Film Season. (2024) Drama. A woman falls in love with a man from a lower caste, resulting in familial outrage and pagan cleansing. In Tamil\/subs. Strong language\/violence.  [S]","startTime":1727142000,"duration":6000,"svcId":1500,"evtId":41305,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebs to the test in tricky crafting challenges. Comedians Rufus Hound and Jenny Eclair compete to make kimono-style garments in just 30 minutes.  [S]","startTime":1727148000,"duration":600,"svcId":1500,"evtId":41306,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Frasier","description":"Dinner Party: Frasier and Niles decide to throw a dinner party but can\u0027t agree on who they should invite. (S6 Ep17)  [AD,S]","startTime":1727148600,"duration":1500,"svcId":1500,"evtId":40867,"image":"\/ms\/img\/epg\/rb\/5d52-799250.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"Frasier","description":"Taps at the Montana: Niles wants his apartment back, but he must face up to both the snooty neighbours who think he is a menace and the person who is renting from him. (S6 Ep18)  [AD,S]","startTime":1727150100,"duration":1500,"svcId":1500,"evtId":40868,"image":"\/ms\/img\/epg\/rb\/5d52-801726.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"Frasier","description":"IQ: Who has the most impressive IQ - Frasier or Niles? The results of their childhood tests are finally revealed, and one is much higher than the other. (S6 Ep19)  [AD,S]","startTime":1727151600,"duration":1500,"svcId":1500,"evtId":40869,"image":"\/ms\/img\/epg\/rb\/5d52-804121.l.png","hasTstv":false,"seriesNo":6,"episodeNo":19},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Bob Harris joins Susie Dent in Dictionary Corner.  [S]","startTime":1727153100,"duration":2400,"svcId":1500,"evtId":40870,"image":"\/ms\/img\/epg\/rb\/5d52-9956106.l.png","hasTstv":false},{"name":"Cheers","description":"Two Girls for Every Boyd: Sam, Frasier, Cliff and Norm hold a beard-growing contest to show their manliness. Woody worries about the romantic scenes in his first leading role. (S8 Ep9\/26)  [S]","startTime":1727155500,"duration":1500,"svcId":1500,"evtId":40871,"image":"\/ms\/img\/epg\/rb\/5d52-59324.l.png","hasTstv":false,"seriesNo":8,"episodeNo":9},{"name":"Cheers","description":"The Art of the Steal: Norm rounds up Woody, Cliff and Frasier for a game of Monopoly, to teach Woody the principles of economics. Rebecca and Sam get trapped in Robin\u0027s flat. (S8 Ep10\/26)  [S]","startTime":1727157000,"duration":1500,"svcId":1500,"evtId":40872,"image":"\/ms\/img\/epg\/rb\/5d52-586691.l.png","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"Cheers","description":"Feeble Attraction: Robin has an antique desk delivered to Rebecca as a gift and hints at the possibility of a ring hidden in it. Confusion arises when Norm fires his secretary. (S8 Ep11\/26)  [S]","startTime":1727158500,"duration":1800,"svcId":1500,"evtId":40873,"image":"\/ms\/img\/epg\/rb\/5d52-588631.l.png","hasTstv":false,"seriesNo":8,"episodeNo":11},{"name":"The King of Queens","description":"Wedding Presence: Doug and Carrie don\u0027t want to go to their friends\u0027 wedding in Maryland, so they concoct an elaborate plan to fool them into thinking they are there. (S3 Ep12\/25)  [AD,S]","startTime":1727160300,"duration":1500,"svcId":1500,"evtId":40874,"image":"\/ms\/img\/epg\/rb\/5d52-1251325.l.png","hasTstv":false,"seriesNo":3,"episodeNo":12},{"name":"The King of Queens","description":"Hi-Def Jam: Doug sees a TV that\u0027s better than his 55-inch. When he finds out Carrie\u0027s boss has one, he schemes to get himself and the boys invited over to watch the Super Bowl. (S3 Ep13\/25)  [AD,S]","startTime":1727161800,"duration":1500,"svcId":1500,"evtId":41307,"image":"\/ms\/img\/epg\/rb\/5d52-1251347.l.png","hasTstv":false,"seriesNo":3,"episodeNo":13},{"name":"The King of Queens","description":"Paint Misbehavin\u0027: At Deacon\u0027s paintball party, Doug is shocked to learn Carrie finds Deacon attractive, and Richie still has a thing for Doug\u0027s sister Stephanie (Ricki Lake). (S3 Ep14\/25)  [AD,S]","startTime":1727163300,"duration":1800,"svcId":1500,"evtId":41308,"image":"\/ms\/img\/epg\/rb\/5d52-1251441.l.png","hasTstv":false,"seriesNo":3,"episodeNo":14},{"name":"Frasier","description":"A Crane\u0027s Critique: While enjoying a quiet coffee, Frasier and Niles realise that they are sitting next to one of America\u0027s most famous authors. (S4 Ep4)  [AD,S]","startTime":1727165100,"duration":1800,"svcId":1500,"evtId":40877,"image":"\/ms\/img\/epg\/rb\/5d52-555824.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Frasier","description":"Head Game: When Niles fills in for Frasier at the radio station, he becomes a big hit with a famous basketball player. (S4 Ep5)  [AD,S]","startTime":1727166900,"duration":1800,"svcId":1500,"evtId":40878,"image":"\/ms\/img\/epg\/rb\/5d52-557920.l.png","hasTstv":false,"seriesNo":4,"episodeNo":5},{"name":"Frasier","description":"Mixed Doubles: Daphne is inconsolable when her boyfriend breaks up with her, and Niles decides it\u0027s time to declare his true feelings for her. (S4 Ep6)  [AD,S]","startTime":1727168700,"duration":1800,"svcId":1500,"evtId":40879,"image":"\/ms\/img\/epg\/rb\/5d52-559467.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"Frasier","description":"A Lilith Thanksgiving: Frasier and Lilith are reunited when they try to convince the headmaster of a popular private school that their son is the perfect candidate. (S4 Ep7)  [AD,S]","startTime":1727170500,"duration":1800,"svcId":1500,"evtId":40880,"image":"\/ms\/img\/epg\/rb\/5d52-561808.l.png","hasTstv":false,"seriesNo":4,"episodeNo":7},{"name":"Come Dine with Me: The...","description":"...Professionals: In Birmingham, Bun \u0026 Co\u0027s Indian-fusion fast food takes on an Oktoberfest evening at The Rafters Cafe and the Lion Sports Bar\u0027s Caribbean cuisine. (S1 Ep13)  [S]","startTime":1727172300,"duration":3600,"svcId":1500,"evtId":40881,"image":"\/ms\/img\/epg\/rb\/5d52-6187010.l.png","hasTstv":false,"seriesNo":1,"episodeNo":13},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1727175900,"duration":300,"svcId":1500,"evtId":40882,"image":"\/ms\/img\/epg\/rb\/5d52-9956187.l.png","hasTstv":false},{"name":"Narrow Escapes","description":"Work on Kevin and Tina\u0027s boat continues, but will their plans to deliver it at a boat show be a wash out? Nick and Gina head to the Bingley Five Rise. (Ep12\/20)  [AD,S]","startTime":1727176200,"duration":3600,"svcId":1500,"evtId":40883,"image":"\/ms\/img\/epg\/rb\/5d52-9394038.l.png","hasTstv":false,"seriesNo":1,"episodeNo":12},{"name":"Find It, Fix It, Flog It","description":"Simon O\u0027Brien and Henry Cole find a gramophone and restyle a stowaway bed. Simon accidentally puts his foot in it with a drum, while Henry decides that he\u0027s a silver surfer. (S4 Ep18)  [AD,S]","startTime":1727179800,"duration":3600,"svcId":1500,"evtId":40884,"image":"\/ms\/img\/epg\/rb\/5d52-387982077.l.png","hasTstv":false,"seriesNo":4,"episodeNo":18},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Bob Harris joins Susie Dent in Dictionary Corner.  [S]","startTime":1727183400,"duration":3000,"svcId":1500,"evtId":40885,"image":"\/ms\/img\/epg\/rb\/5d52-9956193.l.png","hasTstv":false},{"name":"Chateau DIY","description":"Donna and Paul create a highlander-themed suite. Ben and Billie give Ch\u00e2teau La Grande Maison\u0027s facade a facelift. And changing a chateau lightbulb can be a tall order. (S4 Ep12)  [AD,S]","startTime":1727186400,"duration":3600,"svcId":1500,"evtId":40886,"image":"\/ms\/img\/epg\/rb\/5d52-8858238.l.png","hasTstv":false,"seriesNo":4,"episodeNo":12},{"name":"A Place in the Sun","description":"Fitness instructor Katie and her eldest son Michael have fallen in love with the seaside town of Paphos on Cyprus. Jean Johansson helps them find their dream holiday home there for \u00a380k.  [S]","startTime":1727190000,"duration":3600,"svcId":1500,"evtId":40887,"image":"\/ms\/img\/epg\/rb\/5d52-405719253.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"The new series continues. Can Carrie and Ross save a Bulgarian village from dereliction? Ken and Pauline have a mechanical meltdown. Lolly and Sean fight to resurrect a manoir. (S3 Ep12\/30)  [S]","startTime":1727193600,"duration":3600,"svcId":1500,"evtId":40888,"image":"\/ms\/img\/epg\/rb\/5d52-9950661.l.png","hasTstv":false,"seriesNo":3,"episodeNo":12},{"name":"A Place in the Sun","description":"Penny wants to move to the Spanish sunshine permanently and run her business from a new home in M\u00e1laga. Can Laura Hamilton find her the perfect place for her budget of \u00a3120,000?  [S]","startTime":1727197200,"duration":1800,"svcId":1500,"evtId":40889,"image":"\/ms\/img\/epg\/rb\/5d52-9950658.l.png","hasTstv":false},{"name":"The Simpsons","description":"Papa\u0027s Got a Brand New Badge: Homer, Lenny and Carl start a security firm and are given the contract to look after the town when Mayor Quimby realises how inept Chief Wiggum is. (S13 Ep22)  [AD,S]","startTime":1727199000,"duration":1800,"svcId":1500,"evtId":40890,"image":"\/ms\/img\/epg\/rb\/5d52-1768587.l.png","hasTstv":false,"seriesNo":13,"episodeNo":22},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1727200800,"duration":3600,"svcId":1500,"evtId":40891,"image":"\/ms\/img\/epg\/rb\/5d52-9956203.l.png","hasTstv":false},{"name":"New: The Great British Bake Off","description":"Bake Off\u0027s back, as a new set of bakers enter the tent. It\u0027s Cake Week and the bakers elevate a loaf cake, tackle a Technical with a twist and make bamboozling illusion cakes. (S15 Ep1\/10)  [AD,S]","startTime":1727204400,"duration":5400,"svcId":1500,"evtId":40892,"image":"\/ms\/img\/epg\/rb\/5d52-9950016.l.png","hasTstv":false,"seriesNo":15,"episodeNo":1},{"name":"New: Into the Jungle with Ed...","description":"...Stafford: Explorer Ed Stafford leads six dads and their kids on an epic jungle adventure designed to bring them closer. First, the dads must find their kids - in dense jungle... (Ep1\/6)  [AD,S]","startTime":1727209800,"duration":3600,"svcId":1500,"evtId":40893,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Gogglebox","description":"On the box this time: Britain\u0027s Got Talent, One Night Stand, Gordon Ramsay\u0027s Future Food Stars, Freeze the Fear with Wim Hof and Great British History Hunters. (S19 Ep12)  [AD,S]","startTime":1727213400,"duration":3600,"svcId":1500,"evtId":41115,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":19,"episodeNo":12},{"name":"Gogglebox","description":"This time, the Goggleboxers watched: Celebrity Race Across the World; Nightsleeper; Married at First Sight UK; Selling Sunset; Nadiya\u0027s Cook Once, Eat Twice and Haunted Hospitals. (S24 Ep2)  [AD,S,SL]","startTime":1727217000,"duration":3900,"svcId":1500,"evtId":41116,"image":"\/ms\/img\/epg\/rb\/5d52-9922089.l.png","hasTstv":false,"seriesNo":24,"episodeNo":2},{"name":"Taskmaster","description":"Jack Dee has a dramatic wardrobe change, Rosie Jones presents her new baby, and Emma Sidi\u0027s got Tamzin Outhwaite on the brain. Plus: multi-headed beasts, and a very dull ghost. (S18 Ep2\/10)  [AD,S,SL]","startTime":1727220900,"duration":3300,"svcId":1500,"evtId":40896,"image":"\/ms\/img\/epg\/rb\/5d52-9921625.l.png","hasTstv":false,"seriesNo":18,"episodeNo":2},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Love Bites: Engaged couple Christopher and Tess inherited a New York diner, but working together has created a toxic work environment. Can Gordon help? (S8 Ep6)  [S]","startTime":1727224200,"duration":3000,"svcId":1500,"evtId":40897,"image":"\/ms\/img\/epg\/rb\/5d52-9930464.l.png","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"Paradise","description":"South Asian Film Season. (2023) Drama. A busy couple\u0027s romantic break in the hills of Sri Lanka turns into a nightmare. In Tamil\/Hindi\/Sinhala\/Malayalam\/subs. Strong language\/violence.  [S]","startTime":1727227200,"duration":5700,"svcId":1500,"evtId":41312,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Jamie\u0027s Comfort Food","description":"Jamie Oliver cooks British classics and comfort food for all seasons. On the menu this time is lobster mac and cheese.  [S]","startTime":1727232900,"duration":600,"svcId":1500,"evtId":41368,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":10},{"name":"Frasier","description":"Dr Nora: Venomous radio therapist Dr Nora (guest star Christine Baranski) joins Frasier at KACL. (S6 Ep20)  [AD,S]","startTime":1727233500,"duration":1500,"svcId":1500,"evtId":41212,"image":"\/ms\/img\/epg\/rb\/5d52-805847.l.png","hasTstv":false,"seriesNo":6,"episodeNo":20},{"name":"Frasier","description":"When a Man Loves Two Women: Frasier dates Cassandra, with whom he had a confusing time on Valentine\u0027s Day. Then he bumps into Faye and decides to date her too. (S6 Ep21)  [AD,S]","startTime":1727235000,"duration":1500,"svcId":1500,"evtId":41320,"image":"\/ms\/img\/epg\/rb\/5d52-808578.l.png","hasTstv":false,"seriesNo":6,"episodeNo":21},{"name":"Frasier","description":"Visions of Daphne: Daphne gets engaged to her boyfriend Donny but then has a psychic vision that suggests he isn\u0027t the right man for her. (S6 Ep22)  [AD,S]","startTime":1727236500,"duration":1500,"svcId":1500,"evtId":41314,"image":"\/ms\/img\/epg\/rb\/5d52-811198.l.png","hasTstv":false,"seriesNo":6,"episodeNo":22}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('335');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('73');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('20');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'v-94Snw-H4o', title: "Marvel Studios’ Thunderbolts* | Teaser Trailer | Only In Theaters May 2025", label: "Marvel Studios’ Thunderbolts* | Teaser Trailer | Only In Theaters May 2025 by Marvel Entertainment 7,635,145 views 10 hours ago 3 minutes, 25 seconds" },
{ id: 'T1AyeatGMoM', title: "MANSORY WANT BACK MY WRECKED ROLLS ROYCE I JUST REBUILT", label: "MANSORY WANT BACK MY WRECKED ROLLS ROYCE I JUST REBUILT by Mat Armstrong 3,459,749 views 1 day ago 40 minutes" },
{ id: '6A0fyUnx3oY', title: "Stones 98th min equaliser in BLOCKBUSTER! 🍿 | Man City 2-2 Arsenal | Premier League Highlights", label: "Stones 98th min equaliser in BLOCKBUSTER! 🍿 | Man City 2-2 Arsenal | Premier League Highlights by Sky Sports Premier League 1,497,954 views 1 day ago 3 minutes, 8 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in media module: The message filter indicated that the application is busy. (0x8001010A (RPC_E_SERVERCALL_RETRYLATER))');

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 213.25, tooltip: "Fri, Sep 20, 2024<br/>£213.25"},
{ number: 214.33, tooltip: "Thu, Sep 19, 2024<br/>£214.33"},
{ number: 211.62, tooltip: "Wed, Sep 18, 2024<br/>£211.62"},
{ number: 212.58, tooltip: "Tue, Sep 17, 2024<br/>£212.58"},
{ number: 212.24, tooltip: "Mon, Sep 16, 2024<br/>£212.24"},
{ number: 212.49, tooltip: "Fri, Sep 13, 2024<br/>£212.49"},
{ number: 212.10, tooltip: "Thu, Sep 12, 2024<br/>£212.10"},
{ number: 211.19, tooltip: "Wed, Sep 11, 2024<br/>£211.19"},
{ number: 209.25, tooltip: "Tue, Sep 10, 2024<br/>£209.25"},
{ number: 208.64, tooltip: "Mon, Sep 09, 2024<br/>£208.64"},
{ number: 205.95, tooltip: "Fri, Sep 06, 2024<br/>£205.95"},
{ number: 208.82, tooltip: "Thu, Sep 05, 2024<br/>£208.82"},
{ number: 209.37, tooltip: "Wed, Sep 04, 2024<br/>£209.37"},
{ number: 211.55, tooltip: "Tue, Sep 03, 2024<br/>£211.55"},
{ number: 214.02, tooltip: "Mon, Sep 02, 2024<br/>£214.02"},
{ number: 214.38, tooltip: "Fri, Aug 30, 2024<br/>£214.38"},
{ number: 212.55, tooltip: "Thu, Aug 29, 2024<br/>£212.55"},
{ number: 211.54, tooltip: "Wed, Aug 28, 2024<br/>£211.54"},
{ number: 212.11, tooltip: "Tue, Aug 27, 2024<br/>£212.11"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Sep 20, 2024",
		"vs Day":      "Thu, Sep 19, 2024",
		"vs Week":     "Fri, Sep 13, 2024",
		"vs Month":    "Tue, Aug 27, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£213.25/share",
		'vs Day':      "-0.50%",
		'vs Week':     "+0.36%",
		'vs Month':    "+0.54%",
		'vs Year':     "+17.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '58.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 23 September and 24 September">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.589&p=3.771&r=0.657',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:56',
		Set:      '18:58',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To rue something is to feel penitence, remorse, or regret for it. <em>Rue</em> is often used in the phrase "rue the day."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>