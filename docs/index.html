<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:37 4-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Thousands of rental adverts say no to children or pets</b><br/>The findings from BBC analysis reveal a serious problem, say charities but agents say landlords are worried about damage." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/business-66030048?at_medium=RSS&amp;at_campaign=KARANGA">Thousands of rental adverts say no to children or pets</a></li><li class="ttt" data-tt="<b>New fuel-finder scheme to help drivers cut costs</b><br/>Retailers will be &quot;held to account&quot;, ministers say, after drivers paid an extra 6p per litre for fuel in 2022."><a href="https://www.bbc.co.uk/news/business-66085232?at_medium=RSS&amp;at_campaign=KARANGA">New fuel-finder scheme to help drivers cut costs</a></li><li class="ttt" data-tt="<b>NHS to offer sight-saving drug to premature babies</b><br/>Premature babies can now routinely be given the drug ranibizumab on the NHS, to prevent blindness."><a href="https://www.bbc.co.uk/news/health-66085393?at_medium=RSS&amp;at_campaign=KARANGA">NHS to offer sight-saving drug to premature babies</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/business-66030048?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10BE1/production/_130277586_sara-index-bbc.jpg" class="ttt" data-tt="Sara, who has found it difficult to find somewhere to live" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Baltimore shooting: Police hunt for suspects after dozens shot at block party</b><br/>Gunfire erupted at a large block party in the city, leaving two dead and 28 others injured." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66079407?at_medium=RSS&amp;at_campaign=KARANGA">Baltimore shooting: Police hunt for suspects after dozens shot at block party</a></li><li class="ttt" data-tt="<b>Fourth of July: Hundreds of flights cancelled amid storm warnings</b><br/>Hundreds of flights are delayed as severe storm warnings threaten a swathe of the country."><a href="https://www.bbc.co.uk/news/world-us-canada-66089624?at_medium=RSS&amp;at_campaign=KARANGA">Fourth of July: Hundreds of flights cancelled amid storm warnings</a></li><li class="ttt" data-tt="<b>Legacy admissions: Harvard accused of favouring mostly white students</b><br/>Civil rights lawyers argue that legacy admissions benefit the wealthy at the expense of minority students."><a href="https://www.bbc.co.uk/news/world-us-canada-66089626?at_medium=RSS&amp;at_campaign=KARANGA">Legacy admissions: Harvard accused of favouring mostly white students</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66079407?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/335B/production/_130274131_gettyimages-1390365271.jpg" class="ttt" data-tt="Image shows the scene of the shooting" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Jenin: Israeli military launches major operation in West Bank city</b><br/>Nine Palestinians are killed as troops carry out an air and ground assault in the West Bank city." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-middle-east-66083295?at_medium=RSS&amp;at_campaign=KARANGA">Jenin: Israeli military launches major operation in West Bank city</a></li><li class="ttt" data-tt="<b>Watch: Explosions and gunfire as BBC reports from Jenin</b><br/>Yolande Knell is near the camp where Israeli forces and armed Palestinian militants are fighting."><a href="https://www.bbc.co.uk/news/world-middle-east-66093147?at_medium=RSS&amp;at_campaign=KARANGA">Watch: Explosions and gunfire as BBC reports from Jenin</a></li><li class="ttt" data-tt="<b>France riots ease as mayors hold anti-violence rally</b><br/>French mayors denounce &quot;extreme violence&quot; of the protests which swept the country for almost a week."><a href="https://www.bbc.co.uk/news/world-europe-66084677?at_medium=RSS&amp;at_campaign=KARANGA">France riots ease as mayors hold anti-violence rally</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-middle-east-66083295?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/126B7/production/_130274457_mediaitem130274454.jpg" class="ttt" data-tt="Palestinians run for cover as Israeli military vehicles move through Jenin, in the occupied West Bank (3 July 2023)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Lando Norris: F1 legend Lewis Hamilton has been \'very inspiring\', says McLaren driver</b><br/>Lando Norris on racing against Lewis Hamilton and McLaren\'s nostalgic nod to the 2007 season at Silverstone this weekend, when Norris aims to be the top Briton." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66092542?at_medium=RSS&amp;at_campaign=KARANGA">Lando Norris: F1 legend Lewis Hamilton has been \'very inspiring\', says Mc...</a></li><li class="ttt" data-tt="<b>Austrian Grand Prix: Max Verstappen takes fifth win in row for Red Bull</b><br/>Red Bull\'s Max Verstappen continues his imperious march towards a third world title with a dominant victory in the Austrian Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/66081048?at_medium=RSS&amp;at_campaign=KARANGA">Austrian Grand Prix: Max Verstappen takes fifth win in row for Red Bull</a></li><li class="ttt" data-tt="<b>F1 British Grand Prix 2023 practice, qualifying and race start times</b><br/>The 2023 Formula 1 season heads next to Silverstone for the British Grand Prix - listen to BBC radio commentary and follow live text updates."><a href="https://www.bbc.co.uk/sport/formula1/66082301?at_medium=RSS&amp;at_campaign=KARANGA">F1 British Grand Prix 2023 practice, qualifying and race start times</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66092542?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/93F5/production/_130277873_gettyimages-1486495929.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Confusion at Twitter continues over Elon Musk\'s tweet limits</b><br/>Elon Musk provoked a Twitter backlash after introducing limits to the number of tweets users can read." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66087172?at_medium=RSS&amp;at_campaign=KARANGA">Confusion at Twitter continues over Elon Musk\'s tweet limits</a></li><li class="ttt" data-tt="<b>Virgin Media customers worry emails gone for good</b><br/>Some have lost access to their inboxes, and the firm cannot say when it will be fixed."><a href="https://www.bbc.co.uk/news/technology-66088076?at_medium=RSS&amp;at_campaign=KARANGA">Virgin Media customers worry emails gone for good</a></li><li class="ttt" data-tt="<b>Smartwatches may provide early Parkinson\'s diagnosis</b><br/>Tracking speed of movement might provide a diagnosis up to seven years ahead of symptoms, a study suggests."><a href="https://www.bbc.co.uk/news/health-66088110?at_medium=RSS&amp;at_campaign=KARANGA">Smartwatches may provide early Parkinson\'s diagnosis</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66087172?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/DC6B/production/_130272465_gettyimages-1240294770.jpg" class="ttt" data-tt="Twitter logo on a smartphone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"3 Jul – 9 Jul","date":16884288E5,"ts":"Tue, 4","ds":"Tue, 4 Jul","icon":18,"desc":"Sprinkles late. Cloudy.","temp":19,"templow":11,"cf":19,"wind":10,"wd":240,"hum":47,"pc":49,"rain":0.5 },{"date":16885152E5,"ts":"Wed, 5","ds":"Wed, 5 Jul","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":18,"templow":9,"cf":18,"wind":12,"wd":240,"hum":53,"pc":40,"rain":1.3 },{"date":16886016E5,"ts":"Thu, 6","ds":"Thu, 6 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":20,"templow":11,"cf":20,"wind":11,"wd":210,"hum":54,"pc":23,"rain":0.4 },{"date":1688688E6,"ts":"Fri, 7","ds":"Fri, 7 Jul","icon":7,"desc":"Cloudy.","temp":25,"templow":10,"cf":26,"wind":14,"wd":170,"hum":44,"pc":0},{"date":16887744E5,"ts":"Sat, 8","ds":"Sat, 8 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":22,"templow":14,"cf":24,"wind":16,"wd":230,"hum":69,"pc":50,"rain":1.4 },{"date":16888608E5,"ts":"Sun, 9","ds":"Sun, 9 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":22,"templow":15,"cf":24,"wind":9,"wd":190,"hum":60,"pc":40,"rain":1.8 },{"hl":true,"hls":"10 Jul – 16 Jul","date":16889472E5,"ts":"Mon, 10","ds":"Mon, 10 Jul","icon":22,"desc":"Thunderstorms. Cloudy.","temp":21,"templow":12,"cf":20,"wind":13,"wd":190,"hum":64,"pc":61,"rain":11.7 },{"date":16890336E5,"ts":"Tue, 11","ds":"Tue, 11 Jul","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":18,"templow":12,"cf":18,"wind":14,"wd":270,"hum":66,"pc":63,"rain":5},{"date":168912E7,"ts":"Wed, 12","ds":"Wed, 12 Jul","icon":18,"desc":"Drizzle. Cloudy.","temp":17,"templow":11,"cf":17,"wind":14,"wd":280,"hum":54,"pc":52,"rain":0.5 },{"date":16892064E5,"ts":"Thu, 13","ds":"Thu, 13 Jul","icon":33,"desc":"Light showers. Cloudy.","temp":18,"templow":11,"cf":17,"wind":6,"wd":270,"hum":90,"pc":58,"rain":4.7 },{"date":16892928E5,"ts":"Fri, 14","ds":"Fri, 14 Jul","icon":18,"desc":"Sprinkles. Partly cloudy.","temp":17,"templow":11,"cf":17,"wind":14,"wd":300,"hum":53,"pc":47,"rain":0.4 },{"date":16893792E5,"ts":"Sat, 15","ds":"Sat, 15 Jul","icon":4,"desc":"Afternoon clouds.","temp":19,"templow":10,"cf":18,"wind":4,"wd":250,"hum":47,"pc":6},{"date":16894656E5,"ts":"Sun, 16","ds":"Sun, 16 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":19,"templow":10,"cf":18,"wind":5,"wd":100,"hum":69,"pc":47,"rain":0.6 },{"hl":true,"hls":"17 Jul – 23 Jul","date":1689552E6,"ts":"Mon, 17","ds":"Mon, 17 Jul","icon":33,"desc":"Light showers. Cloudy.","temp":19,"templow":12,"cf":18,"wind":8,"wd":80,"hum":68,"pc":59,"rain":3.1 },{"date":16896384E5,"ts":"Tue, 18","ds":"Tue, 18 Jul","icon":18,"desc":"Sprinkles. Cloudy.","temp":20,"templow":12,"cf":19,"wind":9,"wd":200,"hum":62,"pc":58,"rain":1.5 }],"grid":{"temp":{"low":9,"high":25,"range":16},"prec":{"high":11.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2307/VenusUv_akatsuki_1024.jpg',
		Title:     'Venus in Ultraviolet from Akatsuki',
		LinkImage: 'https://apod.nasa.gov/apod/image/2307/VenusUv_akatsuki_1024.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230703.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Views_of_the_LHC_tunnel_sector_3-4%2C_tirage_2.jpg/500px-Views_of_the_LHC_tunnel_sector_3-4%2C_tirage_2.jpg',
		Title:    'Large Hadron Collider',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Large_Hadron_Collider',
		Description: '    The <b><a href="/wiki/Large_Hadron_Collider" title="Large Hadron Collider">Large Hadron Collider</a></b> (LHC) is the world\'s largest and highest-energy <a href="/wiki/Collider" title="Collider">particle collider</a>. It was built by the <a href="/wiki/CERN" title="CERN">European Organization for Nuclear Research</a> (CERN) between 1998 and 2008 in collaboration with more than 10,000 scientists and hundreds of universities and laboratories, as well as more than 100 countries. The LHC lies in a tunnel 27 kilometres (17&#160;mi) in circumference and as deep as 175 metres (574&#160;ft) beneath the France–Switzerland border near <a href="/wiki/Geneva" title="Geneva">Geneva</a>. On 4&#160;July 2012, CERN announced the discovery of the <a href="/wiki/Higgs_boson" title="Higgs boson">Higgs boson</a> at the LHC, after a 40-year search for its existence. This photograph shows the interior of a section of the LHC\'s tunnel (sector 3–4). The collider\'s <a href="/wiki/Dipole_magnet" title="Dipole magnet">dipole magnets</a> are painted in blue to protect them from rust.<small style="display: block; margin-top: 0.8em;">Photograph credit: Maximilien Brice</small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1688437500,"duration":10500,"svcId":700,"evtId":8163,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Great British Railway Journeys","description":"7\/15. Michael Portillo continues his railway exploration of the post-war Britain of his youth on a journey from London to Cambridge, starting at South Bank. [S,AD] [HD]","startTime":1688448000,"duration":1800,"svcId":700,"evtId":8127,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwg349.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687755600,"availabilityEnd":1719378000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nc4r\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":7},{"name":"Hidden Treasures of the...","description":"...National Trust. 6\/6. Saving a dodo from extinction, a picture\u0027s hidden history and a Victorian garden showpiece. [S,AD,SL] [HD]","startTime":1688449800,"duration":3600,"svcId":700,"evtId":8128,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft990q.jpg","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Super League Show","description":"Rugby league highlights and analysis from Super League, presented by Damian Johnson. [S] [HD]","startTime":1688453400,"duration":3600,"svcId":700,"evtId":8129,"image":"\/ms\/img\/epg\/rb\/8df1-p0bpycx3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1688389200,"availabilityEnd":1691018640,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nk17\u0026ui_id=4.0.0"},"episodeNo":17},{"name":"Lifeline","description":"Ross Kemp makes an appeal on behalf of Help for Heroes, a charity that supports members of the British Armed Forces community. [S] [HD]","startTime":1688457000,"duration":600,"svcId":700,"evtId":8130,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwx9gw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1688303817,"availabilityEnd":1690118217,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nj7p\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1688457600,"duration":4500,"svcId":700,"evtId":8131,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1688462100,"duration":2700,"svcId":700,"evtId":8132,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Wimbledon","description":"All the action from the second day of the championships at Wimbledon, where defending women\u0027s singles champion Elena Rybakina has the honour of opening play on Centre Court. [S] [HD]","startTime":1688464800,"duration":14400,"svcId":700,"evtId":8133,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwmvx5.jpg","hasTstv":false,"seriesNo":2023},{"name":"Wimbledon","description":"All the action from the second day of the championships at Wimbledon, where defending women\u0027s singles champion Elena Rybakina has the honour of opening play on Centre Court. [S] [HD]","startTime":1688479200,"duration":14400,"svcId":700,"evtId":8230,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwmvx5.jpg","hasTstv":false,"seriesNo":2023,"episodeNo":61},{"name":"The One Show","description":"Alex Jones and Jermaine Jenas bring you the stories that matter from across the country. [S] [HD]","startTime":1688493600,"duration":1800,"svcId":700,"evtId":8134,"image":"\/ms\/img\/epg\/rb\/8df1-p09tn408.jpg","hasTstv":false},{"name":"EastEnders","description":"The Slaters and Brannings attend a family conference about Lily\u0027s baby. Whitney decides to throw a moving in party for Zack. Elaine launches \u0027Bride Club\u0027 for Kat, Sharon and Kathy. [S,AD] [HD]","startTime":1688495400,"duration":1800,"svcId":700,"evtId":8135,"image":"\/ms\/img\/epg\/rb\/8df1-p0fxj8nr.jpg","hasTstv":false,"episodeNo":6726},{"name":"Your Home Made Perfect","description":"3\/8. Using virtual reality, two top architects compete to remodel actress Jill Halfpenny and her son Harvey\u0027s flat in the north east of England. [S,AD] [HD]","startTime":1688497200,"duration":3600,"svcId":700,"evtId":8136,"image":"\/ms\/img\/epg\/rb\/8df1-p0fxjnk2.jpg","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Today at Wimbledon","description":"Qasa Alom and guests look back at the day\u0027s play at Wimbledon. Featuring highlights from the biggest matches, along with analysis and discussion of the main talking points. [S] [HD]","startTime":1688500800,"duration":3600,"svcId":700,"evtId":8137,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwmvx5.jpg","hasTstv":false,"seriesNo":2023},{"name":"The Best of Famalam","description":"A protective boyfriend meets his match and Scribbler P gives a lesson on military history. Contains very strong language and adult humour [S] [HD]","startTime":1688504400,"duration":1800,"svcId":700,"evtId":8138,"image":"\/ms\/img\/epg\/rb\/8df1-p07jrylp.jpg","hasTstv":false,"episodeNo":5},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1688506200,"duration":2400,"svcId":700,"evtId":8139,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1688508600,"duration":300,"svcId":700,"evtId":8140,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"The Program","description":"Lance Armstrong\u0027s journey to the top of world cycling and his dramatic fall from grace. Contains strong language. [2015] [S] [HD]","startTime":1688508900,"duration":6000,"svcId":700,"evtId":8141,"image":"\/ms\/img\/epg\/rb\/8df1-p0bp2fld.jpg","hasTstv":false},{"name":"Big Little Crimes","description":"5\/10. A suspicious solicitor is caught arranging sham marriages, a poaching complaint brings down an international smuggler, and a dodgy number plate ends in a high-speed pursuit. [S,SL] [HD]","startTime":1688514900,"duration":2700,"svcId":700,"evtId":8142,"image":"\/ms\/img\/epg\/rb\/8df1-p0dpc4zl.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"The Great British Sewing Bee","description":"6\/10. The sewers put their twist on dinosaur dressing gowns, zhuzh up denim jackets and create pint-sized party outfits for Kids\u0027 Week. [S,AD,SL] [HD]","startTime":1688517600,"duration":3600,"svcId":700,"evtId":8143,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwd6vz.jpg","hasTstv":false,"seriesNo":14,"episodeNo":6},{"name":"Rip Off Britain","description":"7\/15. Tech expert David McClelland reveals how your social media could be an open door to let scammers get to your money - and how you can shut them out. [S,SL] [HD]","startTime":1688521200,"duration":2700,"svcId":700,"evtId":8144,"image":"\/ms\/img\/epg\/rb\/8df1-p0fnmsvz.jpg","hasTstv":false,"seriesNo":2023,"episodeNo":7},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1688523900,"duration":12000,"svcId":700,"evtId":8145,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Grand Designs","description":"On the Isle of Skye, one of the most beautiful landscapes in Britain, Rebecca and Indi are building a turf-roofed contemporary home to withstand gale-force winds and some sceptical locals.  [AD,S]","startTime":1688438400,"duration":3300,"svcId":1500,"evtId":34724,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":12,"episodeNo":7},{"name":"George Clarke\u0027s Amazing Spaces","description":"George Clarke meets a master craftsman who\u0027s saving a Victorian circus wagon. He discovers a hotel that\u0027s disguised as a tree and a camping pod that resembles a giant conker. (S9 Ep6)  [AD,S,SL]","startTime":1688441700,"duration":3300,"svcId":1500,"evtId":34725,"image":"\/ms\/img\/epg\/rb\/5d52-3979374.l.png","hasTstv":false,"seriesNo":9,"episodeNo":6},{"name":"Fame in the Family","description":"Rugby legend Martin Offiah hosts a dinner party for guests he\u0027s never met! Competitive Martin\u0027s convinced he can correctly guess who his long-lost cousin is, but can anyone else? (Ep14\/15)  [S]","startTime":1688445000,"duration":1500,"svcId":1500,"evtId":34726,"image":"\/ms\/img\/epg\/rb\/5d52-415096953.l.png","hasTstv":false,"seriesNo":1,"episodeNo":14},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebs to the test in head-to-head crafting challenges. Sam Thompson and Debbie McGee make clay napkin rings. Rav Wilding and Angellica Bell have a coaster craft-off.  [S]","startTime":1688446500,"duration":600,"svcId":1500,"evtId":34927,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Bob Harris joins Susie Dent in Dictionary Corner.  [S]","startTime":1688447100,"duration":2400,"svcId":1500,"evtId":34499,"image":"\/ms\/img\/epg\/rb\/5d52-7794537.l.png","hasTstv":false},{"name":"Cheers","description":"Crash of the Titans: Rebecca decides it\u0027s time to set her sights on a new goal and aims to buy the lease for the bar from John Hill, but a worried Sam gets wind of her plans. (S9 Ep18\/25)  [S]","startTime":1688449500,"duration":1500,"svcId":1500,"evtId":34500,"image":"\/ms\/img\/epg\/rb\/5d52-15451.l.png","hasTstv":false,"seriesNo":9,"episodeNo":20},{"name":"Cheers","description":"It\u0027s a Wonderful Wife: Norm becomes increasingly paranoid when Vera gets a job working above the bar at Melville\u0027s restaurant. Lilith helps Frasier celebrate his birthday. (S9 Ep19\/25)  [S]","startTime":1688451000,"duration":1500,"svcId":1500,"evtId":34501,"image":"\/ms\/img\/epg\/rb\/5d52-18118.l.png","hasTstv":false,"seriesNo":9,"episodeNo":21},{"name":"The King of Queens","description":"Entertainment Weakly: Doug\u0027s position as the office clown is threatened when a new employee wins over the workforce with his impersonations. (S7 Ep4\/22)  [AD,S]","startTime":1688452500,"duration":1500,"svcId":1500,"evtId":34502,"image":"\/ms\/img\/epg\/rb\/5d52-384626944.l.png","hasTstv":false,"seriesNo":7,"episodeNo":4},{"name":"The King of Queens","description":"Name Dropper: Doug fakes a heart attack to cover up the fact that he\u0027s forgotten Carrie\u0027s friend\u0027s name. (S7 Ep5\/22)  [AD,S]","startTime":1688454000,"duration":1500,"svcId":1500,"evtId":34503,"image":"\/ms\/img\/epg\/rb\/5d52-384626961.l.png","hasTstv":false,"seriesNo":7,"episodeNo":5},{"name":"Frasier","description":"The Two Mrs Cranes: When an old flame visits Daphne, the Crane household is turned upside down. (S4 Ep1)  [AD,S]","startTime":1688455500,"duration":1800,"svcId":1500,"evtId":34504,"image":"\/ms\/img\/epg\/rb\/5d52-550588.l.png","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"Frasier","description":"Love Bites Dog: When Roz takes the trouble to set Frasier up on a blind date with her friend, it\u0027s Bulldog who ends up falling in love. (S4 Ep2)  [AD,S]","startTime":1688457300,"duration":1800,"svcId":1500,"evtId":34505,"image":"\/ms\/img\/epg\/rb\/5d52-551110.l.png","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"Frasier","description":"The Impossible Dream: When Frasier is awakened night after night by a recurring dream, he becomes obsessed with discovering its true meaning. (S4 Ep3)  [AD,S]","startTime":1688459100,"duration":1800,"svcId":1500,"evtId":34506,"image":"\/ms\/img\/epg\/rb\/5d52-553283.l.png","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Find It, Fix It, Flog It","description":"Simon O\u0027Brien and Max McMurdo head to Woking, where their finds include a sidecar to be transformed into a boat, and a water cylinder that Simon thinks could be a trendy lamp. (S4 Ep4)  [AD,S]","startTime":1688460900,"duration":3600,"svcId":1500,"evtId":34507,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Couples Come Dine with Me","description":"Chocolate-filled samosas and egg and bacon soup are on the menus in Southampton, in a competition that features a Punjabi feast with a twist and a Tudor-themed evening.  [S]","startTime":1688464500,"duration":3600,"svcId":1500,"evtId":34508,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":15},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1688468100,"duration":300,"svcId":1500,"evtId":34509,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Live: Steph\u0027s Packed Lunch","description":"Steph McGovern presents her live lunchtime show featuring celebrity guests, fantastic food and the best entertainment, lifestyle and consumer stories making the headlines.  [S]","startTime":1688468400,"duration":7800,"svcId":1500,"evtId":34510,"image":"\/ms\/img\/epg\/rb\/5d52-7818660.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Bob Harris joins Susie Dent in Dictionary Corner.  [S]","startTime":1688476200,"duration":3000,"svcId":1500,"evtId":34511,"image":"\/ms\/img\/epg\/rb\/5d52-7818672.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Ben Hillman shows Ian and Emily five jaw-dropping holiday villas for their budget of \u00a3440k, near the town of Pollen\u00e7a in eastern Mallorca. Are any of them the one?  [S]","startTime":1688479200,"duration":3600,"svcId":1500,"evtId":34512,"image":"\/ms\/img\/epg\/rb\/5d52-394616956.l.png","hasTstv":false},{"name":"Chateau DIY","description":"At Ch\u00e2teau du Doux, the family face a challenge turning a storage room into an accessible bedroom. Emotions run high for Christina and Sassan as they tackle their pool project. (S3 Ep22)  [AD,S]","startTime":1688482800,"duration":3600,"svcId":1500,"evtId":34513,"image":"\/ms\/img\/epg\/rb\/5d52-6462212.l.png","hasTstv":false,"seriesNo":3,"episodeNo":22},{"name":"Sun, Sea and Selling Houses","description":"In Almer\u00eda, the Garners help retired airline staff Darren and Tom upgrade their current temporary abode, while the Hamiltons scour the M\u00e1laga market for holistic therapist Suzan. (S6 Ep7)  [S]","startTime":1688486400,"duration":3600,"svcId":1500,"evtId":34514,"image":"\/ms\/img\/epg\/rb\/5d52-7814310.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"The Simpsons","description":"The Great Simpsina: Lisa becomes an apprentice to legendary magician the Great Raymondo. But she gets coaxed into revealing her mentor\u0027s most famous trick to his arch-nemesis. (S22 Ep18\/22)  [AD,S]","startTime":1688490000,"duration":1800,"svcId":1500,"evtId":34515,"image":"\/ms\/img\/epg\/rb\/5d52-29259452.l.png","hasTstv":false,"seriesNo":22,"episodeNo":18},{"name":"Hollyoaks","description":"Some shock news stops Romeo in his tracks. Joel keeps a huge secret from Leela. And Charlie tells Ella that the night before was a mistake - but does she feel the same?  [AD,S]","startTime":1688491800,"duration":1800,"svcId":1500,"evtId":34516,"image":"\/ms\/img\/epg\/rb\/5d52-7818675.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1688493600,"duration":3600,"svcId":1500,"evtId":34517,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: Bake Off: The Professionals","description":"The search for the best patisserie team in Britain returns as new host Ellie Taylor and Liam Charles welcome more new pastry chefs. Whose op\u00e9ra aux fruit hits the high notes? (S6 Ep1\/10)  [AD,S]","startTime":1688497200,"duration":3600,"svcId":1500,"evtId":34518,"image":"\/ms\/img\/epg\/rb\/5d52-7814309.l.png","hasTstv":false,"seriesNo":6,"episodeNo":1},{"name":"New: Evacuation","description":"British troops rush to deal with the aftermath of a deadly explosion at Kabul airport and must stop processing civilians as they have to start extracting their own forces. (Ep3\/3)  [AD,S]","startTime":1688500800,"duration":3600,"svcId":1500,"evtId":34519,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Gogglebox","description":"The Goggleboxers tune in to Eurovision, Beat the Chasers, The Queen\u0027s Platinum Jubilee Celebration, The Repair Shop, Drag Me to Hell and ITV News on the Jubilee pudding. (S19 Ep14)  [AD,S]","startTime":1688504400,"duration":3900,"svcId":1500,"evtId":34861,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":19,"episodeNo":14},{"name":"Celebrity Gogglebox","description":"Miquita and Andi Oliver, Mo Gilligan, Jamie Carragher, Nick Grimshaw, Clare Balding, Shaun Ryder, Bez and loads more celebs hit the sofa for the best TV this week. (S5 Ep3)  [AD,S,SL]","startTime":1688508300,"duration":3900,"svcId":1500,"evtId":34862,"image":"\/ms\/img\/epg\/rb\/5d52-7793419.l.png","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"8 Out of 10 Cats Does Countdown","description":"Jimmy Carr hosts, as Roisin Conaty and Asim Chaudhry take on Jon Richardson and Josh Widdicombe. Bill Bailey joins Susie Dent in Dictionary Corner. With Rachel Riley. (S22 Ep3)  [S]","startTime":1688512200,"duration":3300,"svcId":1500,"evtId":34522,"image":"\/ms\/img\/epg\/rb\/5d52-413955803.l.png","hasTstv":false,"seriesNo":22,"episodeNo":3},{"name":"The Last Leg","description":"Adam Hills, Josh Widdicombe and Alex Brooker return for a 28th series - and no news story is safe from their acerbic wit. With Miriam Margolyes and Jonathan Ross. (S28 Ep1)  [S,SL]","startTime":1688515500,"duration":3300,"svcId":1500,"evtId":34523,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":28,"episodeNo":1},{"name":"The Change","description":"Comedy following Linda, a menopausal mum of two living in a caravan. Linda contemplates returning to her old life, until news of a threat to the forest gives her renewed purpose. (Ep3\/6)  [AD,S,SL]","startTime":1688518800,"duration":1500,"svcId":1500,"evtId":34680,"image":"\/ms\/img\/epg\/rb\/5d52-7789475.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"The Change","description":"Comedy. Linda\u0027s sister visits - and she\u0027s furious with Linda for leaving. Meanwhile, The Verderer (Jim Howick) comes up with a way to stop the developers: living in a tree. (Ep4\/6)  [AD,S,SL]","startTime":1688520300,"duration":1800,"svcId":1500,"evtId":34681,"image":"\/ms\/img\/epg\/rb\/5d52-7780106.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Extraordinary Escapes with...","description":"...Sandi Toksvig: In the Lake District, Sandi takes comedian Judi Love to Ullswater\u0027s secluded Gaia Farmhouse, and to a unique boathouse by stormy Derwentwater. (S3 Ep2\/5)  [AD,S,SL]","startTime":1688522100,"duration":3300,"svcId":1500,"evtId":34524,"image":"\/ms\/img\/epg\/rb\/5d52-7733560.l.png","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"Couples Come Dine with Me","description":"In Glasgow, there\u0027s an impromptu sing-song, a kitchen disaster and an MC battle, as three couples compete to host the best dinner party.  [S,SL]","startTime":1688525400,"duration":3300,"svcId":1500,"evtId":34682,"image":"\/ms\/img\/epg\/rb\/5d52-3924059.l.png","hasTstv":false,"seriesNo":2,"episodeNo":42},{"name":"Grand Designs Australia","description":"Peter\u0027s building an underground eco bunker that\u0027s sleek, self-sufficient and completely one-of-a-kind, which will eventually look like a bush garden from the outside. (S8 Ep7)  [AD,S]","startTime":1688528700,"duration":3300,"svcId":1500,"evtId":34683,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":7}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('364');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('20');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('28');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'WAeN6cubmpo', title: "I Survived On €0.01 For 1 Week - Day 2", label: "I Survived On €0.01 For 1 Week - Day 2 by Ryan Trahan 1 day ago 16 minutes 3,875,308 views" },
{ id: '9SbgmM3mSps', title: "Overture Teaser: The Final Feast | Genshin Impact", label: "Overture Teaser: The Final Feast | Genshin Impact by Genshin Impact 19 hours ago 3 minutes, 43 seconds 2,943,093 views" },
{ id: 'QbkIY11ctfM', title: "Slim - Daily Duppy | GRM Daily", label: "Slim - Daily Duppy | GRM Daily by GRM Daily 1 day ago 3 minutes, 48 seconds 275,446 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Great_Britain.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/British_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>9 July</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert (2020)">Command & Conquer: Red Alert (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs (2021)">100 Hidden Frogs (2021)</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island (2022)">Return to Monkey Island (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2014, S5)">Downton Abbey (2014, S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2013, S4)">Downton Abbey (2013, S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2012, S3)">Downton Abbey (2012, S3)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 179.41, tooltip: "Fri, Jun 30, 2023<br/>£179.41"},
{ number: 179.00, tooltip: "Thu, Jun 29, 2023<br/>£179.00"},
{ number: 178.60, tooltip: "Wed, Jun 28, 2023<br/>£178.60"},
{ number: 176.52, tooltip: "Tue, Jun 27, 2023<br/>£176.52"},
{ number: 175.48, tooltip: "Mon, Jun 26, 2023<br/>£175.48"},
{ number: 175.84, tooltip: "Fri, Jun 23, 2023<br/>£175.84"},
{ number: 177.15, tooltip: "Thu, Jun 22, 2023<br/>£177.15"},
{ number: 177.37, tooltip: "Wed, Jun 21, 2023<br/>£177.37"},
{ number: 178.07, tooltip: "Tue, Jun 20, 2023<br/>£178.07"},
{ number: 178.24, tooltip: "Mon, Jun 19, 2023<br/>£178.24"},
{ number: 178.58, tooltip: "Fri, Jun 16, 2023<br/>£178.58"},
{ number: 179.61, tooltip: "Thu, Jun 15, 2023<br/>£179.61"},
{ number: 178.74, tooltip: "Wed, Jun 14, 2023<br/>£178.74"},
{ number: 179.51, tooltip: "Tue, Jun 13, 2023<br/>£179.51"},
{ number: 179.33, tooltip: "Mon, Jun 12, 2023<br/>£179.33"},
{ number: 177.26, tooltip: "Fri, Jun 09, 2023<br/>£177.26"},
{ number: 177.60, tooltip: "Thu, Jun 08, 2023<br/>£177.60"},
{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jun 30, 2023",
		"vs Day":      "Thu, Jun 29, 2023",
		"vs Week":     "Fri, Jun 23, 2023",
		"vs Month":    "Mon, Jun 05, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£179.41/share",
		'vs Day':      "+0.23%",
		'vs Week':     "+2.03%",
		'vs Month':    "+0.63%",
		'vs Year':     "+9.14%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '99.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/full-moon.html" title="Full Moon on the night between 3 July and 4 July">Full Moon</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.994&p=3.785&r=0.028',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:50',
		Set:      '21:29',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To embezzle is to steal something (usually money) that you have been entrusted with. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Catherine">Catherine</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Jota">Jota</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23RHOBH">#RHOBH</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Mauricio">Mauricio</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Hendo">Hendo</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23ArbitrumAirdrop">#ArbitrumAirdrop</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23RHOBH">#RHOBH</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Mauricio">Mauricio</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23solarxcoin">#solarxcoin</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Jovic">Jovic</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>