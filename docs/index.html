<!DOCTYPE html>
<html lang="en">
	<head>
		<title>12:33 30-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Third child dies after knife attack at dance studio</b><br/>A third child has died after a knife attack at a dance studio in which two other children were killed." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd194zkw4d9o">Third child dies after knife attack at dance studio</a></li><li class="ttt" data-tt="<b>Taylor Swift in \'complete shock\' over knife attack</b><br/>The singer says the attack at a workshop themed around her music left her &quot; completely in shock&quot;."><a href="https://www.bbc.com/news/articles/cgl7kv9jrppo">Taylor Swift in \'complete shock\' over knife attack</a></li><li class="ttt" data-tt="<b>Reeves defends move to restrict winter fuel payments</b><br/>The chancellor tells the BBC she &quot;had to act&quot; to &quot;fix the mess&quot; in public finances."><a href="https://www.bbc.com/news/articles/c51y5pgkylqo">Reeves defends move to restrict winter fuel payments</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd194zkw4d9o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/9829/live/71976ca0-4e64-11ef-8f0f-0577398c3339.png" class="ttt" data-tt="Breaking news image" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>\'He likes family\': Trump defends running mate\'s cat lady slur</b><br/>Republican nominee says JD Vance has &quot;tremendous support&quot; as he faces questions over his suitability as a running mate." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crg50ven1qeo">\'He likes family\': Trump defends running mate\'s cat lady slur</a></li><li class="ttt" data-tt="<b>\'Fire devils\' spotted as California fire doubles in size</b><br/>Firefighters battle a growing wildfire, the largest blaze in California this year."><a href="https://www.bbc.com/news/videos/cervwgk2pnvo">\'Fire devils\' spotted as California fire doubles in size</a></li><li class="ttt" data-tt="<b>Jasper fire chief watched as his home was lost to flames</b><br/>Fire crews continue to battle the inferno, the largest in a century in Canada\'s Jasper National Park."><a href="https://www.bbc.com/news/articles/cz9dz562ppeo">Jasper fire chief watched as his home was lost to flames</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crg50ven1qeo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e73a/live/589bd770-4e16-11ef-aea0-efb031d2abb2.jpg" class="ttt" data-tt="JD Vance" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Protesters walk from mountain slums after disputed Venezuelan vote</b><br/>Security forces fired tear gas and rubber bullets against people as thousands gathered in Caracas." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cw5yze5k500o">Protesters walk from mountain slums after disputed Venezuelan vote</a></li><li class="ttt" data-tt="<b>Men\'s triathlon postponed over poor water quality</b><br/>The men\'s individual triathlon at Paris 2024 is postponed after tests reveal poor water quality in the River Seine."><a href="https://www.bbc.com/sport/olympics/articles/c4ngjz32j4do">Men\'s triathlon postponed over poor water quality</a></li><li class="ttt" data-tt="<b>Taiwan and China reach deal over fishermen\'s deaths</b><br/>It comes five months after two Chinese fishermen died following a sea chase by Taiwan\'s coast guard."><a href="https://www.bbc.com/news/articles/czd9z4jvyj1o">Taiwan and China reach deal over fishermen\'s deaths</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cw5yze5k500o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/305f/live/e91e1460-4e44-11ef-aebc-6de4d31bf5cd.jpg" class="ttt" data-tt="Venezuela&#x27;s security forces have clashed with large crowds of protesters who&#x27;ve taken to the streets to denounce the re-election of President Maduro as fraudulent" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Red Bull keep faith with Perez despite slump in form</b><br/>Mexican F1 driver Sergio Perez will keep his seat at Red Bull into the second part of the season, the team says." style="font-weight:bold"><a href="https://www.bbc.com/sport/articles/cw0yzjzxdjpo">Red Bull keep faith with Perez despite slump in form</a></li><li class="ttt" data-tt="<b>Sainz to join Williams from 2025 after Ferrari exit</b><br/>Ferrari driver Carlos Sainz is to join Williams next season on what the team calls a “multi-year” contract."><a href="https://www.bbc.com/sport/articles/ck5gw7n0gplo">Sainz to join Williams from 2025 after Ferrari exit</a></li><li class="ttt" data-tt="<b>F1 Q&A: What led to Mercedes mistake and what happens in the summer break?</b><br/>BBC F1 correspondent Andrew Benson answers your questions after Belgium Grand Prix"><a href="https://www.bbc.com/sport/articles/cv2g715dkk1o">F1 Q&A: What led to Mercedes mistake and what happens in the summer break?</a></li></ul></td><td><a href="https://www.bbc.com/sport/articles/cw0yzjzxdjpo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/6e49/live/719d64b0-4de3-11ef-934e-e5868cdfae4c.jpg" class="ttt" data-tt="Sergio Perez" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>CrowdStrike boss says 97% of crashed systems fixed</b><br/>It\'s estimated 8.5 million devices were disabled by a faulty update from the cyber-security firm." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crgm07zjj2go">CrowdStrike boss says 97% of crashed systems fixed</a></li><li class="ttt" data-tt="<b>Autumn date to fix blood transfusion services</b><br/>The systems were affected by a hack on the NHS, which caused significant disruption."><a href="https://www.bbc.com/news/articles/c035y64vyvqo">Autumn date to fix blood transfusion services</a></li><li class="ttt" data-tt="<b>ChatGPT reveals search feature in Google challenge</b><br/>OpenAI is working on adding new search powers to its artificial intelligence (AI) bot."><a href="https://www.bbc.com/news/articles/c897qz1qex9o">ChatGPT reveals search feature in Google challenge</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crgm07zjj2go"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/82a6/live/e0a80020-4b2e-11ef-8751-65f76fca0fc4.jpg" class="ttt" data-tt="A phone with the red CrowdStrike logo of a bird of prey, placed in front of a PC screen displaying a blue error message" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"29 Jul – 4 Aug","date":17222976E5,"ts":"Tue, 30","ds":"Tue, 30 Jul","icon":7,"desc":"Cloudy.","temp":27,"templow":15,"cf":27,"wind":6,"wd":0,"hum":49,"pc":3},{"date":1722384E6,"ts":"Wed, 31","ds":"Wed, 31 Jul","icon":7,"desc":"Overcast.","temp":27,"templow":14,"cf":27,"wind":7,"wd":90,"hum":45,"pc":22,"rain":0.1 },{"date":17224704E5,"ts":"Thu, 1","ds":"Thu, 1 Aug","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":26,"templow":16,"cf":26,"wind":5,"wd":220,"hum":53,"pc":52,"rain":2.3 },{"date":17225568E5,"ts":"Fri, 2","ds":"Fri, 2 Aug","icon":7,"desc":"Cloudy.","temp":26,"templow":14,"cf":26,"wind":11,"wd":210,"hum":45,"pc":23,"rain":0.3 },{"date":17226432E5,"ts":"Sat, 3","ds":"Sat, 3 Aug","icon":18,"desc":"Sprinkles early. Breaks of sun late.","temp":22,"templow":13,"cf":21,"wind":11,"wd":280,"hum":43,"pc":50,"rain":1.5 },{"date":17227296E5,"ts":"Sun, 4","ds":"Sun, 4 Aug","icon":7,"desc":"Overcast.","temp":21,"templow":11,"cf":20,"wind":14,"wd":220,"hum":57,"pc":5},{"hl":true,"hls":"5 Aug – 11 Aug","date":1722816E6,"ts":"Mon, 5","ds":"Mon, 5 Aug","icon":33,"desc":"Showers late. Cloudy.","temp":23,"templow":12,"cf":24,"wind":17,"wd":190,"hum":60,"pc":20,"rain":0.7 },{"date":17229024E5,"ts":"Tue, 6","ds":"Tue, 6 Aug","icon":18,"desc":"Sprinkles early. Partly cloudy.","temp":20,"templow":14,"cf":20,"wind":13,"wd":220,"hum":52,"pc":18,"rain":1.3 },{"date":17229888E5,"ts":"Wed, 7","ds":"Wed, 7 Aug","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":20,"templow":13,"cf":19,"wind":17,"wd":190,"hum":61,"pc":52,"rain":2.8 },{"date":17230752E5,"ts":"Thu, 8","ds":"Thu, 8 Aug","icon":33,"desc":"Passing showers. Partly cloudy.","temp":19,"templow":12,"cf":19,"wind":15,"wd":230,"hum":55,"pc":59,"rain":0.7 },{"date":17231616E5,"ts":"Fri, 9","ds":"Fri, 9 Aug","icon":2,"desc":"Scattered clouds.","temp":21,"templow":12,"cf":20,"wind":13,"wd":220,"hum":49,"pc":6},{"date":1723248E6,"ts":"Sat, 10","ds":"Sat, 10 Aug","icon":4,"desc":"Morning clouds.","temp":22,"templow":12,"cf":25,"wind":12,"wd":240,"hum":48,"pc":6},{"date":17233344E5,"ts":"Sun, 11","ds":"Sun, 11 Aug","icon":7,"desc":"Cloudy.","temp":22,"templow":13,"cf":25,"wind":14,"wd":260,"hum":46,"pc":6},{"hl":true,"hls":"12 Aug – 18 Aug","date":17234208E5,"ts":"Mon, 12","ds":"Mon, 12 Aug","icon":4,"desc":"Partly cloudy.","temp":21,"templow":13,"cf":21,"wind":13,"wd":280,"hum":43,"pc":6},{"date":17235072E5,"ts":"Tue, 13","ds":"Tue, 13 Aug","icon":4,"desc":"Afternoon clouds.","temp":22,"templow":13,"cf":19,"wind":12,"wd":320,"hum":50,"pc":6}],"grid":{"temp":{"low":11,"high":27,"range":16},"prec":{"high":2.8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/Arp142_Webb_960.jpg',
		Title:     'Arp 142: Interacting Galaxies from Webb',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/Arp142_Webb_1487.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240730.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Avocado_Hass_-_single_and_halved.jpg/400px-Avocado_Hass_-_single_and_halved.jpg',
		Title:    'Hass avocado',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Hass_avocado',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Hass_avocado" title="Hass avocado">Hass avocado</a></b> is a variety of <a href="https://en.wikipedia.org/wiki/Avocado" title="Avocado">avocado</a> with dark green, bumpy skin. It was first grown and sold by the American horticulturist <a href="https://en.wikipedia.org/wiki/Rudolph_Hass" title="Rudolph Hass">Rudolph Hass</a>, who also gave it his name. The Hass is one of the most commercially popular avocado cultivars and accounts for more than 80 percent of the crop in the United States. This is due to its taste, size, shelf-life, high growing yield and in some areas, year-round harvesting. The fruit has a mass of 200 to 300 grams (8 to 10 ounces) and, when ripe, its skin becomes a dark purplish-black that yields to gentle pressure. The centre part of the inner fruit then becomes white-green. This picture shows a whole and a halved Hass avocado, cultivated in Colombia. The photograph was <a href="https://en.wikipedia.org/wiki/Focus_stacking" title="Focus stacking">focus-stacked</a> from 12 separate images.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.orghttps://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="c:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

console.log('Error in tv module: The remote server returned an error: (500) Internal Server Error.');

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('265');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('35');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'VJVnDZwzXPI', title: "The Paddy the Baddy show! 🤩 | King Green vs. Paddy Pimblett | #UFC304 fight highlights ▶️", label: "The Paddy the Baddy show! 🤩 | King Green vs. Paddy Pimblett | #UFC304 fight highlights ▶️ by TNT Sports 804,995 views 2 days ago 5 minutes, 3 seconds" },
{ id: 'rFJ9vRufYzc', title: "AMP FRESHMAN CYPHER 2024", label: "AMP FRESHMAN CYPHER 2024 by AMP 4,778,492 views 1 day ago 12 minutes, 19 seconds" },
{ id: '-tluNT7916Q', title: "EA SPORTS FC 25 | 5v5 Rush Deep Dive", label: "EA SPORTS FC 25 | 5v5 Rush Deep Dive by EA SPORTS FC 748,378 views 20 hours ago 3 minutes, 18 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in media module: The message filter indicated that the application is busy. (0x8001010A (RPC_E_SERVERCALL_RETRYLATER))');

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 211.76, tooltip: "Mon, Jul 29, 2024<br/>£211.76"},
{ number: 211.46, tooltip: "Fri, Jul 26, 2024<br/>£211.46"},
{ number: 209.27, tooltip: "Thu, Jul 25, 2024<br/>£209.27"},
{ number: 209.97, tooltip: "Wed, Jul 24, 2024<br/>£209.97"},
{ number: 213.52, tooltip: "Tue, Jul 23, 2024<br/>£213.52"},
{ number: 213.52, tooltip: "Mon, Jul 22, 2024<br/>£213.52"},
{ number: 211.93, tooltip: "Fri, Jul 19, 2024<br/>£211.93"},
{ number: 212.63, tooltip: "Thu, Jul 18, 2024<br/>£212.63"},
{ number: 213.73, tooltip: "Wed, Jul 17, 2024<br/>£213.73"},
{ number: 216.60, tooltip: "Tue, Jul 16, 2024<br/>£216.60"},
{ number: 215.12, tooltip: "Mon, Jul 15, 2024<br/>£215.12"},
{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
].reverse();

	var vanguardDates = {
		"Latest":      "Mon, Jul 29, 2024",
		"vs Day":      "Fri, Jul 26, 2024",
		"vs Week":     "Mon, Jul 22, 2024",
		"vs Month":    "Mon, Jul 01, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£211.76/share",
		'vs Day':      "+0.14%",
		'vs Week':     "-0.82%",
		'vs Month':    "-0.96%",
		'vs Year':     "+15.06%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '25.1',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 30 July and 31 July">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.251&p=2.288&r=5.396',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:24',
		Set:      '20:59',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To purport is to claim to be or do a particular thing when this claim may not be true. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>