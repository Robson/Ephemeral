<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:19 29-Nov - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Gregg Wallace \'fascinated by my sex life and made lesbian jokes\'</b><br/>A number of workers across a range of shows have approached BBC News with claims about the TV presenter." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cdje0kp7zewo">Gregg Wallace \'fascinated by my sex life and made lesbian jokes\'</a></li><li class="ttt" data-tt="<b>Last-minute lobbying ahead of major assisted dying vote</b><br/>MPs are voting in what could be one of the most momentous decisions of their political lives."><a href="https://www.bbc.com/news/articles/c86q8j1z02no">Last-minute lobbying ahead of major assisted dying vote</a></li><li class="ttt" data-tt="<b>Net migration hit record 906,000 last year</b><br/>The number has since fallen to 728,000 in year to June, the Office for National Statistics estimated in its latest figures."><a href="https://www.bbc.com/news/articles/c3degx4029ko">Net migration hit record 906,000 last year</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cdje0kp7zewo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/68c6/live/f7ec00c0-8be7-11ef-8936-1185f9e7d044.jpg" class="ttt" data-tt="A picture of MasterChef host Gregg Wallace in a pink shirt" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Mexico leader responds to Trump claim she agreed to stop migration</b><br/>President Claudia Sheinbaum says Mexico\'s position is not to close borders, and to respect human rights." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c89v4w51dzyo">Mexico leader responds to Trump claim she agreed to stop migration</a></li><li class="ttt" data-tt="<b>Mark Zuckerberg dines with Donald Trump at Mar-a-Lago</b><br/>Relations appear to have improved markedly from Trump\'s threat earlier this year to throw the Meta boss in jail."><a href="https://www.bbc.com/news/articles/c87x98q8y08o">Mark Zuckerberg dines with Donald Trump at Mar-a-Lago</a></li><li class="ttt" data-tt="<b>Four US House representatives targeted with bomb threats</b><br/>The four Connecticut Democrats were targeted on Thanksgiving. Some Trump nominees recently faced similar hoax threats."><a href="https://www.bbc.com/news/articles/cjw0j6y32pgo">Four US House representatives targeted with bomb threats</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c89v4w51dzyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1243/live/582dac80-ad72-11ef-8ab9-9192db313061.jpg" class="ttt" data-tt="A father and daughter ride a bicycle amongst a group of migrants on the road, making the way to the US Border" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Putin threatens Kyiv decision-makers after striking energy grid</b><br/>Russia says it is selecting Ukrainian targets and may hit government offices in the capital." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cwy15lp21l3o">Putin threatens Kyiv decision-makers after striking energy grid</a></li><li class="ttt" data-tt="<b>Israel building new military dividing line across Gaza, satellite images suggest</b><br/>Satellite images show the IDF has destroyed hundreds of buildings in north Gaza as it creates the divide."><a href="https://www.bbc.com/news/articles/cp8x324vr0mo">Israel building new military dividing line across Gaza, satellite images suggest</a></li><li class="ttt" data-tt="<b>Families return to destruction in southern Lebanon</b><br/>Displaced Lebanese are trying to get to their homes after a ceasefire came into force."><a href="https://www.bbc.com/news/articles/cjr4e51p83do">Families return to destruction in southern Lebanon</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cwy15lp21l3o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/7bdd/live/dc302e60-adac-11ef-8f6c-f1a86bb055ec.jpg" class="ttt" data-tt="A woman sitting on a chair with the hood of her cream-coloured coat covering her face and a spotted blanket while she is on her mobile phone. Behind her, there are multiple people walking in the subway in Kyiv, where they hid during a Russian attack on 28 November, 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Verstappen \'should start doing comedy\' - Norris</b><br/>Lando Norris says Max Verstappen &quot;should start doing comedy&quot; after the Dutchman suggested he could have won the world title in Norris\' McLaren." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c1704n4wd7go">Verstappen \'should start doing comedy\' - Norris</a></li><li class="ttt" data-tt="<b>FIA running out of people to do jobs, says sacked steward</b><br/>A senior steward who has been fired by Formula 1\'s governing body says the FIA is &quot;running out of people to do those jobs&quot;."><a href="https://www.bbc.com/sport/formula1/articles/c4gzn7gvjzzo">FIA running out of people to do jobs, says sacked steward</a></li><li class="ttt" data-tt="<b>Mercedes reserve driver Schumacher to leave role</b><br/>Mick Schumacher is to leave his role as Mercedes reserve driver at the end of this season."><a href="https://www.bbc.com/sport/formula1/articles/crr9gzqnrj7o">Mercedes reserve driver Schumacher to leave role</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c1704n4wd7go"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/aa50/live/3f1b48d0-adc5-11ef-b778-0575c0dbf437.jpg" class="ttt" data-tt="Lando Norris and Max Verstappen" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Top-selling mobile games breaking rules on loot boxes</b><br/>Ads for games are meant to say if they contain loot boxes - BBC News has found most do not." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c748ww9y9nno">Top-selling mobile games breaking rules on loot boxes</a></li><li class="ttt" data-tt="<b>\'It\'s so easy to lie\': A fifth of children use fake age on social media</b><br/>The regulator finds a fifth of children are pretending to be adults, potentially exposing them to harm."><a href="https://www.bbc.com/news/articles/cn4v52ezx17o">\'It\'s so easy to lie\': A fifth of children use fake age on social media</a></li><li class="ttt" data-tt="<b>Canada watchdog sues Google over alleged anti-competitive conduct</b><br/>The suit is the latest regulatory headache for Google, which is facing similar action in the US."><a href="https://www.bbc.com/news/articles/cd7n1rx04l1o">Canada watchdog sues Google over alleged anti-competitive conduct</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c748ww9y9nno"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/05ab/live/4e5eec60-ad99-11ef-80d7-a1109ee9d848.jpg" class="ttt" data-tt="A cartoon showing a treasure chest on a smartphone screen. There is a &#x27;purchase&#x27; button and a dollar sign. Around the phone are coins, gems, and a debit card." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"25 Nov – 1 Dec","date":17328384E5,"ts":"Fri, 29","ds":"Fri, 29 Nov","icon":18,"desc":"Sprinkles late. Cloudy.","temp":8,"templow":2,"cf":4,"wind":13,"wd":160,"hum":80,"pc":42,"rain":0.4 },{"date":17329248E5,"ts":"Sat, 30","ds":"Sat, 30 Nov","icon":7,"desc":"Cloudy.","temp":13,"templow":7,"cf":11,"wind":10,"wd":190,"hum":85,"pc":39,"rain":0.2 },{"date":17330112E5,"ts":"Sun, 1","ds":"Sun, 1 Dec","icon":33,"desc":"Light showers. Overcast.","temp":14,"templow":10,"cf":11,"wind":10,"wd":200,"hum":88,"pc":59,"rain":4.9 },{"hl":true,"hls":"2 Dec – 8 Dec","date":17330976E5,"ts":"Mon, 2","ds":"Mon, 2 Dec","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":10,"templow":4,"cf":6,"wind":9,"wd":250,"hum":81,"pc":52,"rain":2},{"date":1733184E6,"ts":"Tue, 3","ds":"Tue, 3 Dec","icon":7,"desc":"Overcast.","temp":5,"templow":0,"cf":1,"wind":5,"wd":130,"hum":80,"pc":3},{"date":17332704E5,"ts":"Wed, 4","ds":"Wed, 4 Dec","icon":18,"desc":"Sprinkles early. Overcast.","temp":7,"templow":1,"cf":2,"wind":10,"wd":170,"hum":96,"pc":47,"rain":0.5 ,"snow":2},{"date":17333568E5,"ts":"Thu, 5","ds":"Thu, 5 Dec","icon":33,"desc":"Light showers. Overcast.","temp":12,"templow":6,"cf":10,"wind":8,"wd":230,"hum":96,"pc":24,"rain":4.3 },{"date":17334432E5,"ts":"Fri, 6","ds":"Fri, 6 Dec","icon":18,"desc":"Light rain. Overcast.","temp":12,"templow":10,"cf":9,"wind":10,"wd":250,"hum":87,"pc":61,"rain":4},{"date":17335296E5,"ts":"Sat, 7","ds":"Sat, 7 Dec","icon":18,"desc":"Sprinkles. Breaks of sun late.","temp":11,"templow":7,"cf":7,"wind":14,"wd":310,"hum":76,"pc":59,"rain":3.1 },{"date":1733616E6,"ts":"Sun, 8","ds":"Sun, 8 Dec","icon":33,"desc":"Showers early. Mostly sunny.","temp":10,"templow":4,"cf":7,"wind":15,"wd":0,"hum":76,"pc":57,"rain":3.4 },{"hl":true,"hls":"9 Dec – 15 Dec","date":17337024E5,"ts":"Mon, 9","ds":"Mon, 9 Dec","icon":4,"desc":"Increasing cloudiness.","temp":7,"templow":2,"cf":3,"wind":12,"wd":290,"hum":79,"pc":6},{"date":17337888E5,"ts":"Tue, 10","ds":"Tue, 10 Dec","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":7,"templow":3,"cf":3,"wind":21,"wd":310,"hum":69,"pc":54,"rain":0.9 },{"date":17338752E5,"ts":"Wed, 11","ds":"Wed, 11 Dec","icon":1,"desc":"Sunny.","temp":8,"templow":3,"cf":5,"wind":13,"wd":330,"hum":54,"pc":6},{"date":17339616E5,"ts":"Thu, 12","ds":"Thu, 12 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":7,"templow":3,"cf":4,"wind":9,"wd":290,"hum":88,"pc":47,"rain":0.6 },{"date":1734048E6,"ts":"Fri, 13","ds":"Fri, 13 Dec","icon":33,"desc":"Showers late. Overcast.","temp":7,"templow":3,"cf":4,"wind":10,"wd":220,"hum":91,"pc":68,"rain":4.2 }],"grid":{"temp":{"low":0,"high":14,"range":14},"prec":{"high":4.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2411/NGC206_APOD1024.jpg',
		Title:     'NGC 206 and the Star Clouds of Andromeda',
		LinkImage: 'https://apod.nasa.gov/apod/image/2411/NGC206_APOD.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241128.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Dudley_Hardy_-_Poster_for_Basil_Hood_and_Arthur_Sullivan%27s_The_Rose_of_Persia.jpg/350px-Dudley_Hardy_-_Poster_for_Basil_Hood_and_Arthur_Sullivan%27s_The_Rose_of_Persia.jpg',
		Title:    'The Rose of Persia',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/The_Rose_of_Persia',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/The_Rose_of_Persia" title="The Rose of Persia">The Rose of Persia</a></b></i>; <i>or, The Story-Teller and the Slave</i>, is a two-act <a href="https://en.wikipedia.org/wiki/Comic_opera" title="Comic opera">comic opera</a>, with music by <a href="https://en.wikipedia.org/wiki/Arthur_Sullivan" title="Arthur Sullivan">Arthur Sullivan</a> and a libretto by <a href="https://en.wikipedia.org/wiki/Basil_Hood" title="Basil Hood">Basil Hood</a>. It premiered at the <a href="https://en.wikipedia.org/wiki/Savoy_Theatre" title="Savoy Theatre">Savoy Theatre</a> on 29 November 1899, closing on 28 June 1900 after a profitable run of 211 performances. The opera then toured, had a brief run in America and played elsewhere throughout the English-speaking world.<small style="display: block; margin-top: 0.8em;">Painting credit: <a href="https://en.wikipedia.org/wiki/Dudley_Hardy" title="Dudley Hardy">Dudley Hardy</a>; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":1,"event":[{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1732839300,"duration":20700,"svcId":560,"evtId":29453,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":242},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1732860000,"duration":12600,"svcId":560,"evtId":29454,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732872540,"availabilityEnd":1732958940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025bx0\u0026ui_id=4.0.0"}},{"name":"Morning Live: Scam Special","description":"Join Morning Live for a week of Scam Specials, with live roadshows from across the UK. [S] [HD]","startTime":1732872600,"duration":4500,"svcId":560,"evtId":29455,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jybqmg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732877065,"availabilityEnd":1764413065,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025bx2\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":120},{"name":"Rip Off Britain: Holidays","description":"30\/45. In a special holiday edition, Gloria Hunniford, Julia Somerville and the team ask how much damage is too much damage when it comes to your passport. [S] [HD]","startTime":1732877100,"duration":2700,"svcId":560,"evtId":29571,"image":"\/ms\/img\/epg\/rb\/fec6-p0k4bwm3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732879783,"availabilityEnd":1764415783,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f86\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":30},{"name":"Homes Under the Hammer","description":"11\/80. Featuring properties in Kent, Yorkshire and Greater Manchester. [S,AD] [HD]","startTime":1732879800,"duration":2700,"svcId":560,"evtId":29456,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fcfkjl.jpg","hasTstv":false,"seriesNo":39,"episodeNo":11},{"name":"Bargain Hunt","description":"Oswestry in Shropshire is the setting for another antiques showdown between the red and blue teams, assisted by experts Roo Irvine and Colin Young. [S,AD] [HD]","startTime":1732882500,"duration":2700,"svcId":560,"evtId":29581,"image":"\/ms\/img\/epg\/rb\/fec6-p0k4gn5s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732885186,"availabilityEnd":1767704314,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025fpp\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1732885200,"duration":3600,"svcId":560,"evtId":29457,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":175},{"name":"Hope Street","description":"5\/8. A man is pushed into the harbour. Could Eve\u0027s son be the culprit? Nicole is heartbroken when Clint doesn\u0027t turn up at her gender reveal party. [S,AD] [HD]","startTime":1732888800,"duration":2700,"svcId":560,"evtId":29582,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzf8v1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730142017,"availabilityEnd":1761680721,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024ghb\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":5},{"name":"Escape to the Country","description":"12\/20. A health-conscious couple from London enlist Sonali Shah to help them spend \u00a31.3 million on a detached property in Surrey with enough land to create a wellness retreat. [S,AD] [HD]","startTime":1732891500,"duration":3600,"svcId":560,"evtId":29460,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k0tw3g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732895065,"availabilityEnd":1735487065,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001bmh1\u0026ui_id=4.0.0"},"seriesNo":42,"episodeNo":12},{"name":"The Bidding Room","description":"17\/30. Nigel Havers hosts as five dealers bid to buy items brought in by the public, including a 1940s library stand, a racing tricycle, some Sindy toys and a vintage milking machine. [S] [HD]","startTime":1732895100,"duration":2700,"svcId":560,"evtId":29461,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cvnczs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732897820,"availabilityEnd":1735489820,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kzqb\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":17},{"name":"Antiques Road Trip","description":"20\/20. It\u0027s a showdown on the Isle of Wight shops for Catherine and Ishy\u0027s final clash, where they uncover the oldest find of the trip by far. [S] [HD]","startTime":1732897800,"duration":2700,"svcId":560,"evtId":29572,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k4gn3s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732514400,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025f88\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":20},{"name":"Pointless","description":"48\/55. Alexander Armstrong is joined by co-host Vick Hope for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1732900500,"duration":2700,"svcId":560,"evtId":29462,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h5j12w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1706637600,"availabilityEnd":1738260000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001vw82\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":48},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1732903200,"duration":1800,"svcId":560,"evtId":29463,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732905090,"availabilityEnd":1732991490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025bx9\u0026ui_id=4.0.0"},"episodeNo":175},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1732905000,"duration":1800,"svcId":560,"evtId":29464,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732906695,"availabilityEnd":1732993095,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025bxc\u0026ui_id=4.0.0"},"episodeNo":243},{"name":"The One Show","description":"Alex Jones and Roman Kemp bring you the stories that matter from across the country. [S] [HD]","startTime":1732906800,"duration":1800,"svcId":560,"evtId":29573,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732908745,"availabilityEnd":1735500745,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f8b\u0026ui_id=4.0.0"}},{"name":"The Travelling Auctioneers","description":"2\/20. When a 90-year-old RAF veteran sells his antiques to fund nursing care, everyone hopes for an auction day miracle. But a life-size Jesus statue raises eyebrows and a lot of money. [S] [HD]","startTime":1732908600,"duration":1800,"svcId":560,"evtId":29583,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h2dnc0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704693600,"availabilityEnd":1736316000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001v3qt\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"Return to Paradise","description":"2\/6. DI Mackenzie Clarke must solve the murder of a famous wellness influencer. [S,AD] [HD]","startTime":1732910400,"duration":3600,"svcId":560,"evtId":29584,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k42csn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732255200,"availabilityEnd":1826841540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255hz\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Have I Got News for You","description":"8\/10. Victoria Coren Mitchell is host, with panellists broadcaster Stacey Dooley and writer and comedian Andy Hamilton joining team captains Paul Merton and Ian Hislop. [S] [HD]","startTime":1732914000,"duration":1800,"svcId":560,"evtId":29585,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5lb97.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732915881,"availabilityEnd":1765661386,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025fps\u0026ui_id=4.0.0"},"seriesNo":68,"episodeNo":8},{"name":"Only Child","description":"2\/6. Richard decides the time has come to clear Ken\u0027s house of all his junk. The arrival of Mr Oddjob, local handyman and Richard\u0027s former school nemesis, complicates matters further. [S,AD] [HD]","startTime":1732915800,"duration":1800,"svcId":560,"evtId":29586,"image":"\/ms\/img\/epg\/rb\/fec6-p0k43mn7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732168800,"availabilityEnd":1763762403,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255ft\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1732917600,"duration":1800,"svcId":560,"evtId":29465,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732919490,"availabilityEnd":1733005890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025bxf\u0026ui_id=4.0.0"},"episodeNo":175},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1732919400,"duration":600,"svcId":560,"evtId":29466,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732919850,"availabilityEnd":1733006250,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025bxh\u0026ui_id=4.0.0"},"episodeNo":209},{"name":"The Graham Norton Show","description":"Graham\u0027s guests are superstar actor and singer Cher, actor Michael Fassbender, double Oscar nominee Keira Knightley and Hollywood star Josh Brolin. With music from Jalen Ngonda. [S] [HD]","startTime":1732920000,"duration":3000,"svcId":560,"evtId":29587,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7lm8h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732923101,"availabilityEnd":1771716240,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025fpv\u0026ui_id=4.0.0"},"episodeNo":9},{"name":"Smoggie Queens","description":"1\/6. Dickie\u0027s friends and family gather round when his boyfriend dumps him on the doorstep. Can he fight for his love and win back his man? Contains strong language and adult humour. [S,AD] [HD]","startTime":1732923000,"duration":1800,"svcId":560,"evtId":29588,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6825z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732772700,"availabilityEnd":1795844700,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024phd\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"RuPaul\u0027s Drag Race UK","description":"10\/10. It\u0027s the finale! The time has come for RuPaul to crown the UK\u0027s next Drag Race superstar! Contains some strong language and adult humour. [S] [HD]","startTime":1732924800,"duration":4200,"svcId":560,"evtId":29589,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7h966.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732824000,"availabilityEnd":1790398800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025fpx\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":10},{"name":"Alan Carr\u0027s Picture Slam","description":"9\/10. Attempting to Picture Slam their way to \u00a310,000 are friends Tre and Maz from Bristol, siblings Lucy and Stephen from Glasgow, and married couple Jade and Curtis from Middleton. [S] [HD]","startTime":1732929000,"duration":2700,"svcId":560,"evtId":29590,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k68ghb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732388700,"availabilityEnd":1764529557,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025p0s\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":9},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1732931700,"duration":300,"svcId":560,"evtId":29467,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732932203,"availabilityEnd":1733540548,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025bxk\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1732932000,"duration":14400,"svcId":560,"evtId":29468,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":243}]},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1732851300,"duration":11400,"svcId":700,"evtId":21125,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Richard Osman\u0027s House of Games","description":"49\/100. Nikki Fox, Ruthie Henshall, Danny John-Jules and Ignacio Lopez test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1732862700,"duration":1800,"svcId":700,"evtId":21065,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k4hhm2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732818570,"availabilityEnd":1764440974,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025gt8\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":49},{"name":"Antiques Road Trip","description":"19\/20. Wiltshire and Somerset host Catherine and Ishy in the penultimate trip. After an antiques animation exclusive, it\u0027s off to auction with a cheeky piece of retro advertising in hand. [S] [HD]","startTime":1732864500,"duration":2700,"svcId":700,"evtId":21066,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k4gmhh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732514400,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025f75\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":19},{"name":"Mary\u0027s Foolproof Dinners","description":"4\/6. Mary teaches Sue some foolproof recipes perfect for hosting and some new tennis skills. [S,AD,SL] [HD]","startTime":1732867200,"duration":1800,"svcId":700,"evtId":21067,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vs4z.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Villages by the Sea","description":"1\/6. Archaeologist Ben Robinson is in North Yorkshire, exploring how idyllic Runswick Bay was once a place of great danger, despite attracting tourists and inspiring artists. [S,SL] [HD]","startTime":1732869000,"duration":1800,"svcId":700,"evtId":21068,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k0vrhh.jpg","hasTstv":false,"seriesNo":5,"episodeNo":1},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1732870800,"duration":14400,"svcId":700,"evtId":21069,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Snooker: UK Championship","description":"Live coverage from day seven of the 2024 UK Snooker Championship. [S] [HD]","startTime":1732885200,"duration":15300,"svcId":700,"evtId":21070,"image":"\/ms\/img\/epg\/rb\/fec6-p0k70dn4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732900515,"availabilityEnd":1735492515,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f82\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Flog It!","description":"Antiques series. In Muncaster in Cumbria, hundreds of people turn up with collectibles and treasures to take to auction. Paul Martin visits Coniston Water. [S] [HD]","startTime":1732900500,"duration":2700,"svcId":700,"evtId":21071,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732903178,"availabilityEnd":1735495178,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b074cc3t\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":29},{"name":"Richard Osman\u0027s House of Games","description":"50\/100. Nikki Fox, Ruthie Henshall, Danny John-Jules and Ignacio Lopez test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1732903200,"duration":1800,"svcId":700,"evtId":21072,"image":"\/ms\/img\/epg\/rb\/fec6-p0k4hhr0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732904974,"availabilityEnd":1764440974,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025gtf\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":50},{"name":"Strictly - It Takes Two","description":"50\/60. Fleur East is on hand with even more Strictly exclusives in this special Musicals edition, where she\u0027s joined by a trio of celebrity super fans. [S] [HD]","startTime":1732905000,"duration":1800,"svcId":700,"evtId":21073,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732906800,"availabilityEnd":1765654335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025gtj\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":50},{"name":"Snooker: UK Championship","description":"Live coverage from day seven of the 2024 UK Snooker Championship. [S] [HD]","startTime":1732906800,"duration":1800,"svcId":700,"evtId":21074,"image":"\/ms\/img\/epg\/rb\/fec6-p0k70dn4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732908600,"availabilityEnd":1735500600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025f84\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"MOTD Live: Harrogate Town v...","description":"...Gainsborough Trinity. Coverage as Harrogate and Gainsborough battle it out for a place in the third round. [S] [HD]","startTime":1732908600,"duration":9000,"svcId":700,"evtId":21075,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6zvq3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732917675,"availabilityEnd":1735509675,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025gtl\u0026ui_id=4.0.0"},"seriesNo":17},{"name":"Live at the Apollo","description":"3\/7. The magnificent Lou Sanders introduces comedians Celya AB and Neil Delamere to the stage. Contains some strong language and adult humour. [S] [HD]","startTime":1732917600,"duration":1800,"svcId":700,"evtId":21076,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gsdwyn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732919518,"availabilityEnd":1735511518,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025gtn\u0026ui_id=4.0.0"},"seriesNo":2028,"episodeNo":3},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Christian Fraser. [S] [HD]","startTime":1732919400,"duration":1800,"svcId":700,"evtId":21077,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732921320,"availabilityEnd":1764457320,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025d8k\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1732921200,"duration":300,"svcId":700,"evtId":21078,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732921545,"availabilityEnd":1733007945,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025d8m\u0026ui_id=4.0.0"}},{"name":"Brawn: The Impossible Formula 1...","description":"...Story. 2\/4. Success in Australia is bittersweet, as the rise of Brawn GP causes unrest amongst the teams that helped them. Jenson defies all expectations. Contains very strong language. [S,AD] [HD]","startTime":1732921500,"duration":3600,"svcId":700,"evtId":21079,"image":"\/ms\/img\/epg\/rb\/fec6-p0k3ts8y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731823200,"availabilityEnd":1794700740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024qc7\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Bones and All","description":"Maren goes on a thousand-mile odyssey in America and meets Lee, a disenfranchised drifter. Contains very strong language, prolonged violence and disturbing scenes. [2022] [S] [HD]","startTime":1732925100,"duration":7500,"svcId":700,"evtId":21080,"image":"\/ms\/img\/epg\/rb\/fec6-p0j031zv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732932636,"availabilityEnd":1735524636,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zysx\u0026ui_id=4.0.0"}},{"name":"Binge Drinking and Me - Panorama","description":"BBC journalist Hazel Martin goes on a personal journey to find out why alcohol-related deaths from liver disease among women under 40 have risen sharply over the last decade. [S,SL] [HD]","startTime":1732932600,"duration":1800,"svcId":700,"evtId":21081,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k698jn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732514400,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025fyj\u0026ui_id=4.0.0"}},{"name":"Loaded: Lads, Mags and Mayhem","description":"A nostalgic romp through the rise - and fall - of the 90s lads mag phenomenon. Contains very strong language and upsetting scenes. [S,AD,SL] [HD]","startTime":1732934400,"duration":5400,"svcId":700,"evtId":21082,"image":"\/ms\/img\/epg\/rb\/fec6-p0k426xw.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

console.log('Error in backlog module: The remote server returned an error: (500) Internal Server Error.');

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '99mDleOf46I', title: "Ricky Gervais: Comedy, Football and Brotherly Bonds With Roy Keane | Stick to Football 59", label: "Ricky Gervais: Comedy, Football and Brotherly Bonds With Roy Keane | Stick to Football 59 by The Overlap 851,163 views 16 hours ago 1 hour, 23 minutes" },
{ id: 'AcmKeh0lnTQ', title: "Secret Garage Update #12 The biggest project I’ve ever started", label: "Secret Garage Update #12 The biggest project I’ve ever started by 2 Much ColinFurze 364,848 views 8 hours ago 26 minutes" },
{ id: '3qQHpR1J2jY', title: "Mac Allister \u0026 Gakpo fire Liverpool to win over Real Madrid | Uefa Champions League | BBC Sport", label: "Mac Allister \u0026 Gakpo fire Liverpool to win over Real Madrid | Uefa Champions League | BBC Sport by BBC Sport 226,066 views 1 day ago 3 minutes, 6 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+A Letter to Three Wives (1949)">A Letter to Three Wives (1949)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Diary of a Teenage Girl (2015)">The Diary of a Teenage Girl (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Umbrellas of Cherbourg (1964)">The Umbrellas of Cherbourg (1964)</a></li><li><a href="https://www.google.com/search?q=Films+-+My Life Without Me (2003)">My Life Without Me (2003)</a></li><li><a href="https://www.google.com/search?q=Films+-+Stockholm, Pennsylvania (2015)">Stockholm, Pennsylvania (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Duelle (1976)">Duelle (1976)</a></li><li><a href="https://www.google.com/search?q=Films+-+Wanda (1970)">Wanda (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+Les rendez-vous d\'Anna (1978)">Les rendez-vous d\'Anna (1978)</a></li><li><a href="https://www.google.com/search?q=Films+-+God\'s Creatures (2022)">God\'s Creatures (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Visit (1964)">The Visit (1964)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
{ number: 225.78, tooltip: "Fri, Nov 08, 2024<br/>£225.78"},
{ number: 224.64, tooltip: "Thu, Nov 07, 2024<br/>£224.64"},
{ number: 224.52, tooltip: "Wed, Nov 06, 2024<br/>£224.52"},
{ number: 219.40, tooltip: "Tue, Nov 05, 2024<br/>£219.40"},
{ number: 217.60, tooltip: "Mon, Nov 04, 2024<br/>£217.60"},
{ number: 217.96, tooltip: "Fri, Nov 01, 2024<br/>£217.96"},
{ number: 219.00, tooltip: "Thu, Oct 31, 2024<br/>£219.00"},
{ number: 219.52, tooltip: "Wed, Oct 30, 2024<br/>£219.52"},
{ number: 220.32, tooltip: "Tue, Oct 29, 2024<br/>£220.32"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Nov 27, 2024",
		"vs Day":      "Tue, Nov 26, 2024",
		"vs Week":     "Mon, Nov 18, 2024",
		"vs Month":    "Tue, Oct 29, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£229.52/share",
		'vs Day':      "-0.96%",
		'vs Week':     "+1.41%",
		'vs Month':    "+4.18%",
		'vs Year':     "+25.52%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '4.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 28 November and 29 November">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.049&p=3.861&r=0.809',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:50',
		Set:      '15:58',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Victuals</em> is a word with an old-fashioned feel that refers to food, and sometimes to both food and drink. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>