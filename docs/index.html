<!DOCTYPE html>
<html lang="en">
	<head>
		<title>12:40 5-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Top official\'s letter casts doubt on Tory tax claim</b><br/>It risks undermining Rishi Sunak\'s claim Labour\'s plans would mean £2,000 of tax rises for families." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd11m307jjvo">Top official\'s letter casts doubt on Tory tax claim</a></li><li class="ttt" data-tt="<b>\'Courage, resilience and solidarity\': King\'s tribute at D-Day 80th anniversary</b><br/>Two days of events are taking place in the UK and France to mark the anniversary of the Normandy landings."><a href="https://www.bbc.co.uk/news/live/world-69089969">\'Courage, resilience and solidarity\': King\'s tribute at D-Day 80th anniv...</a></li><li class="ttt" data-tt="<b>King and Queen hear first-hand D-Day veteran stories</b><br/>The King and Queen were told detailed stories of what it was like to be part of the D-Day landings."><a href="https://www.bbc.com/news/articles/crggew8e1kvo">King and Queen hear first-hand D-Day veteran stories</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd11m307jjvo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/a7b1/live/38c74930-2313-11ef-a13a-0b8c563da930.jpg" class="ttt" data-tt="ITV debate" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Biden announces asylum restrictions to ‘control border’</b><br/>Immigration is a top issue for many voters, and a possible threat to Biden\'s reelection chances." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c7227y6nqzmo">Biden announces asylum restrictions to ‘control border’</a></li><li class="ttt" data-tt="<b>Heat dome brings dangerous weather to western US</b><br/>More than 34 million Americans in the western US are under excessive heat advisories this week."><a href="https://www.bbc.com/news/articles/cqlle2v2dpxo">Heat dome brings dangerous weather to western US</a></li><li class="ttt" data-tt="<b>Kanye West accuses former assistant of blackmail</b><br/>The star\'s lawyer describes claims of sexual harassment &quot;baseless&quot; and threatens to counter-sue."><a href="https://www.bbc.com/news/articles/cy00r5vg4gvo">Kanye West accuses former assistant of blackmail</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c7227y6nqzmo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/87a3/live/0c8e38a0-2314-11ef-a13a-0b8c563da930.jpg" class="ttt" data-tt="Migrants wait for US Border Patrol after crossing the US Mexico border in California" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Mass graves and body bags: al-Shifa hospital after Israel withdrew its forces</b><br/>The BBC has gained insight into what al-Shifa hospital is like since Israeli forces withdrew." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c511k1nqx81o">Mass graves and body bags: al-Shifa hospital after Israel withdrew its forces</a></li><li class="ttt" data-tt="<b>Biden announces asylum restrictions to ‘control border’</b><br/>Immigration is a top issue for many voters, and a possible threat to Biden\'s reelection chances."><a href="https://www.bbc.com/news/articles/c7227y6nqzmo">Biden announces asylum restrictions to ‘control border’</a></li><li class="ttt" data-tt="<b>Modi set for third term but opposition still to concede</b><br/>India\'s PM Narendra Modi wins a third term, but his party lost its majority and must rely on allies."><a href="https://www.bbc.co.uk/news/live/world-asia-india-69072275">Modi set for third term but opposition still to concede</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c511k1nqx81o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/803d/live/09803cf0-2272-11ef-a1f2-47207c8bf210.jpg" class="ttt" data-tt="Palestinians inspect damages at Al Shifa Hospital" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Perez signs new two-year deal with Red Bull</b><br/>Sergio Perez signs a new two-year contract to stay at Red Bull in Formula 1 until the end of 2026." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cv22n5ypp5ro">Perez signs new two-year deal with Red Bull</a></li><li class="ttt" data-tt="<b>F1 Q&A: Who will be future world champions?</b><br/>BBC Sport F1 correspondent Andrew Benson answers your questions before the Canadian Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/crgg4zjrkpdo">F1 Q&A: Who will be future world champions?</a></li><li class="ttt" data-tt="<b>Ocon to split with Alpine at end of season</b><br/>Esteban Ocon is to leave Alpine at the end of the year after five seasons with the French team."><a href="https://www.bbc.com/sport/formula1/articles/c511lx5yqq6o">Ocon to split with Alpine at end of season</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cv22n5ypp5ro"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/6618/live/ef94d170-228f-11ef-aa5e-fbd55ead2973.jpg" class="ttt" data-tt="Sergio Perez" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Australia drops case against X over stabbing videos</b><br/>The case was seen as a test of Australia\'s ability to enforce online safety rules on social media giants." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cv229qm7nepo">Australia drops case against X over stabbing videos</a></li><li class="ttt" data-tt="<b>Paris Hilton among users targeted in TikTok hack</b><br/>The video-sharing app told the BBC that a &quot;very limited&quot; number of accounts had been compromised."><a href="https://www.bbc.com/news/articles/cl770d121gro">Paris Hilton among users targeted in TikTok hack</a></li><li class="ttt" data-tt="<b>Instagram tests forcing users to watch adverts</b><br/>The &quot;ad break&quot; feature it is trialling means users cannot scroll or swipe past adverts as usual."><a href="https://www.bbc.com/news/articles/c877y6mxdp7o">Instagram tests forcing users to watch adverts</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cv229qm7nepo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ae73/live/01a5c460-22e9-11ef-baa7-25d483663b8e.jpg" class="ttt" data-tt="Elon Musk" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"3 Jun – 9 Jun","date":17175456E5,"ts":"Wed, 5","ds":"Wed, 5 Jun","icon":18,"desc":"Sprinkles. Increasing cloudiness.","temp":13,"templow":5,"cf":11,"wind":12,"wd":270,"hum":56,"pc":40,"rain":0.6 },{"date":1717632E6,"ts":"Thu, 6","ds":"Thu, 6 Jun","icon":18,"desc":"Sprinkles. Cloudy.","temp":15,"templow":5,"cf":14,"wind":7,"wd":280,"hum":57,"pc":38,"rain":1.1 },{"date":17177184E5,"ts":"Fri, 7","ds":"Fri, 7 Jun","icon":18,"desc":"Sprinkles. Broken clouds.","temp":17,"templow":5,"cf":16,"wind":12,"wd":230,"hum":68,"pc":52,"rain":1.4 },{"date":17178048E5,"ts":"Sat, 8","ds":"Sat, 8 Jun","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":16,"templow":6,"cf":14,"wind":11,"wd":310,"hum":61,"pc":41,"rain":1.5 },{"date":17178912E5,"ts":"Sun, 9","ds":"Sun, 9 Jun","icon":18,"desc":"Sprinkles. Broken clouds.","temp":16,"templow":5,"cf":14,"wind":11,"wd":280,"hum":56,"pc":42,"rain":1.1 },{"hl":true,"hls":"10 Jun – 16 Jun","date":17179776E5,"ts":"Mon, 10","ds":"Mon, 10 Jun","icon":18,"desc":"Sprinkles late. Mostly cloudy.","temp":18,"templow":5,"cf":16,"wind":8,"wd":10,"hum":53,"pc":45,"rain":1.9 },{"date":1718064E6,"ts":"Tue, 11","ds":"Tue, 11 Jun","icon":33,"desc":"Showers late. Mostly cloudy.","temp":19,"templow":5,"cf":18,"wind":7,"wd":270,"hum":52,"pc":16,"rain":1},{"date":17181504E5,"ts":"Wed, 12","ds":"Wed, 12 Jun","icon":18,"desc":"Drizzle. Cloudy.","temp":17,"templow":7,"cf":14,"wind":12,"wd":210,"hum":76,"pc":50,"rain":0.9 },{"date":17182368E5,"ts":"Thu, 13","ds":"Thu, 13 Jun","icon":33,"desc":"Light showers. Overcast.","temp":17,"templow":11,"cf":17,"wind":11,"wd":220,"hum":82,"pc":63,"rain":3.6 },{"date":17183232E5,"ts":"Fri, 14","ds":"Fri, 14 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":18,"templow":12,"cf":18,"wind":12,"wd":190,"hum":81,"pc":55,"rain":2.8 },{"date":17184096E5,"ts":"Sat, 15","ds":"Sat, 15 Jun","icon":21,"desc":"Scattered tstorms late. Breaks of sun late.","temp":18,"templow":13,"cf":18,"wind":14,"wd":200,"hum":78,"pc":55,"rain":2.6 },{"date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":18,"desc":"Sprinkles late. Broken clouds.","temp":18,"templow":12,"cf":18,"wind":13,"wd":240,"hum":56,"pc":41,"rain":0.1 },{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":33,"desc":"Passing showers. Afternoon clouds.","temp":19,"templow":10,"cf":16,"wind":16,"wd":220,"hum":62,"pc":54,"rain":1},{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":2,"desc":"Scattered clouds.","temp":16,"templow":8,"cf":16,"wind":7,"wd":280,"hum":56,"pc":5},{"date":17187552E5,"ts":"Wed, 19","ds":"Wed, 19 Jun","icon":21,"desc":"Isolated tstorms late. Mostly sunny.","temp":17,"templow":9,"cf":17,"wind":7,"wd":340,"hum":60,"pc":14,"rain":0.2 }],"grid":{"temp":{"low":5,"high":19,"range":14},"prec":{"high":3.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/NeretvaVallis_PerseveranceNevT_960.jpg',
		Title:     'Shadow of a Martian Robot',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/NeretvaVallis_PerseveranceNevT_4000.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240605.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Pseudotsuga_menziesii_var._glauca_young_female_cone_-_Keila.jpg/500px-Pseudotsuga_menziesii_var._glauca_young_female_cone_-_Keila.jpg',
		Title:    'Douglas fir',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Douglas_fir',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Douglas_fir" title="Douglas fir">Douglas fir</a></b> (<i>Pseudotsuga menziesii</i>) is an evergreen <a href="https://en.wikipedia.org/wiki/Conifer" title="Conifer">conifer</a> species in the pine family, <a href="https://en.wikipedia.org/wiki/Pinaceae" title="Pinaceae">Pinaceae</a>, which is native to western North America. The trees grow to a height of around 20 to 100 metres (70 to 330 feet) and commonly reach 2.4 metres (8 feet) in diameter. The largest coast Douglas firs regularly live for more than 500 years, with the oldest specimens more than 1,300 years old. The <a href="https://en.wikipedia.org/wiki/Conifer_cone" title="Conifer cone">cones</a> are pendulous and differ from true <a href="https://en.wikipedia.org/wiki/Fir" title="Fir">firs</a> as they have persistent scales. The cones have distinctive long, <a href="https://en.wikipedia.org/wiki/Glossary_of_botanical_terms" title="Glossary of botanical terms">trifid</a> (three-pointed) <a href="https://en.wikipedia.org/wiki/Bract" title="Bract">bracts</a>, which protrude prominently above each scale. The cones become tan when mature, measuring <style data-mw-deduplicate="TemplateStyles:r1154941027">.mw-parser-output .frac{white-space:nowrap}.mw-parser-output .frac .num,.mw-parser-output .frac .den{font-size:80%;line-height:0;vertical-align:super}.mw-parser-output .frac .den{vertical-align:sub}.mw-parser-output .sr-only{border:0;clip:rect(0,0,0,0);clip-path:polygon(0px 0px,0px 0px,0px 0px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}</style>6 to 10 centimetres (<span class="frac">2<span class="sr-only">+</span><span class="num">1</span>&#8260;<span class="den">2</span></span> to 4 inches) long for coastal Douglas firs. This photograph shows a young female cone of the variety <a href="https://en.wikipedia.org/wiki/Pseudotsuga_menziesii_var._glauca" title="Pseudotsuga menziesii var. glauca"><i>Pseudotsuga menziesii</i> var.&#160;<i>glauca</i></a> (Rocky Mountain Douglas-fir), cultivated near <a href="https://en.wikipedia.org/wiki/Keila" title="Keila">Keila</a>, Estonia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.orghttps://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="c:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1717563600,"duration":12600,"svcId":560,"evtId":24969,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":false},{"name":"Rip Off Britain","description":"13\/15. The dogged debt collectors who won\u0027t give up - even when you don\u0027t owe them anything. And the missing mail causing huge headaches and leaving you out of pocket. [S] [HD]","startTime":1717576200,"duration":2700,"svcId":560,"evtId":25051,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0wkxg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717578874,"availabilityEnd":1749287720,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy43\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":13},{"name":"D-Day 80: The Allies Prepare","description":"The national UK commemorative event honouring the veterans who took part in the D-Day landings and the Normandy campaign. Presented by Anita Rani, with reporter JJ Chalmers. [S] [HD]","startTime":1717578900,"duration":9900,"svcId":560,"evtId":25052,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1hghk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717588801,"availabilityEnd":1749124801,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy45\u0026ui_id=4.0.0"}},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news and weather, plus a comprehensive round-up from your part of the UK. [S] [HD]","startTime":1717588800,"duration":3600,"svcId":560,"evtId":25302,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false},{"name":"Doctors","description":"A new arrival makes waves at The Mill, Paige wants answers, and a young boy\u0027s shocking confession puzzles Rob and Jimmi. [S,AD] [HD]","startTime":1717592400,"duration":1800,"svcId":560,"evtId":25023,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0rzzy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717594189,"availabilityEnd":1749130189,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxgt\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":227},{"name":"Clean It, Fix It","description":"2\/15. The team visit Bristol to help a busy household of nine young professionals. Their communal areas are in desperate need of some attention. [S] [HD]","startTime":1717594200,"duration":1800,"svcId":560,"evtId":25024,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b3bx2h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717596007,"availabilityEnd":1720190684,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011gc9\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Escape to the Country","description":"36\/55. A couple want to escape the urban sprawl to establish a new country life in Devon. [S,AD] [HD]","startTime":1717596000,"duration":2700,"svcId":560,"evtId":24970,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fb74js.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680101151,"availabilityEnd":1711640751,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001kjzz\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":36},{"name":"Garden Rescue","description":"12\/35. Lee and Flo are in Wokingham with Sylvia and Matthew. Sylvia is a hopeless romantic and dreams of a garden that embodies love and enchantment. [S] [HD]","startTime":1717598700,"duration":2700,"svcId":560,"evtId":24971,"image":"\/ms\/img\/epg\/rb\/fec6-p0fsrl46.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686670207,"availabilityEnd":1720193394,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mwty\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":12},{"name":"New: The Finish Line","description":"23\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1717601400,"duration":2700,"svcId":560,"evtId":25025,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0w9vs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717604093,"availabilityEnd":1752596014,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxgw\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":23},{"name":"Pointless","description":"34\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1717604100,"duration":2700,"svcId":560,"evtId":24972,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g2n1yg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1690995600,"availabilityEnd":1722531600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001p9pv\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":34},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1717606800,"duration":1800,"svcId":560,"evtId":24973,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717608630,"availabilityEnd":1717695030,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzt\u0026ui_id=4.0.0"},"episodeNo":48},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717608600,"duration":1500,"svcId":560,"evtId":24974,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717610235,"availabilityEnd":1717696635,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx02\u0026ui_id=4.0.0"},"episodeNo":66},{"name":"Party Election Broadcast by the...","description":"...Liberal Democrats. A Party election broadcast by the Liberal Democrats for the general election. [S] [HD]","startTime":1717610100,"duration":300,"svcId":560,"evtId":25318,"image":"\/ms\/img\/epg\/rb\/fec6-p0j1zfll.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717610565,"availabilityEnd":1720202565,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020b6s\u0026ui_id=4.0.0"},"episodeNo":15},{"name":"The One Show: D-Day Special","description":"Join Alex Jones and Jermaine Jenas for a very special, extended One Show dedicated to the memory of our D-Day heroes. [S] [HD]","startTime":1717610400,"duration":3600,"svcId":560,"evtId":25026,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717614067,"availabilityEnd":1720206067,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxgy\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Junior gets a tempting offer, Suki pleads her case, and Bianca makes a new enemy. [S,AD] [HD]","startTime":1717614000,"duration":1800,"svcId":560,"evtId":25054,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0xfhl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717563600,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy4b\u0026ui_id=4.0.0"},"episodeNo":6921},{"name":"D-Day 80: Tribute to the Fallen","description":"On the eve of D-Day, a tribute to the fallen from Bayeux War Cemetery and Southsea Common, Portsmouth, featuring lighting displays, readings and music. Hosted by Kirsty Young. [S] [HD]","startTime":1717615800,"duration":5400,"svcId":560,"evtId":25055,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1hgvg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717621202,"availabilityEnd":1749157202,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy4d\u0026ui_id=4.0.0"}},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1717621200,"duration":1800,"svcId":560,"evtId":24975,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717623090,"availabilityEnd":1717709490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzw\u0026ui_id=4.0.0"},"episodeNo":48},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717623000,"duration":600,"svcId":560,"evtId":24976,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717623450,"availabilityEnd":1717709850,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx04\u0026ui_id=4.0.0"},"episodeNo":57},{"name":"The King\u0027s Speech","description":"The true story of a king who tried to overcome his stutter so he could address the nation. Contains strong language. [2010] [S,AD] [HD]","startTime":1717623600,"duration":6600,"svcId":560,"evtId":25027,"image":"\/ms\/img\/epg\/rb\/fec6-p06j48zz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717630260,"availabilityEnd":1720222260,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0bc5spx\u0026ui_id=4.0.0"}},{"name":"Celebrity Bridge of Lies","description":"5\/8. Ross Kemp presents the high-stakes quiz, featuring comedians Jessica Knappett, Jenny Eclair, Thanyia Moore and Maisie Adam. [S] [HD]","startTime":1717630200,"duration":2700,"svcId":560,"evtId":25056,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0qgjz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717264317,"availabilityEnd":1750613925,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zxwg\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":5},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1717632900,"duration":300,"svcId":560,"evtId":24977,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717633293,"availabilityEnd":1718241633,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzy\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1717633200,"duration":16800,"svcId":560,"evtId":24978,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":66}]},{"channelid":700,"offset":0,"event":[{"name":"Homes Under the Hammer","description":"10\/30. Martin falls in love with a large London house with a million-pound-plus guide price. Dion is on familiar ground at a two-bedroom mid-terrace in Stoke. [S] [HD]","startTime":1717565400,"duration":3600,"svcId":700,"evtId":16681,"image":"\/ms\/img\/epg\/rb\/fec6-p0j0z9br.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717499715,"availabilityEnd":1749035715,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zxj0\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":10},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"4\/15. Clive travels north to explore the former home of the novelist Ian Fleming. The Goldeneye estate on Oracabessa Bay is where the author wrote all 14 James Bond books. [S] [HD]","startTime":1717569000,"duration":1800,"svcId":700,"evtId":16682,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzrdph.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpmw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"See Hear","description":"19\/23. Dot Miles has a purple plaque unveiled in her honour, plus a celebration of Pride Month. [SL] [HD]","startTime":1717570800,"duration":1800,"svcId":700,"evtId":16683,"image":"\/ms\/img\/epg\/rb\/ae0c-p08qdnv2.jpg","hasTstv":false,"seriesNo":43,"episodeNo":19},{"name":"Rick Stein\u0027s Food Stories","description":"6\/15. In Wales, Rick meets the farmer dodging old WWII bombs to raise salt marsh lamb, goes night-fishing on the River Tywi, tries rhubarb pizza and demonstrates how to smoke sea trout. [S,AD,SL] [HD]","startTime":1717572600,"duration":1800,"svcId":700,"evtId":16684,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h8cv4j.jpg","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1717574400,"duration":11700,"svcId":700,"evtId":16685,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Rishi Sunak and Sir Keir Starmer clash on tax and the NHS in head-to-head debate. [S] [HD]","startTime":1717586100,"duration":2700,"svcId":700,"evtId":16686,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717588815,"availabilityEnd":1720180815,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zyz0\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"23\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 19 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1717588800,"duration":2700,"svcId":700,"evtId":16687,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717591511,"availabilityEnd":1720183511,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000pk1d\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":23},{"name":"Mastermind","description":"23\/31. Clive Myrie hosts as four more contenders answer questions on specialist subjects including Joni Mitchell, the wives of Henry VIII and the films of Tom Cruise. [S] [HD]","startTime":1717591500,"duration":1800,"svcId":700,"evtId":16688,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bnbrpn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014klj\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":23},{"name":"Great Coastal Railway Journeys","description":"23\/25. Michael Portillo\u0027s rail adventure along the south coast of Wales reaches the town of Port Talbot, known across the world for its steel production. [S,AD] [HD]","startTime":1717593300,"duration":1800,"svcId":700,"evtId":16689,"image":"\/ms\/img\/epg\/rb\/fec6-p0bppfjf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717595138,"availabilityEnd":1720187138,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0014t9k\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":23},{"name":"Five Bedrooms","description":"8\/8. A pre-wedding wobble and a couple of punches impact on the ceremony, but the housemates can still party. [S,AD] [HD]","startTime":1717595100,"duration":2700,"svcId":700,"evtId":16690,"image":"\/ms\/img\/epg\/rb\/fec6-p0c8tq6v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689397200,"availabilityEnd":1720933140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0017xfy\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":8},{"name":"The Farmers\u0027 Country Showdown","description":"18\/20. Sisters Rowan and Lily create natural cosmetics from plants grown in their garden to take to Stroud Farmers\u0027 Market alongside dairy farmer Jess and the produce from her cows. [S] [HD]","startTime":1717597800,"duration":2700,"svcId":700,"evtId":16691,"image":"\/ms\/img\/epg\/rb\/ae0c-p094kpmx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717600462,"availabilityEnd":1720192462,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000rptf\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":18},{"name":"Ocean Giants","description":"2\/3. Documentary focusing on the intelligence of whales and dolphins. Professor Denise Herzing attempts to find out how close their minds are to those of humans. [S,AD] [HD]","startTime":1717600500,"duration":3600,"svcId":700,"evtId":16692,"image":"\/ms\/img\/epg\/rb\/ae0c-p09kfjdd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717604075,"availabilityEnd":1720196075,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b013wpxz\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Flog It!","description":"Antiques series. At Hopetoun House near Edinburgh, experts Adam Partridge and Caroline Hawley find some fascinating antiques and collectibles to take to auction. [S] [HD]","startTime":1717604100,"duration":2700,"svcId":700,"evtId":16693,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717606778,"availabilityEnd":1720198778,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b053rmf0\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":17},{"name":"Richard Osman\u0027s House of Games","description":"68\/100. Ashley John-Baptiste, Simon Rimmer, Claire Sweeney and Esme Young test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1717606800,"duration":1800,"svcId":700,"evtId":16694,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dklcj6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717608602,"availabilityEnd":1720200602,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fyyt\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":68},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"7\/15. Clive takes a motorcycle tour with Che Guevara\u0027s son, learns how to cook a feast under rationing and stretches himself with a lesson in the art of ballet. [S] [HD]","startTime":1717608600,"duration":1800,"svcId":700,"evtId":16695,"image":"\/ms\/img\/epg\/rb\/fec6-p0hzrm41.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpn1\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"Your Garden Made Perfect","description":"3\/6. Pam and Marcus are ready to transform the garden into a space for themselves. [S] [HD]","startTime":1717610400,"duration":3600,"svcId":700,"evtId":16696,"image":"\/ms\/img\/epg\/rb\/ae0c-p096jxld.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717614000,"availabilityEnd":1720206000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000scsb\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Springwatch","description":"7\/12. The over-18 Wildlife Hero winner is announced. Iolo is hoping to catch a glimpse of a badger clan, and Megan enjoys a bit of a raptor fest. [S] [HD]","startTime":1717614000,"duration":3600,"svcId":700,"evtId":16697,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzvjmd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717617651,"availabilityEnd":1749844875,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zyz3\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":7},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. 2\/3. Romesh travels to Rwanda to discover its unique culture and incredible wildlife. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1717617600,"duration":3600,"svcId":700,"evtId":16698,"image":"\/ms\/img\/epg\/rb\/fec6-p0hzqgzt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1811566740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpqw\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"Inside No. 9","description":"5\/6. A talented piano tuner is forced to confront the power of a centuries-old curse. Contains scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1717621200,"duration":1800,"svcId":700,"evtId":16699,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j15r7n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717623088,"availabilityEnd":1749763899,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zyz7\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":5},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1717623000,"duration":1800,"svcId":700,"evtId":16700,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j101sb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717624890,"availabilityEnd":1749160890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zyzc\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1717624800,"duration":300,"svcId":700,"evtId":16701,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717625095,"availabilityEnd":1717711495,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zyzh\u0026ui_id=4.0.0"}},{"name":"Unspun World with John Simpson","description":"John Simpson examines new threats to peace and security on the 80th anniversary of D-Day. [S] [HD]","startTime":1717625100,"duration":1500,"svcId":700,"evtId":16702,"image":"\/ms\/img\/epg\/rb\/fec6-p0bqh04f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717626720,"availabilityEnd":1749162720,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zyzm\u0026ui_id=4.0.0"},"seriesNo":4},{"name":"D-Day: The Unheard Tapes","description":"1\/3. The Allies launch a high-stakes invasion of Nazi-occupied France to win the war. Contains scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1717626600,"duration":3600,"svcId":700,"evtId":16703,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j14xl1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717304400,"availabilityEnd":1748840400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y65t\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"See Hear","description":"19\/23. Dot Miles has a purple plaque unveiled in her honour, plus a celebration of Pride Month. [SL] [HD]","startTime":1717630200,"duration":1800,"svcId":700,"evtId":16704,"image":"\/ms\/img\/epg\/rb\/ae0c-p08qdnv2.jpg","hasTstv":false,"seriesNo":43,"episodeNo":19},{"name":"Cold Case Investigators:...","description":"...Solving Britain\u0027s Sex Crimes. 2\/2. Detectives are on the hunt for a rapist who has escaped justice for nearly 30 years. Contains some strong language and upsetting scenes. [S,AD,SL] [HD]","startTime":1717632000,"duration":3600,"svcId":700,"evtId":16705,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hy38hz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716181200,"availabilityEnd":1747717200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001z7wq\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Saving Lives at Sea","description":"10\/10. In Porthcawl, on the south west coast of Wales, the crew receive a call about a swimmer who\u0027s been swept out to sea in a rip current as his wife and son watch on helplessly. [S,AD,SL] [HD]","startTime":1717635600,"duration":3600,"svcId":700,"evtId":16706,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwwtzv.jpg","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1717639200,"duration":13500,"svcId":700,"evtId":16707,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Beat the Chef","description":"Home cook and barbecue fan Richard Merkl hopes to give chef Frederick Forster a good grilling with his Tomahawk steak. But can he rise to Frederick\u0027s ultimate challenge? (S2 Ep10)  [S]","startTime":1717561200,"duration":1800,"svcId":1500,"evtId":25293,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":10},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717563000,"duration":2400,"svcId":1500,"evtId":29940,"image":"\/ms\/img\/epg\/rb\/5d52-9487039.l.png","hasTstv":false},{"name":"3rd Rock from the Sun","description":"A Dick Replacement: When Dick and Mary visit a psychic together, she says that the couple are from two different worlds and one day Dick will leave Mary and return home. (S6 Ep11)  [AD,S]","startTime":1717565400,"duration":1500,"svcId":1500,"evtId":25047,"image":"\/ms\/img\/epg\/rb\/5d52-1138841.l.png","hasTstv":false,"seriesNo":6,"episodeNo":11},{"name":"3rd Rock from the Sun","description":"Dick\u0027s Ark: When Mary tells Dick that she wants some time apart, he thinks it\u0027s all over between them. Sally\u0027s offered a job as a TV weather presenter. (S6 Ep12)  [AD,S]","startTime":1717566900,"duration":1500,"svcId":1500,"evtId":25048,"image":"\/ms\/img\/epg\/rb\/5d52-1139485.l.png","hasTstv":false,"seriesNo":6,"episodeNo":12},{"name":"3rd Rock from the Sun","description":"You Don\u0027t Know Dick: When Nina quizzes Dick about Mary\u0027s likes and dislikes, it becomes clear that Nina knows virtually everything about her, while Dick knows next to nothing. (S6 Ep13)  [AD,S]","startTime":1717568400,"duration":1500,"svcId":1500,"evtId":25049,"image":"\/ms\/img\/epg\/rb\/5d52-1379120.l.png","hasTstv":false,"seriesNo":6,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"Home from School: When Michael stays home from school for two days in a row, Ray mistakenly suspects that he simply has homework he hasn\u0027t finished. (S8 Ep3)  [AD,S]","startTime":1717569900,"duration":1500,"svcId":1500,"evtId":29944,"image":"\/ms\/img\/epg\/rb\/5d52-5222400.l.png","hasTstv":false,"seriesNo":8,"episodeNo":3},{"name":"Everybody Loves Raymond","description":"Misery Loves Company: Debra and Ray are annoyed by the over-the-top affection that Robert and Amy express towards each other. (S8 Ep4)  [AD,S]","startTime":1717571400,"duration":1800,"svcId":1500,"evtId":29945,"image":"\/ms\/img\/epg\/rb\/5d52-5223058.l.png","hasTstv":false,"seriesNo":8,"episodeNo":4},{"name":"Everybody Loves Raymond","description":"The Contractor: Debra persuades Ray to hire Gianni to do some DIY work in their kitchen, but they both come to regret it due to their friend\u0027s laziness. (S8 Ep5)  [AD,S]","startTime":1717573200,"duration":1800,"svcId":1500,"evtId":29946,"image":"\/ms\/img\/epg\/rb\/5d52-5137017.l.png","hasTstv":false,"seriesNo":8,"episodeNo":5},{"name":"Everybody Loves Raymond","description":"Peter on the Couch: When Amy invites her brother Peter to stay for dinner, he makes himself at home on the couch... and never leaves. (S8 Ep6)  [AD,S]","startTime":1717575000,"duration":1800,"svcId":1500,"evtId":29947,"image":"\/ms\/img\/epg\/rb\/5d52-5136481.l.png","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"Frasier","description":"The Ring Cycle: Niles and Daphne marry on an impulse while on holiday in Reno but are forced to hide their good news when they return to Seattle. (S10 Ep1)  [AD,S]","startTime":1717576800,"duration":1800,"svcId":1500,"evtId":29948,"image":"\/ms\/img\/epg\/rb\/5d52-1868107.l.png","hasTstv":false,"seriesNo":10,"episodeNo":1},{"name":"Frasier","description":"Enemy at the Gate: Frasier and Niles are pitted against the owner of a local garage in a war over principles and two dollars. Daphne leaves the Crane household for the last time. (S10 Ep2)  [AD,S]","startTime":1717578600,"duration":1800,"svcId":1500,"evtId":29949,"image":"\/ms\/img\/epg\/rb\/5d52-1868128.l.png","hasTstv":false,"seriesNo":10,"episodeNo":2},{"name":"Frasier","description":"Proxy Prexy: Frasier\u0027s attempts to become condominium president take a new turn when he persuades Martin to run as a \u0027puppet\u0027 candidate. (S10 Ep3)  [AD,S]","startTime":1717580400,"duration":1800,"svcId":1500,"evtId":29950,"image":"\/ms\/img\/epg\/rb\/5d52-1878023.l.png","hasTstv":false,"seriesNo":10,"episodeNo":3},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"The saga of Boston eatery La Galleria 33 comes to a dramatic conclusion, as Gordon Ramsay gives restaurant owners and sisters Rita and Lisa an ultimatum. (S6 Ep2)  [S]","startTime":1717582200,"duration":3300,"svcId":1500,"evtId":25202,"image":"\/ms\/img\/epg\/rb\/5d52-383516873.l.png","hasTstv":false,"seriesNo":5,"episodeNo":2},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1717585500,"duration":300,"svcId":1500,"evtId":29952,"image":"\/ms\/img\/epg\/rb\/5d52-9487250.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Mama Maria\u0027s, a failing restaurant in Brooklyn, New York, where owner John is overwhelmed by running a business that\u0027s become stuck in the past. (S6 Ep3)  [S]","startTime":1717585800,"duration":3600,"svcId":1500,"evtId":29953,"image":"\/ms\/img\/epg\/rb\/5d52-383517533.l.png","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"Car S.O.S","description":"Volvo P1800: Tim Shaw and Fuzz Townshend save a 1964 Volvo P1800S, synonymous with 60s TV series The Saint, that\u0027s been rusting away in a Croydon garage for 30 years. (S4 Ep3\/10)  [AD,S]","startTime":1717589400,"duration":3600,"svcId":1500,"evtId":29954,"image":"\/ms\/img\/epg\/rb\/5d52-207469207.l.png","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717593000,"duration":3000,"svcId":1500,"evtId":29955,"image":"\/ms\/img\/epg\/rb\/5d52-9487268.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Laura Hamilton helps mum and son Dawn and Charlie look for the perfect holiday home for all their family and friends, in the town of Tavira on Portugal\u0027s eastern Algarve, for their \u00a3180k.  [S]","startTime":1717596000,"duration":3600,"svcId":1500,"evtId":29956,"image":"\/ms\/img\/epg\/rb\/5d52-8596652.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Retired teachers Gloria and Russell look for a holiday home in vibrant Valencia. Can Jasmine Harman get in their good books with five great options for their \u00a3115k?  [S]","startTime":1717599600,"duration":3600,"svcId":1500,"evtId":29957,"image":"\/ms\/img\/epg\/rb\/5d52-412031794.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"The new series continues. In Alicante, the Rodriguez sisters look for a slick, modern home for Kris and Ali. In Murcia, the Browns help Terry and his wife Maria relocate. (S7 Ep3\/20)  [S]","startTime":1717603200,"duration":3600,"svcId":1500,"evtId":29958,"image":"\/ms\/img\/epg\/rb\/5d52-9487051.l.png","hasTstv":false,"seriesNo":7,"episodeNo":3},{"name":"Four in a Bed","description":"The new run continues. Sue and Judith host in Cumbria, where the early signs indicate it could be a flawless visit. So why are the hosts scratching their heads at feedback?  [S]","startTime":1717606800,"duration":1800,"svcId":1500,"evtId":29959,"image":"\/ms\/img\/epg\/rb\/5d52-9487284.l.png","hasTstv":false},{"name":"The Simpsons","description":"Faith Off: Homer gets a bucket of superglue stuck to his head and the only person who can remove it is a preacher (Don Cheadle), who inspires Bart to become a faith healer. (S11 Ep11\/22)  [AD,S]","startTime":1717608600,"duration":1800,"svcId":1500,"evtId":29960,"image":"\/ms\/img\/epg\/rb\/5d52-909359.l.png","hasTstv":false,"seriesNo":11,"episodeNo":11},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1717610400,"duration":3300,"svcId":1500,"evtId":29962,"image":"\/ms\/img\/epg\/rb\/5d52-9487290.l.png","hasTstv":false},{"name":"Party Election Broadcast","description":"A party election broadcast by the Conservative Party. [S,W]","startTime":1717613700,"duration":300,"svcId":1500,"evtId":25837,"hasTstv":false},{"name":"New: Location, Location, Location","description":"We catch up with Carolyn and Paul at a house 130 miles north of the flat Kirstie secured for them in 2013. And did Anna and Graeme find character and quirkiness in the country? (S41 Ep5)  [S]","startTime":1717614000,"duration":3600,"svcId":1500,"evtId":29963,"image":"\/ms\/img\/epg\/rb\/5d52-9487091.l.png","hasTstv":false,"seriesNo":41,"episodeNo":5},{"name":"New: 24 Hours in Police Custody...","description":"...The Devil\u0027s Chain: The gripping inside story of a brutal machete and gun attack on a Luton doorstep, a gold chain, and a struggle against the odds to identify the attackers.  [AD,S]","startTime":1717617600,"duration":3600,"svcId":1500,"evtId":29964,"image":"\/ms\/img\/epg\/rb\/5d52-9486916.l.png","hasTstv":false},{"name":"New: Queenie","description":"From Virgin to Vixen: Drama starring Dionne Brown. Queenie\u0027s in peak fun mode, using men as a distraction from her heartbreak. But when the fun stops, her demons catch up with her. (Ep3\/8)  [AD,S]","startTime":1717621200,"duration":2100,"svcId":1500,"evtId":29965,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Queenie","description":"The Nightmare Before Christmas: Drama. Queenie is forced to spend Christmas with her mum, triggering feelings she\u0027s been trying to hide and leading her further into self-sabotage. (Ep4\/8)  [AD,S]","startTime":1717623300,"duration":2100,"svcId":1500,"evtId":29966,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"24 Hours in A\u0026E","description":"Iris, who\u0027s 91, comes to St George\u0027s with two severe leg fractures. Medics are worried that she may not survive. Elijah has injured a finger on a kebab slicer. Alison has sepsis. (S25 Ep2)  [AD,S]","startTime":1717625400,"duration":3600,"svcId":1500,"evtId":29967,"image":"\/ms\/img\/epg\/rb\/5d52-413285382.l.png","hasTstv":false,"seriesNo":25,"episodeNo":2},{"name":"The Piano","description":"With the final concert approaching, Mika, Lang Lang and Claudia make a surprise late change to the line-up as they get the chosen amateur pianists ready for the big stage. (S2 Ep6)  [AD,S,SL]","startTime":1717629000,"duration":3300,"svcId":1500,"evtId":29968,"image":"\/ms\/img\/epg\/rb\/5d52-9483365.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"God\u0027s Own Country","description":"(2017) Romantic drama with Josh O\u0027Connor. A young Yorkshire livestock farmer begins an unlikely sexual relationship with a Romanian migrant worker. Strong, offensive language\/sex.  [AD,S]","startTime":1717632300,"duration":6300,"svcId":1500,"evtId":29969,"image":"\/ms\/img\/epg\/rb\/5d52-277856649.l.png","hasTstv":false},{"name":"Stage Mother","description":"(2020) Feelgood comedy-drama. Two worlds collide when a small-town conservative choir director inherits a drag club from her estranged son. Sex\/drugs\/strong language\/sexual violence.  [S]","startTime":1717638600,"duration":5700,"svcId":1500,"evtId":29970,"image":"\/ms\/img\/epg\/rb\/5d52-3655447.l.png","hasTstv":false},{"name":"Iris Prize Best British Shorts","description":"Fortune Favours the Fantabulous: Ghosts past and present visit a queer fortune teller and conjuror, plaguing their consciousness, and threatening their way of life, sanity and future.  [AD,S]","startTime":1717644300,"duration":1800,"svcId":1500,"evtId":25092,"image":"\/ms\/img\/epg\/rb\/5d52-9487331.l.png","hasTstv":false},{"name":"Grand Designs Australia","description":"Fiona and Sal are building a modernist, super-contemporary home, made entirely from concrete, near the rolling surf at Torquay in Victoria. (S10 Ep10)  [AD,S]","startTime":1717646100,"duration":3300,"svcId":1500,"evtId":25292,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":10,"episodeNo":10}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('199');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('126');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('7');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'AS8HdeMdcas', title: "Van Life in Scotland - We wasn't expecting this!!", label: "Van Life in Scotland - We wasn't expecting this!! by Steps 2 Adventure 20,970 views 3 weeks ago 23 minutes" },
{ id: 'vc_kex8WcT0', title: "We found a HIDDEN GEM in the Lake District | Van Life UK S6 Ep6", label: "We found a HIDDEN GEM in the Lake District | Van Life UK S6 Ep6 by Steps 2 Adventure 16,409 views 1 month ago 29 minutes" },
{ id: 'OFfjYRjwn7w', title: "We unknowingly swam with LEECHES!! #travelscotland #vanlifeuk", label: "We unknowingly swam with LEECHES!! #travelscotland #vanlifeuk by Steps 2 Adventure 5,201 views 2 weeks ago 56 seconds – play Short" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in f1 module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jojo Rabbit (2019)">Jojo Rabbit (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Days (2023)">Perfect Days (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Float (S2, 2024)">Float (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1, 2021)">Float (S1, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S2, 2021)">In My Skin (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1, 2018)">In My Skin (S1, 2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S2, 2019)">Fleabag (S2, 2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1, 2016)">Fleabag (S1, 2016)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S3, 2024)">Clarkson\'s Farm (S3, 2024)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
{ number: 210.12, tooltip: "Mon, May 13, 2024<br/>£210.12"},
{ number: 210.82, tooltip: "Fri, May 10, 2024<br/>£210.82"},
{ number: 210.11, tooltip: "Thu, May 09, 2024<br/>£210.11"},
{ number: 209.55, tooltip: "Wed, May 08, 2024<br/>£209.55"},
{ number: 208.97, tooltip: "Tue, May 07, 2024<br/>£208.97"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Jun 04, 2024",
		"vs Day":      "Mon, Jun 03, 2024",
		"vs Week":     "Tue, May 28, 2024",
		"vs Month":    "Tue, May 07, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£207.73/share",
		'vs Day':      "-0.34%",
		'vs Week':     "-0.65%",
		'vs Month':    "-0.59%",
		'vs Year':     "+16.07%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '1.5',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 5 June and 6 June">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.015&p=2.999&r=5.889',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:47',
		Set:      '21:22',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>Someone described as affluent has a large amount of money and owns many expensive things. Something, such as a place or institution, described as affluent is similarly <a href="https://www.merriam-webster.com/dictionary/rich">rich</a> or <a href="https://www.merriam-webster.com/dictionary/wealthy">wealthy</a>.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23ITVDebate">#ITVDebate</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Sunak">Sunak</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23loveIsland">#loveIsland</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Farage">Farage</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23WorldEnvironmentDay">#WorldEnvironmentDay</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%24HIF">$HIF</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Fauci">Fauci</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23TheAcolyte">#TheAcolyte</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=WNBA">WNBA</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Covid">Covid</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>