<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:06 29-May - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Abbott readmitted as Labour MP after race row probe</b><br/>But it is not clear whether the ex-shadow home secretary will stand for Labour at the election." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-politics-69040616">Abbott readmitted as Labour MP after race row probe</a></li><li class="ttt" data-tt="<b>PM pledges to swap \'rip-off\' degrees for apprenticeships</b><br/>The Conservatives say they would replace some degrees with 100,000 new apprenticeships per year."><a href="https://www.bbc.com/news/articles/clmmry99y4po">PM pledges to swap \'rip-off\' degrees for apprenticeships</a></li><li class="ttt" data-tt="<b>Labour promises to hit 18-week NHS waiting target within five years</b><br/>Party pledges to achieve goal within five years as it sets out steps to tackle backlog in England."><a href="https://www.bbc.co.uk/news/health-69070207">Labour promises to hit 18-week NHS waiting target within five years</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-politics-69040616"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/137B2/production/_133349797_dianeabbottreuters.jpg" class="ttt" data-tt="Diane Abbott" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Prosecution: Trump must have known about hush-money scheme</b><br/>After weeks of blockbuster testimony, the defence and prosecution both spoke directly to the jury, summarizing their cases" style="font-weight:bold"><a href="https://www.bbc.co.uk/news/live/world-us-canada-69046641">Prosecution: Trump must have known about hush-money scheme</a></li><li class="ttt" data-tt="<b>Trump lawyer tells jury Cohen is \'greatest liar of all time\'</b><br/>Hush-money trial is told that the former fixer Cohen is a convicted felon and not to be trusted, as defence rests its case."><a href="https://www.bbc.com/news/articles/c6ppz2l16n7o">Trump lawyer tells jury Cohen is \'greatest liar of all time\'</a></li><li class="ttt" data-tt="<b>Suspect charged over US knife rampage that injured six</b><br/>Jared Ravizza accused of attacking four children at a cinema and two people at a McDonald\'s restaurant."><a href="https://www.bbc.com/news/articles/crggnkz1pjdo">Suspect charged over US knife rampage that injured six</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/live/world-us-canada-69046641"><img src="https://m.files.bbci.co.uk/modules/bbc-morph-news-waf-page-meta/5.3.0/bbc_news_logo.png"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Israel\'s Rafah operation not a major offensive - US</b><br/>It comes after witnesses reported seeing Israeli tanks in the centre of the city on Tuesday." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cv22pl9p212o">Israel\'s Rafah operation not a major offensive - US</a></li><li class="ttt" data-tt="<b>US Gaza aid pier knocked out of action by heavy seas</b><br/>It is unclear when the US military\'s floating pier off Gaza\'s coast will resume operations."><a href="https://www.bbc.com/news/articles/c033m529ry0o">US Gaza aid pier knocked out of action by heavy seas</a></li><li class="ttt" data-tt="<b>Prosecution: Trump must have known about hush-money scheme</b><br/>After weeks of blockbuster testimony, the defence and prosecution both spoke directly to the jury, summarizing their cases"><a href="https://www.bbc.co.uk/news/live/world-us-canada-69046641">Prosecution: Trump must have known about hush-money scheme</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cv22pl9p212o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/8673/live/ece8ba20-1d32-11ef-be78-33b6b5a17fe2.jpg" class="ttt" data-tt="Woman sits with child as Palestinians flee Rafah due to Israeli military operation" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>F1 Q&A after Monaco: Piastri’s pace, Red Bull\'s form & rule changes</b><br/>F1 correspondent Andrew Benson answers your questions following the Monaco GP - including Oscar Piastri’s pace, Red Bull\'s form and potential rule changes." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c5112ek4190o">F1 Q&A after Monaco: Piastri’s pace, Red Bull\'s form & rule changes</a></li><li class="ttt" data-tt="<b>FIA president tells Andretti to buy a F1 team</b><br/>FIA president Mohamed Ben Sulayem says Andretti should buy an existing team rather than try to set up their own to enter Formula 1."><a href="https://www.bbc.com/sport/formula1/articles/cjeeye5xw8vo">FIA president tells Andretti to buy a F1 team</a></li><li class="ttt" data-tt="<b>Leclerc achieves \'ultimate dream\'</b><br/>Ferrari driver Charles Leclerc said he had “tears in my eyes” as he was on the verge of completing his “ultimate dream”."><a href="https://www.bbc.com/sport/formula1/articles/cljjn993096o">Leclerc achieves \'ultimate dream\'</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c5112ek4190o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/0218/live/c5ed6240-1b7f-11ef-baa7-25d483663b8e.jpg" class="ttt" data-tt="Image of the 2024 F1 drivers" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>AI products like ChatGPT much hyped but not much used, study says</b><br/>Latest generation of products not becoming part of people’s &quot;routine internet use&quot;, researchers say." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c511x4g7x7jo">AI products like ChatGPT much hyped but not much used, study says</a></li><li class="ttt" data-tt="<b>WhatsApp boss in online spat with Elon Musk</b><br/>The messaging app\'s boss has taken to social media to deny Mr Musk\'s claim it &quot;exports user data.&quot;"><a href="https://www.bbc.com/news/articles/c0ddwymz8ero">WhatsApp boss in online spat with Elon Musk</a></li><li class="ttt" data-tt="<b>Beckham scores Euros deal with China tech giant</b><br/>The announcement comes as the Euros football tournament is due to kick off in Germany next month."><a href="https://www.bbc.com/news/articles/cn0091d3l0xo">Beckham scores Euros deal with China tech giant</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c511x4g7x7jo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3778/live/664515a0-1cfa-11ef-8fd8-8194490efeeb.jpg" class="ttt" data-tt="ChatGPT logo on a phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"27 May – 2 Jun","date":17169408E5,"ts":"Wed, 29","ds":"Wed, 29 May","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":18,"templow":11,"cf":17,"wind":13,"wd":280,"hum":65,"pc":58,"rain":2.3 },{"date":17170272E5,"ts":"Thu, 30","ds":"Thu, 30 May","icon":33,"desc":"Rain showers. Cloudy.","temp":16,"templow":9,"cf":14,"wind":12,"wd":340,"hum":72,"pc":61,"rain":7.2 },{"date":17171136E5,"ts":"Fri, 31","ds":"Fri, 31 May","icon":18,"desc":"Sprinkles late. Cloudy.","temp":16,"templow":9,"cf":16,"wind":11,"wd":350,"hum":65,"pc":19,"rain":0.6 },{"date":17172E8,"ts":"Sat, 1","ds":"Sat, 1 Jun","icon":18,"desc":"Sprinkles. Increasing cloudiness.","temp":17,"templow":7,"cf":16,"wind":11,"wd":20,"hum":60,"pc":24,"rain":1.2 },{"date":17172864E5,"ts":"Sun, 2","ds":"Sun, 2 Jun","icon":33,"desc":"Showers late. Mostly cloudy.","temp":19,"templow":7,"cf":18,"wind":7,"wd":0,"hum":64,"pc":15,"rain":0.4 },{"hl":true,"hls":"3 Jun – 9 Jun","date":17173728E5,"ts":"Mon, 3","ds":"Mon, 3 Jun","icon":4,"desc":"Afternoon clouds.","temp":19,"templow":9,"cf":19,"wind":9,"wd":320,"hum":71,"pc":3},{"date":17174592E5,"ts":"Tue, 4","ds":"Tue, 4 Jun","icon":4,"desc":"Afternoon clouds.","temp":20,"templow":9,"cf":19,"wind":10,"wd":310,"hum":61,"pc":0},{"date":17175456E5,"ts":"Wed, 5","ds":"Wed, 5 Jun","icon":18,"desc":"Sprinkles late. Overcast.","temp":18,"templow":8,"cf":18,"wind":8,"wd":310,"hum":64,"pc":51,"rain":0.3 },{"date":1717632E6,"ts":"Thu, 6","ds":"Thu, 6 Jun","icon":18,"desc":"Sprinkles. Cloudy.","temp":17,"templow":9,"cf":17,"wind":11,"wd":270,"hum":79,"pc":55,"rain":2.5 },{"date":17177184E5,"ts":"Fri, 7","ds":"Fri, 7 Jun","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":17,"templow":8,"cf":17,"wind":3,"wd":150,"hum":58,"pc":47,"rain":0.9 },{"date":17178048E5,"ts":"Sat, 8","ds":"Sat, 8 Jun","icon":18,"desc":"Sprinkles. Cloudy.","temp":17,"templow":8,"cf":17,"wind":9,"wd":70,"hum":69,"pc":55,"rain":0.9 },{"date":17178912E5,"ts":"Sun, 9","ds":"Sun, 9 Jun","icon":21,"desc":"Isolated tstorms. Overcast.","temp":16,"templow":8,"cf":16,"wind":5,"wd":90,"hum":93,"pc":72,"rain":9.6 },{"hl":true,"hls":"10 Jun – 16 Jun","date":17179776E5,"ts":"Mon, 10","ds":"Mon, 10 Jun","icon":33,"desc":"Rain showers. Breaks of sun late.","temp":14,"templow":11,"cf":13,"wind":9,"wd":180,"hum":92,"pc":63,"rain":3.8 },{"date":1718064E6,"ts":"Tue, 11","ds":"Tue, 11 Jun","icon":33,"desc":"Light showers. Afternoon clouds.","temp":14,"templow":10,"cf":12,"wind":11,"wd":30,"hum":81,"pc":66,"rain":3.9 },{"date":17181504E5,"ts":"Wed, 12","ds":"Wed, 12 Jun","icon":21,"desc":"Isolated tstorms late. Broken clouds.","temp":15,"templow":8,"cf":14,"wind":5,"wd":30,"hum":69,"pc":51,"rain":1.4 }],"grid":{"temp":{"low":7,"high":20,"range":13},"prec":{"high":9.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/',
		Title:     'Solar X Flare as Famous Active Region Returns',
		LinkImage: 'https://apod.nasa.gov/apod/',
		LinkPage:  'https://apod.nasa.gov/apod/ap240528.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Lake_Estancia_and_Lake_Willard.png/400px-Lake_Estancia_and_Lake_Willard.png',
		Title:    'Lake Estancia',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Lake_Estancia',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Lake_Estancia" title="Lake Estancia">Lake Estancia</a></b> was a <a href="https://en.wikipedia.org/wiki/List_of_prehistoric_lakes" title="List of prehistoric lakes">prehistoric body of water</a> in the <a href="https://en.wikipedia.org/wiki/Estancia,_New_Mexico" title="Estancia, New Mexico">Estancia Valley</a>, in the center of the U.S. state of <a href="https://en.wikipedia.org/wiki/New_Mexico" title="New Mexico">New Mexico</a>. Mostly fed by creek and <a href="https://en.wikipedia.org/wiki/Groundwater" title="Groundwater">groundwater</a> from the <a href="https://en.wikipedia.org/wiki/Manzano_Mountains" title="Manzano Mountains">Manzano Mountains</a>, the lake had diverse fauna, including <a href="https://en.wikipedia.org/wiki/Cutthroat_trout" title="Cutthroat trout">cutthroat trout</a>. It appears to have formed when a river system broke up. It reached a maximum water level (highstand) presumably during the <a href="https://en.wikipedia.org/wiki/Illinoian_(stage)" title="Illinoian (stage)">Illinoian</a> glaciation and subsequently fluctuated between a desiccated basin and fuller stages. Wind-driven erosion has excavated depressions in the former lakebed that are in part filled with <a href="https://en.wikipedia.org/wiki/Dry_lake" title="Dry lake">playas</a> (dry lake beds). The lake was one of several <a href="https://en.wikipedia.org/wiki/Pluvial_lake" title="Pluvial lake">pluvial lakes</a> in southwestern North America that developed during the late <a href="https://en.wikipedia.org/wiki/Pleistocene" title="Pleistocene">Pleistocene</a>. Their formation has been variously attributed to decreased temperatures during the <a href="https://en.wikipedia.org/wiki/Ice_age" title="Ice age">ice age</a> and increased precipitation; a shutdown of the <a href="https://en.wikipedia.org/wiki/Thermohaline_circulation" title="Thermohaline circulation">thermohaline circulation</a> and the <a href="https://en.wikipedia.org/wiki/Laurentide_Ice_Sheet" title="Laurentide Ice Sheet">Laurentide Ice Sheet</a> altered atmospheric circulation patterns and increased precipitation in the region. The lake has yielded a good <a href="https://en.wikipedia.org/wiki/Paleoclimatology" title="Paleoclimatology">paleoclimatic</a> record. This map shows the shoreline of Lake Estancia at three different periods: early Estancia (1,939&#160;m&#160;/ 6,362&#160;ft above sea level), late Estancia (1,897&#160;m&#160;/ 6,224&#160;ft), and "Lake Willard" (1,870&#160;m&#160;/ 6,135&#160;ft). Present-day populated places, county boundaries and roads are overlaid on the map for identification.<small style="display: block; margin-top: 0.8em;">Map credit: <a href="https://en.wikipedia.org/wiki/User:Guerillero" title="User:Guerillero">Tom Fish</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":1,"event":[{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1716939600,"duration":19200,"svcId":560,"evtId":24766,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":58},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1716958800,"duration":12600,"svcId":560,"evtId":24843,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716969600,"availabilityEnd":1717057815,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq5r\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain","description":"8\/15. How one tech giant\u0027s phone insurance will only pay out if thieves don\u0027t switch off the tracking software on your handset. And the people forced to pay for items that never arrived. [S] [HD]","startTime":1716971400,"duration":2700,"svcId":560,"evtId":24844,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hz2m2d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716974098,"availabilityEnd":1749287720,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq5v\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":8},{"name":"Moment of Proof","description":"10\/15. A single piece of paper found on top of a hidden fax machine gives police the number of a shipping container used to smuggle millions of pounds\u0027 worth of drugs from Thailand. [S] [HD]","startTime":1716974100,"duration":1800,"svcId":560,"evtId":24845,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fbjxzt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1711445400,"availabilityEnd":1742968740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f4fmnf\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":10},{"name":"Expert Witness","description":"8\/15. When a young nurse disappears, a soil analyst helps find her body and solve the crime. A digital imaging expert proves that what was thought to be an accidental death was murder. [S,AD] [HD]","startTime":1716975900,"duration":1800,"svcId":560,"evtId":24846,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ddfs43.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716977689,"availabilityEnd":1719569689,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0dcbrg4\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":8},{"name":"Homes Under the Hammer","description":"4\/80. Featuring properties in Dunfermline, Ladywell and Torquay. [S,AD] [HD]","startTime":1716977700,"duration":3600,"svcId":560,"evtId":24847,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlchfp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716981320,"availabilityEnd":1719573320,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001hs1l\u0026ui_id=4.0.0"},"seriesNo":39,"episodeNo":4},{"name":"Bargain Hunt","description":"Danny Sebastian heads to Harrogate, where experts Izzie Balmer and John Cameron help the teams identify profitable antiques. Danny learns all about the Recycling Project. [S,AD] [HD]","startTime":1716981300,"duration":2700,"svcId":560,"evtId":24848,"image":"\/ms\/img\/epg\/rb\/fec6-p0dgd5q3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716984000,"availabilityEnd":1719576000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fr6f\u0026ui_id=4.0.0"},"seriesNo":63},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1716984000,"duration":1800,"svcId":560,"evtId":24849,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716985800,"availabilityEnd":1717072200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq5z\u0026ui_id=4.0.0"},"episodeNo":43},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1716985800,"duration":900,"svcId":560,"evtId":24850,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716986580,"availabilityEnd":1717072980,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq63\u0026ui_id=4.0.0"},"episodeNo":43},{"name":"Doctors","description":"Sid\u0027s decision backfires, while Rob and Jimmi hear some surprising news, and Michelle persuades Zara to take a break. [S,AD] [HD]","startTime":1716986700,"duration":1800,"svcId":560,"evtId":24851,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hz9nkk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716988464,"availabilityEnd":1748524464,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq67\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":223},{"name":"Money for Nothing","description":"19\/20. Zoe has a big idea to try to save a dated dining table, but will a floral facelift be enough to save it? [S] [HD]","startTime":1716988500,"duration":2700,"svcId":560,"evtId":24852,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzhg0b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716991188,"availabilityEnd":1748613594,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq6c\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":19},{"name":"Escape to the Country","description":"28\/55. It\u0027s destination Argyll and Bute today. Sonali Shah tours this region of Scotland in search of a new home for a couple from a Warwickshire town who have a budget of \u00a3340,000. [S,AD] [HD]","startTime":1716991200,"duration":2700,"svcId":560,"evtId":24853,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dwwpb7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716993888,"availabilityEnd":1719585888,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001hj9p\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":28},{"name":"Garden Rescue","description":"8\/35. Charlie and Flo are in Coalville to create a Victorian garden to suit Jo and Jack\u0027s lovingly restored turn-of-the-century terraced house. [S] [HD]","startTime":1716993900,"duration":2700,"svcId":560,"evtId":24854,"image":"\/ms\/img\/epg\/rb\/ae0c-p0frdjf1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686151807,"availabilityEnd":1719588591,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mprg\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":8},{"name":"New: The Finish Line","description":"18\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1716996600,"duration":2700,"svcId":560,"evtId":24855,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzc2vn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716999260,"availabilityEnd":1750176814,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq6h\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":18},{"name":"Pointless","description":"29\/54. Alexander Armstrong is joined by co-host Ria Lina for the brainy quiz where contestants score points by coming up with the answers no-one else could think of. [S] [HD]","startTime":1716999300,"duration":2700,"svcId":560,"evtId":24856,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fjq9nq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685638800,"availabilityEnd":1719594001,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mgnq\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":29},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1717002000,"duration":1800,"svcId":560,"evtId":24857,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717003890,"availabilityEnd":1717090290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq6m\u0026ui_id=4.0.0"},"episodeNo":43},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717003800,"duration":1800,"svcId":560,"evtId":24858,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717005495,"availabilityEnd":1717091895,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq6r\u0026ui_id=4.0.0"},"episodeNo":59},{"name":"The One Show","description":"Alex Jones and Jermaine Jenas bring you the stories that matter from across the country. [S] [HD]","startTime":1717005600,"duration":1800,"svcId":560,"evtId":24859,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717007406,"availabilityEnd":1719599406,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq6w\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Eve\u0027s birthday celebrations don\u0027t go according to plan, Harvey makes a new friend, and Elaine breaks her silence. [S,AD] [HD]","startTime":1717007400,"duration":1800,"svcId":560,"evtId":24860,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzclgb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1806469200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq70\u0026ui_id=4.0.0"},"episodeNo":6917},{"name":"New: The Repair Shop","description":"5\/25. A poignant reminder of the Aids crisis that killed so many young men in the 80s as Sonnaz helps Leigh honour his partner, Greg, who was lost. [S,AD] [HD]","startTime":1717009200,"duration":3600,"svcId":560,"evtId":24861,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzj10j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717012822,"availabilityEnd":1875988800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq74\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":5},{"name":"Race Across the World: The Final","description":"8\/9. Twelve minutes is all that separates the first two teams as they embark on the final leg of their Race Across the World from Jakarta to Lombok. [S,AD] [HD]","startTime":1717012800,"duration":3600,"svcId":560,"evtId":24862,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzj401.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717016100,"availabilityEnd":1811630460,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq78\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":8},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1717016400,"duration":1800,"svcId":560,"evtId":24863,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717018320,"availabilityEnd":1717104720,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq7f\u0026ui_id=4.0.0"},"episodeNo":43},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717018200,"duration":600,"svcId":560,"evtId":24864,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717018650,"availabilityEnd":1717105050,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq7k\u0026ui_id=4.0.0"},"episodeNo":51},{"name":"Race Across the World: The Reunion","description":"9\/9. The five intrepid teams reunite in London to look back at their 51-day thrilling adventure through some of the most beautiful, populous and remote places on the planet. [S,AD] [HD]","startTime":1717018800,"duration":3600,"svcId":560,"evtId":24865,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j01gfs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717016100,"availabilityEnd":1811630460,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq7p\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":9},{"name":"The Prestige","description":"A magician tries to uncover the secret of how his rival performs the ultimate trick. Contains some scenes which some viewers may find upsetting. [2006] [S,AD] [HD]","startTime":1717022400,"duration":7500,"svcId":560,"evtId":24866,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hyn8jd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717029935,"availabilityEnd":1719621935,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00z0f1d\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1717029900,"duration":300,"svcId":560,"evtId":24867,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717030228,"availabilityEnd":1717638672,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zq7w\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1717030200,"duration":15000,"svcId":560,"evtId":24868,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":59}]},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1716948300,"duration":12300,"svcId":700,"evtId":16511,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Money for Nothing","description":"18\/20. Carwyn thinks a tired table has \u0027electrifying\u0027 potential, while Sarah sees a profit in a quirky dining set. [S] [HD]","startTime":1716960600,"duration":2700,"svcId":700,"evtId":16530,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzhfpn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716904817,"availabilityEnd":1748613594,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zq6n\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":18},{"name":"Escape to the Country","description":"47\/55. A couple are on the hunt for a new home with great options for dog walks and nights out. [S] [HD]","startTime":1716963300,"duration":2700,"svcId":700,"evtId":16531,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzhsww.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716907516,"availabilityEnd":1748443516,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zq6s\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":47},{"name":"MasterChef","description":"24\/24. MasterChef\u0027s 20th series comes to a nail-biting end, with just one challenge standing between the final three and a place in the MasterChef Hall of Fame. [S,AD,SL] [HD]","startTime":1716966000,"duration":3600,"svcId":700,"evtId":16532,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hxxj50.jpg","hasTstv":false,"seriesNo":21,"episodeNo":24},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1716969600,"duration":11700,"svcId":700,"evtId":16533,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1716981300,"duration":2700,"svcId":700,"evtId":16808,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716984005,"availabilityEnd":1719576005,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002028h\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"18\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 21 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1716984000,"duration":2700,"svcId":700,"evtId":16534,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716986715,"availabilityEnd":1719578715,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000pbtt\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":18},{"name":"Mastermind","description":"18\/31. Clive Myrie hosts the classic quiz where contenders take the famous black chair. Subjects include Lee Miller and the history of the Green Party of England and Wales. [S] [HD]","startTime":1716986700,"duration":1800,"svcId":700,"evtId":16535,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bf8fbj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0013cp0\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":18},{"name":"Great Coastal Railway Journeys","description":"18\/25. From the fishing port and ferry terminal of Oban, Michael heads to the Hebrides. [S,AD] [HD]","startTime":1716988500,"duration":1800,"svcId":700,"evtId":16536,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bnc46k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716990311,"availabilityEnd":1719582311,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0014l0t\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":18},{"name":"Five Bedrooms","description":"3\/8. Heather\u0027s world is blown apart when she learns of Ben\u0027s betrayal. [S,AD] [HD]","startTime":1716990300,"duration":2700,"svcId":700,"evtId":16537,"image":"\/ms\/img\/epg\/rb\/ae0c-p0c77lgp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689397200,"availabilityEnd":1720933140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0017psk\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":3},{"name":"The Farmers\u0027 Country Showdown","description":"8\/20. Two farming families rely on Ludlow market to sell their produce - David and George with their premium ciders and Liam and Alice with their harvested vegetables. [S] [HD]","startTime":1716993000,"duration":2700,"svcId":700,"evtId":16538,"image":"\/ms\/img\/epg\/rb\/ae0c-p092cp3s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716995734,"availabilityEnd":1719587734,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000r720\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":8},{"name":"Hidden Kingdoms","description":"3\/3. A look at wildlife from the perspective of tiny creatures. A young marmoset confronts the dangers of Rio\u0027s streets, and a rhinoceros beetle seeks sanctuary in Tokyo. [S,AD] [HD]","startTime":1716995700,"duration":3600,"svcId":700,"evtId":16539,"image":"\/ms\/img\/epg\/rb\/ae0c-p094kxg1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716999315,"availabilityEnd":1719591315,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b03t7wlq\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Flog It!","description":"A collection of previously unseen finds from Flog It\u0027s travels - visiting Margam Country Park in Wales, Highcliffe Castle in Dorset and Powderham Castle in Devon. [S] [HD]","startTime":1716999300,"duration":2700,"svcId":700,"evtId":16540,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717002045,"availabilityEnd":1719594045,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b080bq05\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":53},{"name":"Richard Osman\u0027s House of Games","description":"63\/100. Former winners Stephen Bailey, Charlie Brooks, Ria Lina and John Thomson test their general knowledge skills on this week\u0027s Richard Osman\u0027s House of Games: Champions. [S] [HD]","startTime":1717002000,"duration":1800,"svcId":700,"evtId":16541,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dgrm04.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717003855,"availabilityEnd":1719595855,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001frk3\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":63},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"3\/15. Clive heads to the busy Coronation Market, nestled in Downtown Kingston. He tries out his Jamaican patois, grabs some great street food and he hits the best reggae club in town. [S] [HD]","startTime":1717003800,"duration":1800,"svcId":700,"evtId":16542,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzrb8l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zpmv\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Hairy Bikers: Route 66","description":"6\/6. On the last leg of their Route 66 odyssey, the bikers make a small detour to the city of light, Las Vegas, to learn how to make the best mashed potato in the world. [S,AD] [HD]","startTime":1717005600,"duration":3600,"svcId":700,"evtId":16543,"image":"\/ms\/img\/epg\/rb\/fec6-p07r6fvn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709218800,"availabilityEnd":1740754800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0009mjy\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Springwatch","description":"3\/12. Chris and Michaela commentate on the drama from the live nests, Iolo peers into some cliffside pools, and Megan searches for seals on Bute. [S] [HD]","startTime":1717009200,"duration":3600,"svcId":700,"evtId":16544,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzvd69.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717012909,"availabilityEnd":1748548909,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zr82\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":3},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. 1\/3. Rom is taunted by chimps, risks his life in rapids and gets drunk on bananas in Uganda. Contains some strong language. [S,AD] [HD]","startTime":1717012800,"duration":3600,"svcId":700,"evtId":16545,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzqgxh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1811566740,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zpqt\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":1},{"name":"Inside No. 9","description":"4\/6. Jason, Lynne and their two teenage daughters try out their local escape room, The Killer\u0027s Lair. Will they get out before they run out of time? [S,AD] [HD]","startTime":1717016400,"duration":1800,"svcId":700,"evtId":16546,"image":"\/ms\/img\/epg\/rb\/fec6-p0j000ll.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717018285,"availabilityEnd":1749763879,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zr85\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":4},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1717018200,"duration":1800,"svcId":700,"evtId":16547,"image":"\/ms\/img\/epg\/rb\/ae0c-p07m7twy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717020090,"availabilityEnd":1748556090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zr87\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1717020000,"duration":300,"svcId":700,"evtId":16548,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717020275,"availabilityEnd":1717106675,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zr89\u0026ui_id=4.0.0"}},{"name":"Unspun World with John Simpson","description":"Unspun World provides an unvarnished version of the week\u0027s major global news stories - reliable, honest and essential viewing with the BBC\u0027s world affairs editor, John Simpson. [S] [HD]","startTime":1717020300,"duration":1500,"svcId":700,"evtId":16549,"image":"\/ms\/img\/epg\/rb\/fec6-p0bqh04f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717021900,"availabilityEnd":1748557900,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zr8c\u0026ui_id=4.0.0"},"seriesNo":4},{"name":"Hidden Treasures of the...","description":"...National Trust. 3\/6. A missing masterpiece\u0027s triumphant return and the search for a lost castle. [S,AD] [HD]","startTime":1717021800,"duration":3600,"svcId":700,"evtId":16550,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvl78s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715317200,"availabilityEnd":1809925140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001yzxg\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"Rob and Rylan\u0027s Grand Tour","description":"3\/3. In Rome, Rob and Rylan try to turn themselves into a painting by Caravaggio. Contains some strong language. [S,AD,SL] [HD]","startTime":1717025400,"duration":3600,"svcId":700,"evtId":16551,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwpbrn.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"The Great British Sewing Bee","description":"1\/10. The Great British Sewing Bee turns ten as 12 brand new sewers follow the pattern for an A-line skirt, transform T-shirts and put their take on day dresses in the Made-to-Measure. [S,AD,SL] [HD]","startTime":1717029000,"duration":3600,"svcId":700,"evtId":16552,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hy5gq3.jpg","hasTstv":false,"seriesNo":16,"episodeNo":1},{"name":"David \u0026 Jay\u0027s Touring Toolshed","description":"5\/15. David and Jay meet a couple who have transformed lawnmowers into race vehicles, but can they help ambitious Dougie with his vintage tractor? [S,AD,SL] [HD]","startTime":1717032600,"duration":1800,"svcId":700,"evtId":16553,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h589r8.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1717034400,"duration":11700,"svcId":700,"evtId":16554,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"The War on Britain\u0027s Motorists:...","description":"...Dispatches: From potholes to Low Traffic Neighbourhoods and electric car confusion, car journalist Ginny Buckley asks: is this the worst time ever to be a motorist in the UK?  [AD,S,SL]","startTime":1716951600,"duration":1800,"svcId":1500,"evtId":23204,"image":"\/ms\/img\/epg\/rb\/5d52-9427502.l.png","hasTstv":false},{"name":"Location, Location, Location","description":"In the East Midlands, Kirstie Allsopp and Phil Spencer help Lloyd and Karina, who are after a slice of rural village life, and Helen and Richard, who want rid of renting. (S35 Ep1)  [S]","startTime":1716953400,"duration":3300,"svcId":1500,"evtId":23090,"image":"\/ms\/img\/epg\/rb\/5d52-404656014.l.png","hasTstv":false,"seriesNo":35,"episodeNo":1},{"name":"Beat the Chef","description":"Andi Oliver hosts, as amateur cook Paul Dowling serves up his speciality game pie. But will it be sink or swim when chef Frederick Forster brings out his signature seafood dish? (S2 Ep8)  [S]","startTime":1716956700,"duration":1500,"svcId":1500,"evtId":23205,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":8},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Levi Roots joins Susie Dent in Dictionary Corner.  [S]","startTime":1716958200,"duration":2400,"svcId":1500,"evtId":23206,"image":"\/ms\/img\/epg\/rb\/5d52-9453774.l.png","hasTstv":false},{"name":"3rd Rock from the Sun","description":"Charitable Dick: When Dick and Mary attend a charity auction, Dick gets caught up in the excitement and enters a bidding war with Professor Strudwick. Sally\u0027s snoring is a problem. (S5 Ep8)  [AD,S]","startTime":1716960600,"duration":1500,"svcId":1500,"evtId":23207,"image":"\/ms\/img\/epg\/rb\/5d52-912887.l.png","hasTstv":false,"seriesNo":5,"episodeNo":8},{"name":"3rd Rock from the Sun","description":"The Loud Solomon Family: A Dickumentary: The Solomons become the subject of a documentary about the typical American family, but risk revealing their true identities. (S5 Ep9)  [AD,S]","startTime":1716962100,"duration":1500,"svcId":1500,"evtId":23208,"image":"\/ms\/img\/epg\/rb\/5d52-78864.l.png","hasTstv":false,"seriesNo":5,"episodeNo":9},{"name":"3rd Rock from the Sun","description":"Gwen, Larry, Dick and Mary: Mary arranges for her and Dick to spend time socialising with another couple, but after a few dates, their new friends mysteriously stop calling. (S5 Ep10)  [AD,S]","startTime":1716963600,"duration":1500,"svcId":1500,"evtId":23209,"image":"\/ms\/img\/epg\/rb\/5d52-917845.l.png","hasTstv":false,"seriesNo":5,"episodeNo":10},{"name":"Everybody Loves Raymond","description":"Homework: When Ally\u0027s teacher overhears Ray commenting about the kids\u0027 excessive workload, she invites him to address the curriculum review board. (S7 Ep3)  [AD,S]","startTime":1716965100,"duration":1500,"svcId":1500,"evtId":23210,"image":"\/ms\/img\/epg\/rb\/5d52-2110221.l.png","hasTstv":false,"seriesNo":7,"episodeNo":3},{"name":"Everybody Loves Raymond","description":"Pet the Bunny: As a challenge, Ray writes a eulogy for Frank, who hasn\u0027t died yet. In it, he describes a memory of watching his tough dad pet the family bunny, Hoppy. (S7 Ep4)  [AD,S]","startTime":1716966600,"duration":1800,"svcId":1500,"evtId":23211,"image":"\/ms\/img\/epg\/rb\/5d52-2110260.l.png","hasTstv":false,"seriesNo":7,"episodeNo":4},{"name":"Everybody Loves Raymond","description":"Who Am I?: After Ray and Debra spend an evening apart, Ray admits that he no longer enjoys his juvenile pursuits with his friends. (S7 Ep5)  [AD,S]","startTime":1716968400,"duration":1800,"svcId":1500,"evtId":23212,"image":"\/ms\/img\/epg\/rb\/5d52-384029098.l.png","hasTstv":false,"seriesNo":7,"episodeNo":5},{"name":"Everybody Loves Raymond","description":"Robert Needs Money: After deciding to lend Robert a thousand dollars when he complains that he\u0027s struggling, Ray and Debra are surprised when he uses the loan for a holiday. (S7 Ep6)  [AD,S]","startTime":1716970200,"duration":1800,"svcId":1500,"evtId":23213,"image":"\/ms\/img\/epg\/rb\/5d52-2111177.l.png","hasTstv":false,"seriesNo":7,"episodeNo":6},{"name":"Frasier","description":"Junior Agent: Now that Frasier\u0027s agent is representing a hot new radio psychiatrist, she passes Frasier off to her assistant. (S9 Ep10)  [AD,S]","startTime":1716972000,"duration":1800,"svcId":1500,"evtId":23214,"image":"\/ms\/img\/epg\/rb\/5d52-1536549.l.png","hasTstv":false,"seriesNo":9,"episodeNo":10},{"name":"Frasier","description":"Bully for Martin: Frasier offers his unsolicited help when Martin\u0027s boss starts acting like a bully. Roz talks incessantly about her new love, Roger. (S9 Ep11)  [AD,S]","startTime":1716973800,"duration":1800,"svcId":1500,"evtId":23215,"image":"\/ms\/img\/epg\/rb\/5d52-1543986.l.png","hasTstv":false,"seriesNo":9,"episodeNo":11},{"name":"Frasier","description":"Mother Load (Part 1\/2): Just as Niles and Daphne agree to move in together, they are visited by her disruptive, conniving mother and lecherous, leeching brother. (S9 Ep12)  [AD,S]","startTime":1716975600,"duration":1800,"svcId":1500,"evtId":23216,"image":"\/ms\/img\/epg\/rb\/5d52-1553886.l.png","hasTstv":false,"seriesNo":9,"episodeNo":12},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Austin, Texas, Gordon Ramsay visits struggling Greek restaurant El Greco, where the owners have secretly recruited \u0027Chef Mike\u0027 the microwave to help them out on a daily basis. (S5 Ep9)  [S]","startTime":1716977400,"duration":3300,"svcId":1500,"evtId":23217,"image":"\/ms\/img\/epg\/rb\/5d52-380167902.l.png","hasTstv":false,"seriesNo":4,"episodeNo":10},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1716980700,"duration":300,"svcId":1500,"evtId":23218,"image":"\/ms\/img\/epg\/rb\/5d52-9458216.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Michon\u0027s, a family-run smokehouse in Atlanta, Georgia. Can Gordon help the unwell owner address his daughter\u0027s hands-off management style? (S5 Ep11)  [S]","startTime":1716981000,"duration":3300,"svcId":1500,"evtId":23219,"image":"\/ms\/img\/epg\/rb\/5d52-381010754.l.png","hasTstv":false,"seriesNo":4,"episodeNo":9},{"name":"Find It, Fix It, Flog It","description":"In Whitby and Shipley in Yorkshire, Henry Cole builds a steampunk lamp from a copper pipe, while Simon O\u0027Brien brings a dated Welsh dresser right up to date. (S3 Ep14)  [S]","startTime":1716984300,"duration":3900,"svcId":1500,"evtId":23220,"image":"\/ms\/img\/epg\/rb\/5d52-379053162.l.png","hasTstv":false,"seriesNo":3,"episodeNo":14},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Levi Roots joins Susie Dent in Dictionary Corner.  [S]","startTime":1716988200,"duration":3000,"svcId":1500,"evtId":23221,"image":"\/ms\/img\/epg\/rb\/5d52-9458218.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Chris and Helen hope to find the perfect home in their favourite holiday spot in Greece\u0027s eastern Peloponnese for their \u00a3350k. Can Lee Juggurnauth deliver their Grecian dream?  [S]","startTime":1716991200,"duration":3600,"svcId":1500,"evtId":23222,"image":"\/ms\/img\/epg\/rb\/5d52-8558086.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Leah Charles-King helps Sarah and Andy find the perfect place for their whole family, including their beloved dog, Ruby, on Spain\u0027s southern Costa Blanca for \u00a3160k.  [S]","startTime":1716994800,"duration":3600,"svcId":1500,"evtId":23223,"image":"\/ms\/img\/epg\/rb\/5d52-411366327.l.png","hasTstv":false},{"name":"Come Dine with Me: The...","description":"...Professionals: The new series continues. In Devon, there\u0027s grazing and plonk at Honky Tonk, farm-to-fork at The Bear and Blacksmith and fine fare at Twenty Seven. (S2 Ep18\/20)  [S]","startTime":1716998400,"duration":3600,"svcId":1500,"evtId":23224,"image":"\/ms\/img\/epg\/rb\/5d52-9458222.l.png","hasTstv":false,"seriesNo":2,"episodeNo":18},{"name":"Four in a Bed","description":"The new run continues. In The New Forest, Francesca and Maurizio\u0027s green approach to hosting is put to the test. And the B\u0026Bers are divided by a tree hugging trip.  [S]","startTime":1717002000,"duration":1800,"svcId":1500,"evtId":23225,"image":"\/ms\/img\/epg\/rb\/5d52-9458223.l.png","hasTstv":false},{"name":"The Simpsons","description":"Hello Gutter, Hello Fadder: Homer bowls a perfect 300 and becomes a celebrity, even appearing on the Springfield Squares with Bumblebee Man and his old nemesis Ron Howard. (S11 Ep6\/22)  [AD,S]","startTime":1717003800,"duration":1800,"svcId":1500,"evtId":23226,"image":"\/ms\/img\/epg\/rb\/5d52-387112021.l.png","hasTstv":false,"seriesNo":11,"episodeNo":6},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1717005600,"duration":3600,"svcId":1500,"evtId":23227,"image":"\/ms\/img\/epg\/rb\/5d52-9458224.l.png","hasTstv":false},{"name":"New: Location, Location, Location","description":"In Southampton, Kirstie helps Antoinette and Matt revive their attempts to get on the property ladder. And Phil\u0027s with Catherine who wants a fresh start in charming Chichester. (S41 Ep4)  [S]","startTime":1717009200,"duration":3600,"svcId":1500,"evtId":23228,"image":"\/ms\/img\/epg\/rb\/5d52-9458226.l.png","hasTstv":false,"seriesNo":41,"episodeNo":4},{"name":"New: The Gathering","description":"Series finale. Simmering emotions erupt at the drink and drug-fuelled illegal beach rave. Kelly is rushed to hospital in a critical condition, but will her attacker evade justice? (Ep6\/6)  [AD,S]","startTime":1717012800,"duration":3600,"svcId":1500,"evtId":23229,"image":"\/ms\/img\/epg\/rb\/5d52-thrill.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Britain\u0027s Most Expensive Houses","description":"In the stunning New Forest, John has a vast family home to sell, but can he find a buyer for the \u00a39m asking price? And Guy and Aoife work on a Pimlico pied-\u00e0-terre. (S2 Ep4)  [AD,S]","startTime":1717016400,"duration":3900,"svcId":1500,"evtId":23230,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"New: The Rest Is Politics:...","description":"...Election Special: As the UK prepares to go to the polls, Alastair Campbell and Rory Stewart discuss, dissect and deconstruct the biggest news stories from the campaign trail. [S,W]","startTime":1717020300,"duration":3900,"svcId":1500,"evtId":23541,"image":"\/ms\/img\/epg\/rb\/5d52-politic.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"24 Hours in A\u0026E","description":"Alicia, who\u0027s 14, is rushed to A\u0026E after falling head first off her bike. Geoffrey can\u0027t breathe due to an ear infection. And plasterer Jonny has had a serious accident at work. (S22 Ep4)  [AD,S]","startTime":1717024200,"duration":3300,"svcId":1500,"evtId":23232,"image":"\/ms\/img\/epg\/rb\/5d52-386329388.l.png","hasTstv":false,"seriesNo":22,"episodeNo":4},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"Gordon is in Los Angeles to save family-owned Mexican restaurant La Serenata. He gives the dining room an inviting turquoise interior and plans a smaller, more dynamic menu. (S1 Ep5\/8)  [AD,S,SL]","startTime":1717027500,"duration":3000,"svcId":1500,"evtId":23454,"image":"\/ms\/img\/epg\/rb\/5d52-3016780.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Imposter: The Man Who Came Back...","description":"...from the Dead: Is the bookish, peaceful Arthur Knight actually sexually aggressive narcissist and crook Nicholas Rossi? Surely Rossi\u0027s tell-tale tattoos can settle the case? (Ep2\/4)  [AD,S]","startTime":1717030500,"duration":3300,"svcId":1500,"evtId":23233,"image":"\/ms\/img\/epg\/rb\/5d52-crime.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Sequin in a Blue Room","description":"(2021) Coming-of-age drama about Sequin, a gay 16-year-old who becomes obsessed with a stranger at a party. Adults only: strong language\/drugs\/sex\/sexual violence.  [S]","startTime":1717033800,"duration":5100,"svcId":1500,"evtId":23234,"image":"\/ms\/img\/epg\/rb\/5d52-6061666.l.png","hasTstv":false},{"name":"The Piano","description":"At Liverpool Lime Street, Claudia, Mika and Lang Lang hear the skills of a rapping call centre manager and the infamous Billy the Hat, and join with in a station sing-a-long. (S2 Ep5)  [AD,S,SL]","startTime":1717038900,"duration":3600,"svcId":1500,"evtId":23306,"image":"\/ms\/img\/epg\/rb\/5d52-9452893.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('191');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('152');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('155');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'V08UPqchVgQ', title: "Black Ops 6: 'The Truth Lies' - Live Action Reveal Trailer", label: "Black Ops 6: 'The Truth Lies' - Live Action Reveal Trailer by Call of Duty 2,860,385 views 9 hours ago 58 seconds" },
{ id: 'dZrxWFrd1zQ', title: "Destiny 2: The Final Shape | Launch Trailer", label: "Destiny 2: The Final Shape | Launch Trailer by Destiny 2 718,532 views 8 hours ago 2 minutes, 22 seconds" },
{ id: 'kBbjSZMsZXM', title: "YOUTUBER 2v2v2 TEAM GOLF MATCH!", label: "YOUTUBER 2v2v2 TEAM GOLF MATCH! by Big Wedge Golf 580,952 views 1 day ago 40 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in f1 module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jojo Rabbit (2019)">Jojo Rabbit (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Days (2023)">Perfect Days (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sicario (2015)">Sicario (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Whiplash (2014)">Whiplash (2014)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S3, 2024)">Clarkson\'s Farm (S3, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Feel Good (S2, 2021)">Feel Good (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Feel Good (S1, 2020)">Feel Good (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Baby Reindeer (S1, 2024)">Baby Reindeer (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Sugar Rush (S2, 2006)">Sugar Rush (S2, 2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Sugar Rush (S1, 2005)">Sugar Rush (S1, 2005)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Change (2023, S1)">The Change (2023, S1)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
{ number: 210.12, tooltip: "Mon, May 13, 2024<br/>£210.12"},
{ number: 210.82, tooltip: "Fri, May 10, 2024<br/>£210.82"},
{ number: 210.11, tooltip: "Thu, May 09, 2024<br/>£210.11"},
{ number: 209.55, tooltip: "Wed, May 08, 2024<br/>£209.55"},
{ number: 208.97, tooltip: "Tue, May 07, 2024<br/>£208.97"},
{ number: 206.73, tooltip: "Fri, May 03, 2024<br/>£206.73"},
{ number: 205.42, tooltip: "Thu, May 02, 2024<br/>£205.42"},
{ number: 203.50, tooltip: "Wed, May 01, 2024<br/>£203.50"},
{ number: 203.58, tooltip: "Tue, Apr 30, 2024<br/>£203.58"},
{ number: 205.50, tooltip: "Mon, Apr 29, 2024<br/>£205.50"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, May 24, 2024",
		"vs Day":      "Thu, May 23, 2024",
		"vs Week":     "Fri, May 17, 2024",
		"vs Month":    "Mon, Apr 29, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£209.50/share",
		'vs Day':      "+0.13%",
		'vs Week':     "-0.78%",
		'vs Month':    "+1.95%",
		'vs Year':     "+18.66%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '69.5',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 28 May and 29 May">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.695&p=3.550&r=0.386',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:52',
		Set:      '21:15',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>In literal use, <em>gadfly</em> refers to any of various flies (such as a horsefly, <a href="https://www.merriam-webster.com/dictionary/botfly">botfly</a>, or <a href="https://bit.ly/49NrOi9">warble fly</a>) that bite or annoy <a href="https://www.merriam-webster.com/dictionary/livestock">livestock</a>. <em>Gadfly</em> is most popular in figurative use, however, where it refers to someone who provokes or annoys other people especially by persistent criticism.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22Diane+Abbott%22">Diane Abbott</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=HMRC">HMRC</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23SewingBee">#SewingBee</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Angela+Rayner%22">Angela Rayner</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23BritainsGotTalent">#BritainsGotTalent</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=DeNiro">DeNiro</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Hollywood">Hollywood</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Washed">Washed</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Black+Like+Me%22">Black Like Me</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23snoop">#snoop</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>