<!DOCTYPE html>
<html lang="en">
	<head>
		<title>17:19 10-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>UK \'keeping close eye\' on British jihadists in Syria</b><br/>Home Office minister Angela Eagle tells the BBC that UK intelligence services are monitoring the situation." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c8xj4jzqlvgo">UK \'keeping close eye\' on British jihadists in Syria</a></li><li class="ttt" data-tt="<b>Former England rugby star feared dead in flood</b><br/>Northumbria Police says a search is continuing where Tom Voyce\'s car was found near Alnwick."><a href="https://www.bbc.com/news/articles/c7859539x9vo">Former England rugby star feared dead in flood</a></li><li class="ttt" data-tt="<b>Reeves vows to cut \'waste\' in spending review</b><br/>The chancellor says &quot;efficiency savings&quot; will ensure enough funding for key public services."><a href="https://www.bbc.com/news/articles/c8ewdzgnx1yo">Reeves vows to cut \'waste\' in spending review</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c8xj4jzqlvgo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/1d3a/live/8ffbd660-b6ef-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="A group of women walks down a path between dozens of tents." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>\'Pretty crazy\': Witness details arrest of CEO shooting suspect</b><br/>A McDonald\'s customer thought his friends were kidding when they pointed out the likeness between a patron and the shooting suspect." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c9vkygny20xo">\'Pretty crazy\': Witness details arrest of CEO shooting suspect</a></li><li class="ttt" data-tt="<b>Luigi Mangione charged with murdering healthcare CEO in New York</b><br/>The 26-year-old man was taken into custody at a McDonald\'s in the town of Altoona, Pennsylvania, on Monday."><a href="https://www.bbc.com/news/articles/cly2zwqqr1ro">Luigi Mangione charged with murdering healthcare CEO in New York</a></li><li class="ttt" data-tt="<b>From Ivy League student to accused CEO killer</b><br/>Luigi Mangione, accused of killing a healthcare insurance boss in New York, was found with a ghost gun and $10,000."><a href="https://www.bbc.com/news/articles/cp9nxee2r0do">From Ivy League student to accused CEO killer</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c9vkygny20xo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/98f1/live/0d2e0ce0-b716-11ef-aff0-072ce821b6ab.jpg" class="ttt" data-tt="Larry in the Altoona McDonald&#x27;s parking lot in a tan jacket and grey t-shirt, surrounded by news media microphones. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Luigi Mangione charged with murdering healthcare CEO in New York</b><br/>The 26-year-old man was taken into custody at a McDonald\'s in the town of Altoona, Pennsylvania, on Monday." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cly2zwqqr1ro">Luigi Mangione charged with murdering healthcare CEO in New York</a></li><li class="ttt" data-tt="<b>Netanyahu rejects \'absurd\' charges at corruption trial</b><br/>Netanyahu becomes Israel\'s first serving leader to take the stand as a defendant in a criminal case."><a href="https://www.bbc.com/news/articles/c4g30271wxwo">Netanyahu rejects \'absurd\' charges at corruption trial</a></li><li class="ttt" data-tt="<b>Police arrest three after The Hague flat explosions</b><br/>The explosion on 7 December killed six people, including three members of the same family."><a href="https://www.bbc.com/news/articles/cpdnezyjezgo">Police arrest three after The Hague flat explosions</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cly2zwqqr1ro"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/9065/live/999e3c10-b6d8-11ef-a2ca-e99d0c9a24e3.jpg" class="ttt" data-tt="A video grab showing Luigi Mangione arriving for his arraignment at court. He is being escorted by two police officers." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Has the Russell row made Verstappen to Mercedes in 2026 less likely?</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the season-ending Abu Dhabi Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c75wz75q14ko">Has the Russell row made Verstappen to Mercedes in 2026 less likely?</a></li><li class="ttt" data-tt="<b>Highlights, controversies and 2025 wishes - BBC team on F1 season</b><br/>The BBC Radio 5 Live F1 team pick out their highlights from the 2024 season and name their wishes for 2025."><a href="https://www.bbc.com/sport/formula1/articles/c623rwn54d2o">Highlights, controversies and 2025 wishes - BBC team on F1 season</a></li><li class="ttt" data-tt="<b>McLaren\'s \'perfect\' ending after being \'on the brink\'</b><br/>McLaren\'s first constructors\' championship since 1998 came after the team needed &quot;great resilience and great belief&quot; to return to the top of F1."><a href="https://www.bbc.com/sport/formula1/articles/cy7kgg5lxeeo">McLaren\'s \'perfect\' ending after being \'on the brink\'</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c75wz75q14ko"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/246f/live/2cd2c1b0-b59c-11ef-aff0-072ce821b6ab.jpg" class="ttt" data-tt="F1 2024 drivers" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Amazon and eBay to pay \'fair share\' for e-waste recycling</b><br/>Firms which produce e-cigarettes will also be asked to pay more towards UK recycling." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cly75xnk5exo">Amazon and eBay to pay \'fair share\' for e-waste recycling</a></li><li class="ttt" data-tt="<b>Nvidia targeted by China in new chip war probe</b><br/>The investigation follows a US decision to further restrict sales to chip equipment makers in China."><a href="https://www.bbc.com/news/articles/cx2vkd90mk8o">Nvidia targeted by China in new chip war probe</a></li><li class="ttt" data-tt="<b>Secret Level creator fears fans, not critics</b><br/>The creators of Prime Video\'s new video game-inspired show say pleasing fans and newcomers is daunting."><a href="https://www.bbc.com/news/articles/ce8n5jn100wo">Secret Level creator fears fans, not critics</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cly75xnk5exo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/00c3/live/608d7320-b6ea-11ef-b1e6-73aaba769083.jpg" class="ttt" data-tt="A man using a vape" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"9 Dec – 15 Dec","date":17337888E5,"ts":"Tue, 10","ds":"Tue, 10 Dec","icon":7,"desc":"Overcast.","temp":6,"templow":5,"cf":1,"wind":15,"wd":40,"hum":78,"pc":6},{"date":17338752E5,"ts":"Wed, 11","ds":"Wed, 11 Dec","icon":7,"desc":"Overcast.","temp":7,"templow":4,"cf":3,"wind":10,"wd":50,"hum":73,"pc":3},{"date":17339616E5,"ts":"Thu, 12","ds":"Thu, 12 Dec","icon":7,"desc":"Overcast.","temp":8,"templow":5,"cf":6,"wind":7,"wd":30,"hum":94,"pc":3},{"date":1734048E6,"ts":"Fri, 13","ds":"Fri, 13 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":7,"templow":4,"cf":5,"wind":5,"wd":210,"hum":87,"pc":23,"rain":1.7 },{"date":17341344E5,"ts":"Sat, 14","ds":"Sat, 14 Dec","icon":18,"desc":"Sprinkles early. Overcast.","temp":7,"templow":2,"cf":3,"wind":11,"wd":290,"hum":81,"pc":39,"rain":0.5 },{"date":17342208E5,"ts":"Sun, 15","ds":"Sun, 15 Dec","icon":7,"desc":"Overcast.","temp":11,"templow":1,"cf":4,"wind":14,"wd":240,"hum":85,"pc":5},{"hl":true,"hls":"16 Dec – 22 Dec","date":17343072E5,"ts":"Mon, 16","ds":"Mon, 16 Dec","icon":18,"desc":"Sprinkles early. Overcast.","temp":12,"templow":9,"cf":8,"wind":20,"wd":230,"hum":85,"pc":21,"rain":0.6 },{"date":17343936E5,"ts":"Tue, 17","ds":"Tue, 17 Dec","icon":18,"desc":"Light rain. Overcast.","temp":12,"templow":7,"cf":8,"wind":14,"wd":230,"hum":84,"pc":53,"rain":2.2 },{"date":173448E7,"ts":"Wed, 18","ds":"Wed, 18 Dec","icon":18,"desc":"Light rain. Overcast.","temp":10,"templow":7,"cf":8,"wind":13,"wd":190,"hum":86,"pc":60,"rain":4.8 },{"date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":4,"desc":"Morning clouds.","temp":8,"templow":4,"cf":4,"wind":14,"wd":250,"hum":76,"pc":52,"rain":2.2 },{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":33,"desc":"Light showers. Mostly cloudy.","temp":8,"templow":3,"cf":3,"wind":10,"wd":270,"hum":84,"pc":63,"rain":3.2 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":18,"desc":"Sprinkles. Cloudy.","temp":7,"templow":4,"cf":2,"wind":17,"wd":290,"hum":79,"pc":59,"rain":3.4 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":4,"desc":"Afternoon clouds.","temp":6,"templow":3,"cf":4,"wind":7,"wd":190,"hum":83,"pc":6},{"hl":true,"hls":"23 Dec – 29 Dec","date":1734912E6,"ts":"Mon, 23","ds":"Mon, 23 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":8,"templow":5,"cf":4,"wind":20,"wd":210,"hum":78,"pc":64,"rain":1.3 },{"date":17349984E5,"ts":"Tue, 24","ds":"Tue, 24 Dec","icon":7,"desc":"Cloudy.","temp":9,"templow":6,"cf":5,"wind":16,"wd":250,"hum":75,"pc":50,"rain":0.2 }],"grid":{"temp":{"low":1,"high":12,"range":11},"prec":{"high":4.8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/LeonidsWoodcut_Vollmy_960.jpg',
		Title:     'The Great Meteor Storm of 1833',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/LeonidsWoodcut_Vollmy_1293.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241210.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Kitt_Peak_National_Observatory_in_the_Quinlan_Mountains%2C_2023.jpg/400px-Kitt_Peak_National_Observatory_in_the_Quinlan_Mountains%2C_2023.jpg',
		Title:    'Kitt Peak National Observatory',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Kitt_Peak_National_Observatory',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Kitt_Peak_National_Observatory" title="Kitt Peak National Observatory">Kitt Peak National Observatory</a></b> is a United States <a href="https://en.wikipedia.org/wiki/Observatory#Astronomical_observatories" title="Observatory">astronomical observatory</a> located on <a href="https://en.wikipedia.org/wiki/Kitt_Peak" title="Kitt Peak">Kitt Peak</a> in the <a href="https://en.wikipedia.org/wiki/Quinlan_Mountains" title="Quinlan Mountains">Quinlan Mountains</a>, 55 miles (88&#160;km) southwest of <a href="https://en.wikipedia.org/wiki/Tucson,_Arizona" title="Tucson, Arizona">Tucson, Arizona</a>, in the <a href="https://en.wikipedia.org/wiki/Sonoran_Desert" title="Sonoran Desert">Sonoran Desert</a> and the <a href="https://en.wikipedia.org/wiki/Tohono_O%CA%BCodham_Nation" title="Tohono Oʼodham Nation">Tohono Oʼodham Nation</a>. With more than twenty <a href="https://en.wikipedia.org/wiki/Optical_telescope" title="Optical telescope">optical telescopes</a> and two <a href="https://en.wikipedia.org/wiki/Radio_telescope" title="Radio telescope">radio telescopes</a>, it is one of the largest gatherings of astronomical instruments in the Northern Hemisphere. The observatory was founded in 1958, and was administered by the <a href="https://en.wikipedia.org/wiki/National_Optical_Astronomy_Observatory" title="National Optical Astronomy Observatory">National Optical Astronomy Observatory</a> from the early 1980s until 2019, after which it has been overseen by <a href="https://en.wikipedia.org/wiki/NOIRLab" title="NOIRLab">NOIRLab</a>. This photograph, titled <i>A Breeze of Color</i>, shows a portion of Kitt Peak National Observatory at sunset, and was taken as part of a 2022 photographic expedition to all the NOIRLab sites.<small style="display: block; margin-top: 0.8em;">Photograph credit: Tomáš Slovinský</small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1733810400,"duration":12600,"svcId":560,"evtId":29815,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733822940,"availabilityEnd":1733909340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025syy\u0026ui_id=4.0.0"}},{"name":"Morning Live at Christmas","description":"Rav Wilding and Michelle Ackerley talk to finance expert Laura Pomfret about how to beat your overdraft. Plus Dr Xand on the symptoms of winter flu. [S] [HD]","startTime":1733823000,"duration":4500,"svcId":560,"evtId":29816,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb2m2g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733827470,"availabilityEnd":1765363470,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025sz0\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":127},{"name":"Caught Red Handed","description":"14\/20. A car thief doesn\u0027t realise the car\u0027s dashcam is recording everywhere he goes. And an undercover officer recognises an adversary from years ago who is up to his old tricks. [S] [HD]","startTime":1733827500,"duration":1800,"svcId":560,"evtId":29817,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f32z8v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733829302,"availabilityEnd":1736421302,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rbkd\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":14},{"name":"Celebrity Homes Under the Hammer","description":"Dion brings some muscle to Newcastle-under-Lyme in the form of Steel from Gladiators, who helps him to wrestle an end-of-terrace into shape. [S,AD] [HD]","startTime":1733829300,"duration":3600,"svcId":560,"evtId":29931,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6shgj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733832900,"availabilityEnd":1765628102,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wjz\u0026ui_id=4.0.0"},"seriesNo":41},{"name":"Bargain Hunt","description":"Christina Trevanion is at Ardingly Antiques Fair in West Sussex, where experts Nick Hall and Ochuko Ojiri help the teams. Christina takes a look at the history of the humble jigsaw puzzle. [S,AD] [HD]","startTime":1733832900,"duration":2700,"svcId":560,"evtId":29818,"image":"\/ms\/img\/epg\/rb\/fec6-p09413sg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733835606,"availabilityEnd":1736427606,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000rht5\u0026ui_id=4.0.0"},"seriesNo":57},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1733835600,"duration":3600,"svcId":560,"evtId":29819,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":182},{"name":"Countryfile Treasures","description":"Anita Rani is at the world-famous Wildfowl and Wetlands Trust in Slimbridge to discover some wonderful winter sights, including the visiting Bewick\u0027s swans. [S] [HD]","startTime":1733839200,"duration":3600,"svcId":560,"evtId":29822,"image":"\/ms\/img\/epg\/rb\/fec6-p0dmh9mj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1670896200,"availabilityEnd":1702432200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001fyf1\u0026ui_id=4.0.0"}},{"name":"Escape to the Country","description":"24\/55. Sonali Shah is in magnificent Northumberland, helping three generations of the same family to escape from Leicester and find a new rural home together. [S] [HD]","startTime":1733842800,"duration":2700,"svcId":560,"evtId":29952,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5vwbf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733845483,"availabilityEnd":1765381483,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x26\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":24},{"name":"The Vintage French Farmhouse","description":"7\/20. Antiques dealers James Gooch, Jacqui Harris and Adi Higham are on a buying trip in a market overlooked by the imposing Fort Saint Andr\u00e9 in Villeneuve-les-Avignon. [S] [HD]","startTime":1733845500,"duration":2700,"svcId":560,"evtId":29823,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gfxy86.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733848173,"availabilityEnd":1736440173,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0gcvp4j\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"Antiques Road Trip","description":"7\/25. Catherine Southon and David Harper call on a doggy antiques appraiser as they trip along the Sussex coast. David gets into trouble playing cricket in a shop full of china. [S] [HD]","startTime":1733848200,"duration":2700,"svcId":560,"evtId":29824,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f2w78y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733850899,"availabilityEnd":1736442899,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jfkt\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":7},{"name":"Pointless","description":"55\/55. Alexander Armstrong is joined by co-host Vick Hope for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1733850900,"duration":2700,"svcId":560,"evtId":29825,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h5j12w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1712077200,"availabilityEnd":1743613200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xy0v\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":55},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1733853600,"duration":1800,"svcId":560,"evtId":29826,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733855490,"availabilityEnd":1733941890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025sz8\u0026ui_id=4.0.0"},"episodeNo":182},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1733855400,"duration":1800,"svcId":560,"evtId":29827,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733857095,"availabilityEnd":1733943495,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025szb\u0026ui_id=4.0.0"},"episodeNo":254},{"name":"The One Show","description":"Russell T Davies and Stacey Solomon join Alex Jones and Roman Kemp in the studio. [S] [HD]","startTime":1733857200,"duration":1800,"svcId":560,"evtId":29932,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733859063,"availabilityEnd":1736451063,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025wk1\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Sharon is deeply worried about two vulnerable loved ones, Alfie makes a shocking discovery, and Ravi is concerned about Nugget\u0027s whereabouts. [S,AD] [HD]","startTime":1733859000,"duration":1800,"svcId":560,"evtId":29953,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89myx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733810400,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x28\u0026ui_id=4.0.0"},"episodeNo":7028},{"name":"MasterChef: The Professionals","description":"20\/21. Finals week continues, and just three of the country\u0027s most exciting chefs remain. [S,AD] [HD]","startTime":1733860800,"duration":3600,"svcId":560,"evtId":29954,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89pf0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733724000,"availabilityEnd":1893391200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025x2b\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":20},{"name":"The Listeners","description":"4\/4. Claire finally loses herself in the hum as the outside world closes in on the group. One last group session ends in tragedy. Contains strong language. [S,AD] [HD]","startTime":1733864400,"duration":3600,"svcId":560,"evtId":29955,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k40nny.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1763532000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00255fn\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1733868000,"duration":1800,"svcId":560,"evtId":29828,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733869890,"availabilityEnd":1733956290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025szd\u0026ui_id=4.0.0"},"episodeNo":182},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1733869800,"duration":600,"svcId":560,"evtId":29829,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733870250,"availabilityEnd":1733956650,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025szg\u0026ui_id=4.0.0"},"episodeNo":218},{"name":"Yesterday","description":"An unsuccessful singer-songwriter wakes up in a world where no-one remembers The Beatles. Contains very strong language. [2019] [S,AD] [HD]","startTime":1733870400,"duration":6600,"svcId":560,"evtId":29933,"image":"\/ms\/img\/epg\/rb\/ae0c-p09mvcgh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733876980,"availabilityEnd":1736468980,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m000xp0n\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1733877000,"duration":300,"svcId":560,"evtId":29830,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733877269,"availabilityEnd":1734482069,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025szj\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1733877300,"duration":19500,"svcId":560,"evtId":29831,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":254}]},{"channelid":700,"offset":0,"event":[{"name":"Bargain Hunt","description":"The rain doesn\u0027t dampen spirits in the village of Wolsingham as experts Colin Young and Irita Marriott seek to lead their teams to victory. [S] [HD]","startTime":1733811300,"duration":2700,"svcId":700,"evtId":21434,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k70zxx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733749200,"availabilityEnd":1765285200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wt3\u0026ui_id=4.0.0"},"seriesNo":71},{"name":"Celebrity Homes Under the Hammer","description":"Turn the Gogglebox on and tune in to see Martin and guest presenter Scarlett Moffatt. [S,AD] [HD]","startTime":1733814000,"duration":3600,"svcId":700,"evtId":21435,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6shc7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733746489,"availabilityEnd":1765628102,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wjj\u0026ui_id=4.0.0"},"seriesNo":41},{"name":"Wonders of Life","description":"4\/5. Brian travels across Australia to explore the physics of the size of life. He discovers that size has a profound effect on how you move, how you feed, even how long you live. [S,AD,SL] [HD]","startTime":1733817600,"duration":3600,"svcId":700,"evtId":21378,"image":"\/ms\/img\/epg\/rb\/fec6-p01j2rl4.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1733821200,"duration":11700,"svcId":700,"evtId":21311,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Can better international co-operation \u0027smash\u0027 the people smuggling gangs? And, should the rules on political donations be changed? [S] [HD]","startTime":1733832900,"duration":2700,"svcId":700,"evtId":21312,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733835615,"availabilityEnd":1736427615,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025t2v\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"47\/50. The quiz show where players must avoid Impossible answers to stay in the competition. 20 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1733835600,"duration":2700,"svcId":700,"evtId":21313,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733838338,"availabilityEnd":1736430338,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0008zqr\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":47},{"name":"The Tournament","description":"26\/30. Eight players do battle in the ultimate knockout quiz. Only one will be left standing at the end, but will they reach the Golden Run and double their money? Hosted by Alex Scott. [S] [HD]","startTime":1733838300,"duration":2700,"svcId":700,"evtId":21314,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7hw8t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733841062,"availabilityEnd":1736433062,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001dhz8\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":26},{"name":"Beat the Pack","description":"17\/20. Jake Humphrey hosts the general knowledge quiz where contestants can win money if they can give a correct answer to a question before all their opponents in the Pack do. [S] [HD]","startTime":1733841000,"duration":2700,"svcId":700,"evtId":21315,"image":"\/ms\/img\/epg\/rb\/ae0c-p01l9d8p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733843766,"availabilityEnd":1736435766,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01rkyr9\u0026ui_id=4.0.0"},"episodeNo":17},{"name":"Celebrity Best Home Cook","description":"7\/8. The semi-final round sees the four remaining celebrities challenged to cook a fish supper, a mushroom dish and crab ravioli with homemade pasta. [S,AD] [HD]","startTime":1733843700,"duration":3600,"svcId":700,"evtId":21316,"image":"\/ms\/img\/epg\/rb\/ae0c-p096c2wm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733843700,"availabilityEnd":1769407140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000sd83\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"A Very Country Christmas","description":"2\/3. Ellie Harrison and Angellica Bell meet a turkey farmer, visit the town that inspired A Christmas Carol and talk to raucous carollers preparing for Advent in the north of England. [S,AD] [HD]","startTime":1733847300,"duration":3600,"svcId":700,"evtId":21317,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zpyvq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733850975,"availabilityEnd":1736442975,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qf9g\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Flog It!","description":"In Kent, Claire Rawle and Thomas Plant unearth unique antiques and collectibles that tell fascinating stories of the past. Paul Martin visits a hop garden. [S] [HD]","startTime":1733850900,"duration":2700,"svcId":700,"evtId":21318,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733853660,"availabilityEnd":1736445660,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b053rkvf\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":16},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 2\/10. Clare Balding, Ivo Graham, Ugo Monye and Su Pollard test their general knowledge skills for a special festive show in Richard Osman\u0027s House of Games. [S] [HD]","startTime":1733853600,"duration":1800,"svcId":700,"evtId":21436,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dmv9yf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733855472,"availabilityEnd":1736447472,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gd2c\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":2},{"name":"Strictly - It Takes Two","description":"57\/60. Fleur East chats to two of the couples who made it through to the final, and Choreography Corner is back for the last time to critique the weekend\u0027s performances. [S] [HD]","startTime":1733855400,"duration":1800,"svcId":700,"evtId":21437,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb1j0l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733857275,"availabilityEnd":1765654335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025xv1\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":57},{"name":"Clive Myrie\u0027s Caribbean Treasures","description":"4\/6. Clive takes a morning swim with racehorses in Barbados, builds water rafts in a Cuban forest, and then in Jamaica, he heads to the Blue Mountains to find some very special coffee. [S] [HD]","startTime":1733857200,"duration":3600,"svcId":700,"evtId":21438,"image":"\/ms\/img\/epg\/rb\/fec6-p0k5tzxw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733292000,"availabilityEnd":1796363940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025nr4\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Celebrity Antiques Road Trip","description":"13\/20. Dominic Littlewood and Melinda Messenger join Natasha and Tim on a hunt and haggle for profitable antiques. A cat terrifies one celebrity, and a Viking find shocks the other. [S] [HD]","startTime":1733860800,"duration":3600,"svcId":700,"evtId":21439,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlz5hn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733864530,"availabilityEnd":1736456530,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001g6ng\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":13},{"name":"QI XL","description":"8\/16. Rhod Gilbert, Ignacio Lopez and Zoe Lyons join Sandi Toksvig and Alan Davies as QI goes viral. [S] [HD]","startTime":1733864400,"duration":2700,"svcId":700,"evtId":21440,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k710nm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733867261,"availabilityEnd":1771367369,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025xv3\u0026ui_id=4.0.0"},"seriesNo":23,"episodeNo":8},{"name":"Mel Giedroyc: Unforgivable","description":"8\/8. Mel Giedroyc and Lou Sanders are joined Robert Rinder, Sophie Duker and David Baddiel. Contains some strong language and adult humour. [S] [HD]","startTime":1733867100,"duration":2700,"svcId":700,"evtId":21441,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy1zxl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729573200,"availabilityEnd":1761109200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024868\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":8},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Katie Razzall. [S] [HD]","startTime":1733869800,"duration":1800,"svcId":700,"evtId":21319,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733871660,"availabilityEnd":1765407660,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025t2x\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1733871600,"duration":300,"svcId":700,"evtId":21320,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733871885,"availabilityEnd":1733958285,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025t2z\u0026ui_id=4.0.0"}},{"name":"Brawn: The Impossible Formula 1...","description":"...Story. 4\/4. Can Jenson and Brawn GP transform their nightmarish scenario into a fairy-tale ending? Contains some strong language. [S,AD] [HD]","startTime":1733871900,"duration":3300,"svcId":700,"evtId":21442,"image":"\/ms\/img\/epg\/rb\/fec6-p0k3trw3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731823200,"availabilityEnd":1794700740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024qcb\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"MasterChef: The Professionals","description":"16\/21. It\u0027s the semi-finals. The past five weeks have seen the chefs whittled down to the best eight. Now, it\u0027s all about survival as they battle for a place in the last six. [S,AD,SL] [HD]","startTime":1733875200,"duration":3600,"svcId":700,"evtId":21443,"image":"\/ms\/img\/epg\/rb\/fec6-p0k6zjtl.jpg","hasTstv":false,"seriesNo":22,"episodeNo":16},{"name":"Renaissance - The Blood and the...","description":"...Beauty. 1\/3. Michelangelo struggles to make his name in the brutal world of Renaissance Italy. Contains some scenes which some viewers may find upsetting. [S,AD,SL] [HD]","startTime":1733878800,"duration":3600,"svcId":700,"evtId":21444,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6zl8p.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"My Life at Christmas: Anita...","description":"...Rani Meets Sheila Hancock. 1\/3. Anita Rani meets actress Dame Sheila Hancock to discover what Christmas means to her. [S,AD,SL] [HD]","startTime":1733882400,"duration":3600,"svcId":700,"evtId":21445,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6s5dx.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1733886000,"duration":11700,"svcId":700,"evtId":21321,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('393');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('32');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'mcvLKldPM08', title: "28 YEARS LATER – Official Trailer (HD)", label: "28 YEARS LATER – Official Trailer (HD) by Sony Pictures Entertainment 2,973,396 views 9 hours ago 2 minutes, 13 seconds" },
{ id: 'cRGNvfv23WA', title: "I BOUGHT A WRECKED GT3RS TO FIX MY PORSCHE THAT WENT SWIMMING", label: "I BOUGHT A WRECKED GT3RS TO FIX MY PORSCHE THAT WENT SWIMMING by Mat Armstrong MK2 1,765,755 views 1 day ago 47 minutes" },
{ id: '0pur2P_CleU', title: "This Video is AI Generated! SORA Review", label: "This Video is AI Generated! SORA Review by Marques Brownlee 2,103,698 views 1 day ago 16 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Kes (1969)">Kes (1969)</a></li><li><a href="https://www.google.com/search?q=Films+-+Cries and Whispers (1972)">Cries and Whispers (1972)</a></li><li><a href="https://www.google.com/search?q=Films+-+Consent (2023)">Consent (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Falling (2014)">The Falling (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+Pandora\'s Box (1929)">Pandora\'s Box (1929)</a></li><li><a href="https://www.google.com/search?q=Films+-+Melancholia (2011)">Melancholia (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+Hive (2021)">Hive (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Fruit of Paradise (1970)">Fruit of Paradise (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+A Letter to Three Wives (1949)">A Letter to Three Wives (1949)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Diary of a Teenage Girl (2015)">The Diary of a Teenage Girl (2015)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
].reverse();

	var vanguardDates = {
		"Latest":      "Mon, Dec 09, 2024",
		"vs Day":      "Fri, Dec 06, 2024",
		"vs Week":     "Mon, Dec 02, 2024",
		"vs Month":    "Mon, Nov 11, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£230.46/share",
		'vs Day':      "-0.74%",
		'vs Week':     "-0.70%",
		'vs Month':    "+1.50%",
		'vs Year':     "+22.99%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '73.0',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 10 December and 11 December">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.730&p=0.083&r=0.100',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:05',
		Set:      '15:53',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A <em>brogue</em> is a low shoe, usually made of leather, that is decorated with small holes along the sides at the toe, and that usually features a <a href="https://bit.ly/3Az8Y2C">wing tip</a>.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>