<!DOCTYPE html>
<html lang="en">
	<head>
		<title>01:32 4-Aug - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>PM backs police to keep streets safe from \'extremists\'</b><br/>The prime minister\'s words come after far-right protesters clashed with police in several towns across the UK." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c0jqjqxl3dyo">PM backs police to keep streets safe from \'extremists\'</a></li><li class="ttt" data-tt="<b>Watch: Police officer attacked in Liverpool riots</b><br/>A police officer on a motorbike was attacked in Liverpool as protests in the city broke out into violence."><a href="https://www.bbc.com/news/videos/cy9448w4285o">Watch: Police officer attacked in Liverpool riots</a></li><li class="ttt" data-tt="<b>Another good day for GB as world stars shine - top five stories from Paris</b><br/>There was excitement and drama, and GB medals, in rowing, athletics and gymnastics on day eight of the Paris Olympics on Saturday."><a href="https://www.bbc.com/sport/olympics/articles/cydvdl779plo">Another good day for GB as world stars shine - top five stories from Paris</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c0jqjqxl3dyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e534/live/0a2eeb70-51f1-11ef-b2d2-cdb23d5d7c5b.jpg" class="ttt" data-tt="Five police officers on horses and wearing riot helmets stand in line across street at night" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>US urges citizens to leave Lebanon on \'any available ticket\'</b><br/>The UK and Jordan also tell citizens to leave, as Israel\'s tensions with Iran reach a new high." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c80xxeqel5po">US urges citizens to leave Lebanon on \'any available ticket\'</a></li><li class="ttt" data-tt="<b>Trump and Harris at odds over presidential debate</b><br/>The two candidates trade barbs as broadcasters negotiate details of new debates ahead of the November election."><a href="https://www.bbc.com/news/articles/cv2g22365yqo">Trump and Harris at odds over presidential debate</a></li><li class="ttt" data-tt="<b>Canada Covid protesters cleared of plotting to kill police</b><br/>The two men were arrested and charged at a 2022 border blockade in Coutts, Alberta."><a href="https://www.bbc.com/news/articles/ckvgwe0kx1go">Canada Covid protesters cleared of plotting to kill police</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c80xxeqel5po"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f57b/live/59a896c0-51eb-11ef-b2d2-cdb23d5d7c5b.jpg" class="ttt" data-tt="Projectiles fired from the Israeli Iron Dome air defense system to intercept missiles fired from southern Lebanon, over the upper Galilee, northern Israel, early 04 August 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>US urges citizens to leave Lebanon on \'any available ticket\'</b><br/>The UK and Jordan also tell citizens to leave, as Israel\'s tensions with Iran reach a new high." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c80xxeqel5po">US urges citizens to leave Lebanon on \'any available ticket\'</a></li><li class="ttt" data-tt="<b>Iran says Hamas leader killed from close range</b><br/>Western media reports suggest Israel\'s secret service planted bombs inside the building Ismail Haniyeh was staying in."><a href="https://www.bbc.com/news/articles/cg64642q0dxo">Iran says Hamas leader killed from close range</a></li><li class="ttt" data-tt="<b>Venezuela opposition leader emerges despite arrest threat</b><br/>Maria Corina Machado appears at a protest in Caracas, defying threats of arrest from President Maduro."><a href="https://www.bbc.com/news/articles/c0krrgypq70o">Venezuela opposition leader emerges despite arrest threat</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c80xxeqel5po"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f57b/live/59a896c0-51eb-11ef-b2d2-cdb23d5d7c5b.jpg" class="ttt" data-tt="Projectiles fired from the Israeli Iron Dome air defense system to intercept missiles fired from southern Lebanon, over the upper Galilee, northern Israel, early 04 August 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Wheatley to leave Red Bull for Audi team principal job</b><br/>Jonathan Wheatley will leave Red Bull at the end of the season to become Audi\'s team principal." style="font-weight:bold"><a href="https://www.bbc.com/sport/articles/cpe3g0yn0qlo">Wheatley to leave Red Bull for Audi team principal job</a></li><li class="ttt" data-tt="<b>Stella extends contract as McLaren team boss</b><br/>McLaren have extended the contract of team principal Andrea Stella and describe his new deal as being &quot;multi-year&quot;."><a href="https://www.bbc.com/sport/articles/c0w400z1e6wo">Stella extends contract as McLaren team boss</a></li><li class="ttt" data-tt="<b>F1 in 10 Years: Norris says keeping \'sound and smell\' is vital</b><br/>McLaren\'s Lando Norris talks to BBC Sport about why he wants Formula One to retain the &quot;sound and smell&quot; that first sparked his love for the sport."><a href="https://www.bbc.com/sport/motorsport/videos/cd1xg3dql21o">F1 in 10 Years: Norris says keeping \'sound and smell\' is vital</a></li></ul></td><td><a href="https://www.bbc.com/sport/articles/cpe3g0yn0qlo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/6bbe/live/eafd1a60-5001-11ef-9d77-3188ef18c534.jpg" class="ttt" data-tt="Jonathan Wheatley in Red Bull outfit" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Government shelves £1.3bn UK tech and AI plans</b><br/>The future of a number of major products - including a new UK supercomputer - are now in doubt." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cyx5x44vnyeo">Government shelves £1.3bn UK tech and AI plans</a></li><li class="ttt" data-tt="<b>Intel axes 15,000 jobs after sales tumble</b><br/>Shares in the company fall as much as 20%, contributing to a sharp fall in global stock markets."><a href="https://www.bbc.com/news/articles/c16j3318n08o">Intel axes 15,000 jobs after sales tumble</a></li><li class="ttt" data-tt="<b>Ex-CNN star Lemon sues Musk over cancelled X show</b><br/>The lawsuit alleges the multi-billionaire unfairly terminated a partnership with the celebrity presenter."><a href="https://www.bbc.com/news/articles/c28e87473x0o">Ex-CNN star Lemon sues Musk over cancelled X show</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cyx5x44vnyeo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/97b6/live/cb2bc4e0-504a-11ef-99fb-3bcce957c043.jpg" class="ttt" data-tt="Two technicians wearing PPE walking past racks of equipment in a data center for cryptocurrency mining, cloud services and AI computing in a large warehouse" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"29 Jul – 4 Aug","date":17227296E5,"ts":"Sun, 4","ds":"Sun, 4 Aug","icon":7,"desc":"Overcast.","temp":20,"templow":11,"cf":19,"wind":12,"wd":220,"hum":60,"pc":0},{"hl":true,"hls":"5 Aug – 11 Aug","date":1722816E6,"ts":"Mon, 5","ds":"Mon, 5 Aug","icon":4,"desc":"Afternoon clouds.","temp":24,"templow":13,"cf":25,"wind":14,"wd":220,"hum":65,"pc":5},{"date":17229024E5,"ts":"Tue, 6","ds":"Tue, 6 Aug","icon":33,"desc":"Passing showers. Cloudy.","temp":23,"templow":12,"cf":24,"wind":11,"wd":240,"hum":62,"pc":50,"rain":1.6 },{"date":17229888E5,"ts":"Wed, 7","ds":"Wed, 7 Aug","icon":4,"desc":"Afternoon clouds.","temp":21,"templow":10,"cf":20,"wind":14,"wd":230,"hum":54,"pc":5},{"date":17230752E5,"ts":"Thu, 8","ds":"Thu, 8 Aug","icon":7,"desc":"Overcast.","temp":22,"templow":12,"cf":24,"wind":15,"wd":210,"hum":61,"pc":5},{"date":17231616E5,"ts":"Fri, 9","ds":"Fri, 9 Aug","icon":33,"desc":"Passing showers. Cloudy.","temp":25,"templow":18,"cf":26,"wind":15,"wd":230,"hum":58,"pc":22,"rain":0.8 },{"date":1723248E6,"ts":"Sat, 10","ds":"Sat, 10 Aug","icon":4,"desc":"Breaks of sun late.","temp":22,"templow":11,"cf":25,"wind":11,"wd":260,"hum":50,"pc":17,"rain":0.2 },{"date":17233344E5,"ts":"Sun, 11","ds":"Sun, 11 Aug","icon":33,"desc":"Showers late. Overcast.","temp":21,"templow":10,"cf":25,"wind":6,"wd":210,"hum":46,"pc":57,"rain":3.8 },{"hl":true,"hls":"12 Aug – 18 Aug","date":17234208E5,"ts":"Mon, 12","ds":"Mon, 12 Aug","icon":33,"desc":"Rain showers. Cloudy.","temp":20,"templow":12,"cf":20,"wind":18,"wd":240,"hum":87,"pc":72,"rain":12.9 },{"date":17235072E5,"ts":"Tue, 13","ds":"Tue, 13 Aug","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":22,"templow":12,"cf":25,"wind":16,"wd":220,"hum":56,"pc":63,"rain":3.2 },{"date":17235936E5,"ts":"Wed, 14","ds":"Wed, 14 Aug","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":18,"templow":12,"cf":18,"wind":16,"wd":190,"hum":63,"pc":71,"rain":8.1 },{"date":172368E7,"ts":"Thu, 15","ds":"Thu, 15 Aug","icon":4,"desc":"Partly cloudy.","temp":18,"templow":12,"cf":18,"wind":9,"wd":310,"hum":46,"pc":9},{"date":17237664E5,"ts":"Fri, 16","ds":"Fri, 16 Aug","icon":33,"desc":"Passing showers. Cloudy.","temp":20,"templow":12,"cf":20,"wind":19,"wd":160,"hum":89,"pc":62,"rain":4.9 },{"date":17238528E5,"ts":"Sat, 17","ds":"Sat, 17 Aug","icon":4,"desc":"Breaks of sun late.","temp":19,"templow":12,"cf":19,"wind":8,"wd":220,"hum":61,"pc":6},{"date":17239392E5,"ts":"Sun, 18","ds":"Sun, 18 Aug","icon":6,"desc":"Broken clouds.","temp":20,"templow":12,"cf":20,"wind":14,"wd":230,"hum":48,"pc":6}],"grid":{"temp":{"low":10,"high":25,"range":15},"prec":{"high":12.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2408/GloryFog_label.png',
		Title:     'Glory and Fog Bow',
		LinkImage: 'https://apod.nasa.gov/apod/image/2408/GloryFog1.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240803.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/5/51/IceCube_Neutrino_Observatory_in_2023_02.jpg/500px-IceCube_Neutrino_Observatory_in_2023_02.jpg',
		Title:    'IceCube Neutrino Observatory',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/IceCube_Neutrino_Observatory',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/IceCube_Neutrino_Observatory" title="IceCube Neutrino Observatory">IceCube Neutrino Observatory</a></b> is a <a href="https://en.wikipedia.org/wiki/Neutrino_detector" title="Neutrino detector">neutrino detector</a> constructed at the <a href="https://en.wikipedia.org/wiki/Amundsen%E2%80%93Scott_South_Pole_Station" title="Amundsen–Scott South Pole Station">Amundsen–Scott South Pole Station</a> in Antarctica. Similar to its predecessor, the <a href="https://en.wikipedia.org/wiki/Antarctic_Muon_And_Neutrino_Detector_Array" title="Antarctic Muon And Neutrino Detector Array">Antarctic Muon And Neutrino Detector Array</a>, IceCube consists of spherical optical sensors called Digital Optical Modules, each with a <a href="https://en.wikipedia.org/wiki/Photomultiplier_tube" title="Photomultiplier tube">photomultiplier tube</a>, located under the Antarctic ice and distributed over a cubic kilometre. The project is a recognized <a href="https://en.wikipedia.org/wiki/CERN" title="CERN">CERN</a> experiment and construction was completed in 2010. This photograph shows the exterior of the IceCube building in 2023.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/Christopher_Michel" title="Christopher Michel">Christopher Michel</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":1,"event":[{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1722732000,"duration":15600,"svcId":560,"evtId":26553,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":125},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1722747600,"duration":7200,"svcId":560,"evtId":26554,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722754800,"availabilityEnd":1722841200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r88\u0026ui_id=4.0.0"}},{"name":"Olympics: Paris 2024","description":"JJ Chalmers and Jeanette Kwakye are across all the morning\u0027s action in the French capital, with Team GB seeking another equestrian crown at the magnificent Palace of Versailles. [S] [HD]","startTime":1722754800,"duration":18000,"svcId":560,"evtId":26628,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfncfc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722772800,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021rx6\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1722772800,"duration":600,"svcId":560,"evtId":26555,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722773400,"availabilityEnd":1722859800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8b\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1722773400,"duration":300,"svcId":560,"evtId":26556,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722773701,"availabilityEnd":1722860101,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8d\u0026ui_id=4.0.0"}},{"name":"Olympics: Paris 2024","description":"Hazel Irvine guides you through what promises to be a medal-laden day nine in the French capital, with champions set to be crowned in artistic gymnastics, golf, tennis and cycling. [S] [HD]","startTime":1722773700,"duration":13500,"svcId":560,"evtId":26629,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfncfc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722787215,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021rxb\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1722787200,"duration":900,"svcId":560,"evtId":26557,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722788175,"availabilityEnd":1722874575,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8g\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1722788100,"duration":300,"svcId":560,"evtId":26558,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722788460,"availabilityEnd":1722874860,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8j\u0026ui_id=4.0.0"},"episodeNo":126},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1722788400,"duration":300,"svcId":560,"evtId":26559,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722788701,"availabilityEnd":1722875101,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8l\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"Olympics: Paris 2024","description":"A pulsating evening is guaranteed in Paris on day nine as the world\u0027s fastest athletes line up for one of the most anticipated and greatest events in sport, the men\u0027s 100m final. [S] [HD]","startTime":1722788700,"duration":16500,"svcId":560,"evtId":26630,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfncfc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722805194,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021rxg\u0026ui_id=4.0.0"}},{"name":"BBC News and Weather","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1722805200,"duration":1500,"svcId":560,"evtId":26560,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722806640,"availabilityEnd":1722893040,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8n\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1722806700,"duration":300,"svcId":560,"evtId":26561,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722807000,"availabilityEnd":1722893400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8q\u0026ui_id=4.0.0"},"episodeNo":108},{"name":"Olympics: Paris 2024: Tonight...","description":"...at the Games. Isa Guha and Mark Chapman recap all the sporting drama of day nine in Paris, with the men\u0027s 100m final taking centre stage on a busy day of Olympic competition. [S] [HD]","startTime":1722807000,"duration":4800,"svcId":560,"evtId":26631,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfncpw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722811895,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021rxj\u0026ui_id=4.0.0"}},{"name":"Booksmart","description":"Two booksmart girls try to cram in four years of fun on the eve of their graduation. Contains very strong language and some scenes of a sexual nature. [2019] [S,AD] [HD]","startTime":1722811800,"duration":5700,"svcId":560,"evtId":26616,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bkv2z3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722817658,"availabilityEnd":1725409658,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0014bvq\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1722817500,"duration":300,"svcId":560,"evtId":26562,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722817941,"availabilityEnd":1723427336,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021r8s\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1722817800,"duration":16200,"svcId":560,"evtId":26563,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":126}]},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1722735000,"duration":14700,"svcId":700,"evtId":18160,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Glorious Gardens from Above","description":"11\/15. Horticulturist Christine Walkden explores gardens and countryside from a hot-air balloon. Christine heads for the lakes and fells of Cumbria. [S] [HD]","startTime":1722749700,"duration":2700,"svcId":700,"evtId":18245,"image":"\/ms\/img\/epg\/rb\/fec6-p02c760m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722752370,"availabilityEnd":1725344370,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b04t6ql2\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Countryfile","description":"Anita and Matt are at the lowest point in the UK, the Fens, to explore the way wildlife and people coexist at and below sea level. [S] [HD]","startTime":1722752400,"duration":3300,"svcId":700,"evtId":18246,"image":"\/ms\/img\/epg\/rb\/fec6-p0jf5k4y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722193258,"availabilityEnd":1754291700,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021lsr\u0026ui_id=4.0.0"}},{"name":"The Lake District: A Wild Year","description":"Cutting-edge camera techniques give a new and unique perspective on a turbulent year in the life of England\u0027s largest national park. [S,AD] [HD]","startTime":1722755700,"duration":3600,"svcId":700,"evtId":18248,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hlt39v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722759344,"availabilityEnd":1725351344,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b08flyr2\u0026ui_id=4.0.0"}},{"name":"Beechgrove Garden","description":"18\/26. Carole Baxter and Brian Cunningham dig into the first crop of potatoes that were planted in containers earlier in the year. [S] [HD]","startTime":1722759300,"duration":1800,"svcId":700,"evtId":18250,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfg48f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722454225,"availabilityEnd":1753990225,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021lsh\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":18},{"name":"Saturday Kitchen Best Bites","description":"More tasty treats from Andi Oliver, Ching-He Huang, Shelina Permalloo and Ravneet Gill. Also, Rick Stein, Dame Mary Berry and Clive Myrie are out and about across the UK and abroad. [S] [HD]","startTime":1722761100,"duration":5400,"svcId":700,"evtId":18252,"image":"\/ms\/img\/epg\/rb\/ae0c-p0476l29.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722766515,"availabilityEnd":1754302515,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021slw\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Coast to Coast Food Festival","description":"10\/20. Sean Fletcher and Edith Bowman discover homemade hummus and the many surprising varieties of the English apple as they explore all that the York Food Festival has to offer. [S] [HD]","startTime":1722766500,"duration":1800,"svcId":700,"evtId":18254,"image":"\/ms\/img\/epg\/rb\/fec6-p0f8xc1t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722768325,"availabilityEnd":1725360325,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kbyj\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"Pride and Prejudice (1940)","description":"Adaptation of Jane Austen\u0027s novel about the five husband-hunting Bennet sisters and the impact of Mr Darcy on the spirited Elizabeth. [1940] [S] [HD]","startTime":1722768300,"duration":6900,"svcId":700,"evtId":18256,"image":"\/ms\/img\/epg\/rb\/ae0c-p091vqpw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722775180,"availabilityEnd":1725145140,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00vp0zm\u0026ui_id=4.0.0"}},{"name":"Songs of Praise: Salvation...","description":"...Army: Serving Communities. Pam Rhodes marks 150 years of the Salvation Army in Wales and explores its community work. [S] [HD]","startTime":1722775200,"duration":2100,"svcId":700,"evtId":18258,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfch0p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722777300,"availabilityEnd":1754313300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021sly\u0026ui_id=4.0.0"},"episodeNo":17},{"name":"The Hundred: London Spirit v...","description":"...Oval Invincibles. Local rivals London Spirit and 2023\u0027s champions Oval Invincibles clash at Lord\u0027s, the \u0027home of cricket\u0027. [S] [HD]","startTime":1722777300,"duration":11700,"svcId":700,"evtId":18260,"image":"\/ms\/img\/epg\/rb\/fec6-p0jftnrw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722789010,"availabilityEnd":1725381010,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021sm0\u0026ui_id=4.0.0"}},{"name":"Flog It!","description":"This edition comes from Herstmonceux Castle in Sussex, where finds include a pristine 19th-century silver prayer book and a selection of Tom and Jerry cartoons. [S] [HD]","startTime":1722789000,"duration":1800,"svcId":700,"evtId":18262,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722790942,"availabilityEnd":1725382942,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b08jpcr7\u0026ui_id=4.0.0"},"seriesNo":15,"episodeNo":22},{"name":"Cornwall with Simon Reeve","description":"1\/2. Simon Reeve travels through glorious Cornwall during a summer like no other, as the county emerges from lockdown and businesses are in a race to survive. [S,AD] [HD]","startTime":1722790800,"duration":3600,"svcId":700,"evtId":18264,"image":"\/ms\/img\/epg\/rb\/ae0c-p08xz0cq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1644472800,"availabilityEnd":1737957600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000pb6s\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Countryfile","description":"Joe Crowley is on the lookout for some of the UK\u0027s most elusive animals at Thursley National Nature Reserve in Surrey, one of the largest remaining areas of heathland. [S] [HD]","startTime":1722794400,"duration":3600,"svcId":700,"evtId":18266,"image":"\/ms\/img\/epg\/rb\/ae0c-p06fndq6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722798171,"availabilityEnd":1754899200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021sm3\u0026ui_id=4.0.0"}},{"name":"Antiques Roadshow","description":"The roadshow is in Scotland at the V\u0026A Dundee. Amongst the treasures brought along are a silver bowl found at a car boot sale, a Vivienne Westwood jacket and some rare SAS medals. [S] [HD]","startTime":1722798000,"duration":3600,"svcId":700,"evtId":18268,"image":"\/ms\/img\/epg\/rb\/ae0c-p07nn836.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722801729,"availabilityEnd":1725393729,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0008s9b\u0026ui_id=4.0.0"},"seriesNo":42},{"name":"Vienna Blood","description":"1\/2. Vienna, 1909. Oskar is baffled when the director of security agrees to a secret rendezvous with a notorious, recently captured criminal. Contains some strong language. [S,AD] [HD]","startTime":1722801600,"duration":5400,"svcId":700,"evtId":18270,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jfddl3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722747600,"availabilityEnd":1848956340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021rl8\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"All the President\u0027s Men","description":"Two Washington Post reporters uncover the Watergate scandal - a conspiracy to cover up abuses of power by President Nixon. Contains strong language. [1976] [S] [HD]","startTime":1722807000,"duration":8100,"svcId":700,"evtId":18272,"image":"\/ms\/img\/epg\/rb\/fec6-p093nv8g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722815135,"availabilityEnd":1725407135,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000rgnx\u0026ui_id=4.0.0"}},{"name":"The Bidding Room","description":"10\/30. Nigel Havers presides as five sellers aim to get the best price for their items, including a cellarette, a hoover, a brass dog, bakery items and a theatrical prop chair. [S,SL] [HD]","startTime":1722815100,"duration":2700,"svcId":700,"evtId":18274,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hm8lfp.jpg","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"Clean It, Fix It","description":"5\/20. The team help a busy family of six transform their home. In just 24 hours, with a limited budget, they give the dining room a makeover and increase the storage in the bathroom. [S,SL] [HD]","startTime":1722817800,"duration":2700,"svcId":700,"evtId":18276,"image":"\/ms\/img\/epg\/rb\/fec6-p0h8fk8r.jpg","hasTstv":false,"seriesNo":3,"episodeNo":5},{"name":"Spent","description":"4\/6. In 2014 a visit from Jo to Mia\u0027s high life reveals that their friendship is complicated. Contains strong language. [S,AD,SL] [HD]","startTime":1722820500,"duration":1800,"svcId":700,"evtId":18278,"image":"\/ms\/img\/epg\/rb\/fec6-p0j7zzxt.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1722822300,"duration":14400,"svcId":700,"evtId":18280,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Hollyoaks Omnibus","description":"Norma fears that Warren has put his family in danger. A grieving Joel turns to old habits. Dave tells Cindy a secret. The pressure gets to Beau. And a housewarming party ends in heartbreak.  [AD,S,SL]","startTime":1722739800,"duration":7500,"svcId":1500,"evtId":36707,"image":"\/ms\/img\/epg\/rb\/5d52-9761655.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, canoeist Hope Gordon gives us an insight into her life, her love for her sport and the emotional support she gets from her dog.  [AD,S,SL]","startTime":1722747300,"duration":300,"svcId":1500,"evtId":36865,"image":"\/ms\/img\/epg\/rb\/5d52-9697880.l.png","hasTstv":false},{"name":"Frasier","description":"Something Borrowed, Someone Blue (Part 2\/2): Will Daphne admit her affection for Niles before she marries Donny? (S7 Ep24)  [AD,S]","startTime":1722747600,"duration":1500,"svcId":1500,"evtId":37580,"image":"\/ms\/img\/epg\/rb\/5d52-942941.l.png","hasTstv":false,"seriesNo":7,"episodeNo":24},{"name":"Frasier","description":"And the Dish Ran Away with the Spoon: In a double-length episode, Niles and Daphne discover that there\u0027s a price to pay for admitting their true love. (S8 Ep1)  [AD,S]","startTime":1722749100,"duration":3000,"svcId":1500,"evtId":36866,"image":"\/ms\/img\/epg\/rb\/5d52-4527077.l.png","hasTstv":false,"seriesNo":8,"episodeNo":1},{"name":"Frasier","description":"The Bad Son: Frasier begs Martin to take a tour of a senior citizens\u0027 home so that he can ask out its attractive manager. (S8 Ep2)  [AD,S]","startTime":1722752100,"duration":1500,"svcId":1500,"evtId":36918,"image":"\/ms\/img\/epg\/rb\/5d52-1071854.l.png","hasTstv":false,"seriesNo":8,"episodeNo":3},{"name":"Everybody Loves Raymond","description":"Debra at the Lodge: When Debra accepts a position at Frank\u0027s lodge to help plan a recruitment party, Ray resents how much time she is spending away from home. (S8 Ep11)  [AD,S]","startTime":1722753600,"duration":1500,"svcId":1500,"evtId":36868,"image":"\/ms\/img\/epg\/rb\/5d52-5229590.l.png","hasTstv":false,"seriesNo":8,"episodeNo":11},{"name":"Everybody Loves Raymond","description":"Slave: Ray and Debra inadvertently leave the twins home alone and are impressed with Ally when she takes care of them, so they offer her lots of other work... (S8 Ep12)  [AD,S]","startTime":1722755100,"duration":1800,"svcId":1500,"evtId":36869,"image":"\/ms\/img\/epg\/rb\/5d52-5143759.l.png","hasTstv":false,"seriesNo":8,"episodeNo":12},{"name":"Everybody Loves Raymond","description":"Whose Side Are You On?: After discovering that Debra places bets with the kids on his strange behaviour, Ray is disturbed to find out that his children now think he\u0027s a \u0027doof\u0027. (S8 Ep13)  [AD,S]","startTime":1722756900,"duration":1500,"svcId":1500,"evtId":36870,"image":"\/ms\/img\/epg\/rb\/5d52-5144092.l.png","hasTstv":false,"seriesNo":8,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"Lateness: Fed up with his wife\u0027s constant tardiness, Ray leaves Debra at home, rather than taking her to an awards ceremony. (S8 Ep14)  [AD,S]","startTime":1722758400,"duration":1800,"svcId":1500,"evtId":36871,"image":"\/ms\/img\/epg\/rb\/5d52-5144109.l.png","hasTstv":false,"seriesNo":8,"episodeNo":14},{"name":"Live: Sunday Brunch","description":"Hollywood director Paul Feig chats about his new film. Yungblud talks about his music. Plus: chat with Taj Atwal, Phil Dunster and Tom Hughes, and live music from beabadoobee.  [S]","startTime":1722760200,"duration":10800,"svcId":1500,"evtId":36872,"image":"\/ms\/img\/epg\/rb\/5d52-9761762.l.png","hasTstv":false},{"name":"The Simpsons","description":"Bart Stops to Smell the Roosevelts: Superintendent Chalmers\u0027 unconventional approach to teaching Bart about US history sparks a fascination with President Teddy Roosevelt. (S23 Ep2\/22)  [AD,S]","startTime":1722771000,"duration":1800,"svcId":1500,"evtId":36873,"image":"\/ms\/img\/epg\/rb\/5d52-35444140.l.png","hasTstv":false,"seriesNo":23,"episodeNo":2},{"name":"The Simpsons","description":"Replaceable You: When Homer loses his job to his eager new assistant, he teams up with Ned to reveal her evil past. (S23 Ep4\/22)  [AD,S]","startTime":1722772800,"duration":1800,"svcId":1500,"evtId":36874,"image":"\/ms\/img\/epg\/rb\/5d52-36006759.l.png","hasTstv":false,"seriesNo":23,"episodeNo":4},{"name":"The Simpsons","description":"You Don\u0027t Have to Live Like a Referee: Homer is appointed as a referee at the World Cup in Brazil, but match-fixing gangsters try to bribe him. (S25 Ep16\/22)  [AD,S]","startTime":1722774600,"duration":1800,"svcId":1500,"evtId":36875,"image":"\/ms\/img\/epg\/rb\/5d52-119046755.l.png","hasTstv":false,"seriesNo":25,"episodeNo":16},{"name":"The Simpsons","description":"Luca$: Marge is concerned when Lisa starts dating competitive-eater-in-training Lucas. Bart gets free gifts from convict Snake after helping him to escape from a tight spot.  (S25 Ep17\/22)  [AD,S]","startTime":1722776400,"duration":1800,"svcId":1500,"evtId":36876,"image":"\/ms\/img\/epg\/rb\/5d52-119046552.l.png","hasTstv":false,"seriesNo":25,"episodeNo":17},{"name":"Four in a Bed","description":"The week kicks off at The George Inn in Barton-upon-Humber. Pete\u0027s hoping his cosy d\u00e9cor and quality cuisine will give him the edge, but the roadside location isn\u0027t up some guests\u0027 street.  [S]","startTime":1722778200,"duration":1800,"svcId":1500,"evtId":36877,"image":"\/ms\/img\/epg\/rb\/5d52-5518186.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At Cross Farm Cottages in Holmfirth, Claire reckons she can pip her rivals to the post. But Pete and Alex get antsy about the Artex, while Malaya has a firm opinion about his mattress.  [S]","startTime":1722780000,"duration":2100,"svcId":1500,"evtId":36878,"image":"\/ms\/img\/epg\/rb\/5d52-5518377.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At the New Valron Hotel in Blackpool, Malaya hopes that the seaside setting will blow his rivals out of the water. But a problem with the pipes sends the scores down the tubes...  [S]","startTime":1722782100,"duration":2100,"svcId":1500,"evtId":36879,"image":"\/ms\/img\/epg\/rb\/5d52-5518555.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers visit The Spinney Homestay in Warwickshire, where Phil and Maria hope to impress with their swish sense of style. On a pedalo trip, the rivalry revs up with some raucous racing.  [S]","startTime":1722784200,"duration":1800,"svcId":1500,"evtId":36880,"image":"\/ms\/img\/epg\/rb\/5d52-5518796.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers meet to settle some scores and find out who\u0027s won. Dirty discoveries and sleep issues are on the agenda, and one payment in particular leaves Phil and Maria out in the cold.  [S]","startTime":1722786000,"duration":2100,"svcId":1500,"evtId":36881,"image":"\/ms\/img\/epg\/rb\/5d52-406352059.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1722788100,"duration":1800,"svcId":1500,"evtId":36882,"image":"\/ms\/img\/epg\/rb\/5d52-9761779.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics approaching, table-tennis player Bly Twomey gives an insight into her life and the importance of the support that she receives from family and friends.  [AD,S]","startTime":1722789900,"duration":300,"svcId":1500,"evtId":36883,"image":"\/ms\/img\/epg\/rb\/5d52-9696509.l.png","hasTstv":false},{"name":"The Italian Job","description":"(2003) Mark Wahlberg, Edward Norton and Charlize Theron star in this remake of the British classic, with an updated version of the famous Mini sequence.  [AD,S]","startTime":1722790200,"duration":7800,"svcId":1500,"evtId":36884,"image":"\/ms\/img\/epg\/rb\/5d52-5324620.l.png","hasTstv":false},{"name":"New: Titanic in Colour","description":"The most famous ship ever and its doomed passengers and crew are brought to life in colour for the first time as the Titanic leaves port, headed for the North Atlantic. (Ep1\/2)  [AD,S]","startTime":1722798000,"duration":3600,"svcId":1500,"evtId":36885,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Britain Behind Bars: A...","description":"...Secret History: Rob Rinder visits Shepton Mallet HMP - one of the oldest prisons in the UK. This custodial home of many petty crooks also once housed the notorious Kray twins. (Ep3\/3)  [AD,S]","startTime":1722801600,"duration":3600,"svcId":1500,"evtId":36886,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Saucy! Secrets of the...","description":"...British Sex Comedy: The sex films face a backlash from morality campaigner Mary Whitehouse. And the advent of home video brings an end to the era of the great British sex comedy. (Ep2\/2)  [AD,S]","startTime":1722805200,"duration":3300,"svcId":1500,"evtId":36887,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"The Man with a Penis on His Arm","description":"Three men with new or replacement penises made by surgeons tell their story, including Malcolm, who has a new penis hanging from his arm that he hopes can finally be moved to his groin.  [AD,S]","startTime":1722808500,"duration":3600,"svcId":1500,"evtId":36888,"image":"\/ms\/img\/epg\/rb\/5d52-415540098.l.png","hasTstv":false},{"name":"Fire Island","description":"(2022) Joel Kim Booster\u0027s romcom based on Jane\u0027s Austen\u0027s Pride and Prejudice. A group of gay friends go on their annual hedonistic jaunt to an idyllic resort. Is it their last hurrah?  [S]","startTime":1722812100,"duration":6300,"svcId":1500,"evtId":37611,"image":"\/ms\/img\/epg\/rb\/5d52-5995098.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay revisits the most contentious restaurant he has ever tried to rescue - Amy\u0027s Baking Company, in Scottsdale, Arizona - to catch up with the husband-and-wife owners. (S7 Ep10)  [S,SL]","startTime":1722818400,"duration":2700,"svcId":1500,"evtId":36890,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"This episode comes from the north Kent coast and features some good-looking food, a host who demonstrates multiple personalities, tarot cards, and some glitz and glam.  [S]","startTime":1722821100,"duration":3300,"svcId":1500,"evtId":36891,"image":"\/ms\/img\/epg\/rb\/5d52-9762375.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: Wheelchair rugby player Stuart Robinson gives us an intimate insight into his life, his love for his sport, and what it takes to build a great team.  [AD,S,SL]","startTime":1722824400,"duration":300,"svcId":1500,"evtId":37643,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Grand Designs","description":"Dan and Nina want to build a unique family home, but their plot is dominated by a pond filled with local drainage. Will their West Sussex house be sublime and sleek or a Shrek-like swamp?  [AD,S,SL]","startTime":1722824700,"duration":3300,"svcId":1500,"evtId":36893,"image":"\/ms\/img\/epg\/rb\/5d52-4862481.l.png","hasTstv":false},{"name":"Food Unwrapped","description":"Why do baguettes go stale faster than a sliced loaf? Why is buffalo mozzarella much more expensive than cow mozzarella? And the surprising secret to how mushy peas get mushed. (S18 Ep1)  [AD,S,SL]","startTime":1722828000,"duration":1800,"svcId":1500,"evtId":36892,"image":"\/ms\/img\/epg\/rb\/5d52-397707828.l.png","hasTstv":false,"seriesNo":18,"episodeNo":3},{"name":"Frasier","description":"Goodnight Seattle (Part 2\/2): In the last ever episode of the sitcom, Frasier is feeling lonely on his own in the apartment, and San Francisco beckons... (S11 Ep24)  [AD,S]","startTime":1722829800,"duration":1500,"svcId":1500,"evtId":36896,"image":"\/ms\/img\/epg\/rb\/5d52-5111331.l.png","hasTstv":false,"seriesNo":11,"episodeNo":24}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('266');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('30');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '4OCJ0Bt66ms', title: "1 Week Fishing, Camping, \u0026 Hiking Adventure ( I Flew of Family of 10 to Alaska)", label: "1 Week Fishing, Camping, \u0026 Hiking Adventure ( I Flew of Family of 10 to Alaska) by Outdoor Boys 749,162 views 13 hours ago 46 minutes" },
{ id: '0GqhH54VGy0', title: "Charli xcx - Guess featuring Billie Eilish (official video)", label: "Charli xcx - Guess featuring Billie Eilish (official video) by Charli xcx 5,253,731 views 2 days ago 2 minutes, 41 seconds" },
{ id: 'u7ecG54FJQc', title: "surviving a nuke by flipping a coin", label: "surviving a nuke by flipping a coin by TheRussianBadger 1,715,777 views 1 day ago 1 hour, 22 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in media module: The message filter indicated that the application is busy. (0x8001010A (RPC_E_SERVERCALL_RETRYLATER))');

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 207.71, tooltip: "Fri, Aug 02, 2024<br/>£207.71"},
{ number: 212.34, tooltip: "Thu, Aug 01, 2024<br/>£212.34"},
{ number: 214.37, tooltip: "Wed, Jul 31, 2024<br/>£214.37"},
{ number: 211.42, tooltip: "Tue, Jul 30, 2024<br/>£211.42"},
{ number: 211.76, tooltip: "Mon, Jul 29, 2024<br/>£211.76"},
{ number: 211.46, tooltip: "Fri, Jul 26, 2024<br/>£211.46"},
{ number: 209.27, tooltip: "Thu, Jul 25, 2024<br/>£209.27"},
{ number: 209.97, tooltip: "Wed, Jul 24, 2024<br/>£209.97"},
{ number: 213.52, tooltip: "Tue, Jul 23, 2024<br/>£213.52"},
{ number: 213.52, tooltip: "Mon, Jul 22, 2024<br/>£213.52"},
{ number: 211.93, tooltip: "Fri, Jul 19, 2024<br/>£211.93"},
{ number: 212.63, tooltip: "Thu, Jul 18, 2024<br/>£212.63"},
{ number: 213.73, tooltip: "Wed, Jul 17, 2024<br/>£213.73"},
{ number: 216.60, tooltip: "Tue, Jul 16, 2024<br/>£216.60"},
{ number: 215.12, tooltip: "Mon, Jul 15, 2024<br/>£215.12"},
{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Aug 02, 2024",
		"vs Day":      "Thu, Aug 01, 2024",
		"vs Week":     "Fri, Jul 26, 2024",
		"vs Month":    "Thu, Jul 04, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£207.71/share",
		'vs Day':      "-2.18%",
		'vs Week':     "-1.77%",
		'vs Month':    "-3.27%",
		'vs Year':     "+14.73%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '0.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 3 August and 4 August">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.004&p=4.217&r=0.349',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:32',
		Set:      '20:51',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Parry</em> has two basic meanings. To parry can be to defend yourself by turning away from or pushing aside a weapon, assault, etc., or to <a href="https://www.merriam-webster.com/dictionary/evade">evade</a> something, such as a question, especially by using a clever response. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>