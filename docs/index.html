<!DOCTYPE html>
<html lang="en">
	<head>
		<title>21:06 21-Sep - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Harrods worker says Fayed complaint was brushed off by her manager</b><br/>Another ex-Harrods worker tells the BBC her complaint about the billionaire was dismissed by bosses." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cly341d5l0vo">Harrods worker says Fayed complaint was brushed off by her manager</a></li><li class="ttt" data-tt="<b>Cabbies take kids from hospital to Disneyland</b><br/>The trip, in its 30th year, aims to give the children fun memories during difficult times."><a href="https://www.bbc.com/news/articles/cp8m2dxd15eo">Cabbies take kids from hospital to Disneyland</a></li><li class="ttt" data-tt="<b>Father and son jailed over £1m National Trust fraud</b><br/>Roger Bryant and his son James, from Barnstaple in Devon, were sentenced after a trial in Bristol."><a href="https://www.bbc.com/news/articles/cz9pe103254o">Father and son jailed over £1m National Trust fraud</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cly341d5l0vo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f6b4/live/d476bde0-7816-11ef-8c1a-df523ba43a9a.jpg" class="ttt" data-tt="Mohamed Al Fayed" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump says too late for another debate as Harris pushes for second clash</b><br/>Kamala Harris had &quot;gladly&quot; accepted CNN\'s invitation to debate two weeks before the election." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cwyejk91d2qo">Trump says too late for another debate as Harris pushes for second clash</a></li><li class="ttt" data-tt="<b>Republicans absorb a political shockwave in must-win North Carolina</b><br/>Scandalous claims about a Trump-endorsed candidate for governor generate turbulence on the campaign trial."><a href="https://www.bbc.com/news/articles/cx2kqqzx75wo">Republicans absorb a political shockwave in must-win North Carolina</a></li><li class="ttt" data-tt="<b>\'Left-wing lunatic\' and \'a disgrace\': How Trump and Harris describe each other</b><br/>As both campaigns make claims about inflammatory rhetoric, what do the candidates themselves say about their rival?"><a href="https://www.bbc.com/news/articles/cx20np62x88o">\'Left-wing lunatic\' and \'a disgrace\': How Trump and Harris describe eac...</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cwyejk91d2qo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ff65/live/e41aecd0-783e-11ef-a842-dbb5a90b51c3.jpg" class="ttt" data-tt="Kamala Harris" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Death toll from Israeli strike on Beirut rises to 37, Lebanon\'s health ministry says</b><br/>Lebanon\'s health minister says women and children are among the dead as rescuers search through rubble." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crl8kelkxepo">Death toll from Israeli strike on Beirut rises to 37, Lebanon\'s health min...</a></li><li class="ttt" data-tt="<b>Trump says too late for another debate as Harris pushes for second clash</b><br/>Kamala Harris had &quot;gladly&quot; accepted CNN\'s invitation to debate two weeks before the election."><a href="https://www.bbc.com/news/articles/cwyejk91d2qo">Trump says too late for another debate as Harris pushes for second clash</a></li><li class="ttt" data-tt="<b>Israel strike kills 22 in Gaza school, says Hamas-run health ministry</b><br/>Israel says it hit a Hamas command centre, while Palestinian officials said most killed were women and children."><a href="https://www.bbc.com/news/articles/cr4x6dwqlxgo">Israel strike kills 22 in Gaza school, says Hamas-run health ministry</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crl8kelkxepo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/14c7/live/07a23a10-7825-11ef-aa48-2b5c9efd1fcb.png" class="ttt" data-tt="Medical personnel work at the site of Friday&#x27;s Israeli strike, as search and rescue operations continued on Saturday" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Verstappen restricts answers after \'ridiculous\' swearing punishment</b><br/>Max Verstappen says his punishment for swearing is &quot;ridiculous&quot; after protesting against the penalty during an official news conference." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c93yqw17w9ko">Verstappen restricts answers after \'ridiculous\' swearing punishment</a></li><li class="ttt" data-tt="<b>\'Awesome\' to fight Verstappen and Hamilton - Norris</b><br/>Lando Norris beats title rival Max Verstappen to pole position in a dramatic qualifying session at the Singapore Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cx2l4ge0e5eo">\'Awesome\' to fight Verstappen and Hamilton - Norris</a></li><li class="ttt" data-tt="<b>How to follow the Singapore Grand Prix on the BBC</b><br/>All the key BBC coverage details for the Singapore Grand Prix in Baku from 20-23 September."><a href="https://www.bbc.com/sport/formula1/articles/c9wkkrljl7lo">How to follow the Singapore Grand Prix on the BBC</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c93yqw17w9ko"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/f3ee/live/6f716aa0-782d-11ef-aa48-2b5c9efd1fcb.jpg" class="ttt" data-tt="Max Verstappen speaking to Red Bull team principal Christian Horner at the Singapore Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Sky Glass customers complain as TVs won\'t turn on</b><br/>The company has apologised to Sky Glass and Sky Stream customers encountering issues." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy0lnxgnjkno">Sky Glass customers complain as TVs won\'t turn on</a></li><li class="ttt" data-tt="<b>LinkedIn suspends AI training using UK user data</b><br/>The UK\'s data watchdog said it raised concerns over LinkedIn\'s approach to using UK data to train AI."><a href="https://www.bbc.com/news/articles/cy89x4y1pmgo">LinkedIn suspends AI training using UK user data</a></li><li class="ttt" data-tt="<b>Taiwan says it did not make Hezbollah pager parts</b><br/>The pagers that exploded had labels pointing to a Taiwanese firm - but it denied making the devices."><a href="https://www.bbc.com/news/articles/c93yg2w53dzo">Taiwan says it did not make Hezbollah pager parts</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy0lnxgnjkno"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/128a/live/bb5a2e40-773b-11ef-9dcd-d91cea42c8dc.jpg" class="ttt" data-tt="Man sitting on a sofa holding a TV remote with a confused expression" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"16 Sep – 22 Sep","date":17269632E5,"ts":"Sun, 22","ds":"Sun, 22 Sep","icon":22,"desc":"Thunderstorms. Overcast.","temp":19,"templow":14,"cf":19,"wind":8,"wd":100,"hum":83,"pc":61,"rain":15},{"hl":true,"hls":"23 Sep – 29 Sep","date":17270496E5,"ts":"Mon, 23","ds":"Mon, 23 Sep","icon":33,"desc":"Rain showers. Overcast.","temp":17,"templow":11,"cf":16,"wind":7,"wd":310,"hum":81,"pc":64,"rain":10.8 },{"date":1727136E6,"ts":"Tue, 24","ds":"Tue, 24 Sep","icon":18,"desc":"Sprinkles. Overcast.","temp":17,"templow":9,"cf":16,"wind":5,"wd":270,"hum":74,"pc":58,"rain":3.1 },{"date":17272224E5,"ts":"Wed, 25","ds":"Wed, 25 Sep","icon":33,"desc":"Rain showers. Overcast.","temp":13,"templow":10,"cf":11,"wind":7,"wd":30,"hum":87,"pc":78,"rain":16.1 },{"date":17273088E5,"ts":"Thu, 26","ds":"Thu, 26 Sep","icon":18,"desc":"Drizzle. Overcast.","temp":13,"templow":7,"cf":10,"wind":10,"wd":100,"hum":81,"pc":50,"rain":4.5 },{"date":17273952E5,"ts":"Fri, 27","ds":"Fri, 27 Sep","icon":18,"desc":"Sprinkles late. Overcast.","temp":12,"templow":5,"cf":8,"wind":13,"wd":290,"hum":69,"pc":23,"rain":2.3 },{"date":17274816E5,"ts":"Sat, 28","ds":"Sat, 28 Sep","icon":7,"desc":"Cloudy.","temp":13,"templow":5,"cf":10,"wind":11,"wd":240,"hum":77,"pc":2},{"date":1727568E6,"ts":"Sun, 29","ds":"Sun, 29 Sep","icon":4,"desc":"Afternoon clouds.","temp":16,"templow":8,"cf":15,"wind":7,"wd":230,"hum":61,"pc":6},{"hl":true,"hls":"30 Sep – 6 Oct","date":17276544E5,"ts":"Mon, 30","ds":"Mon, 30 Sep","icon":33,"desc":"Light showers. Overcast.","temp":17,"templow":11,"cf":17,"wind":17,"wd":190,"hum":79,"pc":52,"rain":3},{"date":17277408E5,"ts":"Tue, 1","ds":"Tue, 1 Oct","icon":18,"desc":"Sprinkles early. Breaks of sun late.","temp":18,"templow":13,"cf":18,"wind":19,"wd":230,"hum":68,"pc":53,"rain":0.5 },{"date":17278272E5,"ts":"Wed, 2","ds":"Wed, 2 Oct","icon":19,"desc":"Rain early. Overcast.","temp":16,"templow":13,"cf":16,"wind":9,"wd":30,"hum":90,"pc":72,"rain":7.4 },{"date":17279136E5,"ts":"Thu, 3","ds":"Thu, 3 Oct","icon":18,"desc":"Sprinkles. Cloudy.","temp":17,"templow":14,"cf":17,"wind":7,"wd":240,"hum":62,"pc":42,"rain":1.7 },{"date":1728E9,"ts":"Fri, 4","ds":"Fri, 4 Oct","icon":4,"desc":"Morning clouds.","temp":15,"templow":10,"cf":14,"wind":11,"wd":310,"hum":60,"pc":5},{"date":17280864E5,"ts":"Sat, 5","ds":"Sat, 5 Oct","icon":2,"desc":"Scattered clouds.","temp":13,"templow":7,"cf":13,"wind":6,"wd":350,"hum":49,"pc":6},{"date":17281728E5,"ts":"Sun, 6","ds":"Sun, 6 Oct","icon":4,"desc":"Afternoon clouds.","temp":12,"templow":7,"cf":10,"wind":13,"wd":350,"hum":62,"pc":6}],"grid":{"temp":{"low":5,"high":19,"range":14},"prec":{"high":16.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2409/RayosCrepusculares_1024.jpg',
		Title:     'Sunrise Shadows in the Sky',
		LinkImage: 'https://apod.nasa.gov/apod/image/2409/RayosCrepusculares.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240921.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Pomegranate_arils.jpg/399px-Pomegranate_arils.jpg',
		Title:    'Pomegranate',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Pomegranate',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Pomegranate" title="Pomegranate">pomegranate</a></b> (<i>Punica granatum</i>) is a <a href="https://en.wikipedia.org/wiki/Fruit" title="Fruit">fruit</a>-bearing <a href="https://en.wikipedia.org/wiki/Deciduous" title="Deciduous">deciduous</a> <a href="https://en.wikipedia.org/wiki/Shrub" title="Shrub">shrub</a> in the family <a href="https://en.wikipedia.org/wiki/Lythraceae" title="Lythraceae">Lythraceae</a>, subfamily Punicoideae, that grows between 5 and 10&#160;m (16 and 33&#160;ft) tall. The pomegranate was originally found only throughout the <a href="https://en.wikipedia.org/wiki/Mediterranean_basin" title="Mediterranean basin">Mediterranean</a> region. It was introduced into <a href="https://en.wikipedia.org/wiki/Spanish_America" title="Spanish America">Spanish America</a> in the late 16th century and into California by <a href="https://en.wikipedia.org/wiki/New_Spain" title="New Spain">Spanish settlers</a> in 1769. This photograph shows a number of <a href="https://en.wikipedia.org/wiki/Sarcotesta" title="Sarcotesta">sarcotesta</a> seedcoats from a pomegranate. This image is a focus-stacked image consisting of 31 images.<small style="display: block; margin-top: 0.8em;">Photograph credit <a href="https://en.wikipedia.orghttps://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="commons:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1726894800,"duration":14400,"svcId":560,"evtId":27731,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726905600,"availabilityEnd":1726995600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002386s\u0026ui_id=4.0.0"}},{"name":"Saturday Kitchen Live","description":"Host Matt Tebbutt is joined by chefs Anna Haugh and Sophie Wyburd, and by special guest Richard Osman. Drinks expert Olly Smith picks the wines to go with the studio dishes. [S] [HD]","startTime":1726909200,"duration":5400,"svcId":560,"evtId":27836,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zkqzw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726914618,"availabilityEnd":1758450618,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238q7\u0026ui_id=4.0.0"},"episodeNo":23},{"name":"Nadiya\u0027s Cook Once, Eat Twice","description":"1\/6. Nadiya elevates everyday ingredients into food heroes. An old bag of salad becomes a vibrant pasta sauce, and spiced carrot soup is spun into a warming cod and carrot curry. [S,AD] [HD]","startTime":1726914600,"duration":1800,"svcId":560,"evtId":27732,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqc7ld.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726599643,"availabilityEnd":1761159529,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023377\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Football Focus","description":"Alex Scott and guests discuss headlines from the global game and preview this weekend\u0027s action, including a look ahead to the huge Premier League clash between Manchester City and Arsenal. [S] [HD]","startTime":1726916400,"duration":3600,"svcId":560,"evtId":27837,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrs5dq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726959540,"availabilityEnd":1727564340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238q9\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1726920000,"duration":600,"svcId":560,"evtId":27733,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726920720,"availabilityEnd":1727007120,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002386v\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1726920600,"duration":300,"svcId":560,"evtId":27734,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726920936,"availabilityEnd":1727007336,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002386x\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"Bargain Hunt","description":"Charlie Ross is in Shropshire with experts Tim Weeks and Ben Cooper, and the teams. Charlie learns about the history of some local merchants, the Shrewsbury Drapers. [S] [HD]","startTime":1726920900,"duration":2700,"svcId":560,"evtId":27735,"image":"\/ms\/img\/epg\/rb\/fec6-p0b8kn83.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726923635,"availabilityEnd":1729515635,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012wrl\u0026ui_id=4.0.0"},"seriesNo":60},{"name":"Money for Nothing","description":"15\/20. Sarah Moore and her team of designers repurpose some ice skates, an old school desk and some director\u0027s chairs. [S] [HD]","startTime":1726923600,"duration":2700,"svcId":560,"evtId":27736,"image":"\/ms\/img\/epg\/rb\/ae0c-p09z87ds.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726926326,"availabilityEnd":1729518326,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001113m\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":15},{"name":"Escape to the Country","description":"Today\u0027s escapees want to move to Shropshire to be closer to family and have entrusted Alistair Appleton to help them find a lovely rural retreat for them and their bees. [S] [HD]","startTime":1726926300,"duration":3600,"svcId":560,"evtId":27838,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hjcfpz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726929875,"availabilityEnd":1729521875,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238qc\u0026ui_id=4.0.0"},"seriesNo":50,"episodeNo":6},{"name":"Garden Rescue","description":"31\/35. Charlie and Chris are in Exeter to transform a tumbledown, unloved back garden into a chilled-out, festival-inspired retreat for Dan and Amy. [S] [HD]","startTime":1726929900,"duration":2700,"svcId":560,"evtId":27737,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gd8m6m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1695050988,"availabilityEnd":1729524601,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001qp7c\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":31},{"name":"Final Score","description":"Stay across the afternoon\u0027s scores and developing stories in the Premier League, EFL and Scottish Premiership with Jason Mohammad and guests. [S] [HD]","startTime":1726932600,"duration":2400,"svcId":560,"evtId":27839,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g71c5s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726935090,"availabilityEnd":1727539890,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238qf\u0026ui_id=4.0.0"}},{"name":"Made in Korea: The K-Pop...","description":"...Experience. 6\/6. As their stay draws to an end, the band must impress dignitaries at the British Embassy. [S,AD] [HD]","startTime":1726935000,"duration":2700,"svcId":560,"evtId":27840,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr9hmx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726937795,"availabilityEnd":1790009795,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00238qh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1726937700,"duration":600,"svcId":560,"evtId":27738,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726938390,"availabilityEnd":1727024790,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002386z\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1726938300,"duration":300,"svcId":560,"evtId":27739,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726938605,"availabilityEnd":1727025005,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023871\u0026ui_id=4.0.0"},"episodeNo":174},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1726938600,"duration":300,"svcId":560,"evtId":27740,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726938891,"availabilityEnd":1727025291,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023873\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"New: The Hit List","description":"6\/12. Alex and their mum Glenda from Whitley Bay, best friends Madi and Kieran from Manchester, and siblings Nigel and Maria from Kent compete in the high-tempo music quiz. [S] [HD]","startTime":1726938900,"duration":2700,"svcId":560,"evtId":27878,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr01dv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726941636,"availabilityEnd":1755453942,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002397v\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":6},{"name":"Strictly Come Dancing","description":"Fifteen new couples perform their opening routines of the competition. [S,AD] [HD]","startTime":1726941600,"duration":8700,"svcId":560,"evtId":27879,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqwjx1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726950321,"availabilityEnd":1765744500,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002397x\u0026ui_id=4.0.0"},"seriesNo":25,"episodeNo":1},{"name":"Apples Never Fall","description":"1\/7. Joy Delaney is happily retired. And now, suddenly missing. Contains some strong language. [S,AD] [HD]","startTime":1726950300,"duration":2700,"svcId":560,"evtId":27880,"image":"\/ms\/img\/epg\/rb\/fec6-p0jr2vvy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726894800,"availabilityEnd":1819753140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022vrq\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1726953000,"duration":900,"svcId":560,"evtId":27741,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726953990,"availabilityEnd":1727040390,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023875\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1726953900,"duration":300,"svcId":560,"evtId":27742,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726954206,"availabilityEnd":1727040606,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023877\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"Match of the Day","description":"Gary Lineker presents highlights from a busy day of Premier League action with eight games taking place, including Manchester United\u0027s trip to the capital to face Crystal Palace. [S] [HD]","startTime":1726954200,"duration":5400,"svcId":560,"evtId":27881,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrlgkb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726959540,"availabilityEnd":1727564340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00238sz\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":6},{"name":"Tom Brady: Man in the Arena","description":"3\/10. Tom Brady and his teammates relentlessly push each other to the edge of greatness. Contains some strong language. [S,AD] [HD]","startTime":1726959600,"duration":2700,"svcId":560,"evtId":27882,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jptnbl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726290000,"availabilityEnd":1819753140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022lhd\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Tom Brady: Man in the Arena","description":"4\/10. A new era of offensive dominance begins for Tom Brady when superstar wide receiver Randy Moss joins him in New England. Contains strong language. [S,AD] [HD]","startTime":1726962300,"duration":3300,"svcId":560,"evtId":27883,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jptnnd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726290000,"availabilityEnd":1819753140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022lhh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1726965600,"duration":300,"svcId":560,"evtId":27743,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726966109,"availabilityEnd":1727572674,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023879\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1726965900,"duration":15300,"svcId":560,"evtId":27744,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":174}]},{"channelid":700,"offset":0,"event":[{"name":"Hey Duggee","description":"The Buddy Badge. Duggee hosts a Buddy Bonanza for Mrs Weaver and the Squirrels, with the aim of finding new buddies with common interests to them. [S] [HD]","startTime":1726896300,"duration":300,"svcId":700,"evtId":19513,"image":"\/ms\/img\/epg\/rb\/fec6-p09bt191.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1624977780,"availabilityEnd":1774670400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000tv2j\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":37},{"name":"Go Jetters","description":"The Grand Canyon, USA. Animated adventure comedy series. Kyan is wire-walking across the Grand Canyon, but Glitch wants to cheat and win. Can the Go Jetters stop him? [S] [HD]","startTime":1726896600,"duration":900,"svcId":700,"evtId":19514,"image":"\/ms\/img\/epg\/rb\/ae0c-p047qw04.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1572345600,"availabilityEnd":1730001600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b07wwl81\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":32},{"name":"Grizzy and the Lemmings","description":"Day and Night. The Lemmings discover a spherical object that can control Earth\u0027s rotation. [S] [HD]","startTime":1726897500,"duration":300,"svcId":700,"evtId":19515,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g32hhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1725368159,"availabilityEnd":1729489931,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pgsp\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":68},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Tech Detox. After one of Mouse\u0027s inventions accidentally hurts Cat, the kids convince Mouse to go to Farmer Joe\u0027s Tech Detox camp to learn how to function without technology. [S] [HD]","startTime":1726897800,"duration":900,"svcId":700,"evtId":19516,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbgvsq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721630700,"availabilityEnd":1858219200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021dhx\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":29},{"name":"Monster Loving Maniacs","description":"Grandma and Werewolf - Part One. Arthur identifies a local werewolf and immediately decides to freeze it. [S] [HD]","startTime":1726898700,"duration":600,"svcId":700,"evtId":19517,"image":"\/ms\/img\/epg\/rb\/fec6-p0fdt1xy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681095600,"availabilityEnd":1799640000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdlt6b\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":24},{"name":"Pok\u00e9mon Horizons: The Series","description":"Fiery Galarian Moltres. Faced with an enraged Galarian Moltres, Liko comes up with a different kind of strategy. [S,AD] [HD]","startTime":1726899300,"duration":1200,"svcId":700,"evtId":19518,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hz9lt9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716778800,"availabilityEnd":1796011200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpd3\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":23},{"name":"Game on Grandparents","description":"Minecraft. Pro-gamer Yammy helps kids train their grandparents in Minecraft. Will they become Minecraft masters or remain noobs? Who will make it to the final? [S] [HD]","startTime":1726900500,"duration":1500,"svcId":700,"evtId":19519,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jgl3h6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1723449600,"availabilityEnd":1850353200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021zz4\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"One Zoo Three","description":"Go Slow. The brothers learn about animals that like to take things slowly. They discover the top speed of a giant African land snail and see just how slow a sleepy sloth can get. [S] [HD]","startTime":1726902000,"duration":1200,"svcId":700,"evtId":19520,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jkjsrd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724641200,"availabilityEnd":1842663600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00225lt\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":3},{"name":"Blue Peter: One Zoo Three and...","description":"...Ranger Hamza. One Zoo Three and Ranger Hamza. Aaron, Tyler and Cam from One Zoo Three are in the studio for some animal fun, and Joel is challenged to perform onstage in the CBeebies Prom. [S] [HD]","startTime":1726903200,"duration":1800,"svcId":700,"evtId":19521,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrs5t9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726849800,"availabilityEnd":1732037400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00233zr\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"Newsround","description":"21\/09\/2024. Topical news magazine for children. [S] [HD]","startTime":1726905000,"duration":600,"svcId":700,"evtId":19522,"image":"\/ms\/img\/epg\/rb\/fec6-p0chnbfw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726905558,"availabilityEnd":1726991958,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239xk\u0026ui_id=4.0.0"}},{"name":"Gardeners\u0027 World","description":"26\/32. Monty gives his top tips on how to keep lawns looking their best throughout autumn, tidies up the pond, and plans ahead for a colourful spring display by potting up hyacinths. [S] [HD]","startTime":1726905600,"duration":3600,"svcId":700,"evtId":19523,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jr0czd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726866050,"availabilityEnd":1758402050,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00233mq\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":26},{"name":"City in the Sky","description":"3\/3. Science broadcaster Dallas Campbell and Dr Hannah Fry explore just what it takes to bring the citizens of the sky back to the ground. [S,AD] [HD]","startTime":1726909200,"duration":3600,"svcId":700,"evtId":19524,"image":"\/ms\/img\/epg\/rb\/fec6-p03xwsy5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726912769,"availabilityEnd":1729504769,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b07hn675\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Waterhole: Africa\u0027s Animal Oasis","description":"3\/3. The rains hit the waterhole, and for the first time in half a year, grass begins to grow, and water is everywhere, dramatically changing the fortunes of the wild residents. [S] [HD]","startTime":1726912800,"duration":3600,"svcId":700,"evtId":19525,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zhtct.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726916355,"availabilityEnd":1729508355,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000qdz2\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"A Cook Abroad: Rachel Khoo\u0027s...","description":"...Malaysia. 6\/6. Cooking show. Rachel Khoo heads to Malaysia, home of her extended family, to explore one of the world\u0027s most exciting cuisines. Can good food unite a nation? [S,AD] [HD]","startTime":1726916400,"duration":3600,"svcId":700,"evtId":19526,"image":"\/ms\/img\/epg\/rb\/ae0c-p02l51kc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1671429600,"availabilityEnd":1741500000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b054fm6n\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"Nigel Slater\u0027s Simple Cooking","description":"Nigel Slater demonstrates straightforward, down to earth cooking, filmed at his home. [S] [HD]","startTime":1726920000,"duration":600,"svcId":700,"evtId":19527,"image":"\/ms\/img\/epg\/rb\/ae0c-p090cm7m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726920566,"availabilityEnd":1729512566,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00239xn\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"The Big Sleep","description":"Philip Marlowe is hired to deal with a series of debts incurred by a general\u0027s daughter. [1946] [S] [HD]","startTime":1726920600,"duration":6600,"svcId":700,"evtId":19528,"image":"\/ms\/img\/epg\/rb\/fec6-p0gytdgb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726927185,"availabilityEnd":1729519185,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tvn4\u0026ui_id=4.0.0"}},{"name":"Hippos: Africa\u0027s River Giants","description":"With incredible underwater footage, David Attenborough reveals the true nature of the hippopotamus - an animal that cannot swim yet is utterly dependent on water. [S,AD] [HD]","startTime":1726927200,"duration":3600,"svcId":700,"evtId":19529,"image":"\/ms\/img\/epg\/rb\/fec6-p07h2xyj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726930790,"availabilityEnd":1729522790,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00071k3\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":2},{"name":"Big Cats 24\/7","description":"4\/6. The Okavango Delta is transformed by the arrival of the flood, bringing new challenges for the big cats. The lion cubs experience water and the danger it brings for the first time. [S,AD] [HD]","startTime":1726930800,"duration":3600,"svcId":700,"evtId":19530,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jl63gw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724562000,"availabilityEnd":1756098000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021kjg\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Flog It!","description":"Flog It! comes from Scotland\u0027s most visited attraction, the magnificent Kelvingrove Museum and Art Gallery in Glasgow. Paul Martin is joined by experts James Lewis and Will Axon. [S] [HD]","startTime":1726934400,"duration":1800,"svcId":700,"evtId":19531,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":false,"seriesNo":11,"episodeNo":11},{"name":"Celebrity Race Across the World","description":"6\/6. The race reaches its climax as one lucky team claims the title as champions of Celebrity Race Across the World. [S,AD] [HD]","startTime":1726936200,"duration":3600,"svcId":700,"evtId":19532,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jq30q1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726693203,"availabilityEnd":1758229203,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00232rg\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"Amazing Hotels: Life Beyond the...","description":"...Lobby. Rob and Monica make the journey to Turkey to work at a hotel built into a network of caves, where modern luxury meets ancient history and every room comes with its own surprises. [S,AD] [HD]","startTime":1726939800,"duration":3600,"svcId":700,"evtId":19533,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnqmbc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726117200,"availabilityEnd":1757653200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021zd9\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":2},{"name":"Golf: PGA Championship Highlights","description":"Highlights from day three at the European Tour\u0027s traditional flagship event, taking place at Wentworth\u0027s famous West Course. Introduced by Eilidh Barbour. [S] [HD]","startTime":1726943400,"duration":3600,"svcId":700,"evtId":19534,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrkn26.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726946999,"availabilityEnd":1729538999,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239xv\u0026ui_id=4.0.0"}},{"name":"Cricket: England v Australia...","description":"...ODI Highlights. Highlights from the second ODI between England and Australia. [S] [HD]","startTime":1726947000,"duration":3300,"svcId":700,"evtId":19535,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqd5lf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726950335,"availabilityEnd":1729542335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00239y1\u0026ui_id=4.0.0"}},{"name":"The Battle for Black Music:...","description":"...Paid in Full. 1\/3. The story of legendary black musicians being exploited by the music industry. Contains very strong language and upsetting scenes. [S,AD] [HD]","startTime":1726950300,"duration":3600,"svcId":700,"evtId":19536,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrj6rs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726894800,"availabilityEnd":1758430800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021zf2\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Chuck Berry in Concert","description":"Legendary rock \u0027n\u0027 roller Chuck Berry performs at the BBC Television Theatre in 1972. Johnny B Goode, Roll Over Beethoven and Nadine are just some of the highlights. [S]","startTime":1726953900,"duration":4800,"svcId":700,"evtId":19537,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dnvw5d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726958757,"availabilityEnd":1729550757,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gn1l\u0026ui_id=4.0.0"}},{"name":"Northern Soul","description":"The life of a shy Lancashire teenager is transformed when he discovers northern soul. Contains very strong language and some upsetting scenes. [2014] [S] [HD]","startTime":1726958700,"duration":5700,"svcId":700,"evtId":19538,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f8qj3s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726964585,"availabilityEnd":1729556585,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kbwr\u0026ui_id=4.0.0"}},{"name":"Host","description":"Six friends hold a s\u00e9ance via Zoom in lockdown and get far more than they bargained for. Contains very strong language, some violence and disturbing scenes. [2020] [S] [HD]","startTime":1726964400,"duration":3600,"svcId":700,"evtId":19539,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7078g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726968041,"availabilityEnd":1734747641,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001dh75\u0026ui_id=4.0.0"}},{"name":"Nightsleeper","description":"1\/6. A police officer realises his train may be at the centre of an international incident. Contains some strong language. [S,AD,SL] [HD]","startTime":1726968000,"duration":3600,"svcId":700,"evtId":19540,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jpvp9t.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Mozart: Rise of a Genius","description":"1\/3. 1777: 21-year-old Mozart sets out from Salzburg to make it as a musician on his own terms. Contains some strong language. [S,AD,SL] [HD]","startTime":1726971600,"duration":3600,"svcId":700,"evtId":19541,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqc5t3.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1726975200,"duration":6000,"svcId":700,"evtId":19542,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Come Dine with Me","description":"Nottingham and Derby. The last host, Lesley, plans a glitzy, glamorous evening, with an awards ceremony and tiaras. But there are shocks and tears, and the main doesn\u0027t go to plan. (Ep5\/5)  [AD,S]","startTime":1726892400,"duration":1800,"svcId":1500,"evtId":40772,"image":"\/ms\/img\/epg\/rb\/5d52-4000387.l.png","hasTstv":false},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebrities to the test with tough crafting challenges. Reality star Sam Thompson and TV personality Debbie McGee test their skills with marbled clay napkin rings.  [S]","startTime":1726894200,"duration":600,"svcId":1500,"evtId":40992,"image":"\/ms\/img\/epg\/rb\/5d52-9930546.l.png","hasTstv":false},{"name":"Cheers","description":"Visiting Lecher: A marriage guidance expert who is an old friend of Frasier\u0027s comes to town on a book tour. But while preaching marital fidelity, he makes a pass at Rebecca... (S7 Ep22\/22)  [S]","startTime":1726894800,"duration":1500,"svcId":1500,"evtId":40773,"image":"\/ms\/img\/epg\/rb\/5d52-582462.l.png","hasTstv":false,"seriesNo":7,"episodeNo":22},{"name":"Cheers","description":"The Improbable Dream (Part 1): Rebecca has erotic dreams about Sam. Fearing for her sanity, she asks Frasier and Lilith for advice. But then a rich man sweeps her off her feet. (S8 Ep1\/26)  [S]","startTime":1726896300,"duration":1500,"svcId":1500,"evtId":40774,"image":"\/ms\/img\/epg\/rb\/5d52-584857.l.png","hasTstv":false,"seriesNo":8,"episodeNo":1},{"name":"Cheers","description":"The Improbable Dream (Part 2): When multi-millionaire Robin Colcord tells Rebecca she is the sole reason he visits Cheers, she forgets about Sam and takes off with him instead. (S8 Ep2\/26)  [S]","startTime":1726897800,"duration":1500,"svcId":1500,"evtId":41351,"image":"\/ms\/img\/epg\/rb\/5d52-584865.l.png","hasTstv":false,"seriesNo":8,"episodeNo":2},{"name":"The King of Queens","description":"Strike Too: With his union striking, Doug takes work as a substitute teacher at the school where his sister Stephanie (Ricki Lake) works. But the job\u0027s not as easy as he thinks. (S3 Ep6\/25)  [AD,S]","startTime":1726899300,"duration":1500,"svcId":1500,"evtId":41352,"image":"\/ms\/img\/epg\/rb\/5d52-1266747.l.png","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"The King of Queens","description":"Strike Out: Carrie suggests that Arthur should spend the day with Doug and Deacon to cheer them up while they are on strike. But it doesn\u0027t turn out as she\u0027d hoped... (S3 Ep7\/25)  [AD,S]","startTime":1726900800,"duration":1500,"svcId":1500,"evtId":41353,"image":"\/ms\/img\/epg\/rb\/5d52-1274196.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"Frasier","description":"A Word to the Wise Guy: Maris needs Niles\u0027s help, and he thinks it\u0027s a chance to get back together. But he has to gain a favour from a shady character in order to assist her. (S3 Ep15)  [AD,S]","startTime":1726902300,"duration":1500,"svcId":1500,"evtId":41354,"image":"\/ms\/img\/epg\/rb\/5d52-453819.l.png","hasTstv":false,"seriesNo":3,"episodeNo":15},{"name":"Frasier","description":"Look Before You Leap: Frasier suggests that everyone celebrates the leap year by trying something daring - but, as usual, his plans go awry. (S3 Ep16)  [AD,S]","startTime":1726903800,"duration":1800,"svcId":1500,"evtId":41355,"image":"\/ms\/img\/epg\/rb\/5d52-456391.l.png","hasTstv":false,"seriesNo":3,"episodeNo":16},{"name":"Frasier","description":"High Crane Drifter: It\u0027s a bad day for American caf\u00e9 society as a disgruntled Frasier has his favourite table at Caf\u00e9 Nervosa taken over by a rude man. (S3 Ep17)  [AD,S]","startTime":1726905600,"duration":1800,"svcId":1500,"evtId":41356,"image":"\/ms\/img\/epg\/rb\/5d52-458446.l.png","hasTstv":false,"seriesNo":3,"episodeNo":17},{"name":"Frasier","description":"Chess Pains: Frasier buys an expensive chess set and challenges his dad to a game. Martin wins easily, again and again... (S3 Ep18)  [AD,S]","startTime":1726907400,"duration":1800,"svcId":1500,"evtId":41357,"image":"\/ms\/img\/epg\/rb\/5d52-460319.l.png","hasTstv":false,"seriesNo":3,"episodeNo":18},{"name":"Frasier","description":"Crane vs. Crane: Niles and Frasier take opposing sides in a court battle over the competency of eccentric millionaire Harlow Stafford. (S3 Ep19)  [AD,S]","startTime":1726909200,"duration":1800,"svcId":1500,"evtId":41358,"image":"\/ms\/img\/epg\/rb\/5d52-461031.l.png","hasTstv":false,"seriesNo":3,"episodeNo":19},{"name":"The Simpsons","description":"Blame It on Lisa: The Simpsons go to Brazil to meet an orphan who Lisa has secretly been writing to. But as soon as they arrive, Homer is kidnapped. (S13 Ep15)  [AD,S]","startTime":1726911000,"duration":1800,"svcId":1500,"evtId":41359,"image":"\/ms\/img\/epg\/rb\/5d52-1670876.l.png","hasTstv":false,"seriesNo":13,"episodeNo":15},{"name":"The Simpsons","description":"Gump Roast: Aliens Kang and Kodos decide that Homer is the \u0027fat, selfish epitome of modern man\u0027 and that Earth must be destroyed. Guest starring Stephen Hawking and U2. (S13 Ep17)  [AD,S]","startTime":1726912800,"duration":1500,"svcId":1500,"evtId":41360,"image":"\/ms\/img\/epg\/rb\/5d52-1757386.l.png","hasTstv":false,"seriesNo":13,"episodeNo":17},{"name":"The Simpsons","description":"I Am Furious Yellow: Bart becomes an animator and finds inspiration close to home when he creates his lead character: Angry Dad. (S13 Ep18)  [AD,S]","startTime":1726914300,"duration":1800,"svcId":1500,"evtId":41361,"image":"\/ms\/img\/epg\/rb\/5d52-1684098.l.png","hasTstv":false,"seriesNo":13,"episodeNo":18},{"name":"The Simpsons","description":"Frying Game: Homer and Marge are framed for murder and face the electric chair. Guest starring Carmen Electra as herself. (S13 Ep21)  [AD,S]","startTime":1726916100,"duration":1800,"svcId":1500,"evtId":41362,"image":"\/ms\/img\/epg\/rb\/5d52-1775379.l.png","hasTstv":false,"seriesNo":13,"episodeNo":21},{"name":"The Simpsons","description":"Hello Gutter, Hello Fadder: Homer bowls a perfect 300 and becomes a celebrity, even appearing on the Springfield Squares with Bumblebee Man and his old nemesis Ron Howard. (S11 Ep6\/22)  [AD,S]","startTime":1726917900,"duration":1800,"svcId":1500,"evtId":41363,"image":"\/ms\/img\/epg\/rb\/5d52-387112021.l.png","hasTstv":false,"seriesNo":11,"episodeNo":6},{"name":"The Simpsons","description":"Take My Wife, Sleaze: Homer wins a motorbike and forms the Hell\u0027s Satans biker gang with Lenny, Carl, Moe and Flanders. But then they run into the original Hell\u0027s Satans... (S11 Ep8\/22)  [AD,S]","startTime":1726919700,"duration":1800,"svcId":1500,"evtId":41364,"image":"\/ms\/img\/epg\/rb\/5d52-387150232.l.png","hasTstv":false,"seriesNo":11,"episodeNo":8},{"name":"The Simpsons","description":"Grift of the Magi: After Bart breaks his coccyx and ends up using a wheelchair, Principal Skinner foolishly hires Fat Tony to build ramps at the school. (S11 Ep9\/22)  [AD,S]","startTime":1726921500,"duration":1500,"svcId":1500,"evtId":41365,"image":"\/ms\/img\/epg\/rb\/5d52-395051982.l.png","hasTstv":false,"seriesNo":11,"episodeNo":9},{"name":"Four in a Bed","description":"The competition kicks off in Llandudno, where host Jo and her mum Pat end up with some illuminating feedback about their guests\u0027 lack of sleep.  [S]","startTime":1726923000,"duration":1800,"svcId":1500,"evtId":40792,"image":"\/ms\/img\/epg\/rb\/5d52-9300495.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At The Queens Hotel in Harlech, Rachel and professional impersonator Liam are keen to make a good impression. But one B\u0026Ber has a sinking feeling.  [S]","startTime":1726924800,"duration":1800,"svcId":1500,"evtId":40793,"image":"\/ms\/img\/epg\/rb\/5d52-9302315.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers are at Mat and Helen\u0027s B\u0026B in Carmarthenshire for the week\u0027s third visit, where things get prickly during a visit to a botanical garden.  [S]","startTime":1726926600,"duration":1800,"svcId":1500,"evtId":40794,"image":"\/ms\/img\/epg\/rb\/5d52-9302440.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The week\u0027s final visit is to Lesley and Sarah\u0027s Hideaway Escapes in Pembrokeshire, where one set of guests decide to sleep in their car rather than their room.  [S]","startTime":1726928400,"duration":1800,"svcId":1500,"evtId":40795,"image":"\/ms\/img\/epg\/rb\/5d52-9302507.l.png","hasTstv":false},{"name":"Four in a Bed","description":"On a feisty payment day, the B\u0026Bers tackle everything from bathroom blues to one set of guests completely refusing to try out one of their rivals\u0027 rooms.  [S]","startTime":1726930200,"duration":2100,"svcId":1500,"evtId":40796,"image":"\/ms\/img\/epg\/rb\/5d52-412913382.l.png","hasTstv":false},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: Kirstie and Phil meet Sue and Richard in Mapperley. Their beautiful home is no longer suitable since Richard had a cycling accident. Can it be made accessible? (S8 Ep4)  [AD,S]","startTime":1726932300,"duration":3600,"svcId":1500,"evtId":41366,"image":"\/ms\/img\/epg\/rb\/5d52-7130529.l.png","hasTstv":false,"seriesNo":8,"episodeNo":4},{"name":"George Clarke\u0027s Remarkable...","description":"...Renovations: James has had a 15-year love affair with a former glassworks in Brighton. Will his grand restoration live up to his uncompromising vision? (S2 Ep3)  [AD,S]","startTime":1726935900,"duration":3600,"svcId":1500,"evtId":41367,"image":"\/ms\/img\/epg\/rb\/5d52-info.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1726939500,"duration":1800,"svcId":1500,"evtId":40797,"image":"\/ms\/img\/epg\/rb\/5d52-9952018.l.png","hasTstv":false},{"name":"F1 Singapore GP Qualifying...","description":"...Highlights: The drivers go under the lights on the streets of Singapore, where Qualifying is crucial due to the small number of opportunities to overtake in the race. [S,W]","startTime":1726941300,"duration":5400,"svcId":1500,"evtId":40798,"image":"\/ms\/img\/epg\/rb\/5d52-9952028.l.png","hasTstv":false},{"name":"New: Abandoned Railways from Above","description":"Somerset: This series explores lost railway lines and their unique histories, starting with a beloved lost route through beautiful Somerset and Dorset countryside. (Ep1\/6)  [AD,S]","startTime":1726946700,"duration":3600,"svcId":1500,"evtId":40799,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"The Last Duel","description":"(2021) Historical drama from director Ridley Scott. Trial by combat is the only option to save a noblewoman\u0027s honour. With Jodie Comer and Matt Damon. Sexual violence\/strong language.  [AD,S]","startTime":1726950300,"duration":10500,"svcId":1500,"evtId":40800,"image":"\/ms\/img\/epg\/rb\/5d52-4968449.l.png","hasTstv":false},{"name":"Midway","description":"(2019) Roland Emmerich\u0027s sprawling, action-packed war drama about the Battle of Midway, a major turning point in World War II. Strong, offensive language\/violence.  [AD,S]","startTime":1726960800,"duration":8400,"svcId":1500,"evtId":40801,"image":"\/ms\/img\/epg\/rb\/5d52-409802472.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Best pals Colleen and Naomi bought Classic American in New York together, but their lack of experience is pushing their friendship to the edge. Can Gordon help? (S4 Ep2\/13)  [S,SL]","startTime":1726969200,"duration":3300,"svcId":1500,"evtId":40803,"image":"\/ms\/img\/epg\/rb\/5d52-1209998.l.png","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"Come Dine with Me","description":"In Hackney in London, teacher Jason takes on fashion designer Purple Qie Qin, actor Lee and sales director Jody in a week featuring a Chinese feast and a starter that smells of wee.  [S]","startTime":1726972500,"duration":3300,"svcId":1500,"evtId":41208,"image":"\/ms\/img\/epg\/rb\/5d52-9952054.l.png","hasTstv":false},{"name":"Hollyoaks Omnibus","description":"Time changes everything as we join Hollyoaks one year on... There are two surprise engagements. A family continues to rebuild. And one resident discovers his life will never be the same.  [AD,S,SL]","startTime":1726975800,"duration":3900,"svcId":1500,"evtId":40804,"image":"\/ms\/img\/epg\/rb\/5d52-9952058.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('328');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('73');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('71');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'sPGOGmsa0uU', title: "24 Hours to Score a Goal in the Furthest Country", label: "24 Hours to Score a Goal in the Furthest Country by ChrisMD 919,190 views 1 day ago 49 minutes" },
{ id: 'VrTNTAvvFp4', title: "\&quot;Welcome To Division 1!\&quot; | WE ARE YANITED #2", label: "\&quot;Welcome To Division 1!\&quot; | WE ARE YANITED #2 by angryginge13 167,563 views 9 hours ago 22 minutes" },
{ id: 't_8nWO8papw', title: "SIDEMEN AMONG US PROXIMITY CHAT: SHAPESHIFTER SPECIAL", label: "SIDEMEN AMONG US PROXIMITY CHAT: SHAPESHIFTER SPECIAL by MoreSidemen 4,099,666 views 2 days ago 1 hour, 7 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Repulsion (1965)">Repulsion (1965)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Lure (2015)">The Lure (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Janelle Monáe: Dirty Computer (2018)">Janelle Monáe: Dirty Computer (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Hunger (1983)">The Hunger (1983)</a></li><li><a href="https://www.google.com/search?q=Films+-+Passing (2021)">Passing (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Suspiria (1977)">Suspiria (1977)</a></li><li><a href="https://www.google.com/search?q=Films+-+Emily the Criminal (2022)">Emily the Criminal (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Orlando (1992)">Orlando (1992)</a></li><li><a href="https://www.google.com/search?q=Films+-+This Beautiful Fantastic (2016)">This Beautiful Fantastic (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sometimes I Think About Dying (2023)">Sometimes I Think About Dying (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 213.25, tooltip: "Fri, Sep 20, 2024<br/>£213.25"},
{ number: 214.33, tooltip: "Thu, Sep 19, 2024<br/>£214.33"},
{ number: 211.62, tooltip: "Wed, Sep 18, 2024<br/>£211.62"},
{ number: 212.58, tooltip: "Tue, Sep 17, 2024<br/>£212.58"},
{ number: 212.24, tooltip: "Mon, Sep 16, 2024<br/>£212.24"},
{ number: 212.49, tooltip: "Fri, Sep 13, 2024<br/>£212.49"},
{ number: 212.10, tooltip: "Thu, Sep 12, 2024<br/>£212.10"},
{ number: 211.19, tooltip: "Wed, Sep 11, 2024<br/>£211.19"},
{ number: 209.25, tooltip: "Tue, Sep 10, 2024<br/>£209.25"},
{ number: 208.64, tooltip: "Mon, Sep 09, 2024<br/>£208.64"},
{ number: 205.95, tooltip: "Fri, Sep 06, 2024<br/>£205.95"},
{ number: 208.82, tooltip: "Thu, Sep 05, 2024<br/>£208.82"},
{ number: 209.37, tooltip: "Wed, Sep 04, 2024<br/>£209.37"},
{ number: 211.55, tooltip: "Tue, Sep 03, 2024<br/>£211.55"},
{ number: 214.02, tooltip: "Mon, Sep 02, 2024<br/>£214.02"},
{ number: 214.38, tooltip: "Fri, Aug 30, 2024<br/>£214.38"},
{ number: 212.55, tooltip: "Thu, Aug 29, 2024<br/>£212.55"},
{ number: 211.54, tooltip: "Wed, Aug 28, 2024<br/>£211.54"},
{ number: 212.11, tooltip: "Tue, Aug 27, 2024<br/>£212.11"},
{ number: 212.96, tooltip: "Fri, Aug 23, 2024<br/>£212.96"},
{ number: 212.04, tooltip: "Thu, Aug 22, 2024<br/>£212.04"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Sep 20, 2024",
		"vs Day":      "Thu, Sep 19, 2024",
		"vs Week":     "Fri, Sep 13, 2024",
		"vs Month":    "Thu, Aug 22, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£213.25/share",
		'vs Day':      "-0.50%",
		'vs Week':     "+0.36%",
		'vs Month':    "+0.57%",
		'vs Year':     "+17.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '80.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 21 September and 22 September">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.807&p=3.453&r=0.384',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:51',
		Set:      '19:06',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Paraphernalia</em> can refer to objects or items that are used to do a particular activity, as well as objects or items that are typically associated with a particular activity, subject, etc. The word can also refer generally to personal belongings.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>