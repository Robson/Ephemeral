<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:38 26-Aug - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>British Museum thefts: Director Hartwig Fischer quits over stolen treasures</b><br/>Hartwig Fischer said the museum &quot;did not respond as comprehensively as it should have&quot; to the thefts." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/entertainment-arts-66621006?at_medium=RSS&amp;at_campaign=KARANGA">British Museum thefts: Director Hartwig Fischer quits over stolen treasures</a></li><li class="ttt" data-tt="<b>Nottinghamshire Police officer hit by train while helping man</b><br/>The officer is in a critical condition in hospital after trying to save a man on the railway lines."><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-66616022?at_medium=RSS&amp;at_campaign=KARANGA">Nottinghamshire Police officer hit by train while helping man</a></li><li class="ttt" data-tt="<b>Cleared pony owner criticises \'trial by social media\'</b><br/>Sarah Moulds also criticises the RSPCA, saying it was &quot;pressured&quot; to prosecute by &quot;online bullies&quot;."><a href="https://www.bbc.co.uk/news/uk-england-leicestershire-66605870?at_medium=RSS&amp;at_campaign=KARANGA">Cleared pony owner criticises \'trial by social media\'</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/entertainment-arts-66621006?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/12534/production/_130906057_screenshot2023-08-25201810.jpg" class="ttt" data-tt="People visit the British Museum in London" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump seeks to make the most of mugshot</b><br/>Within hours, his campaign website was selling mugshot-branded mugs, t-shirts and drink coolers." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66612433?at_medium=RSS&amp;at_campaign=KARANGA">Trump seeks to make the most of mugshot</a></li><li class="ttt" data-tt="<b>Georgia Republicans look to politics post-Trump</b><br/>Republicans in the US state could be a blueprint for a conservative movement beyond the former president."><a href="https://www.bbc.co.uk/news/world-us-canada-66612795?at_medium=RSS&amp;at_campaign=KARANGA">Georgia Republicans look to politics post-Trump</a></li><li class="ttt" data-tt="<b>Pilot killed in US military jet crash in San Diego</b><br/>The Marine Corps has launched an investigation into the crash of the F/A-18 Hornet fighter plane."><a href="https://www.bbc.co.uk/news/world-us-canada-66620231?at_medium=RSS&amp;at_campaign=KARANGA">Pilot killed in US military jet crash in San Diego</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66612433?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/B234/production/_130902654_donaldtrumpfullmugshot.jpg" class="ttt" data-tt="Mugshot of Donald Trump" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Bodies and flight recorders recovered at Wagner boss Prigozhin\'s jet crash site</b><br/>Russian mercenary chief Yevgeny Prigozhin and nine other people are presumed to have died in the crash." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-66620124?at_medium=RSS&amp;at_campaign=KARANGA">Bodies and flight recorders recovered at Wagner boss Prigozhin\'s jet crash site</a></li><li class="ttt" data-tt="<b>Spain\'s Hermoso \'didn\'t consent\' to World Cup kiss</b><br/>Jenni Hermoso says she did not consent to be kissed by Spanish FA president Luis Rubiales - as 81 players say they will not play for Spain\'s women\'s team until he leaves."><a href="https://www.bbc.co.uk/sport/football/66621772?at_medium=RSS&amp;at_campaign=KARANGA">Spain\'s Hermoso \'didn\'t consent\' to World Cup kiss</a></li><li class="ttt" data-tt="<b>Madagascar crush: 12 dead at island games\' opening ceremony</b><br/>The stadium in Madagascar was packed with spectators for the opening of the Indian Ocean Island Games."><a href="https://www.bbc.co.uk/news/world-africa-66620130?at_medium=RSS&amp;at_campaign=KARANGA">Madagascar crush: 12 dead at island games\' opening ceremony</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-66620124?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/117E2/production/_130905617_crash.jpg" class="ttt" data-tt="Part of Prigozhin&#x27;s plane after crash" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Dutch Grand Prix: Daniel Ricciardo to be replaced by Liam Lawson after breaking his hand</b><br/>Alpha Tauri driver Daniel Ricciardo will miss the Dutch Grand Prix after breaking his hand in a crash in Friday practice at Zandvoort." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66619759?at_medium=RSS&amp;at_campaign=KARANGA">Dutch Grand Prix: Daniel Ricciardo to be replaced by Liam Lawson after brea...</a></li><li class="ttt" data-tt="<b>Dutch Grand Prix: Max Verstappen quickest in Zandvoort opening session</b><br/>Red Bull\'s Max Verstappen sets the pace in first practice at his home Dutch Grand Prix ahead of Fernando Alonso and Lewis Hamilton."><a href="https://www.bbc.co.uk/sport/formula1/66615784?at_medium=RSS&amp;at_campaign=KARANGA">Dutch Grand Prix: Max Verstappen quickest in Zandvoort opening session</a></li><li class="ttt" data-tt="<b>Dutch Grand Prix: Charles Leclerc says Red Bull will be \'difficult\' to catch before 2026 rule changes</b><br/>Ferrari\'s Charles Leclerc says it will be &quot;very, very difficult&quot; to catch Red Bull before the end of the current set of Formula 1 regulations in 2025."><a href="https://www.bbc.co.uk/sport/formula1/66607917?at_medium=RSS&amp;at_campaign=KARANGA">Dutch Grand Prix: Charles Leclerc says Red Bull will be \'difficult\' to ca...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66619759?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/830E/production/_130905533_ric1.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Donald Trump breaks silence on X after Georgia arrest</b><br/>Mr Trump\'s first post on the platform formerly called Twitter since January 2021 includes his mugshot." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/business-66612777?at_medium=RSS&amp;at_campaign=KARANGA">Donald Trump breaks silence on X after Georgia arrest</a></li><li class="ttt" data-tt="<b>EU safety laws start to bite for TikTok, Instagram and others</b><br/>Nineteen large platforms have to start complying with new rules as soon as Friday or risk big fines."><a href="https://www.bbc.co.uk/news/technology-66604929?at_medium=RSS&amp;at_campaign=KARANGA">EU safety laws start to bite for TikTok, Instagram and others</a></li><li class="ttt" data-tt="<b>OnlyFans owner Leonid Radvinsky receives $338m payout</b><br/>The platform says it now hosts more than three million creators and almost 240 million users."><a href="https://www.bbc.co.uk/news/business-66612769?at_medium=RSS&amp;at_campaign=KARANGA">OnlyFans owner Leonid Radvinsky receives $338m payout</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/business-66612777?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/418B/production/_130897761_gettyimages-1636895606.jpg" class="ttt" data-tt="Former US President Donald Trump speaks to the media at Atlanta Hartsfield-Jackson International Airport after surrendering at the Fulton County jail on 24 August 2023 in Atlanta, Georgia." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"21 Aug – 27 Aug","date":1693008E6,"ts":"Sat, 26","ds":"Sat, 26 Aug","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":16,"templow":9,"cf":16,"wind":8,"wd":240,"hum":73,"pc":55,"rain":3.3 },{"date":16930944E5,"ts":"Sun, 27","ds":"Sun, 27 Aug","icon":33,"desc":"Light showers. Increasing cloudiness.","temp":17,"templow":10,"cf":17,"wind":13,"wd":300,"hum":70,"pc":58,"rain":2.5 },{"hl":true,"hls":"28 Aug – 3 Sep","date":16931808E5,"ts":"Mon, 28","ds":"Mon, 28 Aug","icon":18,"desc":"Sprinkles. Cloudy.","temp":17,"templow":10,"cf":17,"wind":12,"wd":300,"hum":69,"pc":39,"rain":1.1 },{"date":16932672E5,"ts":"Tue, 29","ds":"Tue, 29 Aug","icon":33,"desc":"Passing showers. Overcast.","temp":19,"templow":10,"cf":19,"wind":13,"wd":230,"hum":55,"pc":50,"rain":1.5 },{"date":16933536E5,"ts":"Wed, 30","ds":"Wed, 30 Aug","icon":18,"desc":"Drizzle. Overcast.","temp":17,"templow":12,"cf":17,"wind":10,"wd":240,"hum":62,"pc":43,"rain":1.8 },{"date":169344E7,"ts":"Thu, 31","ds":"Thu, 31 Aug","icon":7,"desc":"Cloudy.","temp":18,"templow":10,"cf":18,"wind":2,"wd":90,"hum":60,"pc":3},{"date":16935264E5,"ts":"Fri, 1","ds":"Fri, 1 Sep","icon":4,"desc":"Morning clouds.","temp":21,"templow":12,"cf":20,"wind":8,"wd":40,"hum":55,"pc":1},{"date":16936128E5,"ts":"Sat, 2","ds":"Sat, 2 Sep","icon":4,"desc":"Afternoon clouds.","temp":21,"templow":12,"cf":21,"wind":3,"wd":20,"hum":49,"pc":6},{"date":16936992E5,"ts":"Sun, 3","ds":"Sun, 3 Sep","icon":7,"desc":"Overcast.","temp":22,"templow":13,"cf":25,"wind":5,"wd":320,"hum":49,"pc":6},{"hl":true,"hls":"4 Sep – 10 Sep","date":16937856E5,"ts":"Mon, 4","ds":"Mon, 4 Sep","icon":7,"desc":"Overcast.","temp":22,"templow":14,"cf":25,"wind":3,"wd":60,"hum":50,"pc":5},{"date":1693872E6,"ts":"Tue, 5","ds":"Tue, 5 Sep","icon":6,"desc":"Broken clouds.","temp":22,"templow":14,"cf":25,"wind":10,"wd":330,"hum":50,"pc":6},{"date":16939584E5,"ts":"Wed, 6","ds":"Wed, 6 Sep","icon":33,"desc":"Showers late. Overcast.","temp":20,"templow":14,"cf":20,"wind":13,"wd":220,"hum":57,"pc":50,"rain":2.5 },{"date":16940448E5,"ts":"Thu, 7","ds":"Thu, 7 Sep","icon":33,"desc":"Passing showers. Partly cloudy.","temp":18,"templow":12,"cf":18,"wind":18,"wd":290,"hum":67,"pc":45,"rain":0.8 },{"date":16941312E5,"ts":"Fri, 8","ds":"Fri, 8 Sep","icon":7,"desc":"Cloudy.","temp":19,"templow":12,"cf":18,"wind":13,"wd":270,"hum":66,"pc":6},{"date":16942176E5,"ts":"Sat, 9","ds":"Sat, 9 Sep","icon":33,"desc":"Showers late. Mostly cloudy.","temp":19,"templow":13,"cf":18,"wind":9,"wd":210,"hum":62,"pc":53,"rain":1.5 }],"grid":{"temp":{"low":9,"high":22,"range":13},"prec":{"high":3.3},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2308/SeasonSaturnapodacasely1024.jpg',
		Title:     'A Season of Saturn',
		LinkImage: 'https://apod.nasa.gov/apod/image/2308/SeasonSaturnapodacasely.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230825.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: This is usually a temporary error during hostname resolution and means that the local server did not receive a response from an authoritative server. (www.outdoorphotographer.com:443)');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Bosque_de_Piedra%2C_provincia_de_Varna%2C_Bulgaria%2C_2016-05-27%2C_DD_73.jpg/650px-Bosque_de_Piedra%2C_provincia_de_Varna%2C_Bulgaria%2C_2016-05-27%2C_DD_73.jpg',
		Title:    'Pobiti Kamani',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Pobiti_Kamani',
		Description: '    <b><a href="/wiki/Pobiti_Kamani" title="Pobiti Kamani">Pobiti Kamani</a></b> is a <a href="/wiki/List_of_rock_formations" title="List of rock formations">rock formation</a> located in <a href="/wiki/Varna_Province" title="Varna Province">Varna Province</a>, Bulgaria. There are a number of theories regarding its origin, with two broad hypotheses. According to one, the formations are the result of <a href="/wiki/Coral" title="Coral">coral</a> activity, while another explains the phenomenon with the prismatic <a href="/wiki/Weathering" title="Weathering">weathering</a> and <a href="/wiki/Desertification" title="Desertification">desertification</a> of the rocks, the formation of sand and limestone <a href="/wiki/Concretion" title="Concretion">concretions</a>, or lower <a href="/wiki/Eocene" title="Eocene">Eocene</a> bubbling reefs. The stone pillars were first described by the Russian archaeologist and historian Victor Teplyakov in 1829, and the site was designated a natural landmark in the late 1930s. This photograph shows the pillars of Pobiti Kamani in 2016.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:Poco_a_poco" title="User:Poco a poco">Diego Delso</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1693016100,"duration":9600,"svcId":700,"evtId":9442,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Athletics: World Championships","description":"Live and uninterrupted coverage of the women\u0027s marathon, with competitors running four laps of a 10km course incorporating Budapest\u0027s historic landmarks. [S] [HD]","startTime":1693025700,"duration":21900,"svcId":700,"evtId":9448,"image":"\/ms\/img\/epg\/rb\/8df1-p0g71g7h.jpg","hasTstv":false,"seriesNo":2023},{"name":"Caribbean Food Made Easy","description":"4\/4. Levi takes to the seas to show Mull fishermen how to dub up their catch and lays on the ultimate Caribbean cricket tea for two teams of hungry Yorkshiremen. [S,AD]","startTime":1693047600,"duration":1800,"svcId":700,"evtId":9517,"image":"\/ms\/img\/epg\/rb\/8df1-p05rgkdn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1522472400,"availabilityEnd":2177387940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b00mtr6m\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"The Third Man","description":"Classic film noir set in postwar Vienna. A visiting American investigates the apparent death of a friend and uncovers some unpleasant truths. [1949] [S,AD]","startTime":1693049400,"duration":6300,"svcId":700,"evtId":9518,"image":"\/ms\/img\/epg\/rb\/8df1-p03br58g.jpg","hasTstv":false},{"name":"The Hundred: Northern...","description":"...Superchargers v Welsh Fire - Women\u0027s Eliminator. Isa Guha presents as two talented sides battle it out to reach Sunday\u0027s final. [S] [HD]","startTime":1693055700,"duration":11700,"svcId":700,"evtId":9519,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8mrvb.jpg","hasTstv":false},{"name":"Flog It!","description":"30\/60. A special edition of Flog it! revisiting some of the historic venues from the series and bringing you brand new valuations and unexpected auctions. [S] [HD]","startTime":1693067400,"duration":2700,"svcId":700,"evtId":9520,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":16,"episodeNo":30},{"name":"Celebrity Antiques Road Trip","description":"4\/20. Presenter Gethin Jones and TV doctor Xand Van Tulleken cruise both sides of the Welsh border on the prowl for antique treasures. Will these pals fall out over a porcelain pig? [S] [HD]","startTime":1693070100,"duration":3600,"svcId":700,"evtId":9521,"image":"\/ms\/img\/epg\/rb\/8df1-p0df6416.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1669150946,"availabilityEnd":1703878336,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001fhl4\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":4},{"name":"Dad\u0027s Army","description":"10\/13. Classic sitcom. The Chief Warden challenges Captain Mainwaring to a game of cricket. Featuring a guest appearance by English cricket legend Fred Trueman. [S]","startTime":1693073700,"duration":1800,"svcId":700,"evtId":9522,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8mllf.jpg","hasTstv":false,"seriesNo":4,"episodeNo":10},{"name":"Northern Soul at the Proms","description":"The roof of the Royal Albert Hall nearly comes off in this special Prom dedicated to northern soul, curated by Wigan\u0027s Stuart Maconie and Manchester\u0027s Joe Duddell. [S] [HD]","startTime":1693075500,"duration":5400,"svcId":700,"evtId":9523,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8m44w.jpg","hasTstv":false,"seriesNo":2023},{"name":"Shania Twain at the BBC","description":"A collection of Shania Twain\u0027s biggest moments from the BBC archives, including Still the One, That Don\u0027t Impress Me Much and Man! I Feel Like a Woman! [S] [HD]","startTime":1693080900,"duration":2700,"svcId":700,"evtId":9524,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8hzd7.jpg","hasTstv":false},{"name":"Madonna at the BBC","description":"A look back at a selection of magical Madonna moments on various BBC shows, from her first Top of the Pops appearance with Holiday in 1984 right up to the present day. [S] [HD]","startTime":1693083600,"duration":3600,"svcId":700,"evtId":9525,"image":"\/ms\/img\/epg\/rb\/8df1-p0b8d8f5.jpg","hasTstv":false},{"name":"Madonna Rebel Heart Tour","description":"A collection of live and behind-the-scenes footage, featuring new hits and classic songs. Contains very strong language. [2016] [S] [HD]","startTime":1693087200,"duration":7200,"svcId":700,"evtId":9526,"image":"\/ms\/img\/epg\/rb\/8df1-p05t8jv0.jpg","hasTstv":false},{"name":"Madonna: Truth or Dare","description":"Documentary following singer Madonna on her controversial Blond Ambition tour in 1990. Contains very strong language and some upsetting scenes. [1991] [S] [HD]","startTime":1693094400,"duration":6900,"svcId":700,"evtId":9527,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1693101300,"duration":10800,"svcId":700,"evtId":9528,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Edinburgh. Cabin crew trainer Julie plans an evening of Scottish fine dining, including a hearty winter warmer, her grandmother\u0027s Cullen skink and a full Scottish pipe band. (Ep2\/5)  [S]","startTime":1693018500,"duration":1800,"svcId":1500,"evtId":35719,"image":"\/ms\/img\/epg\/rb\/5d52-396072743.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. IT manager and occasional stand-up comic Ryan hosts with a menu designed by his friend who\u0027s a Michelin-starred chef. But Ryan has no idea how to cook any of it! (Ep3\/5)  [S]","startTime":1693020300,"duration":1500,"svcId":1500,"evtId":35720,"image":"\/ms\/img\/epg\/rb\/5d52-396072745.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Cabbie Jamie pulls out all the stops with a fine dining menu. But will he impress his guests with his choice of chat and a striptease during a silent disco? (Ep4\/5)  [S]","startTime":1693021800,"duration":1800,"svcId":1500,"evtId":35721,"image":"\/ms\/img\/epg\/rb\/5d52-396072747.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Business owner and socialite Maz hopes that her top-notch hosting skills, charm offensive and some fantastic fondue will win her the grand on the final night. (Ep5\/5)  [S]","startTime":1693023600,"duration":1500,"svcId":1500,"evtId":35722,"image":"\/ms\/img\/epg\/rb\/5d52-396072751.l.png","hasTstv":false},{"name":"Beat the Chef","description":"Andi Oliver hosts the series where amateur cooks compete with chefs. Rachel faces off against Mark Sargeant as they each cook a duck dish with a sauce and potato rosti. (S1 Ep1)  [S]","startTime":1693025100,"duration":1500,"svcId":1500,"evtId":35967,"image":"\/ms\/img\/epg\/rb\/5d52-3649553.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"The King of Queens","description":"Mama Cast: Doug invests in an ice cream truck, but soon realises that he isn\u0027t the only ice cream seller in town. (S9 Ep1\/13)  [AD,S]","startTime":1693026600,"duration":1500,"svcId":1500,"evtId":35775,"image":"\/ms\/img\/epg\/rb\/5d52-417773.l.png","hasTstv":false,"seriesNo":9,"episodeNo":1},{"name":"The King of Queens","description":"Affair Trade: When Doug receives seductive messages from a woman who had a fling with another Doug Heffernan in the Hamptons, he struggles to sort out the misunderstanding. (S9 Ep2\/13)  [AD,S]","startTime":1693028100,"duration":1200,"svcId":1500,"evtId":35776,"image":"\/ms\/img\/epg\/rb\/5d52-6571859.l.png","hasTstv":false,"seriesNo":9,"episodeNo":2},{"name":"The King of Queens","description":"Moxie Moron: When Doug and Deacon\u0027s boss is sent to rehab, Deacon takes over as supervisor, but things go bad when Doug decides he wants to join the management structure too. (S9 Ep3\/13)  [AD,S]","startTime":1693029300,"duration":1500,"svcId":1500,"evtId":36141,"image":"\/ms\/img\/epg\/rb\/5d52-6813206.l.png","hasTstv":false,"seriesNo":9,"episodeNo":3},{"name":"Cheers","description":"Norman\u0027s Conquest: Urged on by the bar patrons, Norm considers pursuing an attractive new client who seems to be interested in him, but she can\u0027t make him fall for her charms. (S2 Ep20\/22)  [S]","startTime":1693030800,"duration":1500,"svcId":1500,"evtId":36299,"image":"\/ms\/img\/epg\/rb\/5d52-121321.l.png","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"Cheers","description":"I\u0027ll Be Seeing You Part 1: Diane agrees to have her portrait painted by an arrogant, eccentric artist, even though Sam can\u0027t stand him and urges her to avoid the project. (S2 Ep21\/22)  [S]","startTime":1693032300,"duration":1500,"svcId":1500,"evtId":35778,"image":"\/ms\/img\/epg\/rb\/5d52-124603.l.png","hasTstv":false,"seriesNo":2,"episodeNo":21},{"name":"Everybody Loves Raymond","description":"Sister-in-Law: Trouble brews in the Barone family when Robert\u0027s wife Amy finds out that Ray thinks she is in the habit of talking too much. (S9 Ep13)  [AD,S]","startTime":1693033800,"duration":1800,"svcId":1500,"evtId":36069,"image":"\/ms\/img\/epg\/rb\/5d52-5484126.l.png","hasTstv":false,"seriesNo":9,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"The Power of No: Ray tries to make himself more desirable in Debra\u0027s eyes by playing hard to get, but there\u0027s trouble when she finds out what he\u0027s up to. (S9 Ep14)  [AD,S]","startTime":1693035600,"duration":1800,"svcId":1500,"evtId":36070,"image":"\/ms\/img\/epg\/rb\/5d52-5492223.l.png","hasTstv":false,"seriesNo":9,"episodeNo":14},{"name":"The Simpsons","description":"One Fish, Two Fish, Blowfish, Blue Fish: Homer is told that he has 24 hours to live after eating incorrectly prepared blowfish at the Happy Sumo restaurant. (S2 Ep11\/22)  [AD,S]","startTime":1693037400,"duration":1800,"svcId":1500,"evtId":36071,"image":"\/ms\/img\/epg\/rb\/5d52-322591.l.png","hasTstv":false,"seriesNo":2,"episodeNo":11},{"name":"The Simpsons","description":"The Way We Was: The Simpsons\u0027 TV breaks down, so Marge regales the kids with the tale of how she and Homer met and fell in love, despite Homer\u0027s clumsy courtship techniques. (S2 Ep12\/22)  [AD,S]","startTime":1693039200,"duration":1800,"svcId":1500,"evtId":36072,"image":"\/ms\/img\/epg\/rb\/5d52-120112.l.png","hasTstv":false,"seriesNo":2,"episodeNo":12},{"name":"The Simpsons","description":"Homer vs. Lisa and the 8th Commandment: Homer gets illegal cable TV installed, but Lisa pleads with him to get rid of it after learning the eighth commandment. (S2 Ep13\/22)  [AD,S]","startTime":1693041000,"duration":1800,"svcId":1500,"evtId":36073,"image":"\/ms\/img\/epg\/rb\/5d52-436121.l.png","hasTstv":false,"seriesNo":2,"episodeNo":13},{"name":"The Simpsons","description":"Principal Charming: Homer tries to set Principal Skinner up with Selma, but he falls for Patty, who\u0027s far less interested in him. (S2 Ep14\/22)  [AD,S]","startTime":1693042800,"duration":1800,"svcId":1500,"evtId":36074,"image":"\/ms\/img\/epg\/rb\/5d52-74482.l.png","hasTstv":false,"seriesNo":2,"episodeNo":14},{"name":"The Simpsons","description":"Oh Brother, Where Art Thou?: Homer discovers he has a long-lost brother, millionaire car company owner Herb. But all does not go well when Herb asks Homer to design a car. (S2 Ep15\/22)  [AD,S]","startTime":1693044600,"duration":1800,"svcId":1500,"evtId":36075,"image":"\/ms\/img\/epg\/rb\/5d52-254125.l.png","hasTstv":false,"seriesNo":2,"episodeNo":15},{"name":"The Simpsons","description":"MoneyBart: Inspired by a visit from an Ivy League student, Lisa jumps at the chance to train Bart\u0027s baseball team. She\u0027s hugely successful, but she soon falls out with Bart... (S22 Ep3\/22)  [AD,S]","startTime":1693046400,"duration":1500,"svcId":1500,"evtId":35786,"image":"\/ms\/img\/epg\/rb\/5d52-24489034.l.png","hasTstv":false,"seriesNo":22,"episodeNo":3},{"name":"The Simpsons","description":"Trilogy of Error: Homer gets his thumb sliced off while trying to steal a brownie. Lisa misses the school bus. Bart discovers Fat Tony\u0027s stash of smuggled fireworks. (S12 Ep18\/21)  [AD,S]","startTime":1693047900,"duration":1800,"svcId":1500,"evtId":35801,"image":"\/ms\/img\/epg\/rb\/5d52-1266644.l.png","hasTstv":false,"seriesNo":12,"episodeNo":18},{"name":"The Secret Life of the Zoo","description":"Memorable moments from Chester Zoo. A pair of Malayan sun bears need help with mating. And an elderly chameleon gets a new lease of life when he\u0027s matched up with a pair of lively females.  [AD,S]","startTime":1693049700,"duration":3600,"svcId":1500,"evtId":35787,"image":"\/ms\/img\/epg\/rb\/5d52-412776446.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Glaswegian singers Gordon and Staci hope to find a holiday home in western Tenerife where they can escape their busy schedules. Will any of Lee Juggurnauth\u0027s options hit the right notes?  [S]","startTime":1693053300,"duration":3900,"svcId":1500,"evtId":36321,"image":"\/ms\/img\/epg\/rb\/5d52-401474689.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The first visit of the week is to Abbey Court Guest House in Carlisle. Host Kelly aims to impress with plush rooms and abseiling. But will breakfast complaints send her chances off a cliff?  [S]","startTime":1693057200,"duration":1800,"svcId":1500,"evtId":35788,"image":"\/ms\/img\/epg\/rb\/5d52-6591422.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Glam couple Rob and Heloisa host at The Lime Tree Inn in Yorkshire, where chef Rob pulls out all the stops at breakfast. It\u0027s a shame the cleaners didn\u0027t do the same in Kelly\u0027s bathroom.  [S]","startTime":1693059000,"duration":1800,"svcId":1500,"evtId":35789,"image":"\/ms\/img\/epg\/rb\/5d52-6591513.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Visit three is to Holly Grove Farm in Staffordshire. Hosts Dave and Karon think that their rural glampsite is a tucked-away idyll, and their guests concur - apart from one...  [S]","startTime":1693060800,"duration":1800,"svcId":1500,"evtId":35790,"image":"\/ms\/img\/epg\/rb\/5d52-6592265.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Can host Pav handle his guests\u0027 grumbles about cleanliness and instant coffee when he hosts the week\u0027s final visit, at Beldon House B\u0026B in Lincolnshire?  [S]","startTime":1693062600,"duration":1800,"svcId":1500,"evtId":35791,"image":"\/ms\/img\/epg\/rb\/5d52-6592889.l.png","hasTstv":false},{"name":"Four in a Bed","description":"One B\u0026Ber comes under fire on payment day for some suspicious scoring, while a confusing breakfast rating is high on the agenda for another. But most importantly, who\u0027s won the week?  [S]","startTime":1693064400,"duration":2100,"svcId":1500,"evtId":35792,"image":"\/ms\/img\/epg\/rb\/5d52-6593145.l.png","hasTstv":false},{"name":"New: The Queens That Changed...","description":"...the World: Documentary. Hatshepsut was one of Egypt\u0027s most successful rulers. She chose to be represented as a king rather than a queen, and brought wealth and artistry to Egypt. (Ep4\/6)  [AD,S]","startTime":1693066500,"duration":3600,"svcId":1500,"evtId":35793,"image":"\/ms\/img\/epg\/rb\/5d52-8038344.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1693070100,"duration":1800,"svcId":1500,"evtId":35794,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"F1 Dutch GP Qualifying Highlights","description":"It\u0027s the first Qualifying session after the summer break. It\u0027s also championship leader Max Verstappen\u0027s home GP. Can anyone bring the fight to him in front of a partisan crowd?  [S]","startTime":1693071900,"duration":5400,"svcId":1500,"evtId":35795,"image":"\/ms\/img\/epg\/rb\/5d52-8038363.l.png","hasTstv":false},{"name":"Matt Baker\u0027s Travels in the...","description":"...Country: USA: In the Mojave Desert, Matt lends a hand with some Joshua trees, helps rangers close an old gold mine, and explores the Blythe Intaglios. (Ep4\/6)  [AD,S]","startTime":1693077300,"duration":3600,"svcId":1500,"evtId":35797,"image":"\/ms\/img\/epg\/rb\/5d52-7554797.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Mission: Impossible - Rogue Nation","description":"(2015) Part five of the Tom Cruise action-thriller franchise. The secret agents must bring down a terrorist group, but that\u0027s not easy when the CIA are hunting you down... Violence.  [AD,S]","startTime":1693080900,"duration":9000,"svcId":1500,"evtId":35798,"image":"\/ms\/img\/epg\/rb\/5d52-190957181.l.png","hasTstv":false},{"name":"Alien: Covenant","description":"(2017) Ridley Scott\u0027s sci-fi horror sequel to Prometheus, with Michael Fassbender. Terraforming space pioneers meet a deadly threat on an Earth-like planet. Violence\/strong language.  [AD,S]","startTime":1693089900,"duration":7800,"svcId":1500,"evtId":35799,"image":"\/ms\/img\/epg\/rb\/5d52-258645354.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Mama Maria\u0027s, a failing restaurant in Brooklyn, New York, where owner John is overwhelmed by running a business that\u0027s become stuck in the past. (S6 Ep3)  [S,SL]","startTime":1693097700,"duration":3000,"svcId":1500,"evtId":36096,"image":"\/ms\/img\/epg\/rb\/5d52-383517533.l.png","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"Hollyoaks Omnibus","description":"Is Romeo in danger when Rayne\u0027s true colours come out? It\u0027s GCSE results day for the teens of Hollyoaks. And concern rises when Felix skips a family meal.  [AD,S,SL]","startTime":1693100700,"duration":7800,"svcId":1500,"evtId":35800,"image":"\/ms\/img\/epg\/rb\/5d52-8038628.l.png","hasTstv":false},{"name":"Location, Location, Location","description":"Phil Spencer and Kirstie Allsopp catch up with Jo Beck, who wanted a permanent family home, and Chae and Corinna, who were looking for perfection in Fife.  [S,SL]","startTime":1693108500,"duration":3300,"svcId":1500,"evtId":36098,"image":"\/ms\/img\/epg\/rb\/5d52-6120820.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('370');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('178');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('37');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('24');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '0a8ovFMiUz0', title: "London vs New York City | Metro System", label: "London vs New York City | Metro System by Urban Stories 1 month ago 36 seconds 427,198 views – play Short" },
{ id: '0a8ovFMiUz0', title: "London vs New York City | Parks", label: "London vs New York City | Parks by Urban Stories 1 month ago 40 seconds 105,217 views – play Short" },
{ id: '-8JI02ejZ0A', title: "London vs New York City | Nightlife", label: "London vs New York City | Nightlife by Urban Stories 3 weeks ago 49 seconds 32,575 views – play Short" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Netherlands.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Dutch_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>27 August</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Titane (2021)">Titane (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Raw (2016)">Raw (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+12 Years a Slave (2013)">12 Years a Slave (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Rear Window (1954)">Rear Window (1954)</a></li><li><a href="https://www.google.com/search?q=Films+-+Heavenly Creatures (1994)">Heavenly Creatures (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Us (2019)">Us (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Return of the Obra Dinn (2018)">Return of the Obra Dinn (2018)</a></li><li><a href="https://www.google.com/search?q=Games+-+Card Shark (2022)">Card Shark (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Stardew Valley (2016)">Stardew Valley (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Frasier (Various)">Frasier (Various)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Sixth Commandment (2023, S1)">The Sixth Commandment (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Animals of Farthing Wood (1993, S1)">The Animals of Farthing Wood (1993, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 177.53, tooltip: "Thu, Aug 24, 2023<br/>£177.53"},
{ number: 178.45, tooltip: "Wed, Aug 23, 2023<br/>£178.45"},
{ number: 176.15, tooltip: "Tue, Aug 22, 2023<br/>£176.15"},
{ number: 176.09, tooltip: "Mon, Aug 21, 2023<br/>£176.09"},
{ number: 175.59, tooltip: "Fri, Aug 18, 2023<br/>£175.59"},
{ number: 175.58, tooltip: "Thu, Aug 17, 2023<br/>£175.58"},
{ number: 176.98, tooltip: "Wed, Aug 16, 2023<br/>£176.98"},
{ number: 178.42, tooltip: "Tue, Aug 15, 2023<br/>£178.42"},
{ number: 181.17, tooltip: "Mon, Aug 14, 2023<br/>£181.17"},
{ number: 180.52, tooltip: "Fri, Aug 11, 2023<br/>£180.52"},
{ number: 181.04, tooltip: "Thu, Aug 10, 2023<br/>£181.04"},
{ number: 180.61, tooltip: "Wed, Aug 09, 2023<br/>£180.61"},
{ number: 181.27, tooltip: "Tue, Aug 08, 2023<br/>£181.27"},
{ number: 181.67, tooltip: "Mon, Aug 07, 2023<br/>£181.67"},
{ number: 181.04, tooltip: "Fri, Aug 04, 2023<br/>£181.04"},
{ number: 181.96, tooltip: "Thu, Aug 03, 2023<br/>£181.96"},
{ number: 182.71, tooltip: "Wed, Aug 02, 2023<br/>£182.71"},
{ number: 184.65, tooltip: "Tue, Aug 01, 2023<br/>£184.65"},
{ number: 184.04, tooltip: "Mon, Jul 31, 2023<br/>£184.04"},
{ number: 183.58, tooltip: "Fri, Jul 28, 2023<br/>£183.58"},
{ number: 182.39, tooltip: "Thu, Jul 27, 2023<br/>£182.39"},
{ number: 181.89, tooltip: "Wed, Jul 26, 2023<br/>£181.89"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Aug 24, 2023",
		"vs Day":      "Wed, Aug 23, 2023",
		"vs Week":     "Thu, Aug 17, 2023",
		"vs Month":    "Wed, Jul 26, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£177.53/share",
		'vs Day':      "-0.52%",
		'vs Week':     "+1.11%",
		'vs Month':    "-2.40%",
		'vs Year':     "-1.24%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '66.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 25 August and 26 August">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.669&p=5.719&r=5.734',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:07',
		Set:      '20:08',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Quiescent</em> is a formal word that describes things that are quiet, inactive, or in a state of peaceful rest. In medical contexts it describes a condition that is not currently developing or causing symptoms, as in "a quiescent disease/virus."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Sterling">Sterling</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Luton">Luton</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Chilwell">Chilwell</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23CHELUT">#CHELUT</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Sam+Fender%22">Sam Fender</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Sterling">Sterling</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Mookie">Mookie</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Kyle+Rittenhouse%22">Kyle Rittenhouse</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Fenway">Fenway</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Luton">Luton</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>