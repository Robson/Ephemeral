<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:11 14-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Nottingham: Students among three killed in Nottingham attacks</b><br/>Two 19-year-old university students and a man in his 50s were killed in van and knife attacks in the city on Tuesday morning." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-65893694?at_medium=RSS&amp;at_campaign=KARANGA">Nottingham: Students among three killed in Nottingham attacks</a></li><li class="ttt" data-tt="<b>Covid inquiry: Failure to consider \'potentially massive impact\' of lockdown pre-pandemic</b><br/>The UK may not have been well prepared &quot;at all&quot;, says the lead lawyer for the Covid inquiry."><a href="https://www.bbc.co.uk/news/health-65888152?at_medium=RSS&amp;at_campaign=KARANGA">Covid inquiry: Failure to consider \'potentially massive impact\' of lockdo...</a></li><li class="ttt" data-tt="<b>Police to be given clearer powers on slow-walk protests</b><br/>The Lords votes through the new regulations, despite an attempt to block them by opposition peers."><a href="https://www.bbc.co.uk/news/uk-politics-65897513?at_medium=RSS&amp;at_campaign=KARANGA">Police to be given clearer powers on slow-walk protests</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-65893694?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6CB4/production/_130082872_2e227706f5ddd33b2f8b7946403c5c2ff6868686.jpg" class="ttt" data-tt="Barnaby Webber" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Donald Trump pleads not guilty in arraignment over classified documents</b><br/>The ex-president\'s lawyer says he &quot;most certainly&quot; denies all charges of mishandling sensitive files." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65877764?at_medium=RSS&amp;at_campaign=KARANGA">Donald Trump pleads not guilty in arraignment over classified documents</a></li><li class="ttt" data-tt="<b>Three ways Trump may try to delay or dismiss documents trial</b><br/>After the former president pleads not guilty, legal experts explain what his strategy might be next."><a href="https://www.bbc.co.uk/news/world-us-canada-65897823?at_medium=RSS&amp;at_campaign=KARANGA">Three ways Trump may try to delay or dismiss documents trial</a></li><li class="ttt" data-tt="<b>Cormac McCarthy, author of The Road, dies aged 89</b><br/>The Pulitzer Prize-winning author has died of natural causes aged 89, his publisher says."><a href="https://www.bbc.co.uk/news/entertainment-arts-65898867?at_medium=RSS&amp;at_campaign=KARANGA">Cormac McCarthy, author of The Road, dies aged 89</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65877764?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/E766/production/_130083295_trumpcourtsketch.jpg" class="ttt" data-tt="A court sketch shows Donald Trump in court in Miami in a blue suit, flanked by his lawyers, Chris Kise and Todd Blanche" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Donald Trump pleads not guilty in arraignment over classified documents</b><br/>The ex-president\'s lawyer says he &quot;most certainly&quot; denies all charges of mishandling sensitive files." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65877764?at_medium=RSS&amp;at_campaign=KARANGA">Donald Trump pleads not guilty in arraignment over classified documents</a></li><li class="ttt" data-tt="<b>Ukraine offensive: Inside one of the villages freed from Russian forces</b><br/>The BBC reaches Neskuchne in Donetsk region, which saw heavy fighting before it was liberated."><a href="https://www.bbc.co.uk/news/world-europe-65894743?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine offensive: Inside one of the villages freed from Russian forces</a></li><li class="ttt" data-tt="<b>Cormac McCarthy, author of The Road, dies aged 89</b><br/>The Pulitzer Prize-winning author has died of natural causes aged 89, his publisher says."><a href="https://www.bbc.co.uk/news/entertainment-arts-65898867?at_medium=RSS&amp;at_campaign=KARANGA">Cormac McCarthy, author of The Road, dies aged 89</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65877764?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/E766/production/_130083295_trumpcourtsketch.jpg" class="ttt" data-tt="A court sketch shows Donald Trump in court in Miami in a blue suit, flanked by his lawyers, Chris Kise and Todd Blanche" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Le Mans 24 Hours: Danger, beauty & hydrocarbon - why the race is more important than you realise</b><br/>The 100th anniversary of the first edition of the Le Mans 24 Hour race tapped into the event\'s glorious past. What it might mean for the next 100 years of motoring is just as profound." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/motorsport/65874444?at_medium=RSS&amp;at_campaign=KARANGA">Le Mans 24 Hours: Danger, beauty & hydrocarbon - why the race is more impor...</a></li><li class="ttt" data-tt="<b>Emilia-Romagna Grand Prix: Imola trophies from cancelled race raise £245,000 at auction</b><br/>The podium trophies and Pirelli pole position award from the cancelled Emilia-Romagna Grand Prix raise more than £245,000 at auction."><a href="https://www.bbc.co.uk/sport/formula1/65889822?at_medium=RSS&amp;at_campaign=KARANGA">Emilia-Romagna Grand Prix: Imola trophies from cancelled race raise £245,00...</a></li><li class="ttt" data-tt="<b>F1 Canadian Grand Prix 2023 practice, qualifying and race start times</b><br/>Round nine of the 2023 Formula 1 season heads to Montreal, Canada - listen to BBC radio commentary and follow live text updates."><a href="https://www.bbc.co.uk/sport/formula1/64978906?at_medium=RSS&amp;at_campaign=KARANGA">F1 Canadian Grand Prix 2023 practice, qualifying and race start times</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/motorsport/65874444?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/3508/production/_130067531_ferarri_getty.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>US moves to block Microsoft\'s Activision takeover</b><br/>Regulators have asked a judge to block the proposed deal, arguing it could harm competition levels." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/business-65888228?at_medium=RSS&amp;at_campaign=KARANGA">US moves to block Microsoft\'s Activision takeover</a></li><li class="ttt" data-tt="<b>Twitter boss Linda Yaccarino gives first hint on shake-up plans</b><br/>Chief executive Linda Yaccarino says the company aims to &quot;drive civilisation forward&quot;."><a href="https://www.bbc.co.uk/news/business-65886509?at_medium=RSS&amp;at_campaign=KARANGA">Twitter boss Linda Yaccarino gives first hint on shake-up plans</a></li><li class="ttt" data-tt="<b>Jack Dorsey: India threatened to shut Twitter and raid employees</b><br/>Former Twitter CEO Jack Dorsey\'s allegations have been denied by the Indian government."><a href="https://www.bbc.co.uk/news/world-asia-india-65886825?at_medium=RSS&amp;at_campaign=KARANGA">Jack Dorsey: India threatened to shut Twitter and raid employees</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/business-65888228?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1E9C/production/_128563870_microsoft-activision.jpg" class="ttt" data-tt="Microsoft logo in front of Activision game art" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"12 Jun – 18 Jun","date":16867008E5,"ts":"Wed, 14","ds":"Wed, 14 Jun","icon":1,"desc":"Sunny.","temp":24,"templow":9,"cf":25,"wind":9,"wd":80,"hum":50,"pc":0},{"date":16867872E5,"ts":"Thu, 15","ds":"Thu, 15 Jun","icon":1,"desc":"Sunny.","temp":23,"templow":11,"cf":25,"wind":9,"wd":90,"hum":49,"pc":2},{"date":16868736E5,"ts":"Fri, 16","ds":"Fri, 16 Jun","icon":1,"desc":"Sunny.","temp":23,"templow":11,"cf":25,"wind":6,"wd":130,"hum":40,"pc":0},{"date":168696E7,"ts":"Sat, 17","ds":"Sat, 17 Jun","icon":7,"desc":"Cloudy.","temp":24,"templow":11,"cf":25,"wind":8,"wd":120,"hum":45,"pc":5},{"date":16870464E5,"ts":"Sun, 18","ds":"Sun, 18 Jun","icon":21,"desc":"Isolated tstorms late. Overcast.","temp":18,"templow":13,"cf":18,"wind":10,"wd":130,"hum":81,"pc":13,"rain":0.9 },{"hl":true,"hls":"19 Jun – 25 Jun","date":16871328E5,"ts":"Mon, 19","ds":"Mon, 19 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":12,"cf":24,"wind":14,"wd":210,"hum":64,"pc":24,"rain":5.5 },{"date":16872192E5,"ts":"Tue, 20","ds":"Tue, 20 Jun","icon":33,"desc":"Rain showers. Cloudy.","temp":18,"templow":13,"cf":16,"wind":6,"wd":230,"hum":91,"pc":57,"rain":7.7 },{"date":16873056E5,"ts":"Wed, 21","ds":"Wed, 21 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":19,"templow":11,"cf":19,"wind":16,"wd":200,"hum":58,"pc":59,"rain":1.6 },{"date":1687392E6,"ts":"Thu, 22","ds":"Thu, 22 Jun","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":19,"templow":12,"cf":19,"wind":13,"wd":210,"hum":82,"pc":57,"rain":4.6 },{"date":16874784E5,"ts":"Fri, 23","ds":"Fri, 23 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":20,"templow":14,"cf":20,"wind":10,"wd":180,"hum":70,"pc":48,"rain":2.9 },{"date":16875648E5,"ts":"Sat, 24","ds":"Sat, 24 Jun","icon":7,"desc":"Cloudy.","temp":21,"templow":14,"cf":21,"wind":19,"wd":230,"hum":80,"pc":5},{"date":16876512E5,"ts":"Sun, 25","ds":"Sun, 25 Jun","icon":6,"desc":"Broken clouds.","temp":22,"templow":14,"cf":20,"wind":2,"wd":350,"hum":58,"pc":6},{"hl":true,"hls":"26 Jun – 2 Jul","date":16877376E5,"ts":"Mon, 26","ds":"Mon, 26 Jun","icon":6,"desc":"Mostly cloudy.","temp":22,"templow":14,"cf":20,"wind":7,"wd":140,"hum":56,"pc":6},{"date":1687824E6,"ts":"Tue, 27","ds":"Tue, 27 Jun","icon":21,"desc":"A few tstorms. Breaks of sun late.","temp":22,"templow":14,"cf":23,"wind":5,"wd":210,"hum":73,"pc":73,"rain":2.3 },{"date":16879104E5,"ts":"Wed, 28","ds":"Wed, 28 Jun","icon":2,"desc":"Mostly sunny.","temp":21,"templow":14,"cf":21,"wind":3,"wd":230,"hum":65,"pc":8}],"grid":{"temp":{"low":9,"high":24,"range":15},"prec":{"high":7.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/',
		Title:     'Moons Across Jupiter',
		LinkImage: 'https://apod.nasa.gov/apod/',
		LinkPage:  'https://apod.nasa.gov/apod/ap230613.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/CH.ZH.Zurich_Hotel_The-Dolder-Grand_3x2-R_15K.jpg/500px-CH.ZH.Zurich_Hotel_The-Dolder-Grand_3x2-R_15K.jpg',
		Title:    'Dolder Grand',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Dolder_Grand',
		Description: '    The <b><a href="/wiki/Dolder_Grand" title="Dolder Grand">Dolder Grand</a></b> is a five-star hotel in the Swiss city of <a href="/wiki/Z%C3%BCrich" title="Zürich">Zürich</a>. It is located on <a href="/wiki/Adlisberg" title="Adlisberg">Adlisberg</a>, a hill some 2 kilometres (1.2&#160;mi) from, and 200 metres (660&#160;ft) above, the city centre. Built in 1899, the hotel is spread out over 40,000 square metres (430,000&#160;sq&#160;ft) and offers 173 rooms and suites, two restaurants, a bar, thirteen conference rooms and a 4,000-square-metre (43,000&#160;sq&#160;ft) spa. This photograph of the Dolder Grand in the snow was taken in January 2021.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://commons.wikimedia.org/wiki/User:Roy_Egolff" class="extiw" title="c:User:Roy Egolff">Roy Egolff</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"Gods of Tennis","description":"1\/3. In 1975, Billie Jean King and Arthur Ashe are fighting to become Wimbledon champions. Contains some strong language. [S,AD,SL] [HD]","startTime":1686709500,"duration":3600,"svcId":700,"evtId":7710,"image":"\/ms\/img\/epg\/rb\/8df1-p0frw410.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686713100,"duration":7500,"svcId":700,"evtId":7711,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Garden Rescue","description":"12\/35. Lee and Flo are in Wokingham with Sylvia and Matthew. Sylvia is a hopeless romantic and dreams of a garden that embodies love and enchantment. [S] [HD]","startTime":1686720600,"duration":2700,"svcId":700,"evtId":7627,"image":"\/ms\/img\/epg\/rb\/8df1-p0fsrl46.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686670205,"availabilityEnd":1718465419,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mwty\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":12},{"name":"Clean It, Fix It","description":"12\/20. The team are in Twickenham to help Babs welcome her house guest from Ukraine. The spare bedroom gets a revamp with home comforts. [S] [HD]","startTime":1686723300,"duration":2700,"svcId":700,"evtId":7628,"image":"\/ms\/img\/epg\/rb\/8df1-p0fst378.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686672896,"availabilityEnd":1719159321,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mwv0\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":12},{"name":"Inside the Factory","description":"Gregg visits a factory that churns out 32 million mints per day. Cherry Healey visits the largest sugar beet factory in Europe, and Ruth Goodman explores minty mouthwash marketing. [S,AD,SL] [HD]","startTime":1686726000,"duration":3600,"svcId":700,"evtId":7629,"image":"\/ms\/img\/epg\/rb\/8df1-p0fl5gth.jpg","hasTstv":false,"seriesNo":10},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1686729600,"duration":7200,"svcId":700,"evtId":7630,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1686736800,"duration":900,"svcId":700,"evtId":7631,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1686737700,"duration":6300,"svcId":700,"evtId":7632,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Impossible","description":"18\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1686744000,"duration":2700,"svcId":700,"evtId":7633,"image":"\/ms\/img\/epg\/rb\/8df1-p04lwpn2.jpg","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"Eggheads","description":"Quiz in which teams from all over the UK battle to beat the formidable Eggheads. [S] [HD]","startTime":1686746700,"duration":1800,"svcId":700,"evtId":7634,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":21,"episodeNo":9},{"name":"Hairy Bikers\u0027 Bakeation","description":"6\/8. The bikers have made it as far as southern Europe. Starting in Venice, they ditch their bikes in favour of a more elegant form of transport - the gondola. [S] [HD]","startTime":1686748500,"duration":1800,"svcId":700,"evtId":7635,"image":"\/ms\/img\/epg\/rb\/8df1-p08mpvdm.jpg","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Home Is Where the Art Is","description":"3\/15. In the Wirral, today\u0027s artists create artworks to complement a recently completed house renovation. [S,AD] [HD]","startTime":1686750300,"duration":2700,"svcId":700,"evtId":7636,"image":"\/ms\/img\/epg\/rb\/8df1-p08jclxg.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Mountain: Life at the Extreme","description":"3\/3. Wildlife series. The Andes is the longest mountain range in the world and home to astonishing hidden worlds, extraordinary animals and remarkable people. [S,AD] [HD]","startTime":1686753000,"duration":3600,"svcId":700,"evtId":7637,"image":"\/ms\/img\/epg\/rb\/8df1-p05f7kh1.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Murder, Mystery and My Family:...","description":"...Case Closed?. 3\/5. Top barristers Sasha Wass and Jeremy Dein revisit the murders of two policemen. [S,AD] [HD]","startTime":1686756600,"duration":2700,"svcId":700,"evtId":7638,"image":"\/ms\/img\/epg\/rb\/8df1-p0759py3.jpg","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"Flog It!","description":"Antiques series. In Muncaster in Cumbria, hundreds of people turn up with collectibles and treasures to take to auction. Paul Martin visits Coniston Water. [S] [HD]","startTime":1686759300,"duration":2700,"svcId":700,"evtId":7639,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":14,"episodeNo":29},{"name":"Richard Osman\u0027s House of Games","description":"78\/140. Jessie Cave, Ayesha Hazarika, Simon Hickson and AJ Pritchard test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1686762000,"duration":1800,"svcId":700,"evtId":7640,"image":"\/ms\/img\/epg\/rb\/8df1-p0b54sd3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1638383400,"availabilityEnd":1669919400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012422\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":78},{"name":"Great Coastal Railway Journeys","description":"18\/20. Michael heads from a bustling Southampton to the Isle of Wight, where he rides the island\u0027s railway, made up of recycled London Underground trains. [S,AD] [HD]","startTime":1686763800,"duration":1800,"svcId":700,"evtId":7641,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft8z0j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686546000,"availabilityEnd":1718168400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mx50\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":18},{"name":"North Korea: The Insiders","description":"For more than three years, North Korea has sealed its borders. Three people have risked their lives to tell the BBC what is happening. What they reveal is shocking. [S] [HD]","startTime":1686765600,"duration":1800,"svcId":700,"evtId":7642,"image":"\/ms\/img\/epg\/rb\/8df1-p0fty0s9.jpg","hasTstv":false,"episodeNo":19},{"name":"Villages by the Sea - Craster","description":"Ben Robinson visits Northumberland\u0027s Craster to find out how a family who shares the name have had their lives and fortunes intertwined with the village for over 800 years. [S] [HD]","startTime":1686767400,"duration":1800,"svcId":700,"evtId":7643,"image":"\/ms\/img\/epg\/rb\/8df1-p0cy2x1m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1667984400,"availabilityEnd":1699520400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001c32d\u0026ui_id=4.0.0"},"seriesNo":4},{"name":"Springwatch","description":"11\/12. There\u0027s a seabird spectacle from South Stack on Anglesey, while Chris Packham and Michaela Strachan are on fledge watch at RSPB Arne in Dorset. [S] [HD]","startTime":1686769200,"duration":3600,"svcId":700,"evtId":7644,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwp0n.jpg","hasTstv":false,"seriesNo":34,"episodeNo":11},{"name":"The Gallows Pole","description":"3\/3. David\u0027s gang partake in their first mission, while David attempts to mend burnt bridges. Contains very strong language. [S,AD] [HD]","startTime":1686772800,"duration":4200,"svcId":700,"evtId":7645,"image":"\/ms\/img\/epg\/rb\/8df1-p0fqmvqj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685563230,"availabilityEnd":1717185630,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fp0jt5\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Saving Lives at Sea","description":"8\/8. On Ireland\u0027s south-east coast, the three RNLI crews at Dunmore East, Kilmore Quay and Rosslare battle to save a cargo ship that\u0027s lost all power and is drifting towards rocks. [S,AD] [HD]","startTime":1686777000,"duration":1200,"svcId":700,"evtId":7646,"image":"\/ms\/img\/epg\/rb\/8df1-p0czvxq7.jpg","hasTstv":false,"episodeNo":8},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Kirsty Wark. [S] [HD]","startTime":1686778200,"duration":2400,"svcId":700,"evtId":7647,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1686780600,"duration":300,"svcId":700,"evtId":7648,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Unspun World with John Simpson","description":"John Simpson analyses Russia\u0027s defence against Ukraine\u0027s counter-offensive. [S] [HD]","startTime":1686780900,"duration":1800,"svcId":700,"evtId":7649,"image":"\/ms\/img\/epg\/rb\/8df1-p0bqh04f.jpg","hasTstv":false,"seriesNo":2},{"name":"Best of Glastonbury 2017","description":"A reminder of some of the big performances, stories and moments from Glastonbury 2017. Contains some strong language. [S] [HD]","startTime":1686782700,"duration":7500,"svcId":700,"evtId":7650,"image":"\/ms\/img\/epg\/rb\/8df1-p09mjrks.jpg","hasTstv":false,"seriesNo":35},{"name":"Frontline Fightback","description":"4\/10. A young couple\u0027s new glamping business is threatened by online hackers. This episode looks at the work being done by West Midlands Cybercrime Unit to combat such incidents. [S,SL] [HD]","startTime":1686790200,"duration":2700,"svcId":700,"evtId":7651,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false,"seriesNo":3,"episodeNo":4},{"name":"Rip Off Britain","description":"4\/15. The team show you how to prevent your credit rating being ruined by scammers. [S,SL] [HD]","startTime":1686792900,"duration":2700,"svcId":700,"evtId":7652,"image":"\/ms\/img\/epg\/rb\/8df1-p0fnmsvz.jpg","hasTstv":false,"seriesNo":2023,"episodeNo":4},{"name":"MasterChef","description":"24\/24. After eight gruelling weeks of intense competition, the final three compete in one last cook-off for the 2023 MasterChef trophy. [S,AD,SL] [HD]","startTime":1686795600,"duration":3600,"svcId":700,"evtId":7653,"image":"\/ms\/img\/epg\/rb\/8df1-p0fqdkhy.jpg","hasTstv":false,"seriesNo":20,"episodeNo":24},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686799200,"duration":7800,"svcId":700,"evtId":7654,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"George Clarke\u0027s Amazing Spaces","description":"George meets a couple who are crafting a magical den, and a technician turning a jet engine into a supersonic camper. He also discovers lip-smacking designs in a Chilean winery. (S9 Ep3)  [AD,S,SL]","startTime":1686711300,"duration":3300,"svcId":1500,"evtId":28261,"image":"\/ms\/img\/epg\/rb\/5d52-277745708.l.png","hasTstv":false,"seriesNo":9,"episodeNo":3},{"name":"Ancient Egypt by Train with...","description":"...Alice Roberts - The Pyramids: Professor Roberts climbs deep inside one of the Great Pyramids to see pharaoh Khufu\u0027s tomb and sarcophagus. (Ep2\/4)  [AD,S,SL]","startTime":1686714600,"duration":3300,"svcId":1500,"evtId":28262,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Sunday Brunch Best Bits","description":"Tim Lovejoy and Simon Rimmer chat to actor Jeff Goldblum, in a highlight from Sunday Brunch.  [S]","startTime":1686717900,"duration":1200,"svcId":1500,"evtId":28263,"image":"\/ms\/img\/epg\/rb\/5d52-6492364.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Paul Sinha joins Susie Dent in Dictionary Corner.  [S]","startTime":1686719100,"duration":2400,"svcId":1500,"evtId":27746,"image":"\/ms\/img\/epg\/rb\/5d52-7733060.l.png","hasTstv":false},{"name":"Cheers","description":"For Real Men Only: Carla tries to organise a tribute for Eddie. Rebecca throws another corporate party for a dull middle manager. Frasier and Lilith plan a celebration. (S8 Ep8\/26)  [S]","startTime":1686721500,"duration":1500,"svcId":1500,"evtId":27747,"image":"\/ms\/img\/epg\/rb\/5d52-586716.l.png","hasTstv":false,"seriesNo":8,"episodeNo":8},{"name":"Cheers","description":"Two Girls for Every Boyd: Sam, Frasier, Cliff and Norm hold a beard-growing contest to show their manliness. Woody worries about the romantic scenes in his first leading role. (S8 Ep9\/26)  [S]","startTime":1686723000,"duration":1500,"svcId":1500,"evtId":27748,"image":"\/ms\/img\/epg\/rb\/5d52-59324.l.png","hasTstv":false,"seriesNo":8,"episodeNo":9},{"name":"The King of Queens","description":"Golden Moldy: Doug plays down a problem in the basement so he and Carrie can go on a trip to the Caribbean. But the fun stops when Arthur calls to say the house needs fixing. (S5 Ep16\/25)  [AD,S]","startTime":1686724500,"duration":1500,"svcId":1500,"evtId":27749,"image":"\/ms\/img\/epg\/rb\/5d52-381639425.l.png","hasTstv":false,"seriesNo":5,"episodeNo":16},{"name":"The King of Queens","description":"S\u0027Poor House: Doug goes cap in hand to ask his dad for the money to fix a household problem. But in return, his dad insists that Doug curbs Carrie\u0027s \u0027wild spending\u0027. (S5 Ep17\/25)  [AD,S]","startTime":1686726000,"duration":1500,"svcId":1500,"evtId":27750,"image":"\/ms\/img\/epg\/rb\/5d52-381642878.l.png","hasTstv":false,"seriesNo":5,"episodeNo":17},{"name":"Frasier","description":"Duke\u0027s, We Hardly Knew Ye: Frasier and Niles accompany Martin to the closing of his favourite bar. But they soon realise they have shares in the company forcing its closure. (S2 Ep5)  [AD,S]","startTime":1686727500,"duration":1800,"svcId":1500,"evtId":27751,"image":"\/ms\/img\/epg\/rb\/5d52-391637587.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"Frasier","description":"The Botched Language of Cranes: After publicly denouncing Seattle as a \u0027soggy\u0027 city, Frasier must battle the angry words and \u0027gifts\u0027 of die-hard Seattleites. (S2 Ep6)  [AD,S]","startTime":1686729300,"duration":1800,"svcId":1500,"evtId":27752,"image":"\/ms\/img\/epg\/rb\/5d52-358660.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Frasier","description":"The Candidate: There\u0027s father-son rivalry when Martin favours right-wing political candidate Holden Thorpe, while Frasier and Niles support his left-wing rival. (S2 Ep7)  [AD,S]","startTime":1686731100,"duration":1800,"svcId":1500,"evtId":27753,"image":"\/ms\/img\/epg\/rb\/5d52-611907.l.png","hasTstv":false,"seriesNo":2,"episodeNo":7},{"name":"Find It, Fix It, Flog It","description":"Simon O\u0027Brien and Henry Cole head to High Wycombe in Buckinghamshire, a town famed for furniture production - music to Simon\u0027s ears, but not a motor in sight for Henry! (S7 Ep14)  [AD,S]","startTime":1686732900,"duration":3600,"svcId":1500,"evtId":27754,"image":"\/ms\/img\/epg\/rb\/5d52-6149149.l.png","hasTstv":false,"seriesNo":7,"episodeNo":14},{"name":"Couples Come Dine with Me","description":"Bickering in the kitchen spills over to the dinner table in Brighton, in a week that also features a divisive Italian menu, cold food and awkward conversation.  [S]","startTime":1686736500,"duration":3600,"svcId":1500,"evtId":27755,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":16},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1686740100,"duration":300,"svcId":1500,"evtId":27756,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Live: Steph\u0027s Packed Lunch","description":"Steph McGovern presents her live lunchtime show featuring celebrity guests, fantastic food and the best entertainment, lifestyle and consumer stories making the headlines.  [S]","startTime":1686740400,"duration":7800,"svcId":1500,"evtId":27757,"image":"\/ms\/img\/epg\/rb\/5d52-7733360.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Paul Sinha joins Susie Dent in Dictionary Corner.  [S]","startTime":1686748200,"duration":3000,"svcId":1500,"evtId":27758,"image":"\/ms\/img\/epg\/rb\/5d52-7733363.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Kirsty wants a holiday home on the Canary Island of Lanzarote for her budget of \u00a3120,000. With her best pal Wendy joining her on the search, can Craig Rowe find Kirsty her perfect place?  [S]","startTime":1686751200,"duration":3600,"svcId":1500,"evtId":27759,"image":"\/ms\/img\/epg\/rb\/5d52-6149091.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Mark and Peter want a property near Maspalomas on their dream island of Gran Canaria, to enjoy getaways with their families and cockapoo, Rosie. Danni Menzies shows them what \u00a380k can buy. [S,W]","startTime":1686754800,"duration":3600,"svcId":1500,"evtId":29091,"image":"\/ms\/img\/epg\/rb\/5d52-415623311.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Sarah Beeny\u0027s New Country Lives","description":"James and Jodie find out more about how to make their 17th-century farmhouse watertight, while Emma and James plan to take two alpacas paddling at the beach. (Ep13)  [AD,S]","startTime":1686758400,"duration":3600,"svcId":1500,"evtId":27761,"image":"\/ms\/img\/epg\/rb\/5d52-7733382.l.png","hasTstv":false,"seriesNo":1,"episodeNo":13},{"name":"The Simpsons","description":"Brother\u0027s Little Helper: An experimental ADHD drug improves Bart\u0027s behaviour but makes him paranoid: is Major League Baseball using a satellite to read his thoughts? (S11 Ep2\/22)  [AD,S]","startTime":1686762000,"duration":1800,"svcId":1500,"evtId":27762,"image":"\/ms\/img\/epg\/rb\/5d52-387109674.l.png","hasTstv":false,"seriesNo":11,"episodeNo":2},{"name":"Hollyoaks","description":"Tom struggles to move forward as he tries to focus on the future - but does Yazz feel the same? Grace calls off the armed van robbery. And Charlie\u0027s paranoia gets the better of him.  [AD,S]","startTime":1686763800,"duration":1800,"svcId":1500,"evtId":27763,"image":"\/ms\/img\/epg\/rb\/5d52-7733406.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1686765600,"duration":3600,"svcId":1500,"evtId":27764,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: Location, Location, Location","description":"We catch up with Steph and Nick who scoured central Scotland to find their first home... did Dennyloanhead deliver? In Bristol, did Elly and Paul\u0027s feline futureproofing work out? (S39 Ep7)  [S]","startTime":1686769200,"duration":3600,"svcId":1500,"evtId":27765,"image":"\/ms\/img\/epg\/rb\/5d52-7733558.l.png","hasTstv":false,"seriesNo":39,"episodeNo":7},{"name":"New: Extraordinary Escapes with...","description":"...Sandi Toksvig: In the Lake District, Sandi takes comedian Judi Love to Ullswater\u0027s secluded Gaia Farmhouse, and to a unique boathouse by stormy Derwentwater. (S3 Ep2\/5)  [AD,S]","startTime":1686772800,"duration":3600,"svcId":1500,"evtId":27766,"image":"\/ms\/img\/epg\/rb\/5d52-7733560.l.png","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"24 Hours in Police Custody","description":"The Murder of Rikki Neave: A true crime cold case special revisits the brutal, unsolved murder of a six-year-old in 1994. Will a compelling new lead finally reveal the killer? (Ep1\/2)  [AD,S]","startTime":1686776400,"duration":3900,"svcId":1500,"evtId":27767,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"UEFA Euro Qualifiers Preview","description":"A look ahead to the next round of European Championship qualifiers as nations aim to take a step closer to Euro 2024 in Germany. [S]","startTime":1686780300,"duration":2100,"svcId":1500,"evtId":28548,"image":"\/ms\/img\/epg\/rb\/5d52-7733564.l.png","hasTstv":false},{"name":"Married to a Psychopath","description":"Documentary. DI Charles Henry leads Operation Liffey, the covert investigation into nurse Malcolm Webster, who police suspect to be a pathological liar, thief and heartless killer. (Ep2\/2)  [AD,S]","startTime":1686782400,"duration":3300,"svcId":1500,"evtId":28549,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Shocking Emergency Calls","description":"In one of the deadliest shootings in US history, a gunman opens fire at Pulse nightclub in Orlando, Florida, holding hostages in the club\u0027s bathrooms for over three hours. (Ep10)  [AD,S]","startTime":1686785700,"duration":3300,"svcId":1500,"evtId":28448,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":10},{"name":"Iris Prize Best British Shorts","description":"Homebird: (2022) After dropping out of university, young gay man Conor returns home to Northern Ireland and a tense reunion with his emotionally reclusive father. Strong language.  [S]","startTime":1686789000,"duration":900,"svcId":1500,"evtId":28550,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon Ramsay visits Angler\u0027s Lodge in Idaho, a stunning venue whose owners have been struck by family tragedy. Can he rescue the broken business? (S3 Ep1\/8)  [AD,S,SL]","startTime":1686789900,"duration":3000,"svcId":1500,"evtId":28564,"image":"\/ms\/img\/epg\/rb\/5d52-389846169.l.png","hasTstv":false,"seriesNo":3,"episodeNo":1},{"name":"Tully","description":"(2018) Comedy-drama with Charlize Theron and Mackenzie Davis. An exhausted mum reluctantly accepts the help of a night nanny. But is the nanny all that she seems? Strong language\/sex.  [S,SL]","startTime":1686792900,"duration":6000,"svcId":1500,"evtId":28450,"image":"\/ms\/img\/epg\/rb\/5d52-2865715.l.png","hasTstv":false},{"name":"Grand Designs: The Streets","description":"In York, Jonathan is building a three-storey home using an experimental system of wooden boxes held together with bolts. It\u0027s the largest structure anyone\u0027s tried with this method. (S3 Ep5)  [AD,S,SL]","startTime":1686798900,"duration":3300,"svcId":1500,"evtId":28451,"image":"\/ms\/img\/epg\/rb\/5d52-7733229.l.png","hasTstv":false,"seriesNo":3,"episodeNo":5}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('33');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('31');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'fzAyZ1Lh-zI', title: "Melanie Martinez - VOID (Official Music Video)", label: "Melanie Martinez - VOID (Official Music Video) by melanie martinez 9 hours ago 4 minutes, 42 seconds 1,000,608 views" },
{ id: 'owjVpYCmwcg', title: "BTS (방탄소년단) 'Take Two' Live Clip #2023BTSFESTA", label: "BTS (방탄소년단) 'Take Two' Live Clip #2023BTSFESTA by BANGTANTV 13 hours ago 4 minutes, 5 seconds 3,851,999 views" },
{ id: 'Aocipi0tDgA', title: "Star Wars Outlaws: Official Gameplay Walkthrough | Ubisoft Forward", label: "Star Wars Outlaws: Official Gameplay Walkthrough | Ubisoft Forward by Ubisoft 1 day ago 10 minutes, 39 seconds 2,252,821 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Canada.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Canadian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>18 June</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "09 June 2023 -  15 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/64937/dave-and-central-cee/'>dave &amp; central cee</a>", Title: "<a href='https://www.officialcharts.com/search/singles/sprinter/'>SPRINTER</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/61mUg%2BNLggL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/61762/jazzy/'>jazzy</a>", Title: "<a href='https://www.officialcharts.com/search/singles/giving-me/'>GIVING ME</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51SkZDT4AyL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/64099/switch-disco-and-ella-henderson/'>switch disco &amp; ella henderson</a>", Title: "<a href='https://www.officialcharts.com/search/singles/react/'>REACT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/414-%2BSyvqzL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 179.33, tooltip: "Mon, Jun 12, 2023<br/>£179.33"},
{ number: 177.26, tooltip: "Fri, Jun 09, 2023<br/>£177.26"},
{ number: 177.60, tooltip: "Thu, Jun 08, 2023<br/>£177.60"},
{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>£174.12"},
{ number: 175.07, tooltip: "Tue, May 23, 2023<br/>£175.07"},
{ number: 176.72, tooltip: "Mon, May 22, 2023<br/>£176.72"},
{ number: 176.08, tooltip: "Fri, May 19, 2023<br/>£176.08"},
{ number: 176.41, tooltip: "Thu, May 18, 2023<br/>£176.41"},
{ number: 174.51, tooltip: "Wed, May 17, 2023<br/>£174.51"},
{ number: 173.09, tooltip: "Tue, May 16, 2023<br/>£173.09"},
{ number: 173.84, tooltip: "Mon, May 15, 2023<br/>£173.84"},
].reverse();

	var vanguardDates = {
		"Latest":      "Mon, Jun 12, 2023",
		"vs Day":      "Fri, Jun 09, 2023",
		"vs Week":     "Mon, Jun 05, 2023",
		"vs Month":    "Mon, May 15, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£179.33/share",
		'vs Day':      "+1.17%",
		'vs Week':     "+0.58%",
		'vs Month':    "+3.16%",
		'vs Year':     "+10.40%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '18.0',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 13 June and 14 June">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.180&p=3.196&r=0.083',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:44',
		Set:      '21:29',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Fruition</em> refers to a state of being complete or fully realized. It\'s usually used in the phrases "come to fruition" or "bring to fruition." <em>Fruition</em> can also refer to the state of bearing fruit.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23LoveIsland">#LoveIsland</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Whitney">Whitney</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Mitch">Mitch</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Tyrique">Tyrique</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Cormac+McCarthy%22">Cormac McCarthy</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22Cormac+McCarthy%22">Cormac McCarthy</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Blood+Meridian%22">Blood Meridian</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22The+Road%22">The Road</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23TrumpArraignmentDay">#TrumpArraignmentDay</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23enterdiscordgiveaway">#enterdiscordgiveaway</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>