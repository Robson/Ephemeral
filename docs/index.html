<!DOCTYPE html>
<html lang="en">
	<head>
		<title>10:40 13-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Labour to focus on growth in manifesto launch, as Plaid Cymru demands \'fairness\'</b><br/>Labour is launching its general election manifesto at 11:00 BST - but first comes Plaid Cymru." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/live/uk-politics-69111362">Labour to focus on growth in manifesto launch, as Plaid Cymru demands \'fai...</a></li><li class="ttt" data-tt="<b>Plaid Cymru to call for new funding deal for Wales in manifesto launch</b><br/>Plaid Cymru\'s manifesto calls for the Welsh Parliament to have more funding for public transport."><a href="https://www.bbc.com/news/articles/c3ggw27403lo">Plaid Cymru to call for new funding deal for Wales in manifesto launch</a></li><li class="ttt" data-tt="<b>England\'s hospital waiting lists rise to 7.57m</b><br/>Jump in England comes after ministers had claimed the NHS backlog had started to come down."><a href="https://www.bbc.com/news/articles/cn448j3z7ggo">England\'s hospital waiting lists rise to 7.57m</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/live/uk-politics-69111362"><img src="https://m.files.bbci.co.uk/modules/bbc-morph-news-waf-page-meta/5.3.0/bbc_news_logo.png"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Merrick Garland held in contempt of US Congress</b><br/>Mr Garland becomes the third attorney general in US history to be held in contempt of Congress." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c977qqe0q29o">Merrick Garland held in contempt of US Congress</a></li><li class="ttt" data-tt="<b>Sandy Hook survivors graduate from high school</b><br/>Around 60 students who witnessed the killing of their classmates will receive their diplomas."><a href="https://www.bbc.com/news/articles/cg33zqd5wyeo">Sandy Hook survivors graduate from high school</a></li><li class="ttt" data-tt="<b>Oklahoma court rejects Tulsa Massacre survivors suit</b><br/>Some 300 black people were killed in the 1921 massacre - but nobody has been held responsible."><a href="https://www.bbc.com/news/articles/cjmm8dnxz00o">Oklahoma court rejects Tulsa Massacre survivors suit</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c977qqe0q29o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ffee/live/56fd6060-28cc-11ef-acf5-2f465150f8a8.jpg" class="ttt" data-tt="Merrick Garland testifies to the US House Judiciary Committee on 4 June" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Buenos Aires rocked by clashes over Milei reforms</b><br/>Lawmakers give initial approval to controversial reforms as protesters and police clash in the Argentine capital." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c255zdlde92o">Buenos Aires rocked by clashes over Milei reforms</a></li><li class="ttt" data-tt="<b>Evidence of Iran and UAE drones used in Sudan war</b><br/>The Sudanese army and RSF are both accused of importing foreign drones, violating a UN arms embargo."><a href="https://www.bbc.com/news/articles/c2vvjz652j1o">Evidence of Iran and UAE drones used in Sudan war</a></li><li class="ttt" data-tt="<b>Forty Indians among 49 dead in Kuwait block fire</b><br/>Indian authorities say DNA tests are being carried out to identify the victims and repatriate their bodies."><a href="https://www.bbc.com/news/articles/c9ww0j74rddo">Forty Indians among 49 dead in Kuwait block fire</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c255zdlde92o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f1e2/live/e49c7190-295d-11ef-baa7-25d483663b8e.jpg" class="ttt" data-tt="A protester is seen in the foreground with a line of police in the background with riot shields, tear gas all around them, in Buenos Aires on 12 June" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>F1 Q&A after Canada: Ricciardo and Sainz future plus Perez at Red Bull</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the Canadian Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cz99q58lmvro">F1 Q&A after Canada: Ricciardo and Sainz future plus Perez at Red Bull</a></li><li class="ttt" data-tt="<b>\'Russell rues missed opportunity but big picture positive for Mercedes\'</b><br/>George Russell finished third at the Canadian Grand Prix and left Montreal with mixed feelings despite Mercedes\' significant progress."><a href="https://www.bbc.com/sport/formula1/articles/c5115gpev51o">\'Russell rues missed opportunity but big picture positive for Mercedes\'</a></li><li class="ttt" data-tt="<b>Verstappen wins gripping wet-dry race in Canada</b><br/>Red Bull’s Max Verstappen wins a gripping wet-dry Canadian Grand Prix that developed into a five-car battle for the lead over the final 10 laps."><a href="https://www.bbc.com/sport/formula1/articles/c1wwvpejw07o">Verstappen wins gripping wet-dry race in Canada</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cz99q58lmvro"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/9076/live/1235d740-26b1-11ef-80aa-699d54c46324.jpg" class="ttt" data-tt="Image of the 2024 F1 drivers" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Musk says Tesla investors backing pay deal</b><br/>Tesla is due to make an official announcement on the result of the vote at a meeting on Thursday." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cleezyxjv4jo">Musk says Tesla investors backing pay deal</a></li><li class="ttt" data-tt="<b>Dan\'s the man: Why Chinese women are looking to ChatGPT for love</b><br/>A jailbreak version of ChatGPT is becoming popular with women who prefer it to real world dating."><a href="https://www.bbc.com/articles/c4nnje9rpjgo">Dan\'s the man: Why Chinese women are looking to ChatGPT for love</a></li><li class="ttt" data-tt="<b>Gaming giant Steam accused of ripping off 14m UK gamers</b><br/>Legal claim alleges Steam\'s market dominance means consumers are paying too much for video games."><a href="https://www.bbc.com/news/articles/cpwwyj6v24xo">Gaming giant Steam accused of ripping off 14m UK gamers</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cleezyxjv4jo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/b3e2/live/94bafd30-2936-11ef-a07c-cf97501f3763.jpg" class="ttt" data-tt="Elon Musk at the 2024 Oscars." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"10 Jun – 16 Jun","date":17182368E5,"ts":"Thu, 13","ds":"Thu, 13 Jun","icon":18,"desc":"Sprinkles late. Overcast.","temp":15,"templow":5,"cf":11,"wind":16,"wd":170,"hum":64,"pc":76,"rain":1.8 },{"date":17183232E5,"ts":"Fri, 14","ds":"Fri, 14 Jun","icon":18,"desc":"Drizzle. Overcast.","temp":17,"templow":10,"cf":14,"wind":11,"wd":220,"hum":65,"pc":64,"rain":5},{"date":17184096E5,"ts":"Sat, 15","ds":"Sat, 15 Jun","icon":33,"desc":"Rain showers. Cloudy.","temp":16,"templow":9,"cf":13,"wind":17,"wd":230,"hum":65,"pc":67,"rain":8.2 },{"date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":18,"templow":10,"cf":18,"wind":17,"wd":220,"hum":55,"pc":50,"rain":1.4 },{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":33,"desc":"Passing showers. Broken clouds.","temp":19,"templow":9,"cf":19,"wind":10,"wd":230,"hum":58,"pc":23,"rain":1},{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":18,"desc":"Sprinkles late. Overcast.","temp":16,"templow":9,"cf":15,"wind":4,"wd":30,"hum":76,"pc":23,"rain":0.3 },{"date":17187552E5,"ts":"Wed, 19","ds":"Wed, 19 Jun","icon":18,"desc":"Sprinkles. Overcast.","temp":18,"templow":12,"cf":17,"wind":14,"wd":300,"hum":69,"pc":21,"rain":0.7 },{"date":17188416E5,"ts":"Thu, 20","ds":"Thu, 20 Jun","icon":18,"desc":"Sprinkles late. Cloudy.","temp":18,"templow":8,"cf":17,"wind":8,"wd":210,"hum":67,"pc":47,"rain":0.7 },{"date":1718928E6,"ts":"Fri, 21","ds":"Fri, 21 Jun","icon":18,"desc":"Sprinkles late. Cloudy.","temp":17,"templow":10,"cf":17,"wind":9,"wd":250,"hum":80,"pc":52,"rain":0.2 },{"date":17190144E5,"ts":"Sat, 22","ds":"Sat, 22 Jun","icon":4,"desc":"Breaks of sun late.","temp":19,"templow":12,"cf":18,"wind":15,"wd":260,"hum":75,"pc":7},{"date":17191008E5,"ts":"Sun, 23","ds":"Sun, 23 Jun","icon":4,"desc":"Afternoon clouds.","temp":19,"templow":13,"cf":19,"wind":12,"wd":270,"hum":63,"pc":6},{"hl":true,"hls":"24 Jun – 30 Jun","date":17191872E5,"ts":"Mon, 24","ds":"Mon, 24 Jun","icon":33,"desc":"Showers late. Cloudy.","temp":20,"templow":13,"cf":20,"wind":12,"wd":270,"hum":61,"pc":48,"rain":0.4 },{"date":17192736E5,"ts":"Tue, 25","ds":"Tue, 25 Jun","icon":18,"desc":"Sprinkles early. Breaks of sun late.","temp":20,"templow":14,"cf":20,"wind":13,"wd":320,"hum":68,"pc":47,"rain":0.2 },{"date":171936E7,"ts":"Wed, 26","ds":"Wed, 26 Jun","icon":21,"desc":"Isolated tstorms. Broken clouds.","temp":20,"templow":13,"cf":20,"wind":6,"wd":40,"hum":66,"pc":22,"rain":0.5 },{"date":17194464E5,"ts":"Thu, 27","ds":"Thu, 27 Jun","icon":2,"desc":"Scattered clouds.","temp":22,"templow":14,"cf":25,"wind":7,"wd":70,"hum":55,"pc":6}],"grid":{"temp":{"low":5,"high":22,"range":17},"prec":{"high":8.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/heic1006a_M66_1024.jpg',
		Title:     'Messier 66 Close Up',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/heic1006a_M66.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240613.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Heart_Nebula_%282020-08-11%29.jpg/400px-Heart_Nebula_%282020-08-11%29.jpg',
		Title:    'Heart Nebula',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Heart_Nebula',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Heart_Nebula" title="Heart Nebula">Heart Nebula</a></b> is an <a href="https://en.wikipedia.org/wiki/Emission_nebula" title="Emission nebula">emission nebula</a>, 7500 light years from Earth, located in the <a href="https://en.wikipedia.org/wiki/Perseus_Arm" title="Perseus Arm">Perseus Arm</a> of the Milky Way in the constellation <a href="https://en.wikipedia.org/wiki/Cassiopeia_(constellation)" title="Cassiopeia (constellation)">Cassiopeia</a>. It was discovered by <a href="https://en.wikipedia.org/wiki/William_Herschel" title="William Herschel">William Herschel</a> on 3 November 1787. Spanning almost 2 degrees in the sky, its shape is driven by stellar winds from the hot stars in its core. The nebula displays glowing ionized <a href="https://en.wikipedia.org/wiki/Hydrogen" title="Hydrogen">hydrogen</a> gas and darker <a href="https://en.wikipedia.org/wiki/Dust_lane" title="Dust lane">dust lanes</a>, and is also made up of ionised oxygen and sulfur gasses, which cause rich blue and orange colours to be seen in narrowband images. This photograph of the Heart Nebula, with the <a href="https://en.wikipedia.org/wiki/Fish_Head_Nebula" title="Fish Head Nebula">Fish Head Nebula</a> also visible in the top right corner, is a narrowband image captured on a 70mm scope with a capture period of around 44 hours.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Ram_samudrala" title="User:Ram samudrala">Ram Samudrala</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1718254800,"duration":12600,"svcId":560,"evtId":25132,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718267340,"availabilityEnd":1718353740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00202kp\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Join Gethin Jones, Helen Skelton, Michelle Ackerley and the team for conversation, advice and tips to make your day that little bit easier. [S] [HD]","startTime":1718267400,"duration":4500,"svcId":560,"evtId":25133,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gxpcd4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718271879,"availabilityEnd":1749807879,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202kr\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":34},{"name":"Scam Interceptors","description":"4\/20. The Interceptors race to save one man\u0027s \u00a3100,000 savings pot from scammers pretending to be from his bank. [S] [HD]","startTime":1718271900,"duration":1800,"svcId":560,"evtId":25278,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j161j0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717995600,"availabilityEnd":1749531600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00203gv\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":4},{"name":"Homes Under the Hammer","description":"12\/30. Tommy sees the potential in a bungalow in the beautiful Norfolk Broads, while Dion is on familiar turf in both Stoke and Coventry with two intriguing projects. [S] [HD]","startTime":1718273700,"duration":3600,"svcId":560,"evtId":25224,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j227gc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718277313,"availabilityEnd":1749813313,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020463\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":12},{"name":"Bargain Hunt","description":"Roo Irvine and the teams search for antiques at Southwell Racecourse with experts Izzie Balmer and Nick Hall. Roo learns about wartime surgeons at the National Civil War Centre. [S,AD] [HD]","startTime":1718277300,"duration":2700,"svcId":560,"evtId":25134,"image":"\/ms\/img\/epg\/rb\/fec6-p0crtpjz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718276340,"availabilityEnd":1720872001,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001b81t\u0026ui_id=4.0.0"},"seriesNo":62},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1718280000,"duration":3600,"svcId":560,"evtId":25428,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718283600,"availabilityEnd":1718370000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00202kv\u0026ui_id=4.0.0"},"episodeNo":54},{"name":"Rip Off Britain","description":"15\/16. Gloria Hunniford, Julia Somerville and Angela Rippon offer advice on consumer rights. [S] [HD]","startTime":1718283600,"duration":1800,"svcId":560,"evtId":25225,"image":"\/ms\/img\/epg\/rb\/fec6-p0j3xhsn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718285399,"availabilityEnd":1720877399,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00183m3\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":15},{"name":"Animal Park","description":"4\/15. Ben Fogle and Kate Humble are in Longleat, where the keepers are putting the gorillas to the test. Will they use their homemade tool in the quest for more food? [S,AD] [HD]","startTime":1718285400,"duration":1800,"svcId":560,"evtId":25226,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g4jp8h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691674223,"availabilityEnd":1724506204,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ph3w\u0026ui_id=4.0.0"},"seriesNo":35,"episodeNo":4},{"name":"Escape to the Country","description":"38\/55. Steve Brown meets a pair of cycling enthusiasts on the hunt for the perfect rural idyll in the Peak District. [S] [HD]","startTime":1718287200,"duration":2700,"svcId":560,"evtId":25136,"image":"\/ms\/img\/epg\/rb\/fec6-p0fcf085.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718289867,"availabilityEnd":1720881867,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001krpp\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":38},{"name":"Garden Rescue","description":"18\/35. Charlie and Flo travel to Burton Latimer in Leicestershire to turn Rob and Gareth\u0027s new-build, empty plot into a Mediterranean, sociable space with room for their hot tub. [S] [HD]","startTime":1718289900,"duration":2700,"svcId":560,"evtId":25137,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fv2vsh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687361401,"availabilityEnd":1720884619,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001n3wh\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":18},{"name":"New: The Finish Line","description":"29\/30. Roman Kemp and sidekick Sarah Greene host the quiz show where knowledge equals speed. Five contestants race in moving podiums across the studio floor to try and win \u00a35,000. [S] [HD]","startTime":1718292600,"duration":2700,"svcId":560,"evtId":25227,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1yd0v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718295315,"availabilityEnd":1752596014,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020466\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":29},{"name":"Pointless","description":"40\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1718295300,"duration":2700,"svcId":560,"evtId":25138,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g2n1yg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691686800,"availabilityEnd":1723222800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001phf5\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":40},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1718298000,"duration":1800,"svcId":560,"evtId":25139,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718299890,"availabilityEnd":1718386290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202kx\u0026ui_id=4.0.0"},"episodeNo":54},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1718299800,"duration":1800,"svcId":560,"evtId":25140,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718301495,"availabilityEnd":1718387895,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202kz\u0026ui_id=4.0.0"},"episodeNo":74},{"name":"The One Show","description":"Alex Jones and Ronan Keating bring you the stories that matter from across the country. [S] [HD]","startTime":1718301600,"duration":1800,"svcId":560,"evtId":25228,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718303370,"availabilityEnd":1720895370,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020468\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Sharon fights her corner, Kat comforts an unlikely source, and Kim searches for the truth. [S,AD] [HD]","startTime":1718303400,"duration":1800,"svcId":560,"evtId":25281,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j23gl9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718254800,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00204mc\u0026ui_id=4.0.0"},"episodeNo":6926},{"name":"Question Time","description":"Fiona Bruce presents an hour of political debate with politicians and voters from Edinburgh. With Kate Forbes MSP, Douglas Ross MSP, Anas Sarwar MSP, Stephen Noon and Iain Anderson. [S] [HD]","startTime":1718305200,"duration":3600,"svcId":560,"evtId":25282,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718308855,"availabilityEnd":1749844855,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00204mf\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"The Outlaws","description":"3\/5. As a manhunt is launched and the Dean closes in, will the outlaws run out of time? Contains some strong language. [S,AD] [HD]","startTime":1718308800,"duration":3600,"svcId":560,"evtId":25283,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzjvrz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717045200,"availabilityEnd":1874811600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001yqdc\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":3},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1718312400,"duration":1800,"svcId":560,"evtId":25141,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718314305,"availabilityEnd":1718400705,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202l1\u0026ui_id=4.0.0"},"episodeNo":54},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1718314200,"duration":600,"svcId":560,"evtId":25142,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718314650,"availabilityEnd":1718401050,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202l3\u0026ui_id=4.0.0"},"episodeNo":64},{"name":"Not Going Out","description":"2\/5. A pub quiz brings out the competitive side of Lee, Lucy, Toby and Anna. Contains adult humour. [S] [HD]","startTime":1718314800,"duration":1500,"svcId":560,"evtId":25284,"image":"\/ms\/img\/epg\/rb\/ae0c-p093crqq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1642284000,"availabilityEnd":1734991200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000r791\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":2},{"name":"Newscast","description":"The latest analysis and gossip from the General Election campaign. [S] [HD]","startTime":1718316300,"duration":1800,"svcId":560,"evtId":25285,"image":"\/ms\/img\/epg\/rb\/fec6-p0gyf0ss.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718305200,"availabilityEnd":1720911600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00204mh\u0026ui_id=4.0.0"}},{"name":"Rebus","description":"4\/6. John is frustrated, unaware that the Cafferty and Christie rivalry is escalating. Contains very strong language, some violence and upsetting scenes. [S,AD] [HD]","startTime":1718318100,"duration":3000,"svcId":560,"evtId":25286,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvwr2c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715922000,"availabilityEnd":1873751581,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yjsk\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1718321100,"duration":300,"svcId":560,"evtId":25144,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718321474,"availabilityEnd":1718926274,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00202l5\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1718321400,"duration":19800,"svcId":560,"evtId":25145,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":74}]},{"channelid":700,"offset":0,"event":[{"name":"Escape to the Country","description":"49\/55. Denise Nurse is in Suffolk, helping a couple find a new home in a more rural setting, where they can enjoy retired life together, closer to the coast, lakes or waterways. [S] [HD]","startTime":1718257500,"duration":2700,"svcId":700,"evtId":16857,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2jmvh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718030736,"availabilityEnd":1749566736,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00204g3\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":49},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"10\/15. Clive builds his own bamboo raft to explore the rivers of Cuba\u0027s oldest city and helps prepare a meal at what\u0027s thought to be Cuba\u0027s only fully vegan restaurant. [S] [HD]","startTime":1718260200,"duration":1800,"svcId":700,"evtId":16859,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzs306.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpnn\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"Gardeners\u0027 World","description":"12\/32. Monty reveals his plans for planting up pots in his cottage garden. Sue Kent visits a unique garden in Carmarthenshire situated around a wooden house on stilts. [S,AD,SL] [HD]","startTime":1718262000,"duration":3600,"svcId":700,"evtId":16861,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2mkv0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717790432,"availabilityEnd":1749326432,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zywd\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":12},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1718265600,"duration":11700,"svcId":700,"evtId":16863,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The Labour party publishes its election manifesto. [S] [HD]","startTime":1718277300,"duration":2700,"svcId":700,"evtId":16865,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718280001,"availabilityEnd":1720872001,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205bg\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"4\/30. The quiz show where players must avoid Impossible answers to stay in the competition. Twelve people start today\u0027s show, but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1718280000,"duration":2700,"svcId":700,"evtId":16867,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718282711,"availabilityEnd":1720874711,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000t9h1\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":4},{"name":"Mastermind","description":"29\/31. Clive Myrie asks the questions in another semi-final. The specialist subjects are Irish involvement in the Spanish Civil War, Pulp, Brian Clough and the Harry Potter novels. [S] [HD]","startTime":1718282700,"duration":1800,"svcId":700,"evtId":16869,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bx8d7c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0015xp5\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":29},{"name":"Mastermind","description":"30\/31. Clive Myrie asks the questions in another semi-final. The specialist subjects are Jean Harlow, Porridge, Alexander the Great and the World Snooker Championship. [S] [HD]","startTime":1718284500,"duration":1800,"svcId":700,"evtId":16871,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bynfbz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00165f7\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":30},{"name":"Five Bedrooms","description":"7\/8. Relationships are broken over losses, both personal and financial, so home truths must be faced. [S,AD] [HD]","startTime":1718286300,"duration":2700,"svcId":700,"evtId":16873,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g8c2kz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693544400,"availabilityEnd":1725197384,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fw1t64\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":7},{"name":"Stanley Tucci: Searching for Italy","description":"3\/8. Stanley Tucci visits Umbria, nicknamed the green heart of Italy. From wild boar hunts to incredible black truffle farms, Tucci explores the riches this land has to offer. [S,AD] [HD]","startTime":1718289000,"duration":2700,"svcId":700,"evtId":16875,"image":"\/ms\/img\/epg\/rb\/fec6-p0d73nfc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1665950462,"availabilityEnd":1751259540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001d9jc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"Great Bear Stakeout","description":"1\/2. Documentary following the lives of grizzly bears. In this episode the cameras follow Parsnip, a first-time grizzly mum, and her young cub, Pushki. [S] [HD]","startTime":1718291700,"duration":3600,"svcId":700,"evtId":16877,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b2yrnq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718295266,"availabilityEnd":1720887266,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0176ql9\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Wrest Park, a 19th-century French-style chateau, and is joined by antiques experts Anita Manning and Christina Trevanion. [S] [HD]","startTime":1718295300,"duration":2700,"svcId":700,"evtId":16879,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718297988,"availabilityEnd":1720889988,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b05wpyhm\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":33},{"name":"Richard Osman\u0027s House of Games","description":"74\/100. Kevin Eldon, Sarah Keyworth, Laila Rouass and John Whaite test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1718298000,"duration":1800,"svcId":700,"evtId":16880,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlylfs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718299814,"availabilityEnd":1720891814,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001g6n8\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":74},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"14\/15. Every February, the city of La Vega bursts into life with loud and colourful street carnivals. Clive meets talented costume makers before suiting up for the parade. [S] [HD]","startTime":1718299800,"duration":1800,"svcId":700,"evtId":16881,"image":"\/ms\/img\/epg\/rb\/fec6-p0hzsvtl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpp6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":14},{"name":"Mississippi: Earth\u0027s Great Rivers","description":"3\/3. The surprising story of the Mississippi, a river that unites the USA. From frozen waterfalls to time-travelling barges, the Mississippi connects a continent like no other river. [S,AD] [HD]","startTime":1718301600,"duration":3600,"svcId":700,"evtId":16882,"image":"\/ms\/img\/epg\/rb\/ae0c-p07j58sm.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Springwatch","description":"12\/12. Chris Packham, Michaela Strachan and Iolo Williams bid farewell to 2024\u0027s nests and recap on the highlights of the series, whilst Megan McCubbin wraps up her Glasgow adventure. [S] [HD]","startTime":1718305200,"duration":3600,"svcId":700,"evtId":16883,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j24vxn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718308855,"availabilityEnd":1749844855,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205bk\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":12},{"name":"Chinook: Zulu Delta 576","description":"1\/2. Two-part documentary series examining the 1994 Mull of Kintyre Chinook helicopter crash. Contains scenes which some viewers may find upsetting. [S] [HD]","startTime":1718308800,"duration":3600,"svcId":700,"evtId":16884,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h6s807.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1706568103,"availabilityEnd":1738107757,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001vxy6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Mortimer \u0026 Whitehouse: Gone...","description":"...Fishing. 1\/6. Paul and Bob take a trip to the River Tweed in Scotland, where they continue their quest to catch a salmon. [S,AD] [HD]","startTime":1718312400,"duration":1800,"svcId":700,"evtId":16885,"image":"\/ms\/img\/epg\/rb\/ae0c-p08p5mqg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1633064400,"availabilityEnd":1738303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000m20v\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":1},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1718314200,"duration":1800,"svcId":700,"evtId":16886,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j101sb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718316090,"availabilityEnd":1749852090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205bm\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1718316000,"duration":300,"svcId":700,"evtId":16887,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718316315,"availabilityEnd":1718402715,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00205bq\u0026ui_id=4.0.0"}},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. 3\/3. Rom travels to Madagascar to see if there is more to the island than animated animals. Contains strong language. [S,AD] [HD]","startTime":1718316300,"duration":3600,"svcId":700,"evtId":16888,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzqh2d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1811566740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpqy\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"The Panorama Interviews with...","description":"...Nick Robinson. Nick Robinson interviews Rishi Sunak in the run-up to the general election. [S,SL] [HD]","startTime":1718319900,"duration":1800,"svcId":700,"evtId":17151,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3vcy3.jpg","hasTstv":false},{"name":"Blood on the Dance Floor","description":"The unsolved murder of Darren Bradshaw, a police officer shot in a ground-breaking gay bar. Jordan Dunbar investigates how DJs, drag queens and dancers fought back against hate. [S,AD,SL] [HD]","startTime":1718321700,"duration":3600,"svcId":700,"evtId":16890,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hkd7tv.jpg","hasTstv":false},{"name":"Doctor Who","description":"6\/8. The Doctor and Ruby land in 1813, where guests at a duchess\u0027s party are being murdered and a mysterious bounty hunter called Rogue is about to change the Doctor\u0027s life forever. [S,AD,SL] [HD]","startTime":1718325300,"duration":2700,"svcId":700,"evtId":16891,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j236md.jpg","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Lost Boys and Fairies","description":"2\/3. With preparations for the adoption well under way, a shocking event changes this new-found family\u0027s life forever. Contains strong language and some scenes of a sexual nature. [S,AD,SL] [HD]","startTime":1718328000,"duration":3600,"svcId":700,"evtId":16892,"image":"\/ms\/img\/epg\/rb\/fec6-p0j0yx5d.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1718331600,"duration":11400,"svcId":700,"evtId":16893,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebs to the test in head-to-head crafting challenges. Anneka Rice and Cheryl Baker create leather earrings. Jo Wood and Natasha Kaplinsky have a pyrography craft-off.  [S]","startTime":1718252100,"duration":600,"svcId":1500,"evtId":25586,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Frasier","description":"The Kid: Frasier tries to help Roz after the revelation about her pregnancy. And he\u0027s determined to find out who the father is. (S5 Ep4)  [AD,S]","startTime":1718252700,"duration":1500,"svcId":1500,"evtId":25363,"image":"\/ms\/img\/epg\/rb\/5d52-646136.l.png","hasTstv":false,"seriesNo":5,"episodeNo":4},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Sam Quek joins Susie Dent in Dictionary Corner.  [S]","startTime":1718254200,"duration":2400,"svcId":1500,"evtId":25364,"image":"\/ms\/img\/epg\/rb\/5d52-9511994.l.png","hasTstv":false},{"name":"Cheers","description":"Homicidal Ham: Andy, the former prisoner who Sam arranged as a blind date for Diane, returns to the bar and recruits Diane to help him develop a career as an actor. (S2 Ep4\/22)  [S]","startTime":1718256600,"duration":1500,"svcId":1500,"evtId":25365,"image":"\/ms\/img\/epg\/rb\/5d52-85045.l.png","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"Cheers","description":"Sumner\u0027s Return: A year after abandoning Diane for his ex-wife, Professor Sumner Sloan returns to Cheers to make amends, but he may have more on his mind than friendship. (S2 Ep5\/22)  [S]","startTime":1718258100,"duration":1500,"svcId":1500,"evtId":25366,"image":"\/ms\/img\/epg\/rb\/5d52-88770.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"Everybody Loves Raymond","description":"A Job for Robert: Ray is jealous when Marie starts treating Robert better than him. (S9 Ep8)  [AD,S]","startTime":1718259600,"duration":1500,"svcId":1500,"evtId":25367,"image":"\/ms\/img\/epg\/rb\/5d52-5444142.l.png","hasTstv":false,"seriesNo":9,"episodeNo":8},{"name":"Everybody Loves Raymond","description":"A Date for Peter: Amy\u0027s parents ask Ray to give their son Peter some tips on dating. Debra throws a cocktail party, but Ray isn\u0027t impressed by the guest list. (S9 Ep9)  [AD,S]","startTime":1718261100,"duration":1500,"svcId":1500,"evtId":25368,"image":"\/ms\/img\/epg\/rb\/5d52-5451276.l.png","hasTstv":false,"seriesNo":9,"episodeNo":9},{"name":"Everybody Loves Raymond","description":"Favors: Marie helps Debra to deal with Ray\u0027s bad habit of leaving his possessions lying around the house. (S9 Ep10)  [AD,S]","startTime":1718262600,"duration":1800,"svcId":1500,"evtId":25369,"image":"\/ms\/img\/epg\/rb\/5d52-385453651.l.png","hasTstv":false,"seriesNo":9,"episodeNo":10},{"name":"Everybody Loves Raymond","description":"The Faux Pas: Ray accidentally insults the twins\u0027 new friend to the boy\u0027s father and then makes it worse by repeating his mistake. (S9 Ep11)  [AD,S]","startTime":1718264400,"duration":1800,"svcId":1500,"evtId":25370,"image":"\/ms\/img\/epg\/rb\/5d52-5463797.l.png","hasTstv":false,"seriesNo":9,"episodeNo":11},{"name":"Frasier","description":"No Sex Please, We\u0027re Skittish: Roz isn\u0027t happy when the station announces that it\u0027s found a replacement for her, but if she stays she\u0027ll have to put up with Frasier\u0027s new romance. (S11 Ep1)  [AD,S]","startTime":1718266200,"duration":1800,"svcId":1500,"evtId":25371,"image":"\/ms\/img\/epg\/rb\/5d52-4982790.l.png","hasTstv":false,"seriesNo":11,"episodeNo":1},{"name":"Frasier","description":"A Man, a Plan and a Gal - Julia: Daphne and Niles have an important announcement to make, but Frasier\u0027s girlfriend steals their thunder. (S11 Ep2)  [AD,S]","startTime":1718268000,"duration":1800,"svcId":1500,"evtId":25372,"image":"\/ms\/img\/epg\/rb\/5d52-4987898.l.png","hasTstv":false,"seriesNo":11,"episodeNo":2},{"name":"Frasier","description":"The Doctor Is Out: The debonair conductor of the Seattle Opera (guest star Patrick Stewart) mistakenly believes that Frasier is gay and starts courting him. (S11 Ep3)  [AD,S]","startTime":1718269800,"duration":1800,"svcId":1500,"evtId":25373,"image":"\/ms\/img\/epg\/rb\/5d52-4997280.l.png","hasTstv":false,"seriesNo":11,"episodeNo":3},{"name":"Frasier","description":"The Babysitter: It\u0027s a battle of the Cranes as Frasier and Martin fall for the same girl - the boys\u0027 childhood babysitter. (S11 Ep4)  [AD,S]","startTime":1718271600,"duration":1800,"svcId":1500,"evtId":25374,"image":"\/ms\/img\/epg\/rb\/5d52-49515730.l.png","hasTstv":false,"seriesNo":11,"episodeNo":4},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits the Prohibition Grille in Washington to meet belly dancer-turned-restaurateur Rishi, who\u0027s oblivious to the disastrous dishes being made in her own kitchen. (S6 Ep13)  [S]","startTime":1718273400,"duration":3300,"svcId":1500,"evtId":25375,"image":"\/ms\/img\/epg\/rb\/5d52-386162842.l.png","hasTstv":false,"seriesNo":5,"episodeNo":14},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1718276700,"duration":300,"svcId":1500,"evtId":25376,"image":"\/ms\/img\/epg\/rb\/5d52-9513836.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Chappy\u0027s in Nashville, Tennessee, where the chef and owner\u0027s careless methods and less-than-appetising food have hurt his restaurant\u0027s local reputation. (S6 Ep14)  [S]","startTime":1718277000,"duration":3600,"svcId":1500,"evtId":25377,"image":"\/ms\/img\/epg\/rb\/5d52-380016002.l.png","hasTstv":false,"seriesNo":5,"episodeNo":15},{"name":"Car S.O.S","description":"Mini Cooper: Tim Shaw and Fuzz Townshend head to Eastbourne to secretly restore farmer Keith\u0027s 1962 Mini Cooper S, which has been rotting in a shed for decades. (S4 Ep9\/10)  [AD,S]","startTime":1718280600,"duration":3600,"svcId":1500,"evtId":25378,"image":"\/ms\/img\/epg\/rb\/5d52-212134813.l.png","hasTstv":false,"seriesNo":4,"episodeNo":9},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Sam Quek joins Susie Dent in Dictionary Corner.  [S]","startTime":1718284200,"duration":3000,"svcId":1500,"evtId":25379,"image":"\/ms\/img\/epg\/rb\/5d52-9513880.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Alison and Michael feel that the time is right to fulfil their dream of owning a holiday home in Portugal. Jean Johansson shows them what treats Tomar holds for their budget of \u00a3110k.  [S]","startTime":1718287200,"duration":3600,"svcId":1500,"evtId":25380,"image":"\/ms\/img\/epg\/rb\/5d52-8635483.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Portugal\u0027s Algarve is a special place for Audrey and Tony, and they would love to own a holiday home there. Lee Juggurnauth shows them what their \u00a3220k can buy.  [S]","startTime":1718290800,"duration":3600,"svcId":1500,"evtId":25381,"image":"\/ms\/img\/epg\/rb\/5d52-414185834.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"The new series continues. In Almer\u00eda, the Garners house-hunt with retirees Nigel and Nickola. In Murcia, the Browns help Dennis find the perfect pad for travel and adventure. (S7 Ep9\/20)  [S]","startTime":1718294400,"duration":3600,"svcId":1500,"evtId":25382,"image":"\/ms\/img\/epg\/rb\/5d52-9513899.l.png","hasTstv":false,"seriesNo":7,"episodeNo":9},{"name":"Four in a Bed","description":"Yuliya hosts the final visit at Trinity Boutique B\u0026B in Peterhead. She takes her guests directly to jail (just visiting). But will she offer them more than just porridge at breakfast?  [S]","startTime":1718298000,"duration":1800,"svcId":1500,"evtId":25383,"image":"\/ms\/img\/epg\/rb\/5d52-8198239.l.png","hasTstv":false},{"name":"The Simpsons","description":"Behind the Laughter: A behind-the-scenes look at the Simpson family. How did they win their fame? And how did they cope when the showbiz pressure got too much? (S11 Ep22\/22)  [AD,S]","startTime":1718299800,"duration":1800,"svcId":1500,"evtId":25384,"image":"\/ms\/img\/epg\/rb\/5d52-1423576.l.png","hasTstv":false,"seriesNo":11,"episodeNo":22},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1718301600,"duration":3300,"svcId":1500,"evtId":25385,"image":"\/ms\/img\/epg\/rb\/5d52-9513907.l.png","hasTstv":false},{"name":"Party Election Broadcast","description":"A party election broadcast.  [S]","startTime":1718304900,"duration":300,"svcId":1500,"evtId":25969,"image":"\/ms\/img\/epg\/rb\/5d52-news.genre.l.png","hasTstv":false},{"name":"New: The Supervet: Noel...","description":"...Fitzpatrick: The nation\u0027s favourite vet returns with more cutting-edge care. In this rescue special, we meet abandoned kitten Pretzel and catch up with Wobble the whippet. (S19 Ep1\/5)  [AD,S]","startTime":1718305200,"duration":3600,"svcId":1500,"evtId":25386,"image":"\/ms\/img\/epg\/rb\/5d52-9513944.l.png","hasTstv":false,"seriesNo":19,"episodeNo":1},{"name":"New: The Fall: Skydive Murder Plot","description":"True crime doc. The police dig into Emile\u0027s past, hearing strong evidence from an ex. Can they convince a jury that he\u0027s a master manipulator? The trial reaches a dramatic conclusion. (Ep3)  [AD,S]","startTime":1718308800,"duration":3600,"svcId":1500,"evtId":25387,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: We Are Lady Parts","description":"Funny Muslim Song: Anarchic comedy. Lady Parts record their dream album, while Momtaz goes on an odyssey of her own. But Saira\u0027s attempt at a political song tests boundaries. (S2 Ep5\/6)  [AD,S]","startTime":1718312400,"duration":2100,"svcId":1500,"evtId":25388,"image":"\/ms\/img\/epg\/rb\/5d52-9513947.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"New: We Are Lady Parts","description":"The Reason: Series finale of Nida Manzoor\u0027s anarchic comedy. The record label meddles with Lady Parts\u0027 music. Can the band reclaim their voice and the greater sisterhood? (S2 Ep6\/6)  [AD,S]","startTime":1718314500,"duration":2700,"svcId":1500,"evtId":25389,"image":"\/ms\/img\/epg\/rb\/5d52-9513950.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Celebrity Gogglebox","description":"Celebs including Danny Dyer, Chris Packham, and Jennifer Saunders have been watching The Nevermets, Insomnia, MILF Manor, In with a Shout, Canal Boat Diaries and BBC News (Trump). (S6 Ep1)  [AD,S,SL]","startTime":1718317200,"duration":3900,"svcId":1500,"evtId":25390,"image":"\/ms\/img\/epg\/rb\/5d52-9487180.l.png","hasTstv":false,"seriesNo":6,"episodeNo":1},{"name":"Sky Coppers","description":"The Drone Unit hook up with the helicopter team and the canine squad to chase a car thief. And a reckless robber makes a rookie error in broad daylight. (S1 Ep6)  [AD,S]","startTime":1718321100,"duration":3000,"svcId":1500,"evtId":25391,"image":"\/ms\/img\/epg\/rb\/5d52-7986318.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"Gordon Ramsay visits Stone\u0027s Throw, a family-owned fine dining restaurant on the Housatonic River in Connecticut, to overhaul the drab interior and update the menu. (S2 Ep5)  [AD,S,SL]","startTime":1718324100,"duration":2700,"svcId":1500,"evtId":25392,"image":"\/ms\/img\/epg\/rb\/5d52-412181133.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"Queenie","description":"New Year, Old Problems: Sharp drama based on Candice Carty-Williams\u0027 novel. A long line of rejection and betrayal brings Queenie to breaking point as the past catches up with her. (Ep5\/8)  [AD,S,SL]","startTime":1718326800,"duration":1800,"svcId":1500,"evtId":25393,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Queenie","description":"She\u0027s Royal: Drama. Queenie goes to therapy, as the true extent of her childhood trauma becomes clear. (Ep6\/8)  [AD,S,SL]","startTime":1718328600,"duration":1500,"svcId":1500,"evtId":25394,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Queenie","description":"Happy Earthstrong!: Drama starring Dionne Brown. It\u0027s Queenie\u0027s birthday. As she starts to recognise the progress she\u0027s making, she wonders if some hurdles are too big to overcome. (Ep7\/8)  [AD,S,SL]","startTime":1718330100,"duration":1500,"svcId":1500,"evtId":25395,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"Queenie","description":"Love, Finally: Drama. Queenie makes steps towards healing in a new flat of her own, but she still has some difficult decisions to make about her future - and who she wants in it. (Ep8\/8)  [AD,S,SL]","startTime":1718331600,"duration":1500,"svcId":1500,"evtId":25396,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"Iris Prize Best British Shorts","description":"Requiem: Iris Prize-nominated short film. Evelyn tries to outwit her father so she can be with the woman she loves in this coming-of-age story set during the 1605 witch trials. Violence.  [AD,S]","startTime":1718333100,"duration":1800,"svcId":1500,"evtId":25485,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Grand Designs Australia","description":"Dennis and Karen dream of living in the wilderness. They build a fire-resistant home from seven giant shipping containers in the spectacular Blue Mountains. (S10 Ep12)  [AD,S]","startTime":1718334900,"duration":3300,"svcId":1500,"evtId":25397,"image":"\/ms\/img\/epg\/rb\/5d52-7986298.l.png","hasTstv":false,"seriesNo":10,"episodeNo":12}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('199');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('127');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('16');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '_VnqcBnWM0k', title: "Goblin Queen's Takeover | Clash Royale Update Trailer", label: "Goblin Queen's Takeover | Clash Royale Update Trailer by Clash Royale 2,721,873 views 18 hours ago 1 minute, 39 seconds" },
{ id: 'WeBLbozqJQM', title: "HIGHLIGHTS | Portugal 3-0 Republic of Ireland | Cristiano Ronaldo on form ahead of EURO 2024", label: "HIGHLIGHTS | Portugal 3-0 Republic of Ireland | Cristiano Ronaldo on form ahead of EURO 2024 by Premier Sports 581,425 views 1 day ago 6 minutes, 42 seconds" },
{ id: '5ACrZnzBhbA', title: "PADDINGTON IN PERU - Official Trailer [4K] - Paddington Bear is back!", label: "PADDINGTON IN PERU - Official Trailer [4K] - Paddington Bear is back! by StudiocanalUK 186,655 views 21 hours ago 2 minutes, 13 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "The season has finished :(";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Eternal Sunshine of the Spotless Mind (2004)">Eternal Sunshine of the Spotless Mind (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Crash (1996)">Crash (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S2, 2024)">Float (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1, 2021)">Float (S1, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S2, 2021)">In My Skin (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1, 2018)">In My Skin (S1, 2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S2, 2019)">Fleabag (S2, 2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1, 2016)">Fleabag (S1, 2016)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 210.23, tooltip: "Wed, Jun 12, 2024<br/>£210.23"},
{ number: 210.26, tooltip: "Tue, Jun 11, 2024<br/>£210.26"},
{ number: 210.47, tooltip: "Mon, Jun 10, 2024<br/>£210.47"},
{ number: 210.26, tooltip: "Fri, Jun 07, 2024<br/>£210.26"},
{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Jun 12, 2024",
		"vs Day":      "Tue, Jun 11, 2024",
		"vs Week":     "Wed, Jun 05, 2024",
		"vs Month":    "Tue, May 14, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£210.23/share",
		'vs Day':      "-0.01%",
		'vs Week':     "+0.20%",
		'vs Month':    "-0.16%",
		'vs Year':     "+17.62%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '42.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/first-quarter.html" title="First Quarter on the night between 13 June and 14 June">First Quarter</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.424&p=0.958&r=0.941',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:44',
		Set:      '21:28',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>When used literally, <em>lodestone</em> refers to the mineral <a href="https://www.merriam-webster.com/dictionary/magnetite">magnetite</a>, a magnetic iron ore. <em>Lodestone</em> is also used figuratively to refer to something that, like a magnet, strongly attracts things.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23BattleForNo10">#BattleForNo10</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Sky+TV%22">Sky TV</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23SkyDebate">#SkyDebate</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23InsideNo9">#InsideNo9</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Beth+Rigby%22">Beth Rigby</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Luka">Luka</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Celtics">Celtics</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Mavs">Mavs</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23TheBoys">#TheBoys</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23BRIDGERTON">#BRIDGERTON</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>