<!DOCTYPE html>
<html lang="en">
	<head>
		<title>13:32 24-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Knives seized after attack on army officer in Kent</b><br/>A man is held after a suspected murder attempt on a soldier in uniform near a Gillingham barracks." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cqe6jpnr76no">Knives seized after attack on army officer in Kent</a></li><li class="ttt" data-tt="<b>Labour suspends seven rebel MPs over two-child benefit cap</b><br/>The government comfortably won the vote despite growing pressure from some of its own MPs to scrap the policy."><a href="https://www.bbc.com/news/articles/c978m6z3egno">Labour suspends seven rebel MPs over two-child benefit cap</a></li><li class="ttt" data-tt="<b>Nine Just Stop Oil activists arrested at Heathrow</b><br/>The activists are suspected of conspiring to interfere with a site of key national infrastructure."><a href="https://www.bbc.com/news/articles/c2502nj7ynqo">Nine Just Stop Oil activists arrested at Heathrow</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cqe6jpnr76no"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/80d7/live/b06fc280-498f-11ef-87bf-05d36ca5d8b6.jpg" class="ttt" data-tt="A soldier stands on the phone with his back to camera as people look on at the scene in Sally Port Gardens, Gillingham" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>US Secret Service boss resigns over Trump shooting failures</b><br/>Kim Cheatle had faced calls to resign for security failures ahead of the attempted assassination of Donald Trump." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c4ngj4jyryeo">US Secret Service boss resigns over Trump shooting failures</a></li><li class="ttt" data-tt="<b>Kamala Harris attacks Trump over \'fear and hate\' at first rally</b><br/>The Democratic White House candidate promises &quot;freedom, compassion and rule of law&quot; to a cheering crowd in Wisconsin."><a href="https://www.bbc.com/news/articles/cn053pnv0k1o">Kamala Harris attacks Trump over \'fear and hate\' at first rally</a></li><li class="ttt" data-tt="<b>Why tech bros are turning to Trump</b><br/>The Republican presidential candidate is forging new alliances as his campaign gains momentum."><a href="https://www.bbc.com/news/articles/cd1j8dvw73lo">Why tech bros are turning to Trump</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c4ngj4jyryeo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ec9e/live/1982c020-4908-11ef-8b75-d7877c28e64f.jpg" class="ttt" data-tt="Kim Cheatle " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Netanyahu seeks to bolster US support with Congress speech</b><br/>The address comes as the relationship between Israeli leaders and leading US Democrats has grown tense." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cw8y2v76664o">Netanyahu seeks to bolster US support with Congress speech</a></li><li class="ttt" data-tt="<b>Graphic footage shows US officers stood over body of Trump gunman</b><br/>Bodycam video shows the immediate aftermath of the Trump shooting on the rooftop where the gunman was killed."><a href="https://www.bbc.com/news/articles/c2lk2jdewdvo">Graphic footage shows US officers stood over body of Trump gunman</a></li><li class="ttt" data-tt="<b>Kamala Harris attacks Trump over \'fear and hate\' at first rally</b><br/>The Democratic White House candidate promises &quot;freedom, compassion and rule of law&quot; to a cheering crowd in Wisconsin."><a href="https://www.bbc.com/news/articles/cn053pnv0k1o">Kamala Harris attacks Trump over \'fear and hate\' at first rally</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cw8y2v76664o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f11c/live/70dc5700-49a3-11ef-83a0-598fefae4979.png" class="ttt" data-tt="Israeli Prime Minister Benjamin Netanyahu speaks during a meeting with U.S. President Joe Biden in Tel Aviv, Israel, 18 October 2023" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>F1 Q&A: Is Norris too nice to be McLaren \'number one\'?</b><br/>Should McLaren pick a \'number one\' driver? Is Lando Norris too nice? F1 correspondent Andrew Benson answers your questions." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cjl6dn8peyko">F1 Q&A: Is Norris too nice to be McLaren \'number one\'?</a></li><li class="ttt" data-tt="<b>Binotto replaces Seidl as head of Audi F1 project</b><br/>Andreas Seidl is removed as head of Audi\'s Formula 1 project and replaced by former Ferrari team boss Mattia Binotto."><a href="https://www.bbc.com/sport/formula1/articles/ckvg0zpyn5zo">Binotto replaces Seidl as head of Audi F1 project</a></li><li class="ttt" data-tt="<b>\'I didn\'t give up the win - I lost it off the line\'</b><br/>Lando Norris agonised over whether to hand victory in the Hungarian Grand Prix back to McLaren team-mate Oscar Piastri but said it was the &quot;fair&quot; and &quot;honest&quot; thing to do."><a href="https://www.bbc.com/sport/formula1/articles/cye03ylnnr0o">\'I didn\'t give up the win - I lost it off the line\'</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cjl6dn8peyko"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/6e9f/live/ed8c0120-4786-11ef-b74c-bb483a802c97.jpg" class="ttt" data-tt="F1 Q&amp;A graphic " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>CrowdStrike to improve testing after \'bug\' caused outage</b><br/>The cybersecurity company\'s mistake caused millions of PCs not to work on Friday." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/ce58p0048r0o">CrowdStrike to improve testing after \'bug\' caused outage</a></li><li class="ttt" data-tt="<b>Why tech bros are turning to Trump</b><br/>The Republican presidential candidate is forging new alliances as his campaign gains momentum."><a href="https://www.bbc.com/news/articles/cd1j8dvw73lo">Why tech bros are turning to Trump</a></li><li class="ttt" data-tt="<b>Cyber-security firm rejects $23bn Google takeover</b><br/>In an internal memo to staff, the firm\'s founder and chief executive said he was \'flattered\'."><a href="https://www.bbc.com/news/articles/c3gdlng47k7o">Cyber-security firm rejects $23bn Google takeover</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/ce58p0048r0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/acec/live/2035cad0-49b1-11ef-8957-57bc56098a6f.jpg" class="ttt" data-tt="A man looks at a computer screen, which shows a blue screen with a sad face emoji. It is an error screen showing a computer has crashed" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"22 Jul – 28 Jul","date":17217792E5,"ts":"Wed, 24","ds":"Wed, 24 Jul","icon":18,"desc":"Sprinkles late. Cloudy.","temp":22,"templow":14,"cf":24,"wind":13,"wd":210,"hum":63,"pc":51,"rain":0.8 },{"date":17218656E5,"ts":"Thu, 25","ds":"Thu, 25 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":22,"templow":16,"cf":23,"wind":14,"wd":220,"hum":71,"pc":40,"rain":1.9 },{"date":1721952E6,"ts":"Fri, 26","ds":"Fri, 26 Jul","icon":7,"desc":"Cloudy.","temp":20,"templow":12,"cf":20,"wind":10,"wd":240,"hum":52,"pc":5},{"date":17220384E5,"ts":"Sat, 27","ds":"Sat, 27 Jul","icon":33,"desc":"Passing showers. Broken clouds.","temp":21,"templow":11,"cf":21,"wind":12,"wd":280,"hum":50,"pc":51,"rain":1.2 },{"date":17221248E5,"ts":"Sun, 28","ds":"Sun, 28 Jul","icon":7,"desc":"Cloudy.","temp":24,"templow":10,"cf":25,"wind":13,"wd":220,"hum":49,"pc":4},{"hl":true,"hls":"29 Jul – 4 Aug","date":17222112E5,"ts":"Mon, 29","ds":"Mon, 29 Jul","icon":4,"desc":"Partly cloudy.","temp":25,"templow":12,"cf":25,"wind":9,"wd":220,"hum":49,"pc":0},{"date":17222976E5,"ts":"Tue, 30","ds":"Tue, 30 Jul","icon":7,"desc":"Overcast.","temp":24,"templow":13,"cf":25,"wind":1,"wd":140,"hum":47,"pc":0},{"date":1722384E6,"ts":"Wed, 31","ds":"Wed, 31 Jul","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":23,"templow":15,"cf":24,"wind":6,"wd":120,"hum":69,"pc":46,"rain":1.8 },{"date":17224704E5,"ts":"Thu, 1","ds":"Thu, 1 Aug","icon":33,"desc":"Passing showers. Scattered clouds.","temp":21,"templow":14,"cf":24,"wind":10,"wd":230,"hum":67,"pc":52,"rain":0.8 },{"date":17225568E5,"ts":"Fri, 2","ds":"Fri, 2 Aug","icon":33,"desc":"Showers late. Increasing cloudiness.","temp":21,"templow":14,"cf":21,"wind":15,"wd":220,"hum":71,"pc":52,"rain":1.2 },{"date":17226432E5,"ts":"Sat, 3","ds":"Sat, 3 Aug","icon":4,"desc":"Morning clouds.","temp":20,"templow":14,"cf":20,"wind":13,"wd":270,"hum":44,"pc":55,"rain":0.4 },{"date":17227296E5,"ts":"Sun, 4","ds":"Sun, 4 Aug","icon":6,"desc":"Broken clouds.","temp":20,"templow":14,"cf":20,"wind":11,"wd":220,"hum":47,"pc":6},{"hl":true,"hls":"5 Aug – 11 Aug","date":1722816E6,"ts":"Mon, 5","ds":"Mon, 5 Aug","icon":6,"desc":"Mostly cloudy.","temp":21,"templow":12,"cf":21,"wind":12,"wd":230,"hum":72,"pc":6},{"date":17229024E5,"ts":"Tue, 6","ds":"Tue, 6 Aug","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":21,"templow":15,"cf":24,"wind":10,"wd":240,"hum":65,"pc":40,"rain":0.3 },{"date":17229888E5,"ts":"Wed, 7","ds":"Wed, 7 Aug","icon":2,"desc":"Scattered clouds.","temp":24,"templow":15,"cf":25,"wind":9,"wd":200,"hum":42,"pc":6}],"grid":{"temp":{"low":10,"high":25,"range":15},"prec":{"high":1.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/ExaggeratedMoon_Ibatulin_960.jpg',
		Title:     'Exaggerated Moon',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/ExaggeratedMoon_Ibatulin_2610.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240724.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/French_Battleship_Justice_by_the_Detroit_Publishing_Co%2C_1909.jpg/500px-French_Battleship_Justice_by_the_Detroit_Publishing_Co%2C_1909.jpg',
		Title:    'French battleship Justice',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/French_battleship_Justice',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/French_battleship_Justice" title="French battleship Justice">Justice</a></b></i> was a <a href="https://en.wikipedia.org/wiki/Pre-dreadnought_battleship" title="Pre-dreadnought battleship">pre-dreadnought battleship</a> built for the <a href="https://en.wikipedia.org/wiki/French_Navy" title="French Navy">French Navy</a> in the early 1900s. She was the second member of the <a href="https://en.wikipedia.org/wiki/Libert%C3%A9-class_battleship" title="Liberté-class battleship"><i>Liberté</i> class</a>, which included three other vessels and was a derivative of the preceding <a href="https://en.wikipedia.org/wiki/R%C3%A9publique-class_battleship" title="République-class battleship"><i>République</i> class</a>. <i>Justice</i> carried a <a href="https://en.wikipedia.org/wiki/Main_battery" title="Main battery">main battery</a> of four 305&#160;mm (12&#160;in) guns, with ten 194&#160;mm (7.6&#160;in) guns for her secondary armament. On entering service, <i>Justice</i> became the <a href="https://en.wikipedia.org/wiki/Flagship" title="Flagship">flagship</a> of the 2nd Division of the <a href="https://en.wikipedia.org/wiki/Commander-in-Chief,_Mediterranean_(France)" title="Commander-in-Chief, Mediterranean (France)">Mediterranean Squadron</a>, participating in the training routine of squadron and fleet maneuvers and cruises, as well as several <a href="https://en.wikipedia.org/wiki/Fleet_review" title="Fleet review">naval reviews</a>. During World War&#160;I, <i>Justice</i> was used to escort <a href="https://en.wikipedia.org/wiki/Troopship" title="Troopship">troopship</a> convoys carrying elements of the French Army from North Africa to face the Germans invading northern France and also steamed to contain the <a href="https://en.wikipedia.org/wiki/Austro-Hungarian_Navy" title="Austro-Hungarian Navy">Austro-Hungarian Navy</a> in the <a href="https://en.wikipedia.org/wiki/Adriatic_Sea" title="Adriatic Sea">Adriatic Sea</a>, taking part in the minor <a href="https://en.wikipedia.org/wiki/Battle_of_Antivari" title="Battle of Antivari">Battle of Antivari</a>. She was sent to the <a href="https://en.wikipedia.org/wiki/Black_Sea" title="Black Sea">Black Sea</a> after the war to oversee the surrender of German-occupied Russian warships, and then briefly became a training ship, before being decommissioned in the early 1920s. This photograph shows <i>Justice</i> in 1909 near New York City.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/Detroit_Publishing_Company" title="Detroit Publishing Company">Detroit Publishing Company</a>; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1721797200,"duration":12600,"svcId":560,"evtId":26307,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721808000,"availabilityEnd":1721896215,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021c84\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain: Holidays","description":"29\/40. The Canary Islands holiday con that cost Brits thousands. And the couples left furious after their long-awaited cruises skipped key sights but still refused them a refund. [S] [HD]","startTime":1721809800,"duration":2700,"svcId":560,"evtId":26377,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h0wrf4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704454207,"availabilityEnd":1737458997,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001txd4\u0026ui_id=4.0.0"},"seriesNo":43,"episodeNo":29},{"name":"Expert Witness","description":"3\/15. When a 21-year-old student is murdered and dumped in the Humber Estuary, a forensic biologist helps police bring her killer to justice. [S] [HD]","startTime":1721812500,"duration":1800,"svcId":560,"evtId":26308,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g7hts1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692594000,"availabilityEnd":1724406327,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fw89s3\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":3},{"name":"Close Calls: On Camera","description":"9\/20. Horrifying dashcam footage captures the devastation caused by an out-of-control car. And a mum of three is trapped in a burning building while her sons struggle to free her. [S] [HD]","startTime":1721814300,"duration":1800,"svcId":560,"evtId":26309,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fwltsp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721816125,"availabilityEnd":1724408125,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001njpr\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":9},{"name":"Homes Under the Hammer","description":"A Methodist church in Dover, Kent, a charming cottage in Belper, Derbyshire and an end-terrace in Jump near Barnsley are all sold at auction. [S] [HD]","startTime":1721816100,"duration":3600,"svcId":560,"evtId":26310,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch2j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721819707,"availabilityEnd":1724411707,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001435f\u0026ui_id=4.0.0"},"seriesNo":35,"episodeNo":80},{"name":"Bargain Hunt","description":"Two teams hunt for bargains at Hemswell Antique Centres with the help of experts Catherine Southon and Mark Stacey. [S] [HD]","startTime":1721819700,"duration":2700,"svcId":560,"evtId":26378,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbs76r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721822399,"availabilityEnd":1753358401,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021cln\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1721822400,"duration":3600,"svcId":560,"evtId":26311,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":83},{"name":"Rick Stein\u0027s Cornwall","description":"8\/15. Rick finds out about the back-breaking work done by women in Cornwall\u0027s mines, gets a little merry on botanical spirits, and adds a cheeky nip to his yummy clementine trifle. [S,AD] [HD]","startTime":1721826000,"duration":1800,"svcId":560,"evtId":26314,"image":"\/ms\/img\/epg\/rb\/fec6-p0f3885p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1708799400,"availabilityEnd":1740376740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001jgm0\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":8},{"name":"Animal Park","description":"5\/15. Ben and Kate find out what happens when a silverback gorilla has his authority threatened and meet a new pancake tortoise. Jean falls for a fennec fox who\u0027s looking for a partner. [S,AD] [HD]","startTime":1721827800,"duration":1800,"svcId":560,"evtId":26315,"image":"\/ms\/img\/epg\/rb\/fec6-p0cqt27f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721829628,"availabilityEnd":1724421628,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000y2qc\u0026ui_id=4.0.0"},"seriesNo":31,"episodeNo":5},{"name":"Escape to the Country","description":"40\/55. Briony May Williams has some wonderful property options in Devon and Dorset to show today\u0027s buyer, who wants a new lease of life in a rural home with business potential. [S] [HD]","startTime":1721829600,"duration":2700,"svcId":560,"evtId":26316,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ff2fhz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721832308,"availabilityEnd":1724424308,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kzpq\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":40},{"name":"The Repair Shop","description":"12\/14. Jay Blades and the team restore a record turntable, a chair made for King George VI\u0027s coronation, a code breaker\u0027s leather writing case and a mechanical toy clown. [S,AD] [HD]","startTime":1721832300,"duration":2700,"svcId":560,"evtId":26317,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bgc1z8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1673503200,"availabilityEnd":1805608740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0013dsp\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":12},{"name":"The Finish Line","description":"7\/30. Roman Kemp hosts this quiz show with sidekick Sarah Greene. The contestants race on moving podiums across the studio floor to try to win \u00a35,000. [S] [HD]","startTime":1721835000,"duration":2700,"svcId":560,"evtId":26318,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g8jk4f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693325709,"availabilityEnd":1726935287,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001q26l\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"Pointless","description":"2\/55. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1721837700,"duration":2700,"svcId":560,"evtId":26319,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d4g2cm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693587600,"availabilityEnd":1725123600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001q2n0\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":2},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1721840400,"duration":1800,"svcId":560,"evtId":26320,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721842290,"availabilityEnd":1721928690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c8d\u0026ui_id=4.0.0"},"episodeNo":83},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1721842200,"duration":1800,"svcId":560,"evtId":26321,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721843895,"availabilityEnd":1721930295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c8g\u0026ui_id=4.0.0"},"episodeNo":115},{"name":"The One Show","description":"BAFTA nominated actor Bel Powley and comedian Russell Howard join Alex Jones and Roman Kemp in the studio. Plus Nikki Fox is in for Watchdog. [S] [HD]","startTime":1721844000,"duration":1800,"svcId":560,"evtId":26379,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721845925,"availabilityEnd":1724437925,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021clq\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Reiss backs himself into a corner, Kat struggles with recent events, Penny seizes an opportunity off of the back of someone else\u0027s misfortune. [S,AD] [HD]","startTime":1721845800,"duration":1800,"svcId":560,"evtId":26424,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbxpn5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721797200,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021d3m\u0026ui_id=4.0.0"},"episodeNo":6949},{"name":"The Repair Shop","description":"10\/14. Jay Blades and the team restore a pair of roller skates, a record player, a toy fire engine and a freedom fighter\u0027s wallet. [S,AD] [HD]","startTime":1721847600,"duration":3600,"svcId":560,"evtId":26425,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cvrnpm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1695930300,"availabilityEnd":1822107540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bn0z\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":10},{"name":"The Great British Sewing Bee","description":"10\/10. It\u0027s the final, and after challenges including opera gloves, party paraphernalia and a draped evening outfit, one sewer will be crowned winner. [S,AD] [HD]","startTime":1721851200,"duration":3600,"svcId":560,"evtId":26426,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jby7ng.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721854731,"availabilityEnd":1753390731,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021d3p\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":10},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1721854800,"duration":1800,"svcId":560,"evtId":26322,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721856690,"availabilityEnd":1721943090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c8j\u0026ui_id=4.0.0"},"episodeNo":83},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1721856600,"duration":600,"svcId":560,"evtId":26323,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721857050,"availabilityEnd":1721943450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c8l\u0026ui_id=4.0.0"},"episodeNo":99},{"name":"Marry Me","description":"A singer marries a stranger picked in the crowd at one of her concerts. [2022] [S,AD] [HD]","startTime":1721857200,"duration":6300,"svcId":560,"evtId":26380,"image":"\/ms\/img\/epg\/rb\/fec6-p0h2n6pq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721863546,"availabilityEnd":1724455546,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001tvg6\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1721863500,"duration":300,"svcId":560,"evtId":26324,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721863820,"availabilityEnd":1722468620,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c8n\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1721863800,"duration":19800,"svcId":560,"evtId":26325,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":115}]},{"channelid":700,"offset":0,"event":[{"name":"Beechgrove Garden","description":"16\/26. The secateurs are out as Kirsty Wilson and Calum Clunie set about trimming, pruning and cutting to encourage new growth for the rest of the season and beyond. [S] [HD]","startTime":1721799900,"duration":1800,"svcId":700,"evtId":17865,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbx6jl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721331049,"availabilityEnd":1752867049,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002178b\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":16},{"name":"Bargain Hunt","description":"Two teams of friends do battle for profits, while Charlie Ross visits a historic collection of human, horse and elephant armour in Leeds. [S] [HD]","startTime":1721801700,"duration":2700,"svcId":700,"evtId":17866,"image":"\/ms\/img\/epg\/rb\/fec6-p0jbs67t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721649600,"availabilityEnd":1753185600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021cx9\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"Rick Stein\u0027s Food Stories","description":"15\/15. Rick meets an organic food pioneer in the West Country and cooks some veggie delights. [S,AD,SL] [HD]","startTime":1721804400,"duration":1800,"svcId":700,"evtId":17867,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h8cvr1.jpg","hasTstv":false,"seriesNo":1,"episodeNo":15},{"name":"Great Coastal Railway Journeys","description":"11\/20. Michael Portillo sets off on a new railway adventure to explore the twin shores of the English Channel and the estuaries of the Thames and Medway. [S,AD,SL] [HD]","startTime":1721806200,"duration":1800,"svcId":700,"evtId":17868,"image":"\/ms\/img\/epg\/rb\/fec6-p0hrmjzp.jpg","hasTstv":false,"seriesNo":3,"episodeNo":11},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1721808000,"duration":8100,"svcId":700,"evtId":17869,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The first Prime Minister\u0027s Questions of the new Parliament. [S] [HD]","startTime":1721816100,"duration":6300,"svcId":700,"evtId":17870,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721822385,"availabilityEnd":1724414385,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021dx8\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"13\/30. Can players avoid giving Impossible answers and stay in the running for a \u00a310,000 jackpot? [S] [HD]","startTime":1721822400,"duration":2700,"svcId":700,"evtId":17871,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721825108,"availabilityEnd":1724417108,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000tq7j\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":13},{"name":"Make Me a Dealer","description":"4\/20. Paul Martin teaches people the tricks of the antiques trade. Today, he helps Piers Taberham from Southampton and Krystal Allen from Belfast. [S] [HD]","startTime":1721825100,"duration":2700,"svcId":700,"evtId":17872,"image":"\/ms\/img\/epg\/rb\/ae0c-p06qcmnz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721827803,"availabilityEnd":1724419803,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0brjm74\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"The Customer Is Always Right","description":"7\/15. Customers test and score a set of educational games, a tool for removing hair from vacuum cleaners and a zipable jacket extender for pregnant women. [S] [HD]","startTime":1721827800,"duration":2700,"svcId":700,"evtId":17873,"image":"\/ms\/img\/epg\/rb\/ae0c-p08bcy1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721830523,"availabilityEnd":1724422523,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000hqy2\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":7},{"name":"Coastal Defenders","description":"7\/8. It\u0027s another emergency for the Coastal Defenders dive team when a ferry service ends up stranded. [S,AD] [HD]","startTime":1721830500,"duration":1800,"svcId":700,"evtId":17874,"image":"\/ms\/img\/epg\/rb\/fec6-p0f6k3rx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721832318,"availabilityEnd":1724424318,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jw8g\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"B\u0026B by the Sea","description":"7\/15. Actress and comedian Nina Wadia checks into the B\u0026B. Nina was brought up near the coast in Hong Kong and has fond recollections of her time by the water. [S] [HD]","startTime":1721832300,"duration":1800,"svcId":700,"evtId":17875,"image":"\/ms\/img\/epg\/rb\/fec6-p0dnq4w7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721834119,"availabilityEnd":1724426119,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0df2g83\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"Bears About the House","description":"1\/2. Conservationist Giles Clark is in Laos to tackle wildlife crime and build a bear sanctuary. Mary, a baby sun bear, arrives and needs urgent care, and two moon bears are also rescued. [S,AD] [HD]","startTime":1721834100,"duration":3600,"svcId":700,"evtId":17876,"image":"\/ms\/img\/epg\/rb\/fec6-p08k0r46.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721837719,"availabilityEnd":1724429719,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000kxyz\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Flog It!","description":"23\/40. Antiques expert David Fletcher is delighted by a 1950s toy plane. [S] [HD]","startTime":1721837700,"duration":2700,"svcId":700,"evtId":17877,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721840207,"availabilityEnd":1724432207,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000dtcl\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":23},{"name":"Robson Green\u0027s Weekend Escapes","description":"9\/15. Sunderland-born actress Melanie Hill joins Robson on his pursuit of outdoor activities to help relax and recharge. They travel to High Force, one of the UKs biggest waterfalls. [S,AD] [HD]","startTime":1721840400,"duration":1800,"svcId":700,"evtId":17878,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dx6bvd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721842200,"availabilityEnd":1724434200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0dp3czh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":9},{"name":"Great Asian Railway Journeys","description":"1\/20. Michael Portillo learns the traditional Cantonese art of noodle making. [S,AD] [HD]","startTime":1721842200,"duration":1800,"svcId":700,"evtId":17881,"image":"\/ms\/img\/epg\/rb\/ae0c-p08126tx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721844014,"availabilityEnd":1724436014,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000dtcq\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Grand Tours of Scotland\u0027s Rivers","description":"2\/3. Seasoned traveller Paul Murton sets off downstream to explore five rivers. [S] [HD]","startTime":1721844000,"duration":3600,"svcId":700,"evtId":17883,"image":"\/ms\/img\/epg\/rb\/fec6-p0b1vxl7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721847582,"availabilityEnd":1724439582,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001nk9t\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":2},{"name":"Inside the Factory","description":"Gregg Wallace visits a factory making 432 million crumpets every year. [S,AD] [HD]","startTime":1721847600,"duration":3600,"svcId":700,"evtId":17885,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fg543c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721851243,"availabilityEnd":1724443243,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001l5hv\u0026ui_id=4.0.0"},"seriesNo":10},{"name":"Hell Jumper","description":"Courage, love and loss among young people saving lives in Ukraine\u0027s most dangerous towns. Contains strong language. [S,AD] [HD]","startTime":1721851200,"duration":5400,"svcId":700,"evtId":17887,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9yvj6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721797200,"availabilityEnd":1816405140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021dw6\u0026ui_id=4.0.0"}},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1721856600,"duration":1800,"svcId":700,"evtId":17889,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721858490,"availabilityEnd":1753394490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021dxd\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1721858400,"duration":300,"svcId":700,"evtId":17891,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721858696,"availabilityEnd":1721945096,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021dxg\u0026ui_id=4.0.0"}},{"name":"The Battle to Beat Malaria","description":"The inside story, from lab to roll-out, of a game-changing vaccine from Oxford. [S,AD] [HD]","startTime":1721858700,"duration":3600,"svcId":700,"evtId":17893,"image":"\/ms\/img\/epg\/rb\/fec6-p0jbj2gd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721624400,"availabilityEnd":1879390740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021dvf\u0026ui_id=4.0.0"}},{"name":"Ambulance","description":"2\/6. Senior paramedic Aiden is dispatched to a patient who has fallen 20 feet from a tree. Contains some strong language and upsetting scenes. [S,SL] [HD]","startTime":1721862300,"duration":3600,"svcId":700,"evtId":17895,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hbtsn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1707948060,"availabilityEnd":1742508000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001w2tt\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":2},{"name":"Great Coastal Railway Journeys","description":"12\/20. Michael Portillo travels through the longest undersea tunnel in the world on the Eurotunnel shuttle rail service from Folkestone to Calais. [S,AD,SL] [HD]","startTime":1721865900,"duration":1800,"svcId":700,"evtId":17897,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hrmk1c.jpg","hasTstv":false,"seriesNo":3,"episodeNo":12},{"name":"Anton \u0026 Giovanni\u0027s Adventures...","description":"...in Spain. 2\/3. It\u0027s Benidorm or bust as Anton and Giovanni take on the Costa Blanca. [S,AD,SL] [HD]","startTime":1721867700,"duration":3600,"svcId":700,"evtId":17899,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hjkn8j.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1721871300,"duration":13200,"svcId":700,"evtId":17901,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Murder Most Maris (Part 2\/2): Niles is suspected as an accomplice to murder, and Frasier accidentally recommends that his brother should be executed... (S11 Ep8)  [AD,S]","startTime":1721794500,"duration":1800,"svcId":1500,"evtId":32958,"image":"\/ms\/img\/epg\/rb\/5d52-5021655.l.png","hasTstv":false,"seriesNo":11,"episodeNo":8},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Katharine Merry joins Susie Dent in Dictionary Corner.  [S]","startTime":1721796300,"duration":2400,"svcId":1500,"evtId":32977,"image":"\/ms\/img\/epg\/rb\/5d52-9697710.l.png","hasTstv":false},{"name":"Cheers","description":"Take My Shirt, Please: Sam donates his old baseball shirt to a televised celebrity auction, but he feels humiliated when none of the people watching bid for it. (S4 Ep13\/26)  [S]","startTime":1721798700,"duration":1500,"svcId":1500,"evtId":32978,"image":"\/ms\/img\/epg\/rb\/5d52-321518.l.png","hasTstv":false,"seriesNo":4,"episodeNo":13},{"name":"Cheers","description":"Suspicion: Diane allows one of her psychology classmates to use the bar in an experiment about paranoia but starts to feel paranoid waiting for the gang to get their revenge. (S4 Ep14\/26)  [S]","startTime":1721800200,"duration":1500,"svcId":1500,"evtId":32979,"image":"\/ms\/img\/epg\/rb\/5d52-323096.l.png","hasTstv":false,"seriesNo":4,"episodeNo":14},{"name":"Everybody Loves Raymond","description":"The Breakup Tape: When Debra finds a cassette that contains a message from Ray\u0027s college girlfriend, she wants to know why he has kept it for so many years. (S6 Ep18)  [AD,S]","startTime":1721801700,"duration":1500,"svcId":1500,"evtId":32980,"image":"\/ms\/img\/epg\/rb\/5d52-190395.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"Everybody Loves Raymond","description":"Talk to Your Daughter: Ray is ready to speak to Ally about the facts of life but discovers that she is now more interested in knowing the meaning of life. (S6 Ep19)  [AD,S]","startTime":1721803200,"duration":1500,"svcId":1500,"evtId":32981,"image":"\/ms\/img\/epg\/rb\/5d52-190396.l.png","hasTstv":false,"seriesNo":6,"episodeNo":19},{"name":"Everybody Loves Raymond","description":"A Vote for Debra: Debra decides to run for school president, but Ray isn\u0027t sure that he can handle the twins by himself during all those meetings, so he votes against her. (S6 Ep20)  [AD,S]","startTime":1721804700,"duration":1800,"svcId":1500,"evtId":32982,"image":"\/ms\/img\/epg\/rb\/5d52-190397.l.png","hasTstv":false,"seriesNo":6,"episodeNo":20},{"name":"Everybody Loves Raymond","description":"Call Me Mom: As Ray finally feels comfortable enough to call Debra\u0027s mother \u0027mom\u0027, he wants Debra to reciprocate with Marie. (S6 Ep21)  [AD,S]","startTime":1721806500,"duration":1800,"svcId":1500,"evtId":32983,"image":"\/ms\/img\/epg\/rb\/5d52-190398.l.png","hasTstv":false,"seriesNo":6,"episodeNo":23},{"name":"Frasier","description":"How to Bury a Millionaire: Niles has to move in with Frasier after his divorce leaves him strapped for cash. (S6 Ep7)  [AD,S]","startTime":1721808300,"duration":1800,"svcId":1500,"evtId":32984,"image":"\/ms\/img\/epg\/rb\/5d52-775260.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Frasier","description":"The Seal Who Came to Dinner: While hosting a dinner party for The Gourmet Society at Maris\u0027s beach house, Frasier and Niles have to deal with a smelly, washed-up seal carcass. (S6 Ep8)  [AD,S]","startTime":1721810100,"duration":1800,"svcId":1500,"evtId":32985,"image":"\/ms\/img\/epg\/rb\/5d52-777823.l.png","hasTstv":false,"seriesNo":6,"episodeNo":8},{"name":"Frasier","description":"Roz, a Loan: Unemployed Roz is happy to hear that KACL might be rehiring everyone. (S6 Ep9)  [AD,S]","startTime":1721811900,"duration":1800,"svcId":1500,"evtId":32986,"image":"\/ms\/img\/epg\/rb\/5d52-780117.l.png","hasTstv":false,"seriesNo":6,"episodeNo":9},{"name":"Frasier","description":"Merry Christmas, Mrs. Moskowitz: A friendly woman comes to Frasier\u0027s rescue when he is out Christmas shopping. She recognises him, and he offers to return the favour. (S6 Ep10)  [AD,S]","startTime":1721813700,"duration":1800,"svcId":1500,"evtId":32987,"image":"\/ms\/img\/epg\/rb\/5d52-782650.l.png","hasTstv":false,"seriesNo":6,"episodeNo":10},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, sprinter Thomas Young gives us an intimate insight into his life, his training regime and the joy he feels on the track.  [AD,S]","startTime":1721815500,"duration":300,"svcId":1500,"evtId":32988,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Undercover Boss USA","description":"Singer-songwriter, actor and author Jewel dons a disguise as an event planner to go undercover and meet talented musicians and artists who are struggling to get their big break. (S9 Ep3)  [S]","startTime":1721815800,"duration":3300,"svcId":1500,"evtId":32989,"image":"\/ms\/img\/epg\/rb\/5d52-3721313.l.png","hasTstv":false,"seriesNo":9,"episodeNo":5},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1721819100,"duration":300,"svcId":1500,"evtId":32990,"image":"\/ms\/img\/epg\/rb\/5d52-9702282.l.png","hasTstv":false},{"name":"A New Life in the Sun","description":"Storms play havoc with the paintwork at a guest house in Bulgaria. It\u0027s opening day for a restaurant in France. And a family take on a huge renovation job at a villa in Italy. (S9 Ep8)  [S]","startTime":1721819400,"duration":3600,"svcId":1500,"evtId":32991,"image":"\/ms\/img\/epg\/rb\/5d52-8723861.l.png","hasTstv":false,"seriesNo":9,"episodeNo":8},{"name":"Car S.O.S","description":"Alpine A110: Tim Shaw and Fuzz Townshend fix up one of France\u0027s most legendary rally cars. Guido has owned it for 20 years but never driven it. (S9 Ep8)  [AD,S]","startTime":1721823000,"duration":3600,"svcId":1500,"evtId":32992,"image":"\/ms\/img\/epg\/rb\/5d52-406877122.l.png","hasTstv":false,"seriesNo":9,"episodeNo":8},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Katharine Merry joins Susie Dent in Dictionary Corner.  [S]","startTime":1721826600,"duration":3000,"svcId":1500,"evtId":32993,"image":"\/ms\/img\/epg\/rb\/5d52-9702283.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Linda is looking for a holiday home in Paphos on the west coast of Cyprus. Can Scarlette Douglas find a property that ticks all of Linda\u0027s boxes for her \u00a380,000 budget?  [S]","startTime":1721829600,"duration":3600,"svcId":1500,"evtId":32994,"image":"\/ms\/img\/epg\/rb\/5d52-408792393.l.png","hasTstv":false},{"name":"The Great House Giveaway","description":"The new series continues. In Wrexham, Alaw and Harri take on a terrace with no kitchen or bathroom, untouched since the day it was built. Can they flip it and make a profit? (S5 Ep3)  [S]","startTime":1721833200,"duration":3600,"svcId":1500,"evtId":32995,"image":"\/ms\/img\/epg\/rb\/5d52-9701619.l.png","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"A New Life in the Sun: Where...","description":"...Are They Now?: Two g\u00eete owners in France are cooking up a new plan to make more cash. And as Covid travel restrictions ease, can a campsite cope with the extra workload? (S4 Ep2)  [S]","startTime":1721836800,"duration":3600,"svcId":1500,"evtId":32996,"image":"\/ms\/img\/epg\/rb\/5d52-414527409.l.png","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"Come Dine with Me","description":"Swansea. The third host, 27-year-old business analyst Anamika, hosts a night of complicated cultural cuisine. Will her flavoursome fare pack a punch and win her the \u00a31000 prize? (Ep3\/5)  [S]","startTime":1721840400,"duration":1800,"svcId":1500,"evtId":32997,"image":"\/ms\/img\/epg\/rb\/5d52-5586648.l.png","hasTstv":false},{"name":"The Simpsons","description":"Mad About the Toy: A startling secret from Grampa\u0027s past takes him to Texas to find a long-lost life. (S30 Ep11\/23)  [AD,S]","startTime":1721842200,"duration":1800,"svcId":1500,"evtId":32998,"image":"\/ms\/img\/epg\/rb\/5d52-319316591.l.png","hasTstv":false,"seriesNo":30,"episodeNo":11},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1721844000,"duration":3300,"svcId":1500,"evtId":32999,"image":"\/ms\/img\/epg\/rb\/5d52-9702288.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, taekwondo talent Beth Munro gives us an intimate insight into her life, her support for younger athletes and her love for her sport.  [AD,S]","startTime":1721847300,"duration":300,"svcId":1500,"evtId":33000,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"New: Kirstie and Phil\u0027s Love It...","description":"...or List It: Brilliant Builds: Kirstie and Phil look back at working wonders with walls, from a cramped chalet to a full-up flat. Was Phil banging his head against a brick wall? (S5 Ep2)  [AD,S]","startTime":1721847600,"duration":3600,"svcId":1500,"evtId":33001,"image":"\/ms\/img\/epg\/rb\/5d52-414519438.l.png","hasTstv":false,"seriesNo":5,"episodeNo":2},{"name":"New: Suspect","description":"Sapphire: The psychological crime drama continues. Susannah learns some devastating truths about her daughter\u0027s death and comes to a terrifying realisation about the next target. (S2 Ep5\/8)  [AD,S]","startTime":1721851200,"duration":1800,"svcId":1500,"evtId":33002,"image":"\/ms\/img\/epg\/rb\/5d52-9701605.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"New: Suspect","description":"Joseph: Psychological drama. Facing imminent danger, Susannah seeks the help of her ex-client Joseph (Nicholas Pinnock), as her search for the truth grows increasingly desperate. (S2 Ep6\/8)  [AD,S]","startTime":1721853000,"duration":1800,"svcId":1500,"evtId":33003,"image":"\/ms\/img\/epg\/rb\/5d52-9701607.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"New: Fugitive: The Mystery of...","description":"...the Crypto Queen: As the sceptics ramp up the fight against OneCoin, the Crypto Queen avoids the spotlight, then disappears. Is she on maternity leave or has she fled? (Ep2\/3)  [AD,S]","startTime":1721854800,"duration":3900,"svcId":1500,"evtId":33004,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Gogglebox","description":"The Goggleboxers watch Frozen Planet II, Who Wants to Be a Millionaire?, Married at First Sight UK and the BBC News Special announcing the Queen\u0027s death. (S20 Ep2)  [AD,S]","startTime":1721858700,"duration":3600,"svcId":1500,"evtId":33005,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":20,"episodeNo":2},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics approaching, table-tennis player Bly Twomey gives an insight into her life and the importance of the support that she receives from family and friends.  [AD,S,SL]","startTime":1721862300,"duration":300,"svcId":1500,"evtId":33006,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay revisits some of the restaurants he set out to save, including The Mixing Bowl, The Olde Stone Mill, Peter\u0027s and Campania. Have things improved? (S2 Ep13\/13)  [S,SL]","startTime":1721862600,"duration":3600,"svcId":1500,"evtId":33007,"image":"\/ms\/img\/epg\/rb\/5d52-4884585.l.png","hasTstv":false,"seriesNo":2,"episodeNo":13},{"name":"Come Dine with Me: The...","description":"...Professionals: In Newcastle, husband and wife Daimon and Steph kick off the week at Savoury Fix. They face Andy\u0027s Asian-fusion at River Beat and a seafood selection at Caboose. (S1 Ep14)  [S]","startTime":1721866200,"duration":3000,"svcId":1500,"evtId":33008,"image":"\/ms\/img\/epg\/rb\/5d52-6187205.l.png","hasTstv":false,"seriesNo":1,"episodeNo":14},{"name":"Downsizing","description":"(2017) Sci-fi comedy-drama starring Matt Damon and Kristen Wiig. A couple decide to improve their lives by getting shrunk to five inches tall. Strong language\/drugs.  [S,SL]","startTime":1721869200,"duration":8100,"svcId":1500,"evtId":33009,"image":"\/ms\/img\/epg\/rb\/5d52-2777098.l.png","hasTstv":false},{"name":"Jamie\u0027s One-Pan Wonders","description":"Jamie Oliver cooks super-speedy smoked salmon pasta, a loaded beef burger with sweet red peppers, pickles and mustard, and gorgeously soft and sticky toffee apple buns. (Ep7)  [AD,S,SL]","startTime":1721877300,"duration":1500,"svcId":1500,"evtId":33201,"image":"\/ms\/img\/epg\/rb\/5d52-6591435.l.png","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"Sunday Brunch Best Bits","description":"Tim Lovejoy and Simon Rimmer present highlights from Sunday Brunch, featuring actor and comedian Jack McBrayer.  [S]","startTime":1721878800,"duration":600,"svcId":1500,"evtId":33014,"image":"\/ms\/img\/epg\/rb\/5d52-6290878.l.png","hasTstv":false},{"name":"Frasier","description":"Guns \u0027N\u0027 Neuroses: Lilith and Frasier are both set up on blind dates... on the same day... by a mutual friend. Niles and Daphne are upset when Martin\u0027s gun accidentally goes off. (S11 Ep9)  [AD,S]","startTime":1721879400,"duration":1500,"svcId":1500,"evtId":33012,"image":"\/ms\/img\/epg\/rb\/5d52-5029109.l.png","hasTstv":false,"seriesNo":11,"episodeNo":9}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('269');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('28');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'ISaE_DENYkM', title: "Crossing England in a Straight Line #4 - Inspired by Geowizard", label: "Crossing England in a Straight Line #4 - Inspired by Geowizard by Archie Fieldhouse 94,521 views 2 weeks ago 28 minutes" },
{ id: 'c8_NguhD7WM', title: "Crossing England in a Straight Line #3 - Inspired by Geowizard", label: "Crossing England in a Straight Line #3 - Inspired by Geowizard by Archie Fieldhouse 98,279 views 3 weeks ago 24 minutes" },
{ id: 'GTG1Ko4BLIk', title: "Crossing England in a Straight Line #2 - Inspired by Geowizard", label: "Crossing England in a Straight Line #2 - Inspired by Geowizard by Archie Fieldhouse 133,187 views 1 month ago 19 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Snow White and the Seven Dwarfs (1937)">Snow White and the Seven Dwarfs (1937)</a></li><li><a href="https://www.google.com/search?q=Films+-+Last Night in Soho (2021)">Last Night in Soho (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Short Term 12 (2013)">Short Term 12 (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Casablanca (1942)">Casablanca (1942)</a></li><li><a href="https://www.google.com/search?q=Films+-+Come and See (1985)">Come and See (1985)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Miseducation of Cameron Post (2018)">The Miseducation of Cameron Post (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Phantom Thread (2017)">Phantom Thread (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+Stand By Me (1986)">Stand By Me (1986)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Passion of Joan of Arc (1928)">The Passion of Joan of Arc (1928)</a></li><li><a href="https://www.google.com/search?q=Films+-+Host (2020)">Host (2020)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 213.52, tooltip: "Tue, Jul 23, 2024<br/>£213.52"},
{ number: 213.52, tooltip: "Mon, Jul 22, 2024<br/>£213.52"},
{ number: 211.93, tooltip: "Fri, Jul 19, 2024<br/>£211.93"},
{ number: 212.63, tooltip: "Thu, Jul 18, 2024<br/>£212.63"},
{ number: 213.73, tooltip: "Wed, Jul 17, 2024<br/>£213.73"},
{ number: 216.60, tooltip: "Tue, Jul 16, 2024<br/>£216.60"},
{ number: 215.12, tooltip: "Mon, Jul 15, 2024<br/>£215.12"},
{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
{ number: 213.51, tooltip: "Fri, Jun 28, 2024<br/>£213.51"},
{ number: 213.69, tooltip: "Thu, Jun 27, 2024<br/>£213.69"},
{ number: 214.04, tooltip: "Wed, Jun 26, 2024<br/>£214.04"},
{ number: 213.31, tooltip: "Tue, Jun 25, 2024<br/>£213.31"},
{ number: 212.57, tooltip: "Mon, Jun 24, 2024<br/>£212.57"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Jul 23, 2024",
		"vs Day":      "Mon, Jul 22, 2024",
		"vs Week":     "Tue, Jul 16, 2024",
		"vs Month":    "Mon, Jun 24, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£213.52/share",
		'vs Day':      "0.00%",
		'vs Week':     "-1.42%",
		'vs Month':    "+0.45%",
		'vs Year':     "+16.80%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '87.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 24 July and 25 July">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.872&p=2.311&r=5.436',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:15',
		Set:      '21:09',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>Someone described as sanctimonious behaves as though they are morally superior to others. Language or behavior that suggests the same kind of moral superiority can also be described as sanctimonious.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>