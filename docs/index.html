<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:11 22-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Jay Slater: Search for missing Brit focuses on village</b><br/>Jay Slater, 19, has not been heard from since Monday when he said he needed water and had 1% battery." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cpdd3l84zk0o">Jay Slater: Search for missing Brit focuses on village</a></li><li class="ttt" data-tt="<b>UK\'s richest family convicted of exploiting servants</b><br/>Four Hinduja family members were given prison sentences ranging from four to four-and-a-half years."><a href="https://www.bbc.com/news/articles/c3ggl6pe52eo">UK\'s richest family convicted of exploiting servants</a></li><li class="ttt" data-tt="<b>Ex-Russian spy and daughter may give evidence in court</b><br/>The deadly nerve agent was used in an attempt to murder Sergei Skripal and his daughter, Yulia."><a href="https://www.bbc.com/news/articles/ckkk7k0dr3po">Ex-Russian spy and daughter may give evidence in court</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cpdd3l84zk0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f6ff/live/051b2810-2ffa-11ef-bdc5-41d7421c2adf.jpg" class="ttt" data-tt="Search teams look out near village of Masca in search for Jay Slater" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>No guns for domestic abuse suspects, top US court rules</b><br/>The court showed there are limits to the right to bear arms as it upheld a gun ban for those under restraining orders." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cy77g704ldzo">No guns for domestic abuse suspects, top US court rules</a></li><li class="ttt" data-tt="<b>Steve Bannon asks US Supreme Court to delay prison term</b><br/>The Supreme Court remains Bannon\'s last chance, after a federal appeals court denied a similar bid."><a href="https://www.bbc.com/news/articles/c0jjxjgx27po">Steve Bannon asks US Supreme Court to delay prison term</a></li><li class="ttt" data-tt="<b>FBI names suspect in 1996 campsite murders of couple</b><br/>The young couple were found tied up with throats slashed, but there is no evidence it was a hate crime."><a href="https://www.bbc.com/news/articles/c255l0dgj83o">FBI names suspect in 1996 campsite murders of couple</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cy77g704ldzo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2e8b/live/08e3f0e0-2fef-11ef-bfd5-3d91e02f703f.jpg" class="ttt" data-tt="Crowd holding signs against domestic violence, Julianne Moore at podium with microphone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Putin warns South Korea against arming Ukraine</b><br/>The Russian president said it would be a &quot;big mistake&quot; if Seoul sent lethal weapons to Kyiv." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c1ee8x221lno">Putin warns South Korea against arming Ukraine</a></li><li class="ttt" data-tt="<b>Balkans hit by blackouts as heatwave persists</b><br/>Albania, Bosnia, Croatia and Montenegro suffer simultaneous power cuts as the region swelters in a heatwave."><a href="https://www.bbc.com/news/articles/c4nn140qp4do">Balkans hit by blackouts as heatwave persists</a></li><li class="ttt" data-tt="<b>Gay sex ban in Namibia ruled unconstitutional</b><br/>In a landmark ruling, laws banning same-sex acts between men are ruled unconstitutional."><a href="https://www.bbc.com/news/articles/c7220g65xllo">Gay sex ban in Namibia ruled unconstitutional</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c1ee8x221lno"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1470/live/8b703570-2f84-11ef-a1a0-1b597702763c.jpg" class="ttt" data-tt="Vladimir Putin" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Hamilton sets pace in Spanish Grand Prix practice</b><br/>Lewis Hamilton sets the pace in Friday practice at the Spanish Grand Prix as Mercedes, Ferrari, McLaren and Red Bull look closely matched." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/crgg66g45ryo">Hamilton sets pace in Spanish Grand Prix practice</a></li><li class="ttt" data-tt="<b>Wolff rejects claims that Hamilton car \'sabotaged\'</b><br/>Mercedes team principal Toto Wolff rejects claims in an anonymous email that Lewis Hamilton’s car has been “sabotaged” by the team."><a href="https://www.bbc.com/sport/formula1/articles/cljjldx22rno">Wolff rejects claims that Hamilton car \'sabotaged\'</a></li><li class="ttt" data-tt="<b>Briatore, 74, named Alpine adviser</b><br/>Former Renault Formula 1 team boss Flavio Briatore is appointed executive adviser to the Alpine team."><a href="https://www.bbc.com/sport/formula1/articles/c0vv3y89j88o">Briatore, 74, named Alpine adviser</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/crgg66g45ryo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/400a/live/b07befa0-2ff5-11ef-a45c-51c0f91f0592.jpg" class="ttt" data-tt="Lewis Hamilton smiles while wearing sunglasses" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>TikTok confirms it offered US government a \'kill switch\'</b><br/>The platform made the disclosure as part of its legal challenge against a law forcing its sale in the US." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cxwwz7l02j0o">TikTok confirms it offered US government a \'kill switch\'</a></li><li class="ttt" data-tt="<b>Stolen test data and NHS numbers published by hospital hackers</b><br/>Experts say the hack is one of the most &quot;significant and harmful&quot; cyber attacks ever in the UK."><a href="https://www.bbc.com/news/articles/c9ww90j9dj8o">Stolen test data and NHS numbers published by hospital hackers</a></li><li class="ttt" data-tt="<b>Microsoft back as most valuable firm as Nvidia slips</b><br/>The artificial intelligence chip giant briefly took the top spot from the software company this week."><a href="https://www.bbc.com/news/articles/c8884389l35o">Microsoft back as most valuable firm as Nvidia slips</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cxwwz7l02j0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1af6/live/856bd080-2fbb-11ef-a044-9d4367d5b599.jpg" class="ttt" data-tt="A hand holding a phone with the TikTok logo on it, int front of the US Capitol building" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"17 Jun – 23 Jun","date":17190144E5,"ts":"Sat, 22","ds":"Sat, 22 Jun","icon":18,"desc":"Sprinkles early. Cloudy.","temp":21,"templow":10,"cf":20,"wind":8,"wd":310,"hum":51,"pc":49,"rain":0.9 },{"date":17191008E5,"ts":"Sun, 23","ds":"Sun, 23 Jun","icon":1,"desc":"Sunny.","temp":24,"templow":10,"cf":25,"wind":5,"wd":210,"hum":54,"pc":0},{"hl":true,"hls":"24 Jun – 30 Jun","date":17191872E5,"ts":"Mon, 24","ds":"Mon, 24 Jun","icon":2,"desc":"Mostly sunny.","temp":26,"templow":14,"cf":26,"wind":9,"wd":170,"hum":53,"pc":6},{"date":17192736E5,"ts":"Tue, 25","ds":"Tue, 25 Jun","icon":21,"desc":"Isolated tstorms late. Afternoon clouds.","temp":26,"templow":14,"cf":26,"wind":7,"wd":150,"hum":52,"pc":19,"rain":1},{"date":171936E7,"ts":"Wed, 26","ds":"Wed, 26 Jun","icon":19,"desc":"Rain late. Overcast.","temp":24,"templow":16,"cf":24,"wind":15,"wd":300,"hum":68,"pc":77,"rain":15.7 },{"date":17194464E5,"ts":"Thu, 27","ds":"Thu, 27 Jun","icon":33,"desc":"Rain showers. Overcast.","temp":19,"templow":14,"cf":18,"wind":12,"wd":180,"hum":72,"pc":68,"rain":10.9 },{"date":17195328E5,"ts":"Fri, 28","ds":"Fri, 28 Jun","icon":18,"desc":"Sprinkles late. Cloudy.","temp":20,"templow":11,"cf":19,"wind":8,"wd":320,"hum":69,"pc":14,"rain":0.1 },{"date":17196192E5,"ts":"Sat, 29","ds":"Sat, 29 Jun","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":19,"templow":12,"cf":19,"wind":11,"wd":20,"hum":65,"pc":50,"rain":1},{"date":17197056E5,"ts":"Sun, 30","ds":"Sun, 30 Jun","icon":18,"desc":"Sprinkles. Afternoon clouds.","temp":18,"templow":11,"cf":17,"wind":12,"wd":30,"hum":60,"pc":47,"rain":0.6 },{"hl":true,"hls":"1 Jul – 7 Jul","date":1719792E6,"ts":"Mon, 1","ds":"Mon, 1 Jul","icon":6,"desc":"Broken clouds.","temp":18,"templow":11,"cf":18,"wind":13,"wd":20,"hum":73,"pc":45,"rain":0.3 },{"date":17198784E5,"ts":"Tue, 2","ds":"Tue, 2 Jul","icon":2,"desc":"Scattered clouds.","temp":18,"templow":11,"cf":18,"wind":11,"wd":50,"hum":61,"pc":5},{"date":17199648E5,"ts":"Wed, 3","ds":"Wed, 3 Jul","icon":1,"desc":"Sunny.","temp":19,"templow":11,"cf":18,"wind":10,"wd":40,"hum":58,"pc":6},{"date":17200512E5,"ts":"Thu, 4","ds":"Thu, 4 Jul","icon":33,"desc":"Showers late. Mostly cloudy.","temp":19,"templow":12,"cf":19,"wind":11,"wd":40,"hum":68,"pc":41,"rain":0.2 },{"date":17201376E5,"ts":"Fri, 5","ds":"Fri, 5 Jul","icon":4,"desc":"Breaks of sun late.","temp":19,"templow":12,"cf":19,"wind":10,"wd":20,"hum":55,"pc":6}],"grid":{"temp":{"low":10,"high":26,"range":16},"prec":{"high":15.7},"time":86400000,"sections":14},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/NGC1546compassHST1024.jpg',
		Title:     'Hubble\'s NGC 1546',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/NGC1546compassHST.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240621.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Pinguicula_vulgaris_flower_%28front_view%29_-_Keila.jpg/350px-Pinguicula_vulgaris_flower_%28front_view%29_-_Keila.jpg',
		Title:    'Pinguicula vulgaris',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Pinguicula_vulgaris',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Pinguicula_vulgaris" title="Pinguicula vulgaris">Pinguicula vulgaris</a></b></i>, the common butterwort, is a perennial <a href="https://en.wikipedia.org/wiki/Carnivorous_plant" title="Carnivorous plant">carnivorous plant</a> in the <a href="https://en.wikipedia.org/wiki/Lentibulariaceae" title="Lentibulariaceae">Lentibulariaceae</a> family. It has a generally <a href="https://en.wikipedia.org/wiki/Circumboreal_Region" title="Circumboreal Region">circumboreal</a> distribution, being native to almost every country in Europe as well as Russia, Canada and the United States. Growing to a height of 3 to 16 centimetres (1.2 to 6.3 inches), it is topped with a purple and occasionally white funnel-shaped flower that is 15 millimetres (0.59&#160;in) or longer. The plant, which is <a href="https://en.wikipedia.org/wiki/Insectivore" title="Insectivore">insectivorous</a>, grows in damp environments such as bogs and swamps, in low or subalpine elevations. Its leaves have glands that excrete a sticky fluid that traps insects to its leaves; its glands also produce digestive enzymes that work to consume the insects externally. This <i>P.&#160;vulgaris</i> flower was photographed in <a href="https://en.wikipedia.org/wiki/Keila" title="Keila">Keila</a>, Estonia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.orghttps://commons.wikimedia.org/wiki/User:Iifar" class="extiw" title="c:User:Iifar">Ivar Leidus</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":1,"event":[{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1719020100,"duration":12300,"svcId":560,"evtId":25404,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":82},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1719032400,"duration":14400,"svcId":560,"evtId":25545,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719043200,"availabilityEnd":1719133200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqg\u0026ui_id=4.0.0"}},{"name":"Saturday Kitchen Live","description":"Host Matt Tebbutt is joined by chefs Georgina Hayden, Genevieve Taylor and Jason Atherton, and by special guest Lulu. Drinks expert Olly Smith picks the wines to go with the studio dishes. [S] [HD]","startTime":1719046800,"duration":5400,"svcId":560,"evtId":25676,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zkqzw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719052215,"availabilityEnd":1750588215,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020kr5\u0026ui_id=4.0.0"}},{"name":"Mary Berry - Cook and Share","description":"2\/6. In Bristol, Mary Berry shares delicious recipes and tries her hand at street art. [S,AD] [HD]","startTime":1719052200,"duration":1800,"svcId":560,"evtId":25546,"image":"\/ms\/img\/epg\/rb\/ae0c-p0czpyvm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1698382800,"availabilityEnd":1730008800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001c2z6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Homes Under the Hammer","description":"38\/80. Jacqui puts on her walking boots to make a trek to the end of a very long garden. [S,AD] [HD]","startTime":1719054000,"duration":1800,"svcId":560,"evtId":25628,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch5k.jpg","hasTstv":false,"seriesNo":39,"episodeNo":38},{"name":"Bargain Hunt","description":"Charlie Ross is in Worcestershire with experts Caroline Hawley and Philip Serrell. Charlie tests the fairgoers with a mystery item. [S,AD] [HD]","startTime":1719055800,"duration":2700,"svcId":560,"evtId":25629,"image":"\/ms\/img\/epg\/rb\/ae0c-p091txf8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719058499,"availabilityEnd":1721650499,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000r7w1\u0026ui_id=4.0.0"},"seriesNo":57},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1719058500,"duration":600,"svcId":560,"evtId":25547,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719059220,"availabilityEnd":1719145620,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqj\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1719059100,"duration":300,"svcId":560,"evtId":25548,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719059399,"availabilityEnd":1719145799,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jql\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"MOTD Live: Georgia v Czech...","description":"...Republic. Live coverage from Hamburg as Georgia\u0027s maiden European Championship campaign continues against 2020 quarter-finalists and Group F rivals, the Czech Republic. [S] [HD]","startTime":1719059400,"duration":9900,"svcId":560,"evtId":25679,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3xqhq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719069395,"availabilityEnd":1721661395,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020kr7\u0026ui_id=4.0.0"}},{"name":"The Bidding Room","description":"5\/9. Nigel Havers hosts as five dealers bid to buy items brought in by the public, including some vintage teddy bears, an antique tile and a mid-century sideboard. [S] [HD]","startTime":1719069300,"duration":1800,"svcId":560,"evtId":25549,"image":"\/ms\/img\/epg\/rb\/ae0c-p08fvft4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719071188,"availabilityEnd":1721663188,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000z3qr\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":5},{"name":"Garden Rescue","description":"26\/35. Chris and Lee are in Bristol to come up with a design that suits Hannah and Dominic\u0027s opposing ideas for their garden. [S] [HD]","startTime":1719071100,"duration":2700,"svcId":560,"evtId":25550,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gbyrd0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1694446197,"availabilityEnd":1726932622,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001qgny\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":26},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1719073800,"duration":900,"svcId":560,"evtId":25551,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719074730,"availabilityEnd":1719161130,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqn\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1719074700,"duration":300,"svcId":560,"evtId":25552,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719075005,"availabilityEnd":1719161405,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqq\u0026ui_id=4.0.0"},"episodeNo":83},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1719075000,"duration":300,"svcId":560,"evtId":25553,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719075261,"availabilityEnd":1719161661,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqs\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"Celebrity Bridge of Lies","description":"8\/8. A team of celebrity families face the Bridge of Lies. [S] [HD]","startTime":1719075300,"duration":2700,"svcId":560,"evtId":25682,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j5db9g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719077981,"availabilityEnd":1750613981,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020kr9\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":8},{"name":"Doctor Who","description":"8\/8. The Doctor has lost, his ageless enemy reigns supreme, and a shadow is falling over creation. Nothing can stop the devastation... except, perhaps, one woman. [S,AD] [HD]","startTime":1719078000,"duration":3300,"svcId":560,"evtId":25683,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j4qz15.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719010620,"availabilityEnd":1750617321,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020krd\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":8},{"name":"Michael McIntyre\u0027s The Wheel","description":"1\/10. Clare Balding, Darren Harriott and Jay Blades try to help contestants win big cash. [S] [HD]","startTime":1719081300,"duration":3600,"svcId":560,"evtId":25684,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gfm424.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1695501412,"availabilityEnd":1729542298,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001qxgc\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"Casualty","description":"2\/12. Iain dives into the deep end during a storm that wrecks Holby, leaving Stevie and Siobhan struggling to stay afloat, whilst Dylan wrestles with the prospect of catching feelings. [S,AD] [HD]","startTime":1719084900,"duration":3000,"svcId":560,"evtId":25685,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j4r0fs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719032400,"availabilityEnd":1901163600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020krj\u0026ui_id=4.0.0"},"seriesNo":43,"episodeNo":2},{"name":"Rebus","description":"6\/6. Lives are at stake, with John\u0027s loyalties torn and more revelations to come. Contains very strong language, some violence and some upsetting scenes. [S,AD] [HD]","startTime":1719087900,"duration":2700,"svcId":560,"evtId":25686,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvwr3s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715922000,"availabilityEnd":1873751581,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yjsp\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1719090600,"duration":900,"svcId":560,"evtId":25554,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719091650,"availabilityEnd":1719178050,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqv\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1719091500,"duration":300,"svcId":560,"evtId":25555,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719091866,"availabilityEnd":1719178266,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqx\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"MOTD: Euro 2024 Highlights","description":"Alex Scott presents all the goals and talking points from the day\u0027s three matches, featuring 2016 winners Portugal\u0027s Group F encounter with Turkey. [S] [HD]","startTime":1719091800,"duration":3600,"svcId":560,"evtId":25687,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j46jdl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719095521,"availabilityEnd":1721687521,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020krn\u0026ui_id=4.0.0"}},{"name":"MOTD Top Ten: Stars of Euro 2024","description":"3\/10. Who will be the stars to watch out for at Euro 2024? Gary and the boys predict who will shine. [S] [HD]","startTime":1719095400,"duration":1800,"svcId":560,"evtId":25688,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j295zl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717390800,"availabilityEnd":1735624740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00204bp\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"Doctor Who: Unleashed","description":"8\/9. The lowdown on Bonnie Langford\u0027s driving skills, and Russell T Davies gives us an insight into the next season with an exclusive clip! [S,AD] [HD]","startTime":1719097200,"duration":1800,"svcId":560,"evtId":25689,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j48t4w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719013500,"availabilityEnd":1782155089,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020krr\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":8},{"name":"Doctor Who: Unleashed - Unseen","description":"9\/9. Your VIP seat to unseen moments from across the entire series of Doctor Who. [S,AD] [HD]","startTime":1719099000,"duration":1800,"svcId":560,"evtId":25690,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwxxl6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719015300,"availabilityEnd":1782087300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020krt\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":9},{"name":"Superman \u0026 Lois","description":"10\/13. Lois interviews Peia in the hope of unearthing the truth about an old case, and Clarke struggles to spend quality time with the boys. [S,AD] [HD]","startTime":1719100800,"duration":2400,"svcId":560,"evtId":25691,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hr8jzl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713675600,"availabilityEnd":1806533940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y3p5\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":10},{"name":"Euro 2024 Match Replay: Belgium...","description":"...v Romania. A full replay of Belgium v Romania at Euro 2024, with crucial points at stake in Group E. [S] [HD]","startTime":1719103200,"duration":6600,"svcId":560,"evtId":25692,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j425lw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719109938,"availabilityEnd":1721701938,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020krw\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1719109800,"duration":300,"svcId":560,"evtId":25556,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719110221,"availabilityEnd":1719715021,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020jqz\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1719110100,"duration":8700,"svcId":560,"evtId":25557,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":83}]},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1719021900,"duration":11400,"svcId":700,"evtId":17059,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Hey Duggee","description":"The Puddle Badge. Happy sees a very questionable looking puddle that he is determined to splash in. [S] [HD]","startTime":1719033300,"duration":600,"svcId":700,"evtId":17155,"image":"\/ms\/img\/epg\/rb\/fec6-p08gn9hn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1624976940,"availabilityEnd":1748660400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000k4xy\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":25},{"name":"Go Jetters","description":"The Dead Sea, Middle East. Animated adventure comedy series. The Go Jetters are relaxing by the Dead Sea when Grandmaster Glitch causes a custard catastrophe. To the Vroomster! [S] [HD]","startTime":1719033900,"duration":600,"svcId":700,"evtId":17156,"image":"\/ms\/img\/epg\/rb\/fec6-p03xh2lq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1572274140,"availabilityEnd":1730001600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b07ftlrs\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":20},{"name":"Grizzy and the Lemmings","description":"Franken-Grizzy. Grizzy unwittingly brings to life some medieval armour. [S] [HD]","startTime":1719034500,"duration":600,"svcId":700,"evtId":17157,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g32gvm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716897976,"availabilityEnd":1721627052,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pgq7\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":56},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Doggie Bagged. After causing a ruckus at the Town Fair, Dog asks his old sensei to train him to be calmer. Unfortunately, Dog\u0027s new peaceful attitude might be even worse! [S] [HD]","startTime":1719035100,"duration":600,"svcId":700,"evtId":17158,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h7r40h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1707119100,"availabilityEnd":1858219200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001w2ly\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":17},{"name":"Monster Loving Maniacs","description":"Ship of Doom. Arthur tells the story of how he managed to capture Dracula in the past. [S] [HD]","startTime":1719035700,"duration":600,"svcId":700,"evtId":17159,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7l39h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1666580400,"availabilityEnd":1792724400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0d4pvmj\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":13},{"name":"Shaun the Sheep","description":"Sheep Sheep Goose. Can Shaun help reunite Goz, a newly hatched gosling, with his mum and dad? [S] [HD]","startTime":1719036300,"duration":600,"svcId":700,"evtId":17160,"image":"\/ms\/img\/epg\/rb\/fec6-p0d0kl50.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719036972,"availabilityEnd":1721628972,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001cl28\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":17},{"name":"Pok\u00e9mon Horizons: The Series","description":"Arboliva\u0027s Forest. Searching for Arboliva, Liko, Roy and Mollie discover a forest devastated by wildfire. [S] [HD]","startTime":1719036900,"duration":1200,"svcId":700,"evtId":17161,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gy5w30.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1705291200,"availabilityEnd":1796011200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tzkp\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":11},{"name":"The Next Step","description":"Sole Connection. A surprise guest changes everything for Ariana, and Adele and Anthony are met with sabotage right before their duet. [S,AD] [HD]","startTime":1719038100,"duration":1500,"svcId":700,"evtId":17162,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hx6l78.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716566400,"availabilityEnd":2027386800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zj4w\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":21},{"name":"The Next Step","description":"Take the Leap. In the final round of internationals, A-Troupe face off against fearsome competitors, sticking together through their biggest challenge yet. [S,AD] [HD]","startTime":1719039600,"duration":1200,"svcId":700,"evtId":17163,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hx6l9l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716566400,"availabilityEnd":2027386800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zj4y\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":22},{"name":"Blue Peter: Shini\u0027s Musical...","description":"...Challenge, Inside Out 2 \u0026 Alfie. Shini\u0027s Musical Theatre Challenge, Inside Out 2 and Alfie Templeman. We celebrate World Music Day with a performance from Alfie Templeman. [S] [HD]","startTime":1719040800,"duration":1800,"svcId":700,"evtId":17164,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j5q8gc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718987400,"availabilityEnd":1724171400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020cqf\u0026ui_id=4.0.0"},"episodeNo":12},{"name":"Newsround","description":"22\/06\/2024. Topical news magazine for children. [S] [HD]","startTime":1719042600,"duration":600,"svcId":700,"evtId":17165,"image":"\/ms\/img\/epg\/rb\/fec6-p0chnbfw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719043148,"availabilityEnd":1719129548,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020lkn\u0026ui_id=4.0.0"}},{"name":"Gardeners\u0027 World","description":"14\/32. Frances Tophill is at Powderham Castle in Devon. [S] [HD]","startTime":1719043200,"duration":3600,"svcId":700,"evtId":17166,"image":"\/ms\/img\/epg\/rb\/fec6-p0j402sj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719000039,"availabilityEnd":1750536039,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020cvp\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":14},{"name":"Interior Design Masters with...","description":"...Alan Carr. 5\/8. The five remaining interior designers are challenged to transform beach huts on the Essex coast. [S,AD] [HD]","startTime":1719046800,"duration":3600,"svcId":700,"evtId":17167,"image":"\/ms\/img\/epg\/rb\/fec6-p0980h21.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1648069200,"availabilityEnd":1745729940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000stk0\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Jay\u0027s Yorkshire Workshop","description":"5\/6. This week, Jay and his workshop make furniture for a veteran who set up a charity to help other ex-forces members and a couple who have fostered 130 children. [S] [HD]","startTime":1719050400,"duration":3600,"svcId":700,"evtId":17168,"image":"\/ms\/img\/epg\/rb\/ae0c-p09w0z2t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719053959,"availabilityEnd":1721645959,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000zyhq\u0026ui_id=4.0.0"},"episodeNo":5},{"name":"Coast to Coast Food Festival","description":"5\/20. Edith Bowman and Colin Murray explore the Glasgow Foodies\u0027 Festival, where they discover the secrets to the best egg fried rice with chef Jimmy Lee and how to spot \u0027fake\u0027 vanilla. [S] [HD]","startTime":1719054000,"duration":1800,"svcId":700,"evtId":17169,"image":"\/ms\/img\/epg\/rb\/fec6-p0f7nqqg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719055780,"availabilityEnd":1721647780,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001k3vl\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Coast to Coast Food Festival","description":"6\/20. Colin Murray and Edith Bowman explore Belfast\u0027s Mela festival and the food on offer, from Korean kimchi to Jamaican patties, with cockles and sticky toffee pudding also on the menu. [S] [HD]","startTime":1719055800,"duration":1800,"svcId":700,"evtId":17170,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f8xbny.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719057600,"availabilityEnd":1721649600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kbxf\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Tennis: Queen\u0027s","description":"Clare Balding introduces the live tennis from Queen\u0027s Club in west London as the men\u0027s singles semi-finals get underway. [S] [HD]","startTime":1719057600,"duration":14400,"svcId":700,"evtId":17171,"image":"\/ms\/img\/epg\/rb\/fec6-p0j3tdxg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719072035,"availabilityEnd":1721664035,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020lkq\u0026ui_id=4.0.0"},"seriesNo":19},{"name":"Flog It!","description":"Paul Martin and experts Anita Manning and James Lewis are at the historic Blackpool Tower Circus to pick out a selection of interesting antiques and collectibles. [S] [HD]","startTime":1719072000,"duration":3000,"svcId":700,"evtId":17172,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719075056,"availabilityEnd":1721667056,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b07l1g5s\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":1},{"name":"27 Dresses","description":"Jane Nicholas has been a bridesmaid at 27 weddings and is inevitably asked to be her younger sister Tess\u0027s bridesmaid. But her happy routine is punctuated by cynical journalist Kevin. [2008] [S] [HD]","startTime":1719075000,"duration":6300,"svcId":700,"evtId":17173,"image":"\/ms\/img\/epg\/rb\/fec6-p0j4rbq5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719081228,"availabilityEnd":1721673228,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020lhn\u0026ui_id=4.0.0"}},{"name":"Celebrity Antiques Road Trip","description":"11\/20. Eighties pop stars Martin and Shirlie Kemp make a song and dance in the West Country, and cider is involved! Martin fancies vintage, and Shirlie more shabby chic, but who is gold? [S] [HD]","startTime":1719081300,"duration":3600,"svcId":700,"evtId":17174,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b4cfld.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719084885,"availabilityEnd":1721676885,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011xgj\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Shania Twain at the BBC","description":"A collection of Shania Twain\u0027s biggest moments from the BBC archives, including Still the One, That Don\u0027t Impress Me Much and Man! I Feel Like a Woman! [S] [HD]","startTime":1719084900,"duration":2700,"svcId":700,"evtId":17175,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8hzd7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719087611,"availabilityEnd":1721679611,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001q217\u0026ui_id=4.0.0"}},{"name":"Reel Stories","description":"Shania Twain discusses her life and career with Dermot O\u0027Leary. [S] [HD]","startTime":1719087600,"duration":2700,"svcId":700,"evtId":17176,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j52s3n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719090390,"availabilityEnd":1750626390,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020lks\u0026ui_id=4.0.0"}},{"name":"Shania Twain: Live in Hyde Park","description":"A triumphant performance from the queen of country-pop, Shania Twain, live from Radio 2 Live in Hyde Park 2017. [S] [HD]","startTime":1719090300,"duration":1500,"svcId":700,"evtId":17177,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j52snt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719091948,"availabilityEnd":1721683948,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001pn7g\u0026ui_id=4.0.0"},"seriesNo":7},{"name":"Later... with Jools Holland","description":"6\/6. Jools chats to legendary Scottish singer Lulu. [S] [HD]","startTime":1719091800,"duration":2700,"svcId":700,"evtId":17178,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j4vvsd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719094666,"availabilityEnd":1721686666,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020lkv\u0026ui_id=4.0.0"},"seriesNo":79,"episodeNo":6},{"name":"Country Queens at the BBC","description":"Featuring Bobbie Gentry, Anne Murray, Emmylou Harris, Tammy Wynette, Billie Jo Spears, Crystal Gayle, Taylor Swift, Lucinda Williams with Mary Chapin Carpenter and more. [S]","startTime":1719094500,"duration":3600,"svcId":700,"evtId":17179,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fbsttf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719098275,"availabilityEnd":1721690275,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p028vwnv\u0026ui_id=4.0.0"}},{"name":"Loving","description":"Powerful, true-life drama. Challenging the illegality of a Virginia couple\u0027s mixed-race marriage in the 1960s brings fresh trouble to their lives. [2017] [S] [HD]","startTime":1719098100,"duration":6900,"svcId":700,"evtId":17180,"image":"\/ms\/img\/epg\/rb\/fec6-p08vx56q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1719105128,"availabilityEnd":1721697128,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000nx4m\u0026ui_id=4.0.0"}},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1719105000,"duration":14400,"svcId":700,"evtId":17181,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Edinburgh. The first host, 27-year-old interior designer and gentle giant James, plans to blow his guests\u0027 minds with his spicy Mexican menu. (Ep1\/5)  [AD,S]","startTime":1719024300,"duration":1500,"svcId":1500,"evtId":25797,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Grandmother Katy plans an out-of-season \u0027Christmas tartan\u0027 evening, complete with costumes, games and a few revelations. (Ep2\/5)  [AD,S]","startTime":1719025800,"duration":1800,"svcId":1500,"evtId":25798,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Glamorous solicitor Aisling hosts an Irish party. She has a piper on her doorstep, but Katy\u0027s not a fan of her main, and the guests all struggle with \u0027clean eating\u0027. (Ep3\/5)  [AD,S]","startTime":1719027600,"duration":1500,"svcId":1500,"evtId":25799,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. American writer Harry serves up a menu inspired by his family, while Bruce breaks his own etiquette rules, and Aisling draws Bruce\u0027s portrait with razor-sharp hilarity. (Ep4\/5)  [AD,S]","startTime":1719029100,"duration":1500,"svcId":1500,"evtId":25800,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Style-conscious Bruce hosts the final night. All week he\u0027s expressed a taste for the finer things in life. With expectations high, can he put his food where his mouth is? (Ep5\/5)  [AD,S]","startTime":1719030600,"duration":1500,"svcId":1500,"evtId":25801,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Sunday Brunch Best Bits","description":"Tim Lovejoy and Simon Rimmer present highlights from Sunday Brunch. They chat to comedian Guz Khan and play a quick-fire quiz game.  [S]","startTime":1719032100,"duration":300,"svcId":1500,"evtId":25839,"image":"\/ms\/img\/epg\/rb\/5d52-6150001.l.png","hasTstv":false},{"name":"Frasier","description":"Death Becomes Him: Frasier is forced to come to terms with his own mortality when a seemingly healthy colleague suddenly dies. (S1 Ep11)  [AD,S]","startTime":1719032400,"duration":1500,"svcId":1500,"evtId":25831,"image":"\/ms\/img\/epg\/rb\/5d52-285041.l.png","hasTstv":false,"seriesNo":1,"episodeNo":11},{"name":"Frasier","description":"Miracle on Third or Fourth Street: When his son Frederick decides to spend Christmas in Switzerland with Lilith, a dispirited Frasier looks set for a miserable festive season. (S1 Ep12)  [AD,S]","startTime":1719033900,"duration":1500,"svcId":1500,"evtId":25832,"image":"\/ms\/img\/epg\/rb\/5d52-286833.l.png","hasTstv":false,"seriesNo":1,"episodeNo":12},{"name":"Frasier","description":"Guess Who\u0027s Coming to Breakfast: Frasier upsets Martin when he reveals personal details about his love life during a radio broadcast. (S1 Ep13)  [AD,S]","startTime":1719035400,"duration":1500,"svcId":1500,"evtId":26281,"image":"\/ms\/img\/epg\/rb\/5d52-288385.l.png","hasTstv":false,"seriesNo":1,"episodeNo":13},{"name":"The Simpsons","description":"Days of Wine and D\u0027Oh\u0027ses: After forgetting his recent birthday party, Barney quits drinking and takes helicopter flying lessons. (S11 Ep18\/22)  [AD,S]","startTime":1719036900,"duration":1500,"svcId":1500,"evtId":26282,"image":"\/ms\/img\/epg\/rb\/5d52-2050881.l.png","hasTstv":false,"seriesNo":11,"episodeNo":18},{"name":"The Simpsons","description":"The Girl Who Slept Too Little: Lisa becomes plagued by nightmares when the council move the cemetery next door to the Simpsons\u0027 house. (S17 Ep2\/22)  [AD,S]","startTime":1719038400,"duration":1500,"svcId":1500,"evtId":25811,"image":"\/ms\/img\/epg\/rb\/5d52-5593924.l.png","hasTstv":false,"seriesNo":17,"episodeNo":2},{"name":"Alvin and the Chipmunks...","description":"...The Squeakquel: (2009) The animated singing rodents return for another family adventure. This time they must cope with school and a rivalry with a female singing group.  [S]","startTime":1719039900,"duration":6300,"svcId":1500,"evtId":25812,"image":"\/ms\/img\/epg\/rb\/5d52-25001937.l.png","hasTstv":false},{"name":"The Simpsons","description":"Milhouse of Sand and Fog: When Milhouse\u0027s parents get back together, he\u0027s annoyed because he gets less attention from them. Will they stay together? Homer catches chicken pox. (S17 Ep3\/22)  [AD,S]","startTime":1719046200,"duration":1800,"svcId":1500,"evtId":25813,"image":"\/ms\/img\/epg\/rb\/5d52-5599417.l.png","hasTstv":false,"seriesNo":17,"episodeNo":3},{"name":"The Simpsons","description":"Marge\u0027s Son Poisoning: Bart gets picked on at school for riding a tandem with Marge. (S17 Ep5\/22)  [AD,S]","startTime":1719048000,"duration":1800,"svcId":1500,"evtId":25814,"image":"\/ms\/img\/epg\/rb\/5d52-5656558.l.png","hasTstv":false,"seriesNo":17,"episodeNo":5},{"name":"The Simpsons","description":"See Homer Run: To make amends for dismissing Lisa\u0027s Father\u0027s Day gift, Homer dons a Safety Salamander suit for a campaign at her school - and ends up running for mayor. (S17 Ep6\/22)  [AD,S]","startTime":1719049800,"duration":1800,"svcId":1500,"evtId":26283,"image":"\/ms\/img\/epg\/rb\/5d52-5667188.l.png","hasTstv":false,"seriesNo":17,"episodeNo":6},{"name":"The Simpsons","description":"Burns\u0027 Heir: When Bart wins a competition to become Mr Burns\u0027 heir, he must choose between his boring family and the rich, over-indulgent power plant owner... (S5 Ep18\/22)  [AD,S]","startTime":1719051600,"duration":1800,"svcId":1500,"evtId":26284,"image":"\/ms\/img\/epg\/rb\/5d52-275266.l.png","hasTstv":false,"seriesNo":5,"episodeNo":18},{"name":"Dr Seuss\u0027 The Cat in the Hat","description":"(2003) Family comedy with Mike Myers. A badly behaved boy and his super-organised sister are plunged into an anarchic adventure when a man-sized talking cat suddenly appears at their home.  [S]","startTime":1719053400,"duration":5700,"svcId":1500,"evtId":25817,"image":"\/ms\/img\/epg\/rb\/5d52-62276.l.png","hasTstv":false},{"name":"Couples Come Dine with Me","description":"In Bristol, fitness fans Billy and Tasha serve Thai, music-mad Dennis and Tina deliver some razzle dazzle, and former reporter Keith goes full Alan Partridge as he hosts with his wife Jane.  [S]","startTime":1719059100,"duration":3600,"svcId":1500,"evtId":25818,"image":"\/ms\/img\/epg\/rb\/5d52-404735388.l.png","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"Four in a Bed","description":"At Gracelands Glamping in Ballyronan, couple Shaun and Hollie host with their newly built pods. But plumbing issues dampen the mood, and the barbecue breakfast gets a grilling!  [S]","startTime":1719062700,"duration":1800,"svcId":1500,"evtId":25819,"image":"\/ms\/img\/epg\/rb\/5d52-415642809.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At Manse on the Beach in Cloughey, former international rugby player Brian Robinson hosts. The guests love the sea views, but two of them feel hot under the collar after a bad slumber.  [S]","startTime":1719064500,"duration":1800,"svcId":1500,"evtId":25820,"image":"\/ms\/img\/epg\/rb\/5d52-415642811.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At The Secret Garden Glamping in Skelmersdale, Lancashire, friends Derry and Mike host. The B\u0026Bers are ecstatic with their rooms, but two guests feel a little hemmed in by their hideaway.  [S]","startTime":1719066300,"duration":1800,"svcId":1500,"evtId":25821,"image":"\/ms\/img\/epg\/rb\/5d52-415642813.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The final visit is to the adults-only Hawthorn Hideaway in Walkeringham, run by Ronnie and Jo. Derry and Mike are delighted by the d\u00e9cor, while Shaun and Hollie get a stunning surprise.  [S]","startTime":1719068100,"duration":2100,"svcId":1500,"evtId":25822,"image":"\/ms\/img\/epg\/rb\/5d52-415642815.l.png","hasTstv":false},{"name":"Four in a Bed","description":"On the final day, the B\u0026Bers meet to discuss their feedback - from disappointing breakfasts, to pulling off the covers on some dodgy sleep scores - before the winner is announced.  [S]","startTime":1719070200,"duration":1800,"svcId":1500,"evtId":25823,"image":"\/ms\/img\/epg\/rb\/5d52-415642817.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Jasmine Harman jets off to Almu\u00f1\u00e9car on Spain\u0027s Costa Tropical to help Marian and Donald find a two-bed, two-bathroom holiday home with sea views for their budget of \u00a3120,000.  [S]","startTime":1719072000,"duration":3600,"svcId":1500,"evtId":25824,"image":"\/ms\/img\/epg\/rb\/5d52-413704303.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1719075600,"duration":1800,"svcId":1500,"evtId":25825,"image":"\/ms\/img\/epg\/rb\/5d52-9570376.l.png","hasTstv":false},{"name":"F1 Spanish GP Qualifying...","description":"...Highlights: As Formula 1 returns to Europe, Mercedes will be keen to continue the momentum they found in Canada with George Russell\u0027s first pole position. Lee McKenzie presents.  [S]","startTime":1719077400,"duration":5400,"svcId":1500,"evtId":25826,"image":"\/ms\/img\/epg\/rb\/5d52-9570380.l.png","hasTstv":false},{"name":"Fisherman\u0027s Friends: One and All","description":"(2022) Sea-shanty-singing comedy sequel with James Purefoy. The band are on tour but Jim\u0027s not happy because the record company want him to replace his dad.  [AD,S]","startTime":1719082800,"duration":7800,"svcId":1500,"evtId":25827,"image":"\/ms\/img\/epg\/rb\/5d52-6780254.l.png","hasTstv":false},{"name":"Taken","description":"(2008) Action thriller. Liam Neeson stars as a former CIA operative who vows to track down his daughter after she\u0027s kidnapped in Paris.  [AD,S]","startTime":1719090600,"duration":6300,"svcId":1500,"evtId":25828,"image":"\/ms\/img\/epg\/rb\/5d52-15657101.l.png","hasTstv":false},{"name":"Ronin","description":"(1998) Violent car-chase thriller with Robert De Niro. A group of mercenaries are hired by an elusive employer to intercept a briefcase destined for Russian hands.  [AD,S]","startTime":1719096900,"duration":7800,"svcId":1500,"evtId":25829,"image":"\/ms\/img\/epg\/rb\/5d52-32668.l.png","hasTstv":false},{"name":"Ramsay\u0027s 24 Hours to Hell \u0026 Back","description":"Caneda\u0027s White Rooster: Gordon Ramsay revamps a Cuban-inspired restaurant in Toms River, New Jersey. Owner Patty opened the place to showcase her grandmother\u0027s Cuban cooking. (S3 Ep3)  [AD,S,SL]","startTime":1719104700,"duration":3000,"svcId":1500,"evtId":26242,"image":"\/ms\/img\/epg\/rb\/5d52-3485116.l.png","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"Come Dine with Me: The...","description":"...Professionals: Restaurants go head-to-head to win \u00a31000. In Yorkshire, purveyors of posh nosh The Barn take on Disco Kitchen\u0027s eclectic menu and Scandi-inspired restaurant Fint. (S1 Ep1)  [S]","startTime":1719107700,"duration":3000,"svcId":1500,"evtId":26243,"image":"\/ms\/img\/epg\/rb\/5d52-416351991.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp makes a beehive pi\u00f1ata and a hot air balloon-inspired paper garland that\u0027s perfect for a children\u0027s party.  [S]","startTime":1719110700,"duration":900,"svcId":1500,"evtId":26244,"image":"\/ms\/img\/epg\/rb\/5d52-4635342.l.png","hasTstv":false},{"name":"Hollyoaks Omnibus","description":"Cleo\u0027s manipulative boyfriend Abe has sinister plans. Dave is in danger. Lucas and Dillon\u0027s plans are interrupted. A grieving Joel breaks down. And Sienna encounters a very familiar face...  [S,SL]","startTime":1719111600,"duration":7200,"svcId":1500,"evtId":25830,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('215');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('124');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('17');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'lGkbhc8XY3s', title: "MAJOR FAST-FIT GARAGE DID A £900 SCAM ON MY CUSTOMER; CAR IN BITS!!!", label: "MAJOR FAST-FIT GARAGE DID A £900 SCAM ON MY CUSTOMER; CAR IN BITS!!! by Marvelous Lara 136,791 views 1 month ago 16 minutes" },
{ id: 'ubUp13Gg_N4', title: "CUSTOMER LIED TO OUR FACES; WE FOUND OUT THE HARD WAY-NIGHTMARE JOB!!! | Life of Mobile Mechanic", label: "CUSTOMER LIED TO OUR FACES; WE FOUND OUT THE HARD WAY-NIGHTMARE JOB!!! | Life of Mobile Mechanic by Marvelous Lara 211,427 views 1 month ago 30 minutes" },
{ id: 'j_SN13bub5M', title: "CASTROL TALKS ABOUT ***UNIVERSAL OIL?*** | FUEL AND OIL ADDITIVES- DO THEY WORK OR WASTE OF MONEY? 🤔", label: "CASTROL TALKS ABOUT ***UNIVERSAL OIL?*** | FUEL AND OIL ADDITIVES- DO THEY WORK OR WASTE OF MONEY? 🤔 by Marvelous Lara 12,199 views 12 days ago 48 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "The season has finished :(";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Everything Beautiful Is Far Away (2017)">Everything Beautiful Is Far Away (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+Neighbours (1952)">Neighbours (1952)</a></li><li><a href="https://www.google.com/search?q=Films+-+Persona (1966)">Persona (1966)</a></li><li><a href="https://www.google.com/search?q=Films+-+My First Summer (2020)">My First Summer (2020)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Neon Demon (2016)">The Neon Demon (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+Weekend (2011)">Weekend (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Handmaiden (2016)">The Handmaiden (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+20 Days in Mariupol (2023)">20 Days in Mariupol (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Eighth Grade (2018)">Eighth Grade (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Eternal Sunshine of the Spotless Mind (2004)">Eternal Sunshine of the Spotless Mind (2004)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Extras (S1, 2005)">Extras (S1, 2005)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1-3, 2015-2017)">My Mad Fat Diary (S1-3, 2015-2017)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 213.21, tooltip: "Thu, Jun 20, 2024<br/>£213.21"},
{ number: 212.98, tooltip: "Tue, Jun 18, 2024<br/>£212.98"},
{ number: 212.22, tooltip: "Mon, Jun 17, 2024<br/>£212.22"},
{ number: 211.68, tooltip: "Fri, Jun 14, 2024<br/>£211.68"},
{ number: 210.77, tooltip: "Thu, Jun 13, 2024<br/>£210.77"},
{ number: 210.23, tooltip: "Wed, Jun 12, 2024<br/>£210.23"},
{ number: 210.26, tooltip: "Tue, Jun 11, 2024<br/>£210.26"},
{ number: 210.47, tooltip: "Mon, Jun 10, 2024<br/>£210.47"},
{ number: 210.26, tooltip: "Fri, Jun 07, 2024<br/>£210.26"},
{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Jun 20, 2024",
		"vs Day":      "Tue, Jun 18, 2024",
		"vs Week":     "Wed, Jun 12, 2024",
		"vs Month":    "Wed, May 22, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£213.21/share",
		'vs Day':      "+0.11%",
		'vs Week':     "+1.42%",
		'vs Month':    "+1.42%",
		'vs Year':     "+20.36%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '99.8',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/full-moon.html" title="Full Moon on the night between 21 June and 22 June">Full Moon</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.998&p=5.059&r=0.134',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:44',
		Set:      '21:32',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A person described as vulnerable in a general way is someone who is easily hurt or harmed physically, mentally, or emotionally. <em>Vulnerable</em> can also describe a person, group, or thing that is open to attack, harm, or damage. Both senses of <em>vulnerable</em> are often followed by the preposition <em>to</em>.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23NEDFRA">#NEDFRA</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Putin">Putin</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=NATO">NATO</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Anthony+Taylor%22">Anthony Taylor</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Olise">Olise</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23LondonTSTheErastour">#LondonTSTheErastour</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22THE+BLACK+DOG%22">THE BLACK DOG</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Netherlands">Netherlands</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Rabiot">Rabiot</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22HITS+DIFFERENT%22">HITS DIFFERENT</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>