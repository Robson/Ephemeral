<!DOCTYPE html>
<html lang="en">
	<head>
		<title>15:17 25-Aug - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>PM to say: \'Things will get worse before we get better\'</b><br/>The Conservatives have disputed Labour\'s claim they left a black hole in the public finances." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c8rx0mdgpnno">PM to say: \'Things will get worse before we get better\'</a></li><li class="ttt" data-tt="<b>Allsopp felt \'sick\' after social services referral</b><br/>The broadcaster was contacted after revealing she let her 15-year-old son go inter-railing around Europe."><a href="https://www.bbc.com/news/articles/c75n1y7gqz5o">Allsopp felt \'sick\' after social services referral</a></li><li class="ttt" data-tt="<b>Steel bands welcome back Notting Hill Carnival</b><br/>About two million people are expected to join the fun during two days of music, dancing and parades."><a href="https://www.bbc.com/news/articles/cy9epv538x9o">Steel bands welcome back Notting Hill Carnival</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c8rx0mdgpnno"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/b9d7/live/1644e7a0-628d-11ef-8155-1b3377c0aa62.png" class="ttt" data-tt="Prime Minister Sir Keir Starmer looks on at a Met Police special operations room at Lambeth palace" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>SpaceX will return stranded astronauts next year</b><br/>Sunita Williams and Barry Wilmore were supposed to be on an eight-day mission, but will not return to Earth until 2025." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cwy47w9yndpo">SpaceX will return stranded astronauts next year</a></li><li class="ttt" data-tt="<b>Robert F Kennedy Jr suspends campaign and backs Trump</b><br/>Trump praises RFK Jr as &quot;phenomenal&quot; at a rally, but members of the Kennedy clan accuse him of &quot;betrayal&quot;."><a href="https://www.bbc.com/news/articles/cwy5ekxlwzgo">Robert F Kennedy Jr suspends campaign and backs Trump</a></li><li class="ttt" data-tt="<b>Democrats are riding high but victory is far from certain</b><br/>After a jubilant party convention capped a month of momentum, polls still suggest a close election."><a href="https://www.bbc.com/news/articles/cgl21j2py8xo">Democrats are riding high but victory is far from certain</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cwy47w9yndpo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10c8/live/2b2b1480-623f-11ef-a6f3-c750a7f3281c.jpg" class="ttt" data-tt="Sunita Williams and Butch Wilmore stand smiling for the camera while wearing astronaut suits" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Israel and Hezbollah exchange heavy fire in major escalation</b><br/>Hezbollah says it fired hundreds of rockets after Israel says it launched pre-emptive strikes." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cq6rzvyz9p6o">Israel and Hezbollah exchange heavy fire in major escalation</a></li><li class="ttt" data-tt="<b>Man surrenders and confesses to Germany stabbing attack</b><br/>The man - allegedly wearing dirty bloodstained clothes - turned himself in to Solingen police."><a href="https://www.bbc.com/news/articles/crlr2z23ykno">Man surrenders and confesses to Germany stabbing attack</a></li><li class="ttt" data-tt="<b>Arrest of Telegram CEO Pavel Durov \'ridiculous\', says lawyer</b><br/>The billionaire was detained in Paris and is being investigated in relation to a lack of moderation on the messaging app."><a href="https://www.bbc.com/news/articles/ckg2kz9kn93o">Arrest of Telegram CEO Pavel Durov \'ridiculous\', says lawyer</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cq6rzvyz9p6o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/c8ff/live/fdbcfa30-629e-11ef-8930-ed0e9a7db507.jpg" class="ttt" data-tt="An Israeli Air Force warplane fires flares to intercept a hostile projectile launched from across the Lebanese border. Photo: 25 August 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Norris \'working hard\' to turn \'best lap\' into win</b><br/>Lando Norris says he took pole position for the Dutch Grand Prix with the “best lap” of his career and that he was “working hard” to turn it into a win on Sunday." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cpvy1kl0j77o">Norris \'working hard\' to turn \'best lap\' into win</a></li><li class="ttt" data-tt="<b>Norris beats Verstappen to Dutch GP pole position</b><br/>Lando Norris becomes the first person to beat Max Verstappen to pole position at the Dutch Grand Prix with a stunning lap in his McLaren."><a href="https://www.bbc.com/sport/formula1/articles/c0rwp5wqev8o">Norris beats Verstappen to Dutch GP pole position</a></li><li class="ttt" data-tt="<b>Alpine F1 team \'not for sale,\' says Briatore</b><br/>Alpine executive adviser Flavio Briatore insists the team is not for sale and that he has no plans to cut jobs at its UK base."><a href="https://www.bbc.com/sport/formula1/articles/c70j9ez2g5ro">Alpine F1 team \'not for sale,\' says Briatore</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cpvy1kl0j77o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/fd63/live/ca0834f0-623c-11ef-8c32-f3c2bc7494c6.jpg" class="ttt" data-tt="Lando Norris" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Should you have to pay for online privacy?</b><br/>Some websites have started introducing paywalls which can be lifted with data rather than cash." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c93599ejdeno">Should you have to pay for online privacy?</a></li><li class="ttt" data-tt="<b>Mike Lynch: Tributes paid to \'UK\'s greatest tech entrepreneur\'</b><br/>A leading figure in the UK tech scene, Mike Lynch died shortly after winning a legal battle in the US."><a href="https://www.bbc.com/news/articles/cdxl5kpvrg9o">Mike Lynch: Tributes paid to \'UK\'s greatest tech entrepreneur\'</a></li><li class="ttt" data-tt="<b>Yemen weapons dealers selling machine-guns on X</b><br/>The traders operate in the capital Sana’a and other areas under control of the Houthis."><a href="https://www.bbc.com/news/articles/c86l4pl6072o">Yemen weapons dealers selling machine-guns on X</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c93599ejdeno"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2d55/live/9cc80910-5fd6-11ef-b43e-6916dcba5cbf.jpg" class="ttt" data-tt="A graphic illustration of online adverts floating above a laptop screen" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"19 Aug – 25 Aug","date":1724544E6,"ts":"Sun, 25","ds":"Sun, 25 Aug","icon":18,"desc":"Sprinkles late. Increasing cloudiness.","temp":18,"templow":9,"cf":17,"wind":20,"wd":220,"hum":61,"pc":44,"rain":0.6 },{"hl":true,"hls":"26 Aug – 1 Sep","date":17246304E5,"ts":"Mon, 26","ds":"Mon, 26 Aug","icon":18,"desc":"Sprinkles early. Cloudy.","temp":21,"templow":12,"cf":20,"wind":12,"wd":240,"hum":54,"pc":43,"rain":0.7 },{"date":17247168E5,"ts":"Tue, 27","ds":"Tue, 27 Aug","icon":7,"desc":"Overcast.","temp":23,"templow":12,"cf":25,"wind":15,"wd":200,"hum":49,"pc":2},{"date":17248032E5,"ts":"Wed, 28","ds":"Wed, 28 Aug","icon":7,"desc":"Overcast.","temp":26,"templow":14,"cf":26,"wind":12,"wd":160,"hum":49,"pc":5},{"date":17248896E5,"ts":"Thu, 29","ds":"Thu, 29 Aug","icon":7,"desc":"Cloudy.","temp":22,"templow":11,"cf":25,"wind":13,"wd":230,"hum":47,"pc":5},{"date":1724976E6,"ts":"Fri, 30","ds":"Fri, 30 Aug","icon":4,"desc":"Morning clouds.","temp":22,"templow":10,"cf":21,"wind":6,"wd":320,"hum":45,"pc":0},{"date":17250624E5,"ts":"Sat, 31","ds":"Sat, 31 Aug","icon":2,"desc":"Scattered clouds.","temp":23,"templow":10,"cf":25,"wind":12,"wd":80,"hum":48,"pc":0},{"date":17251488E5,"ts":"Sun, 1","ds":"Sun, 1 Sep","icon":2,"desc":"Mostly sunny.","temp":26,"templow":13,"cf":26,"wind":11,"wd":60,"hum":60,"pc":6},{"hl":true,"hls":"2 Sep – 8 Sep","date":17252352E5,"ts":"Mon, 2","ds":"Mon, 2 Sep","icon":33,"desc":"Passing showers. Increasing cloudiness.","temp":23,"templow":14,"cf":25,"wind":13,"wd":60,"hum":50,"pc":44,"rain":1.1 },{"date":17253216E5,"ts":"Tue, 3","ds":"Tue, 3 Sep","icon":6,"desc":"Broken clouds.","temp":22,"templow":15,"cf":25,"wind":15,"wd":60,"hum":38,"pc":6},{"date":1725408E6,"ts":"Wed, 4","ds":"Wed, 4 Sep","icon":1,"desc":"Sunny.","temp":22,"templow":15,"cf":25,"wind":15,"wd":60,"hum":34,"pc":6},{"date":17254944E5,"ts":"Thu, 5","ds":"Thu, 5 Sep","icon":1,"desc":"Sunny.","temp":23,"templow":13,"cf":25,"wind":14,"wd":60,"hum":42,"pc":5},{"date":17255808E5,"ts":"Fri, 6","ds":"Fri, 6 Sep","icon":1,"desc":"Sunny.","temp":23,"templow":13,"cf":25,"wind":13,"wd":60,"hum":48,"pc":5},{"date":17256672E5,"ts":"Sat, 7","ds":"Sat, 7 Sep","icon":1,"desc":"Sunny.","temp":23,"templow":13,"cf":25,"wind":15,"wd":50,"hum":42,"pc":4},{"date":17257536E5,"ts":"Sun, 8","ds":"Sun, 8 Sep","icon":1,"desc":"Sunny.","temp":26,"templow":14,"cf":26,"wind":11,"wd":70,"hum":41,"pc":4}],"grid":{"temp":{"low":9,"high":26,"range":17},"prec":{"high":1.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2408/EnceladusStripes_Cassini_960.jpg',
		Title:     'Fresh Tiger Stripes on Saturn\'s Enceladus',
		LinkImage: 'https://apod.nasa.gov/apod/image/2408/EnceladusStripes_Cassini_3237.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240825.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Splendid_Fairywren_8352.jpg/500px-Splendid_Fairywren_8352.jpg',
		Title:    'Splendid fairywren',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Splendid_fairywren',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Splendid_fairywren" title="Splendid fairywren">splendid fairywren</a></b> (<i>Malurus splendens</i>) is a <a href="https://en.wikipedia.org/wiki/Passerine" title="Passerine">passerine</a> bird in the <a href="https://en.wikipedia.org/wiki/Australasian_wren" title="Australasian wren">Australasian wren</a> family, Maluridae. It is found across much of the Australian continent from central-western <a href="https://en.wikipedia.org/wiki/New_South_Wales" title="New South Wales">New South Wales</a> and southwestern <a href="https://en.wikipedia.org/wiki/Queensland" title="Queensland">Queensland</a> over to coastal Western Australia. It inhabits predominantly arid and semi-arid regions. Exhibiting a high degree of <a href="https://en.wikipedia.org/wiki/Sexual_dimorphism" title="Sexual dimorphism">sexual dimorphism</a>, the male in breeding plumage is a small, long-tailed bird of bright blue and black colouration. Non-breeding males, females and juveniles are grey-brown in colour; this gave the early impression that males were polygamous as all dull-coloured birds were taken for females. The species comprises several similar all-blue and black <a href="https://en.wikipedia.org/wiki/Subspecies" title="Subspecies">subspecies</a> that were originally considered to be separate species. Like other fairywrens, the splendid fairywren is notable for several peculiar behavioural characteristics; birds are socially monogamous and sexually promiscuous, meaning that although they form pairs between one male and one female, each partner will mate with other individuals and even assist in raising the young from such pairings.  Male wrens pluck pink or purple petals and display them to females as part of a <a href="https://en.wikipedia.org/wiki/Courtship_display" title="Courtship display">courtship display</a>. This male splendid fairywren was photographed in <a href="https://en.wikipedia.org/wiki/State_Forests_of_New_South_Wales" title="State Forests of New South Wales">Cargelligo State Forest</a> in New South Wales, Australia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:JJ_Harrison" title="User:JJ Harrison">John Harrison</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1724562000,"duration":9000,"svcId":560,"evtId":26998,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724570985,"availabilityEnd":1724657385,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0022cxv\u0026ui_id=4.0.0"}},{"name":"Match of the Day","description":"Gary Lineker presents highlights from the day\u0027s seven Premier League matches, which include newly promoted Ipswich Town making the trip to champions Manchester City. [S] [HD]","startTime":1724571000,"duration":5100,"svcId":560,"evtId":27101,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jk92pf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724540340,"availabilityEnd":1725145140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022d9c\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":2},{"name":"Growing Up Jewish","description":"Four young people on the cusp of adulthood prepare for one of the biggest nights of their lives - their Bar and Bat Mitzvah - balancing culture, religion and the chance to party. [S,AD] [HD]","startTime":1724576100,"duration":3000,"svcId":560,"evtId":26999,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hrjhrv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713997892,"availabilityEnd":1777006740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yl0n\u0026ui_id=4.0.0"}},{"name":"Pilgrimage: The Road to the...","description":"...Scottish Isles. 2\/3. Life on the pilgrimage begins to challenge the celebrities physically and spiritually. [S,AD] [HD]","startTime":1724579100,"duration":3600,"svcId":560,"evtId":27000,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bynr5k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680928200,"availabilityEnd":1744088340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0bfywz3\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":2},{"name":"Homes Under the Hammer","description":"60\/80. Three part-time developers grapple with their new projects: a flat in Faversham, Kent, a former commercial derelict building in Walsall and a terraced house in Leeds. [S,AD] [HD]","startTime":1724582700,"duration":1800,"svcId":560,"evtId":27001,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcjl5.jpg","hasTstv":false,"seriesNo":39,"episodeNo":60},{"name":"Bargain Hunt","description":"Eric Knowles visits Newark in Nottinghamshire, where Caroline Hawley and Ochucko Ojiri are helping the teams. Eric ask fairgoers to guess what a mystery item was used for. [S,AD] [HD]","startTime":1724584500,"duration":2700,"svcId":560,"evtId":27102,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b694c2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724587200,"availabilityEnd":1727179200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012347\u0026ui_id=4.0.0"},"seriesNo":60},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1724587200,"duration":600,"svcId":560,"evtId":27002,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724587800,"availabilityEnd":1724674200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022cxy\u0026ui_id=4.0.0"},"episodeNo":21},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1724587800,"duration":300,"svcId":560,"evtId":27003,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724588108,"availabilityEnd":1724674508,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022cy0\u0026ui_id=4.0.0"}},{"name":"Songs of Praise: Christianity...","description":"...and Creativity. Sean Fletcher explores how craft and carpentry can build faith and friendship. [S] [HD]","startTime":1724588100,"duration":2100,"svcId":560,"evtId":27175,"image":"\/ms\/img\/epg\/rb\/fec6-p0jkxy5p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724590225,"availabilityEnd":1756126225,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022f91\u0026ui_id=4.0.0"}},{"name":"Escape to the Country","description":"Jules Hudson takes in Scotland\u0027s stunning Cairngorms as he helps a couple from the Isle of Wight find a rural property that will fulfil their ambitions for both a new home and a new business. [S] [HD]","startTime":1724590200,"duration":3600,"svcId":560,"evtId":27176,"image":"\/ms\/img\/epg\/rb\/fec6-p0h99mvd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724593816,"availabilityEnd":1727185816,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022f93\u0026ui_id=4.0.0"},"seriesNo":50},{"name":"Attenborough\u0027s Life in Colour","description":"2\/2. David Attenborough reveals the extraordinary ways in which some animals use colour to hide and disappear into the background. Contains scenes of flashing images. [S,AD] [HD]","startTime":1724593800,"duration":3600,"svcId":560,"evtId":27004,"image":"\/ms\/img\/epg\/rb\/ae0c-p0980s9m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1646683200,"availabilityEnd":1836086340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000t18d\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"The Sound of Music","description":"Classic film version of the Rodgers and Hammerstein musical in which a novice nun (Julie Andrews) leaves her convent to accept a position as governess to a large family. [1965] [S,AD] [HD]","startTime":1724597400,"duration":9900,"svcId":560,"evtId":27103,"image":"\/ms\/img\/epg\/rb\/fec6-p0gsd9xp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724607303,"availabilityEnd":1727199303,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b007bgf8\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1724607300,"duration":900,"svcId":560,"evtId":27005,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724608260,"availabilityEnd":1724694660,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022cy2\u0026ui_id=4.0.0"},"episodeNo":21},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1724608200,"duration":300,"svcId":560,"evtId":27006,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724607660,"availabilityEnd":1724694060,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022cy4\u0026ui_id=4.0.0"},"episodeNo":147},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1724608500,"duration":300,"svcId":560,"evtId":27007,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724608818,"availabilityEnd":1724695218,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022cy6\u0026ui_id=4.0.0"},"episodeNo":21},{"name":"Countryfile","description":"John Craven, Charlotte Smith and Vick Hope pick the final 12 images that will grace the 2025 Countryfile calendar in aid of BBC Children in Need. [S] [HD]","startTime":1724608800,"duration":3600,"svcId":560,"evtId":27177,"image":"\/ms\/img\/epg\/rb\/fec6-p0jl7pkr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724612447,"availabilityEnd":1756148447,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0022f95\u0026ui_id=4.0.0"}},{"name":"Antiques Roadshow","description":"The roadshow visits Pitzhanger Manor and Gallery in west London, where treasures include a royal paintbox, a collection of Italian jewellery and a medal awarded to a carrier pigeon. [S] [HD]","startTime":1724612400,"duration":3600,"svcId":560,"evtId":27178,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jky6bg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724616030,"availabilityEnd":1767039620,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022f97\u0026ui_id=4.0.0"},"seriesNo":47,"episodeNo":1},{"name":"Sherwood","description":"1\/6. A senseless murder threatens to reignite the historic turf wars of Nottingham. Contains strong language, some violence and some upsetting scenes. [S,AD] [HD]","startTime":1724616000,"duration":3600,"svcId":560,"evtId":27179,"image":"\/ms\/img\/epg\/rb\/fec6-p0jl1nxr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724615100,"availabilityEnd":1883624340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00225qp\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"BBC News and Weather","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1724619600,"duration":1500,"svcId":560,"evtId":27008,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724621040,"availabilityEnd":1724707440,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022cy8\u0026ui_id=4.0.0"},"episodeNo":21},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1724621100,"duration":300,"svcId":560,"evtId":27009,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724621400,"availabilityEnd":1724707800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022cyb\u0026ui_id=4.0.0"},"episodeNo":126},{"name":"Match of the Day 2","description":"Mark Chapman and guests provide highlights and analysis from the day\u0027s three Premier League games, including Liverpool\u0027s first home game under new manager Arne Slot. [S] [HD]","startTime":1724621400,"duration":3900,"svcId":560,"evtId":27104,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cr8yvy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724626799,"availabilityEnd":1725231599,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022db3\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":2},{"name":"Liam Gallagher @ Reading \u0026...","description":"...Leeds Festival 2024. Liam Gallagher returns to Reading Festival for a very special headline performance. Contains strong language and scenes of flashing images. [S] [HD]","startTime":1724625300,"duration":3600,"svcId":560,"evtId":27180,"image":"\/ms\/img\/epg\/rb\/fec6-p0jl14yl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724629035,"availabilityEnd":1727224550,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022f9b\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":2},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1724628900,"duration":300,"svcId":560,"evtId":27010,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724629308,"availabilityEnd":1725237623,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022cyd\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1724629200,"duration":19200,"svcId":560,"evtId":27011,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":147}]},{"channelid":700,"offset":0,"event":[{"name":"Glorious Gardens from Above","description":"13\/15. Horticulturist Christine Walkden explores gardens and countryside from a hot-air balloon. Christine travels over the flattest part of Britain as she descends on Norfolk. [S] [HD]","startTime":1724565000,"duration":2700,"svcId":700,"evtId":18800,"image":"\/ms\/img\/epg\/rb\/fec6-p02c7625.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724567652,"availabilityEnd":1727159652,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b04t6tdz\u0026ui_id=4.0.0"},"episodeNo":13},{"name":"Countryfile","description":"Sean Fletcher explores Borrowdale Oakwoods, England\u0027s largest remaining temperate rainforest and one of the rarest habitats on earth. [S] [HD]","startTime":1724567700,"duration":3300,"svcId":700,"evtId":18801,"image":"\/ms\/img\/epg\/rb\/fec6-p0jk920v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724005818,"availabilityEnd":1756107300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002268j\u0026ui_id=4.0.0"}},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1724571000,"duration":1800,"svcId":700,"evtId":18802,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724572835,"availabilityEnd":1724659235,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022fnb\u0026ui_id=4.0.0"}},{"name":"Beechgrove Garden","description":"21\/26. Carole checks on how this year\u0027s crop of tomatoes is measuring up, and Brian looks at some newly planted apple trees. [S] [HD]","startTime":1724572800,"duration":1800,"svcId":700,"evtId":18803,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jkr783.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724355069,"availabilityEnd":1755891069,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00229j9\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":21},{"name":"Weatherman Walking: The Welsh...","description":"...Coast. 2\/8. Walking the Pembrokeshire coast from Newport to Fishguard, Derek learns how the last invasion of Britain was foiled by a feisty woman. [S] [HD]","startTime":1724574600,"duration":1800,"svcId":700,"evtId":18804,"image":"\/ms\/img\/epg\/rb\/fec6-p09g4q88.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724576429,"availabilityEnd":1727168429,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p09c7frw\u0026ui_id=4.0.0"},"seriesNo":19,"episodeNo":2},{"name":"Saturday Kitchen Best Bites","description":"An array of culinary delights from Poppy O\u0027Toole, Richard Bainbridge and Ravneet Gill. Meanwhile, Rick Stein, Dame Mary Berry and Clive Myrie are out and about across the UK and abroad. [S] [HD]","startTime":1724576400,"duration":5400,"svcId":700,"evtId":18805,"image":"\/ms\/img\/epg\/rb\/ae0c-p0476l29.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724581893,"availabilityEnd":1756117893,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0022fnd\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"A Cook Abroad: Tony Singh\u0027s India","description":"2\/6. Cooking show. Scottish chef Tony Singh travels to India to trace his family roots and discover whether his mum\u0027s Punjabi cooking is the real deal. [S,AD] [HD]","startTime":1724581800,"duration":3600,"svcId":700,"evtId":18806,"image":"\/ms\/img\/epg\/rb\/fec6-p02j4vz2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724585400,"availabilityEnd":1741499940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b052hdr8\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Best Bakes Ever","description":"Actress and cake expert Jane Asher brings together a selection of recipes from the nation\u0027s favourite television chefs. [S] [HD]","startTime":1724585400,"duration":1500,"svcId":700,"evtId":18807,"image":"\/ms\/img\/epg\/rb\/ae0c-p032ln9n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724586961,"availabilityEnd":1727178961,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0c0773c\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"The Magnificent Seven","description":"Classic western. After the latest raid by bandits, the villagers in a small settlement in Mexico band together to hire a group of disparate gunfighters to protect them. [1960] [S] [HD]","startTime":1724586900,"duration":7500,"svcId":700,"evtId":18808,"image":"\/ms\/img\/epg\/rb\/fec6-p0df5nw9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724594404,"availabilityEnd":1727186404,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000crzp\u0026ui_id=4.0.0"}},{"name":"Athletics: Diamond League Silesia","description":"Coverage from Silesia, Poland, as the thrilling Diamond League series continues with a host of the stars from the 2024 Olympic Games. [S] [HD]","startTime":1724594400,"duration":7200,"svcId":700,"evtId":18809,"image":"\/ms\/img\/epg\/rb\/fec6-p0hydpyn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724601625,"availabilityEnd":1727193625,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022fnh\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Flog It!","description":"Flog It! comes from Crowcombe Court in Somerset, where hundreds of people arrive with their antiques and collectibles. Paul Martin investigates some local history. [S] [HD]","startTime":1724601600,"duration":3600,"svcId":700,"evtId":18810,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724605154,"availabilityEnd":1727197154,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001bvpk\u0026ui_id=4.0.0"},"seriesNo":15,"episodeNo":6},{"name":"Celebrity Race Across the World","description":"2\/6. The race to Frutillar in southern Chile is under way. [S,AD] [HD]","startTime":1724605200,"duration":3600,"svcId":700,"evtId":18811,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jjp0yv.jpg","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Inside the Factory","description":"Gregg Wallace is in France at an enormous foundry that produces a cast iron pot every five seconds. [S,AD] [HD]","startTime":1724608800,"duration":3600,"svcId":700,"evtId":18812,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jhyw8y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724612400,"availabilityEnd":1727204400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000hb7b\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":7},{"name":"Big Cats 24\/7","description":"1\/6. The team begins a six-month expedition following lions, leopards and cheetahs in the Okavango Delta. A huge wildfire threatens both the big cats and the team. [S,AD] [HD]","startTime":1724612400,"duration":3600,"svcId":700,"evtId":18813,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jl5xhz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724562000,"availabilityEnd":1756098000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021khy\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"The Misinvestigations of Romesh...","description":"...Ranganathan. 1\/2. Inept investigator Romesh Ranganthan tries to solve the murder of Tupac Shakur. Contains very strong language. [S,AD] [HD]","startTime":1724616000,"duration":3600,"svcId":700,"evtId":18814,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jkyqjs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724562000,"availabilityEnd":1756098000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021cvx\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"BlacKkKlansman","description":"Based on the true story of a black detective who infiltrated the Ku Klux Klan in the 70s. Contains very strong language and some violent scenes. [2018] [S] [HD]","startTime":1724619600,"duration":7800,"svcId":700,"evtId":18815,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jkclcy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724627374,"availabilityEnd":1727219374,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022ffr\u0026ui_id=4.0.0"}},{"name":"Golf: Women\u0027s Open Highlights","description":"The best of the action from St Andrews\u0027s famous Old Course as the 2024 Women\u0027s Open comes to a climax in the final round. [S] [HD]","startTime":1724627400,"duration":3600,"svcId":700,"evtId":18816,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jjmw6x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724631004,"availabilityEnd":1727223004,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0022fnn\u0026ui_id=4.0.0"}},{"name":"Freddie Flintoff\u0027s Field of...","description":"...Dreams on Tour. 2\/4. Freddie Flintoff\u0027s unlikely cricket team struggle to embrace India\u0027s culture. [S,AD,SL] [HD]","startTime":1724631000,"duration":3600,"svcId":700,"evtId":18817,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jkp466.jpg","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Clean It, Fix It","description":"8\/20. The team help first-time buyers struggling with the cost of living. In just 24 hours, on a shoestring budget, the team turn their house into a welcoming and energy-efficient home. [S,SL] [HD]","startTime":1724634600,"duration":2700,"svcId":700,"evtId":18818,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hcz4xv.jpg","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"We Might Regret This","description":"1\/6. Tetraplegic artist Freya moves to London to be with silver fox Abe, a lawyer. Contains very strong language, adult humour and some sexual content. [S,AD,SL] [HD]","startTime":1724637300,"duration":1800,"svcId":700,"evtId":18819,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jjv5y2.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1724639100,"duration":11100,"svcId":700,"evtId":18820,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics just four sleeps away, badminton player Rachel Choong gives an insight into her life, her love for her sport and what competing in Paris means to her.  [AD,S,SL]","startTime":1724562600,"duration":300,"svcId":1500,"evtId":38021,"image":"\/ms\/img\/epg\/rb\/5d52-9673820.l.png","hasTstv":false},{"name":"Frasier","description":"Maris Returns (Part 1\/2): Niles\u0027s ex-wife Maris needs his help. Can he keep her return secret from a pregnant and emotional Daphne? (S11 Ep7)  [AD,S]","startTime":1724562900,"duration":1500,"svcId":1500,"evtId":37612,"image":"\/ms\/img\/epg\/rb\/5d52-5016528.l.png","hasTstv":false,"seriesNo":11,"episodeNo":7},{"name":"Frasier","description":"Murder Most Maris (Part 2\/2): Niles is suspected as an accomplice to murder, and Frasier accidentally recommends that his brother should be executed... (S11 Ep8)  [AD,S]","startTime":1724564400,"duration":1500,"svcId":1500,"evtId":37639,"image":"\/ms\/img\/epg\/rb\/5d52-5021655.l.png","hasTstv":false,"seriesNo":11,"episodeNo":8},{"name":"Frasier","description":"Guns \u0027N\u0027 Neuroses: Lilith and Frasier are both set up on blind dates... on the same day... by a mutual friend. Niles and Daphne are upset when Martin\u0027s gun accidentally goes off. (S11 Ep9)  [AD,S]","startTime":1724565900,"duration":1500,"svcId":1500,"evtId":37613,"image":"\/ms\/img\/epg\/rb\/5d52-5029109.l.png","hasTstv":false,"seriesNo":11,"episodeNo":9},{"name":"Everybody Loves Raymond","description":"The Sister: Debra\u0027s hippy sister turns up unexpectedly at the house to announce that she\u0027s decided to become a nun. (S4 Ep6)  [AD,S]","startTime":1724567400,"duration":1500,"svcId":1500,"evtId":37614,"image":"\/ms\/img\/epg\/rb\/5d52-82458.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"Everybody Loves Raymond","description":"Cousin Gerard: Ray is upset when Debra says that he is just like his cousin, so he turns to his family for reassurance. (S4 Ep7)  [AD,S]","startTime":1724568900,"duration":1500,"svcId":1500,"evtId":37615,"image":"\/ms\/img\/epg\/rb\/5d52-82459.l.png","hasTstv":false,"seriesNo":4,"episodeNo":7},{"name":"Everybody Loves Raymond","description":"No Thanks: Debra spends a whole day cooking with Marie, in an effort to get along with her mother-in-law, and Ray reluctantly agrees to take Robert and Frank to a car show. (S4 Ep9)  [AD,S]","startTime":1724570400,"duration":2100,"svcId":1500,"evtId":37616,"image":"\/ms\/img\/epg\/rb\/5d52-82461.l.png","hasTstv":false,"seriesNo":4,"episodeNo":9},{"name":"Everybody Loves Raymond","description":"Left Back: Ray worries that he has passed on \u0027stupid\u0027 genes to Michael because his son may be held back a year at school, just like Ray was. (S4 Ep10)  [AD,S]","startTime":1724572500,"duration":1800,"svcId":1500,"evtId":38022,"image":"\/ms\/img\/epg\/rb\/5d52-82462.l.png","hasTstv":false,"seriesNo":4,"episodeNo":10},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics starting this Wednesday, archer Nathan Macqueen gives us an insight into his life, his love for his sport, and what keeps him hungry for more success.  [AD,S]","startTime":1724574300,"duration":300,"svcId":1500,"evtId":38023,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Live: Sunday Brunch","description":"TV and tour chat with Rakie Ayola, Phil Wang and Anna Williamson, and Paralympics perusal with Ade Adepitan, Fats Timbo, Milly Pickles, Ed Jackson, Lee McKenzie and Josh Pugh. [S,W]","startTime":1724574600,"duration":10800,"svcId":1500,"evtId":37618,"image":"\/ms\/img\/epg\/rb\/5d52-9850818.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: Wheelchair rugby player Stuart Robinson gives us an intimate insight into his life, his love for his sport, and what it takes to build a great team.  [AD,S]","startTime":1724585400,"duration":300,"svcId":1500,"evtId":38025,"image":"\/ms\/img\/epg\/rb\/5d52-9673231.l.png","hasTstv":false},{"name":"The Simpsons","description":"Hardly Kirk-ing: Bart and Milhouse explore the perks of adulthood when a hair-shaving experiment leaves Milhouse looking exactly like his dad Kirk. (S24 Ep13\/22)  [AD,S]","startTime":1724585700,"duration":1500,"svcId":1500,"evtId":38024,"image":"\/ms\/img\/epg\/rb\/5d52-50560284.l.png","hasTstv":false,"seriesNo":24,"episodeNo":13},{"name":"The Simpsons","description":"Beyond Blunderdome: Mel Gibson hires Homer to help him rewrite his remake of Mr Smith Goes to Washington. (S11 Ep1\/22)  [AD,S]","startTime":1724587200,"duration":1500,"svcId":1500,"evtId":38026,"image":"\/ms\/img\/epg\/rb\/5d52-858831.l.png","hasTstv":false,"seriesNo":11,"episodeNo":1},{"name":"The Simpsons","description":"Brother\u0027s Little Helper: An experimental ADHD drug improves Bart\u0027s behaviour but makes him paranoid: is Major League Baseball using a satellite to read his thoughts? (S11 Ep2\/22)  [AD,S]","startTime":1724588700,"duration":1800,"svcId":1500,"evtId":38027,"image":"\/ms\/img\/epg\/rb\/5d52-387109674.l.png","hasTstv":false,"seriesNo":11,"episodeNo":2},{"name":"The Simpsons","description":"Guess Who\u0027s Coming to Criticize Dinner: Homer becomes a restaurant critic for the Springfield Shopper, and ends up so feared that the town\u0027s restaurant owners plot to kill him. (S11 Ep3\/22)  [AD,S]","startTime":1724590500,"duration":1800,"svcId":1500,"evtId":37640,"image":"\/ms\/img\/epg\/rb\/5d52-859840.l.png","hasTstv":false,"seriesNo":11,"episodeNo":3},{"name":"Four in a Bed","description":"Nyoami and Joe host first at The Trap Inn in Northumberland. Their guests love the d\u00e9cor, and a boat trip to spot some puffins is a big hit. But the porridge is a real sticking point...  [S]","startTime":1724592300,"duration":1800,"svcId":1500,"evtId":37622,"image":"\/ms\/img\/epg\/rb\/5d52-5617324.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At the Newholme Hotel in Blackpool, Nigel and Damian offer budget prices with high-end touches. But a surprise in the loo and a slimy serving at breakfast cause serious concerns.  [S]","startTime":1724594100,"duration":1800,"svcId":1500,"evtId":37623,"image":"\/ms\/img\/epg\/rb\/5d52-5621095.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Liz and Tracey host at Portsonachan Hotel in Argyll and Bute. Some dirty discoveries dampen the guests\u0027 initial delight, and a guided tour of Inveraray Castle serves up some spooky tales.  [S]","startTime":1724595900,"duration":1800,"svcId":1500,"evtId":37624,"image":"\/ms\/img\/epg\/rb\/5d52-5621912.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The final visit is to Lamlash Bay Hotel on the Isle of Arran. As former cabin crew, host Meg hopes her customer service will fly her to victory. But a follicle failure taints her feedback.  [S]","startTime":1724597700,"duration":1800,"svcId":1500,"evtId":37625,"image":"\/ms\/img\/epg\/rb\/5d52-5622616.l.png","hasTstv":false},{"name":"Four in a Bed","description":"On the final day of the competition, the B\u0026Bers rifle through their feedback, from a lavatory let-down to fiddled French toast, before the payments are revealed and the winner is announced.  [S]","startTime":1724599500,"duration":1800,"svcId":1500,"evtId":37626,"image":"\/ms\/img\/epg\/rb\/5d52-5622812.l.png","hasTstv":false},{"name":"Path to Paris: Paralympic Dreams","description":"This series has exclusive access to GB athletes as they prepare for Paris 2024. In this episode, elite Paralympians prepare for perhaps the most important moment of their careers. (Ep2\/2)  [AD,S]","startTime":1724601300,"duration":3600,"svcId":1500,"evtId":37627,"image":"\/ms\/img\/epg\/rb\/5d52-9850889.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: Cycling super-couple Neil and Lora Fachie give an insight into how they balance the demands of raising their son with the commitment required by top-level sport.  [AD,S]","startTime":1724604900,"duration":300,"svcId":1500,"evtId":37628,"image":"\/ms\/img\/epg\/rb\/5d52-9703350.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1724605200,"duration":1800,"svcId":1500,"evtId":37629,"image":"\/ms\/img\/epg\/rb\/5d52-9850910.l.png","hasTstv":false},{"name":"F1 Dutch GP Highlights","description":"There was drama in Belgium last time out. Verstappen got relegated from pole to P11. Hamilton was given the win after Russell\u0027s weight violation. Can everyone behave on the first race back?  [S]","startTime":1724607000,"duration":9000,"svcId":1500,"evtId":37630,"image":"\/ms\/img\/epg\/rb\/5d52-9850911.l.png","hasTstv":false},{"name":"New: Guy Martin: Top Gun","description":"Guy learns how to build a fighter jet and how to fly one too. He also explores the origins and the future of the jet engine - a brilliant British invention which changed the world.  [AD,S]","startTime":1724616000,"duration":5400,"svcId":1500,"evtId":37631,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"New: Save My XL Bully: Death...","description":"...Row Dogs: After maulings and killings across the UK, a colourful cast of owners battle to save the lives of their beloved XL bully dogs in the run-up to a government ban.  [AD,S]","startTime":1724621400,"duration":3600,"svcId":1500,"evtId":38148,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Flight","description":"(2012) Adult drama. A hard-drinking, drug-using airline pilot (Denzel Washington) lands a plane in a heroic way. But he was high in more ways than one... Nudity\/strong language.  [S]","startTime":1724625000,"duration":8700,"svcId":1500,"evtId":38185,"image":"\/ms\/img\/epg\/rb\/5d52-93914895.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics starting on Wednesday, canoeist Hope Gordon gives us an insight into her life, her love for her sport and the emotional support she gets from her dog.  [AD,S,SL]","startTime":1724633700,"duration":300,"svcId":1500,"evtId":38151,"image":"\/ms\/img\/epg\/rb\/5d52-9697880.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Fishtown, Philadelphia, Gordon Ramsay visits the Hot Potato Caf\u00e9, which has never made a profit. When the chips are down, can Gordon help save the restaurant? (S3 Ep1\/13)  [S,SL]","startTime":1724634000,"duration":3000,"svcId":1500,"evtId":38149,"image":"\/ms\/img\/epg\/rb\/5d52-989292.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"Grand Designs","description":"In 2015, Vicky and Ed set out to transform a derelict Somerset cowshed into a 21st-century smallholding. Now Kevin returns. How much did this wildly ambitious project change their lives?  [AD,S,SL]","startTime":1724637000,"duration":3000,"svcId":1500,"evtId":37635,"image":"\/ms\/img\/epg\/rb\/5d52-2608567.l.png","hasTstv":false,"seriesNo":14,"episodeNo":9},{"name":"Come Dine with Me","description":"This Burnley episode features some uber-competitive hosts, a chicken virgin and a welcoming dog dressed in a stripy jumper.  [S]","startTime":1724640000,"duration":3300,"svcId":1500,"evtId":38152,"image":"\/ms\/img\/epg\/rb\/5d52-9850940.l.png","hasTstv":false},{"name":"Kirstie\u0027s House of Craft","description":"Inspired by her beloved pet dog Dandy, Kirstie Allsopp makes a cute tin can dog and shows us how to turn the humble loo roll into a host of fun and friendly animals.  [S]","startTime":1724643300,"duration":600,"svcId":1500,"evtId":38153,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Frasier","description":"Adventures in Paradise (Part 1\/2): Frasier and Madeline run away together to a cottage on remote Bora Bora. But then Lilith turns up... (S2 Ep8)  [AD,S]","startTime":1724643900,"duration":1500,"svcId":1500,"evtId":37636,"image":"\/ms\/img\/epg\/rb\/5d52-362661.l.png","hasTstv":false,"seriesNo":2,"episodeNo":8}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('288');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('73');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('78');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'Ww_1847dPBY', title: "HAT-TRICK Haaland 🎯 | Manchester City 4-1 Ipswich Town | Premier League Highlights", label: "HAT-TRICK Haaland 🎯 | Manchester City 4-1 Ipswich Town | Premier League Highlights by Sky Sports Premier League 1,055,152 views 22 hours ago 3 minutes, 12 seconds" },
{ id: 'UAna0bJUhhw', title: "Qualifying Highlights | 2024 Dutch Grand Prix", label: "Qualifying Highlights | 2024 Dutch Grand Prix by FORMULA 1 2,982,731 views 23 hours ago 7 minutes" },
{ id: 'CRUhKMR_ZCc', title: "Sabrina Carpenter - Taste (Official Video)", label: "Sabrina Carpenter - Taste (Official Video) by Sabrina Carpenter 20,562,202 views 2 days ago 3 minutes, 19 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+City Lights (1931)">City Lights (1931)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Darn Cat (1997)">The Darn Cat (1997)</a></li><li><a href="https://www.google.com/search?q=Films+-+Longlegs (2024)">Longlegs (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+#17 - To Finish The Barkley Marathons (2024)">#17 - To Finish The Barkley Marathons (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Humanist Vampire Seeking Consenting Suicidal Person (2023)">Humanist Vampire Seeking Consenting Suicidal Person (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Manifesto (2015)">Manifesto (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Pariah (2011)">Pariah (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+Quiz Lady (2023)">Quiz Lady (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Children\'s Hour (1961)">The Children\'s Hour (1961)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Farewell (2019)">The Farewell (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 212.96, tooltip: "Fri, Aug 23, 2024<br/>£212.96"},
{ number: 212.04, tooltip: "Thu, Aug 22, 2024<br/>£212.04"},
{ number: 213.87, tooltip: "Wed, Aug 21, 2024<br/>£213.87"},
{ number: 213.58, tooltip: "Tue, Aug 20, 2024<br/>£213.58"},
{ number: 214.46, tooltip: "Mon, Aug 19, 2024<br/>£214.46"},
{ number: 214.03, tooltip: "Fri, Aug 16, 2024<br/>£214.03"},
{ number: 213.40, tooltip: "Thu, Aug 15, 2024<br/>£213.40"},
{ number: 210.89, tooltip: "Wed, Aug 14, 2024<br/>£210.89"},
{ number: 210.24, tooltip: "Tue, Aug 13, 2024<br/>£210.24"},
{ number: 207.89, tooltip: "Mon, Aug 12, 2024<br/>£207.89"},
{ number: 208.33, tooltip: "Fri, Aug 09, 2024<br/>£208.33"},
{ number: 207.70, tooltip: "Thu, Aug 08, 2024<br/>£207.70"},
{ number: 204.73, tooltip: "Wed, Aug 07, 2024<br/>£204.73"},
{ number: 204.94, tooltip: "Tue, Aug 06, 2024<br/>£204.94"},
{ number: 201.72, tooltip: "Mon, Aug 05, 2024<br/>£201.72"},
{ number: 207.71, tooltip: "Fri, Aug 02, 2024<br/>£207.71"},
{ number: 212.34, tooltip: "Thu, Aug 01, 2024<br/>£212.34"},
{ number: 214.37, tooltip: "Wed, Jul 31, 2024<br/>£214.37"},
{ number: 211.42, tooltip: "Tue, Jul 30, 2024<br/>£211.42"},
{ number: 211.76, tooltip: "Mon, Jul 29, 2024<br/>£211.76"},
{ number: 211.46, tooltip: "Fri, Jul 26, 2024<br/>£211.46"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Aug 23, 2024",
		"vs Day":      "Thu, Aug 22, 2024",
		"vs Week":     "Fri, Aug 16, 2024",
		"vs Month":    "Fri, Jul 26, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£212.96/share",
		'vs Day':      "+0.43%",
		'vs Week':     "-0.50%",
		'vs Month':    "+0.71%",
		'vs Year':     "+19.00%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '59.0',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/third-quarter.html" title="Third Quarter on the night between 25 August and 26 August">Third Quarter</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.590&p=2.441&r=5.611',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:06',
		Set:      '20:08',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To attenuate something is to make it weaker or less in amount, effect, or force.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>