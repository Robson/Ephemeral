<!DOCTYPE html>
<html lang="en">
	<head>
		<title>22:02 18-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Student killer guilty of \'senseless\' beach murder</b><br/>Nasen Saadi, 20, is found guilty of the murder of Amie Gray on a beach in Bournemouth." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cg520q1p68do">Student killer guilty of \'senseless\' beach murder</a></li><li class="ttt" data-tt="<b>Taxpayers can\'t fund payouts for Waspi women, Starmer says</b><br/>Waspi campaigners say they will keep fighting on pensions after the government rejects compensation."><a href="https://www.bbc.com/news/articles/cwy85edy0nxo">Taxpayers can\'t fund payouts for Waspi women, Starmer says</a></li><li class="ttt" data-tt="<b>100mph laughing gas driver jailed for killing friends</b><br/>Friends Daniel Hancock, 18, Elliot Pullen, 17, and Ethan Goddard, 18, were killed in the crash."><a href="https://www.bbc.com/news/articles/c99xmzey88vo">100mph laughing gas driver jailed for killing friends</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cg520q1p68do"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/652a/live/5bda9000-b7c7-11ef-a9d0-3bb2d253170d.jpg" class="ttt" data-tt="Amie Gray stands in a room with pictures on the wall. She has long, straight dark brown hair. Her black vest top shows tattoos running down both arms." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>US Supreme Court to hear TikTok challenge to potential ban</b><br/>The US wants the app to be sold or banned because of what it says are links to the Chinese state." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn4xw9lx02xo">US Supreme Court to hear TikTok challenge to potential ban</a></li><li class="ttt" data-tt="<b>Four paths Trudeau can take as political crisis deepens</b><br/>A shock high-profile resignation has forced Canada\'s prime minister to contend with his plummeting popularity."><a href="https://www.bbc.com/news/articles/cn54elwep72o">Four paths Trudeau can take as political crisis deepens</a></li><li class="ttt" data-tt="<b>US makes third interest rate cut despite inflation risk</b><br/>The Federal Reserve has been cutting rates since September, even as inflation progress stalls."><a href="https://www.bbc.com/news/articles/clyj3ym3e55o">US makes third interest rate cut despite inflation risk</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn4xw9lx02xo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/d1f0/live/e23cefe0-bd5c-11ef-9388-3da9ad62abc7.jpg" class="ttt" data-tt="A woman with long nails wears a badge reading &quot;Keep TikTok&quot; on her top." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Syria not a threat to world, rebel leader Ahmed al-Sharaa tells BBC</b><br/>In an interview with Jeremy Bowen, the leader of the rebel group HTS says sanctions on Syria should be lifted." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c05p9g2nqmeo">Syria not a threat to world, rebel leader Ahmed al-Sharaa tells BBC</a></li><li class="ttt" data-tt="<b>Russia detains Uzbek man over general\'s killing in Moscow</b><br/>A 29-year-old Uzbekistan citizen admits he was recruited by Ukraine\'s special services, Russia claims."><a href="https://www.bbc.com/news/articles/cge9rv38x98o">Russia detains Uzbek man over general\'s killing in Moscow</a></li><li class="ttt" data-tt="<b>Life in Idlib hints at what Syria can expect from rebel rule</b><br/>The Islamist group that now runs Syria has led everyday life for people in Idlib for seven years."><a href="https://www.bbc.com/news/articles/c8ew16391rdo">Life in Idlib hints at what Syria can expect from rebel rule</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c05p9g2nqmeo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/23d1/live/572659e0-bd71-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="Ahmed al-Sharaa, also known as Abu Mohammed al-Jolani, smiles during a visit to the Umayyad Mosque in Damascus, Syria (8 December 2024)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Perez and Red Bull agree to end contract early</b><br/>Sergio Perez is to leave Red Bull with two years left on his contract, after reaching a termination agreement with the team." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cq5ljdx2d43o">Perez and Red Bull agree to end contract early</a></li><li class="ttt" data-tt="<b>FIA changes criticised as they are voted through</b><br/>Controversial changes to the statutes of Formula 1\'s governing body approved on Friday constitute a &quot;worrisome concentration of power&quot;, according to the head of one of its member clubs."><a href="https://www.bbc.com/sport/formula1/articles/ckgz4jw14rdo">FIA changes criticised as they are voted through</a></li><li class="ttt" data-tt="<b>Hamilton to Ferrari and what else to look out for in 2025</b><br/>With Lewis Hamilton moving to Ferrari and exciting rookies joining the Formula 1 grid, here are the key things to look out for in 2025."><a href="https://www.bbc.com/sport/formula1/articles/cn4v5kgxv1qo">Hamilton to Ferrari and what else to look out for in 2025</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cq5ljdx2d43o"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/8b25/live/b8bb3d80-bd65-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="Sergio Perez" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>US Supreme Court to hear TikTok challenge to potential ban</b><br/>The US wants the app to be sold or banned because of what it says are links to the Chinese state." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn4xw9lx02xo">US Supreme Court to hear TikTok challenge to potential ban</a></li><li class="ttt" data-tt="<b>How Facebook restricted news in Palestinian territories</b><br/>Palestinian news outlets have seen a steep drop in audience engagement since October 2023."><a href="https://www.bbc.com/news/articles/c786wlxz4jgo">How Facebook restricted news in Palestinian territories</a></li><li class="ttt" data-tt="<b>Apple accused of using conflict minerals</b><br/>The tech giant says it &quot;strongly disputes&quot; the claims and it is &quot;deeply committed to responsible sourcing&quot; of minerals."><a href="https://www.bbc.com/news/articles/cn8g540wz3jo">Apple accused of using conflict minerals</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn4xw9lx02xo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/d1f0/live/e23cefe0-bd5c-11ef-9388-3da9ad62abc7.jpg" class="ttt" data-tt="A woman with long nails wears a badge reading &quot;Keep TikTok&quot; on her top." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"16 Dec – 22 Dec","date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":4,"desc":"Morning clouds.","temp":7,"templow":4,"cf":1,"wind":15,"wd":320,"hum":79,"pc":45,"rain":2.7 },{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":33,"desc":"Showers late. Cloudy.","temp":9,"templow":2,"cf":4,"wind":14,"wd":220,"hum":91,"pc":59,"rain":2.3 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":18,"desc":"Sprinkles. Cloudy.","temp":12,"templow":5,"cf":5,"wind":22,"wd":270,"hum":82,"pc":55,"rain":2.7 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":6,"templow":3,"cf":-2,"wind":23,"wd":290,"hum":83,"pc":51,"rain":2.4 },{"hl":true,"hls":"23 Dec – 29 Dec","date":1734912E6,"ts":"Mon, 23","ds":"Mon, 23 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":8,"templow":4,"cf":2,"wind":13,"wd":220,"hum":77,"pc":40,"rain":0.6 },{"date":17349984E5,"ts":"Tue, 24","ds":"Tue, 24 Dec","icon":7,"desc":"Overcast.","temp":13,"templow":10,"cf":10,"wind":12,"wd":250,"hum":90,"pc":1},{"date":17350848E5,"ts":"Wed, 25","ds":"Wed, 25 Dec","icon":6,"desc":"Mostly cloudy.","temp":11,"templow":7,"cf":9,"wind":7,"wd":230,"hum":91,"pc":5},{"date":17351712E5,"ts":"Thu, 26","ds":"Thu, 26 Dec","icon":1,"desc":"Sunny.","temp":10,"templow":7,"cf":9,"wind":3,"wd":80,"hum":87,"pc":6},{"date":17352576E5,"ts":"Fri, 27","ds":"Fri, 27 Dec","icon":2,"desc":"Mostly sunny.","temp":9,"templow":7,"cf":8,"wind":6,"wd":80,"hum":93,"pc":3},{"date":1735344E6,"ts":"Sat, 28","ds":"Sat, 28 Dec","icon":4,"desc":"Afternoon clouds.","temp":9,"templow":6,"cf":7,"wind":6,"wd":260,"hum":84,"pc":5},{"date":17354304E5,"ts":"Sun, 29","ds":"Sun, 29 Dec","icon":4,"desc":"Afternoon clouds.","temp":9,"templow":5,"cf":7,"wind":7,"wd":220,"hum":86,"pc":6},{"hl":true,"hls":"30 Dec – 5 Jan","date":17355168E5,"ts":"Mon, 30","ds":"Mon, 30 Dec","icon":4,"desc":"Morning clouds.","temp":8,"templow":5,"cf":6,"wind":7,"wd":320,"hum":78,"pc":5},{"date":17356032E5,"ts":"Tue, 31","ds":"Tue, 31 Dec","icon":2,"desc":"Mostly sunny.","temp":8,"templow":6,"cf":7,"wind":6,"wd":290,"hum":87,"pc":5},{"date":17356896E5,"ts":"Wed, 1","ds":"Wed, 1 Jan","icon":4,"desc":"Partly cloudy.","temp":8,"templow":5,"cf":4,"wind":6,"wd":190,"hum":86,"pc":5},{"date":1735776E6,"ts":"Thu, 2","ds":"Thu, 2 Jan","icon":1,"desc":"Sunny.","temp":7,"templow":3,"cf":4,"wind":7,"wd":160,"hum":91,"pc":3}],"grid":{"temp":{"low":2,"high":13,"range":11},"prec":{"high":2.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/NGC660_Selby_960.jpg',
		Title:     'NGC 660: Polar Ring Galaxy',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/NGC660_Selby_1720.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241218.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/2023_Grindavik_eruption.jpg/600px-2023_Grindavik_eruption.jpg',
		Title:    '2023–2024 Sundhnúkur eruptions',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/2023%E2%80%932024_Sundhn%C3%BAkur_eruptions',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/2023%E2%80%932024_Sundhn%C3%BAkur_eruptions" title="2023–2024 Sundhnúkur eruptions">A series of volcanic eruptions</a></b> has been ongoing in the <a href="https://en.wikipedia.org/wiki/Southern_Peninsula_(Iceland)" title="Southern Peninsula (Iceland)">Reykjanes Peninsula</a>, near the town of <a href="https://en.wikipedia.org/wiki/Grindav%C3%ADk" title="Grindavík">Grindavík</a>, Iceland, since 18&#160;December 2023. The eruptions, of which there have been seven so far, began after an intense series of earthquakes in November&#160;2023. Although localised, seismic and volcanic activity has caused significant disruption across the western part of the peninsula, especially for the town of Grindavík. This <a href="https://en.wikipedia.org/wiki/Icelandic_Meteorological_Office" title="Icelandic Meteorological Office">Icelandic Meteorological Office</a> photograph, taken on 18&#160;December 2023, shows the first eruption in the series, in the <a href="https://en.wikipedia.org/wiki/Sundhn%C3%BAksg%C3%ADgar" title="Sundhnúksgígar">Sundhnúksgígar</a> crater chain.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/Icelandic_Meteorological_Office" title="Icelandic Meteorological Office">Icelandic Meteorological Office</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1734501600,"duration":12600,"svcId":560,"evtId":30009,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734514140,"availabilityEnd":1734600540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00260qd\u0026ui_id=4.0.0"}},{"name":"Morning Live at Christmas","description":"Helen Skelton and Rav Wilding talk to Rebecca Wilcox on saving money on your energy bill. [S] [HD]","startTime":1734514200,"duration":4500,"svcId":560,"evtId":30010,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kcsvtk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734518684,"availabilityEnd":1766054684,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260qg\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":133},{"name":"Animal Park Christmas Special","description":"3\/5. Ben and Kate serve Christmas dinner to a family of lions, but will there be any leftovers on Boxing Day? [S,AD] [HD]","startTime":1734518700,"duration":2700,"svcId":560,"evtId":30128,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k93k7r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734328800,"availabilityEnd":1765864800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025z7d\u0026ui_id=4.0.0"},"seriesNo":37,"episodeNo":3},{"name":"Homes Under the Hammer","description":"18\/80. Martin\u0027s accompanied by his dog Waffle for a look around a characterful cottage in Bath. Dion makes friends with Larry the Lobster in a semi in Stoke. [S] [HD]","startTime":1734521400,"duration":2700,"svcId":560,"evtId":30011,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch5k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734524109,"availabilityEnd":1737116109,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ld9h\u0026ui_id=4.0.0"},"seriesNo":39,"episodeNo":18},{"name":"Bargain Hunt: Toy Special","description":"Eric Knowles looks back at some of the most eclectic toys and games bought by the teams over the years, and offers advice on how to spot a bargain. [S,AD] [HD]","startTime":1734524100,"duration":2700,"svcId":560,"evtId":30012,"image":"\/ms\/img\/epg\/rb\/ae0c-p08t2lqq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734526800,"availabilityEnd":1737118800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000n83y\u0026ui_id=4.0.0"},"seriesNo":56},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1734526800,"duration":3600,"svcId":560,"evtId":30013,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":188},{"name":"Attenborough\u0027s Wonder of Song","description":"David Attenborough chooses seven of the most remarkable animal songs found in nature and explores the significance of these songs in the lives of their species. [S,AD] [HD]","startTime":1734530400,"duration":3600,"svcId":560,"evtId":30387,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b9640p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1674051300,"availabilityEnd":1768715940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00134jr\u0026ui_id=4.0.0"}},{"name":"Escape to the Country","description":"13\/55. Jules Hudson explores one of the UK\u0027s most beautiful locations today as he sets about finding the ideal Wye Valley property for his house hunters. [S] [HD]","startTime":1734534000,"duration":2700,"svcId":560,"evtId":30017,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gj633d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734536679,"availabilityEnd":1737128679,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rblm\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":13},{"name":"The Vintage French Farmhouse","description":"13\/20. Three antiques dealers visit a covered market in a converted bus garage in Vauvert, where they compete to find two hidden treasures each to buy and sell online for the most profit. [S] [HD]","startTime":1734536700,"duration":2700,"svcId":560,"evtId":30018,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gfy12y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734539389,"availabilityEnd":1737131389,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0gcw5fg\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":13},{"name":"Antiques Road Trip","description":"13\/25. Irita Marriott and Mark Hill cruise their way around East Anglia on a search for treasures from a bygone era. They find a rare blue duck and sought-after Hungarian porcelain. [S] [HD]","startTime":1734539400,"duration":2700,"svcId":560,"evtId":30019,"image":"\/ms\/img\/epg\/rb\/fec6-p0f4hwyl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734542096,"availabilityEnd":1737134096,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001jnhd\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":13},{"name":"Pointless Celebrities","description":"The celebrities competing for the Pointless trophy are Sue Cook, Carol McGiffin, Angela Barnes, Abigoliah Schamaun, Reuben Kaye, Richard Coles, Lutalo Muhammad and Anthony Ogogo. [S] [HD]","startTime":1734542100,"duration":2700,"svcId":560,"evtId":30020,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hkr0td.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734534900,"availabilityEnd":1742761500,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xpj0\u0026ui_id=4.0.0"},"seriesNo":16},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1734544800,"duration":1800,"svcId":560,"evtId":30021,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734546690,"availabilityEnd":1734633090,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260qq\u0026ui_id=4.0.0"},"episodeNo":188},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734546600,"duration":1800,"svcId":560,"evtId":30022,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734548295,"availabilityEnd":1734634695,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260qs\u0026ui_id=4.0.0"},"episodeNo":262},{"name":"The One Show","description":"Larry Lamb and Joanna Page from Gavin \u0026 Stacey and Don Gilet from Death in Paradise join Alex Jones and Clara Amfo on the show. [S] [HD]","startTime":1734548400,"duration":1800,"svcId":560,"evtId":30123,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734550231,"availabilityEnd":1737142231,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026335\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Lauren is rushed to hospital in agony, Martin steps up for his son, and Kim\u0027s concert plans hit another obstacle. [S,AD] [HD]","startTime":1734550200,"duration":1800,"svcId":560,"evtId":30129,"image":"\/ms\/img\/epg\/rb\/fec6-p0k92lnl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734415200,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00263mg\u0026ui_id=4.0.0"},"episodeNo":7032},{"name":"Mary Makes Christmas","description":"Dame Mary Berry is joined by Amanda Holden, Oti Mabuse and Nick Grimshaw in a beautifully festive coastal setting to create delicious gifts for family and friends this Christmas. [S,AD] [HD]","startTime":1734552000,"duration":3600,"svcId":560,"evtId":30130,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8c84q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734555628,"availabilityEnd":1766091628,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00263ml\u0026ui_id=4.0.0"}},{"name":"Stacey Solomon\u0027s Crafty Christmas","description":"Stacey Solomon returns for Crafty Christmas to create a new batch of ingenious homemade gifts and decorations that she hopes will bring festive joy without blowing the budget. [S,AD] [HD]","startTime":1734555600,"duration":3600,"svcId":560,"evtId":30131,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8bvpq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734559196,"availabilityEnd":1766095196,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00263mq\u0026ui_id=4.0.0"}},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1734559200,"duration":1800,"svcId":560,"evtId":30023,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734561090,"availabilityEnd":1734647490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00260qv\u0026ui_id=4.0.0"},"episodeNo":188},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734561000,"duration":600,"svcId":560,"evtId":30024,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734561450,"availabilityEnd":1734647850,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00260qx\u0026ui_id=4.0.0"},"episodeNo":225},{"name":"Die Hard 2","description":"Off-duty cop John McClane spots suspicious activity at snowy Dulles Airport. Contains very strong language. [1990] [S,AD] [HD]","startTime":1734561600,"duration":6900,"svcId":560,"evtId":30124,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gwlj8m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734568549,"availabilityEnd":1737160549,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001tc26\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1734568500,"duration":300,"svcId":560,"evtId":30025,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734568837,"availabilityEnd":1735173637,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00260qz\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1734568800,"duration":19200,"svcId":560,"evtId":30026,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":262}]},{"channelid":700,"offset":0,"event":[{"name":"Animal Park Christmas Special","description":"2\/5. Ben and Kate have joined the keepers for a magical Christmas, and with babies being born all over the park, each one needs a visit before the big day. [S,AD] [HD]","startTime":1734503400,"duration":2700,"svcId":700,"evtId":21603,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k93jxr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734328800,"availabilityEnd":1765864800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025z63\u0026ui_id=4.0.0"},"seriesNo":37,"episodeNo":2},{"name":"Bargain Hunt: Christmas Special","description":"It\u0027s a cracker of a Christmas show as Eric Knowles and Father Christmas lead the festive teams, helped by experts Izzie Balmer and Raj Bisram. [S] [HD]","startTime":1734506100,"duration":2700,"svcId":700,"evtId":21604,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7c5q2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734354000,"availabilityEnd":1765890000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002633h\u0026ui_id=4.0.0"},"seriesNo":71},{"name":"Celebrity Antiques Road Trip","description":"16\/20. Radio broadcasters Mark Radcliffe and Edith Bowman dip their toes into the world of antiques under the expert guidance of Natasha Raskin Sharp and Paul Martin. [S,SL] [HD]","startTime":1734508800,"duration":3600,"svcId":700,"evtId":21533,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b5lklv.jpg","hasTstv":false,"episodeNo":16},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1734512400,"duration":8100,"svcId":700,"evtId":21494,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"With inflation up again for the second month in a row, is the government\u0027s economic plan working? And what is Elon Musk up to? [S] [HD]","startTime":1734520500,"duration":6300,"svcId":700,"evtId":21495,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734526955,"availabilityEnd":1737118955,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00261b8\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"3\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 19 people start today\u0027s show. but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1734526800,"duration":2700,"svcId":700,"evtId":21496,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734529725,"availabilityEnd":1737121725,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000npn8\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":3},{"name":"Sweet Charity","description":"Musical comedy about the romantic ups and downs of a dance partner-for-hire at a seedy New York dance hall, who longs for true love but has bad luck with men. [1969] [S] [HD]","startTime":1734529500,"duration":9000,"svcId":700,"evtId":21534,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g0mvkn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734538449,"availabilityEnd":1737130449,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nx09\u0026ui_id=4.0.0"}},{"name":"Snow Babies","description":"Caroline Quentin narrates the tale of a group of baby animals, including emperor penguins and polar bears, born in some of the coldest and harshest places on earth. [S,AD] [HD]","startTime":1734538500,"duration":3600,"svcId":700,"evtId":21535,"image":"\/ms\/img\/epg\/rb\/fec6-p0gz4mc4.jpg","hasTstv":false},{"name":"Flog It!","description":"25\/40. In Hull, Caroline Hawley is delighted to find a painting by local artist Steven Dews. [S] [HD]","startTime":1734542100,"duration":2700,"svcId":700,"evtId":21498,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734544811,"availabilityEnd":1737136811,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000f1sf\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":25},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 3\/10. Richie Anderson, Simon Gregson, Jessica Knappett and Debbie McGee test their general knowledge skills for a special festive show in Richard Osman\u0027s Festive House of Games. [S] [HD]","startTime":1734544800,"duration":1800,"svcId":700,"evtId":21605,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gy5pf6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1703102401,"availabilityEnd":1737138608,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tlkn\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"Nigella: At My Table","description":"4\/6. Nigella prepares some of her go-to favourites, including a butternut and sweet potato curry served with her coriander and jalapeno salsa. [S,AD] [HD]","startTime":1734546600,"duration":1800,"svcId":700,"evtId":21606,"image":"\/ms\/img\/epg\/rb\/fec6-p05mx202.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1591862400,"availabilityEnd":1970467200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b09gt17x\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Grand Tours of Scotland\u0027s Lochs","description":"1\/3. Paul visits the lochs and mountains of Skye, then heads to Loch Fyne, where he paddles a coracle and discovers the wreck of a World War II superfortress. [S] [HD]","startTime":1734548400,"duration":3600,"svcId":700,"evtId":21607,"image":"\/ms\/img\/epg\/rb\/ae0c-p05d762d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734552000,"availabilityEnd":1737144000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0010ql1\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":1},{"name":"Celebrity Antiques Road Trip","description":"15\/20. Soap actors Peter Gunn and Melanie Hill join experts James Braxton and David Harper on an antiques hunt. A little ballerina and a big rocking horse make their way to auction. [S] [HD]","startTime":1734552000,"duration":3600,"svcId":700,"evtId":21608,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dmt4l8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734555626,"availabilityEnd":1737147626,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gdck\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":15},{"name":"The Christmas Misadventures of...","description":"...Romesh Ranganathan. Romesh Ranganathan spends a week visiting the isles of Skye, Harris and Lewis, guided by local crofter Donald \u0027Sweeney\u0027 Macsween. Contains strong language. [S,AD] [HD]","startTime":1734555600,"duration":3600,"svcId":700,"evtId":21609,"image":"\/ms\/img\/epg\/rb\/fec6-p08zt838.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1748494740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000qf0c\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"Motherland","description":"6\/6. Julia\u0027s childcare problems are solved after she finds the perfect nanny, but her friendship with Liz is strained. Amanda is keeping a low profile. Contains some strong language. [S,AD] [HD]","startTime":1734559200,"duration":1800,"svcId":700,"evtId":21610,"image":"\/ms\/img\/epg\/rb\/ae0c-p05lpzm9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731304800,"availabilityEnd":1891641540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p05j3br1\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1734561000,"duration":1800,"svcId":700,"evtId":21499,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734562890,"availabilityEnd":1766098890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261bb\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1734562800,"duration":300,"svcId":700,"evtId":21500,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734563115,"availabilityEnd":1734649515,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261bd\u0026ui_id=4.0.0"}},{"name":"Alan Bennett 90 Years On","description":"Alan Bennett offers some refreshingly frank thoughts about old age. Contains some strong language. [S,AD] [HD]","startTime":1734563100,"duration":3600,"svcId":700,"evtId":21611,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7ly3n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734127345,"availabilityEnd":1765663345,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025xr3\u0026ui_id=4.0.0"}},{"name":"MasterChef: The Professionals","description":"20\/21. Finals week continues, and just three of the country\u0027s most exciting chefs remain. [S,AD,SL] [HD]","startTime":1734566700,"duration":3600,"svcId":700,"evtId":21612,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89pf0.jpg","hasTstv":false,"seriesNo":22,"episodeNo":20},{"name":"My Life at Christmas: Anita...","description":"...Rani Meets Rudolph Walker. 2\/3. Anita Rani meets actor Rudolph Walker, beloved as Patrick Trueman in EastEnders. [S,AD,SL] [HD]","startTime":1734570300,"duration":3600,"svcId":700,"evtId":21613,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6s564.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"The Big Cases: The Student Who...","description":"...Never Came Home. Kidnapped and murdered while on a gap year in France. Is it finally time for justice for 20-year-old Joanna Parrish? [S,AD,SL] [HD]","startTime":1734573900,"duration":1500,"svcId":700,"evtId":21614,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gz4tgr.jpg","hasTstv":false,"episodeNo":24},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1734575400,"duration":14400,"svcId":700,"evtId":21501,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('384');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('40');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'KbE8n146umc', title: "Superman - Teaser Trailer Tomorrow", label: "Superman - Teaser Trailer Tomorrow by DC 1,058,411 views 7 hours ago 31 seconds" },
{ id: 'fR59fdQMPFM', title: "Rory McIlroy, Scottie Scheffler vs Bryson DeChambeau, Brooks Koepka | Crypto.com Showdown Highlights", label: "Rory McIlroy, Scottie Scheffler vs Bryson DeChambeau, Brooks Koepka | Crypto.com Showdown Highlights by Bleacher Report 191,794 views 8 hours ago 20 minutes" },
{ id: 'PnKH3bGEn8A', title: "Death Of A Unicorn | Official Trailer HD | A24", label: "Death Of A Unicorn | Official Trailer HD | A24 by A24 1,186,124 views 8 hours ago 2 minutes, 18 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Portrait d\'une jeune fille de la fin des années 60 à Bruxelles (1994)">Portrait d\'une jeune fille de la fin des années 60 à Bruxelles (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Anora (2024)">Anora (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Vagabond (1985)">Vagabond (1985)</a></li><li><a href="https://www.google.com/search?q=Films+-+Last Year at Marienbad (1961)">Last Year at Marienbad (1961)</a></li><li><a href="https://www.google.com/search?q=Films+-+No Vacancy (1999)">No Vacancy (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+Friends & Family Christmas (2023)">Friends & Family Christmas (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mustang (2015)">Mustang (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+When Harry Met Sally (1989)">When Harry Met Sally (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sans Soleil (1983)">Sans Soleil (1983)</a></li><li><a href="https://www.google.com/search?q=Films+-+Drop Dead Gorgeous (1999)">Drop Dead Gorgeous (1999)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 229.87, tooltip: "Tue, Dec 17, 2024<br/>£229.87"},
{ number: 231.35, tooltip: "Mon, Dec 16, 2024<br/>£231.35"},
{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>£231.64"},
{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Dec 17, 2024",
		"vs Day":      "Mon, Dec 16, 2024",
		"vs Week":     "Tue, Dec 10, 2024",
		"vs Month":    "Mon, Nov 18, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£229.87/share",
		'vs Day':      "-0.64%",
		'vs Week':     "-0.24%",
		'vs Month':    "+1.56%",
		'vs Year':     "+20.56%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '85.5',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 18 December and 19 December">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.855&p=4.075&r=0.986',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:12',
		Set:      '15:53',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A qualm is a feeling of doubt or uncertainty about whether one is doing the right thing, or whether something is right or proper. <em>Qualm</em> is often used in its plural form, as in “I have no qualms with that decision.”</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>