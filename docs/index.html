<!DOCTYPE html>
<html lang="en">
	<head>
		<title>21:35 17-Oct - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>One Direction share \'devastation\' at loss of band member Liam Payne</b><br/>Stars including Rita Ora pay tribute to the former One Direction star after his death in Argentina." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvglym337plo">One Direction share \'devastation\' at loss of band member Liam Payne</a></li><li class="ttt" data-tt="<b>Tory politician\'s wife jailed for race hate post</b><br/>Lucy Connolly, wife of West Northamptonshire councillor Raymond Connolly, is jailed for 31 months."><a href="https://www.bbc.com/news/articles/cp3wkzgpjxvo">Tory politician\'s wife jailed for race hate post</a></li><li class="ttt" data-tt="<b>Boy who died in house explosion named</b><br/>Archie York\'s aunt says her nephew was &quot;a loving boy, with a cheeky little grin on his face&quot;."><a href="https://www.bbc.com/news/articles/c3vk40xn936o">Boy who died in house explosion named</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvglym337plo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/8d04/live/1daf8520-8c4c-11ef-9c36-290f67041d8a.jpg" class="ttt" data-tt="A man is taking pictures with fans at an awards show" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>How the India-Canada fallout could affect trade and immigration</b><br/>The stakes for both countries is high as the rift over allegations that India ran a campaign to intimidate Sikh separatists in Canada deepens." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c5y9v7ed7pko">How the India-Canada fallout could affect trade and immigration</a></li><li class="ttt" data-tt="<b>‘You stole the election’: Nervous volunteers on frontline of conspiracies</b><br/>Suspicion about the vote count is pervasive even in small rural communities, where volunteers are preparing for potential violence."><a href="https://www.bbc.com/news/articles/cn0e71yp1e1o">‘You stole the election’: Nervous volunteers on frontline of conspiracies</a></li><li class="ttt" data-tt="<b>How the India-Canada fallout could affect trade and immigration</b><br/>The stakes for both countries is high as the rift over allegations that India ran a campaign to intimidate Sikh separatists in Canada deepens." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c5y9v7ed7pko">How the India-Canada fallout could affect trade and immigration</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c5y9v7ed7pko"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/bd0f/live/aff0f610-8cad-11ef-9e4a-81fe6e2d3b5a.jpg" class="ttt" data-tt="Prime Minister Justin Trudeau of Canada shaking the hand of Prime Minister Narendra Modi of India in New Delhi at the G20 summit" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>One Direction star Liam Payne dies after balcony fall</b><br/>The singer fell from the third floor of a hotel in Buenos Aires, Argentina, police say." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c1wnxp970pdo">One Direction star Liam Payne dies after balcony fall</a></li><li class="ttt" data-tt="<b>Kenya’s deputy president sacked while in hospital</b><br/>In a dramatic day in parliament, senators vote to oust Rigathi Gachagua following his impeachment."><a href="https://www.bbc.com/news/articles/czrmzzkdk1do">Kenya’s deputy president sacked while in hospital</a></li><li class="ttt" data-tt="<b>US Secret Service has \'deep flaws\' and must overhaul leadership, report says</b><br/>An independent panel reviewing the shooting at Donald Trump\'s rally calls for the agency to overhaul its leadership."><a href="https://www.bbc.com/news/articles/c04p620xy47o">US Secret Service has \'deep flaws\' and must overhaul leadership, report says</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c1wnxp970pdo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ae5f/live/0a97f300-8c74-11ef-b6b0-c9af5f7f16e4.jpg" class="ttt" data-tt="Singer Liam Payne, dressed in a black suit, shirt and tie, poses for photographers at a movie premiere." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Red Bull change car after discussions with FIA</b><br/>Red Bull say that they have made changes to their F1 car as a result of discussions with governing body the FIA." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c93yvz7xdgzo">Red Bull change car after discussions with FIA</a></li><li class="ttt" data-tt="<b>F1 drops fastest lap bonus point from 2025</b><br/>Formula 1 is to drop the award of a bonus point for fastest lap from the 2025 season."><a href="https://www.bbc.com/sport/formula1/articles/c4g4qqg3jzlo">F1 drops fastest lap bonus point from 2025</a></li><li class="ttt" data-tt="<b>Williams \'not out of woods\', says team boss Vowles</b><br/>Williams team principal James Vowles speaks to BBC Sport about their upturn in form, Franco Colapinto and why McLaren are an &quot;inspiration&quot;."><a href="https://www.bbc.com/sport/formula1/articles/c70wyxz4lx1o">Williams \'not out of woods\', says team boss Vowles</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c93yvz7xdgzo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/3eb4/live/72b357e0-8cb5-11ef-a464-bf92173bbfab.jpg" class="ttt" data-tt="A front view looking up at Max Verstappen driving his Red Bull during the Singapore Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Instagram adds features to help stop sextortion</b><br/>Law enforcement have reported a rise in sextortion scams targeting teens across online platforms." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cdd4vn6p601o">Instagram adds features to help stop sextortion</a></li><li class="ttt" data-tt="<b>Meta fires staff for buying toothpaste, not lunch</b><br/>Meta workers reportedly used vouchers that should have been spent on meals to buy household goods."><a href="https://www.bbc.com/news/articles/cvgdyzq3wz5o">Meta fires staff for buying toothpaste, not lunch</a></li><li class="ttt" data-tt="<b>How does WhatsApp make money? It\'s free - with some tricks</b><br/>We all use messaging apps such as WhatsApp for free, but what\'s in it for them?"><a href="https://www.bbc.com/news/articles/c8j7nrppny2o">How does WhatsApp make money? It\'s free - with some tricks</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cdd4vn6p601o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3c59/live/9f1c18e0-8c91-11ef-8936-1185f9e7d044.jpg" class="ttt" data-tt="An anonymous person holds a white smartphone with two hands, they&#x27;re wearing a blue shirt." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"14 Oct – 20 Oct","date":17292096E5,"ts":"Fri, 18","ds":"Fri, 18 Oct","icon":4,"desc":"Afternoon clouds.","temp":15,"templow":6,"cf":13,"wind":11,"wd":210,"hum":74,"pc":39,"rain":0.2 },{"date":1729296E6,"ts":"Sat, 19","ds":"Sat, 19 Oct","icon":33,"desc":"Rain showers. Overcast.","temp":14,"templow":9,"cf":12,"wind":6,"wd":150,"hum":91,"pc":71,"rain":8.8 },{"date":17293824E5,"ts":"Sun, 20","ds":"Sun, 20 Oct","icon":33,"desc":"Light showers. Overcast.","temp":14,"templow":7,"cf":12,"wind":20,"wd":170,"hum":90,"pc":70,"rain":4.6 },{"hl":true,"hls":"21 Oct – 27 Oct","date":17294688E5,"ts":"Mon, 21","ds":"Mon, 21 Oct","icon":18,"desc":"Sprinkles late. Breaks of sun late.","temp":15,"templow":9,"cf":12,"wind":15,"wd":220,"hum":72,"pc":21,"rain":0.1 },{"date":17295552E5,"ts":"Tue, 22","ds":"Tue, 22 Oct","icon":18,"desc":"Sprinkles. Cloudy.","temp":14,"templow":8,"cf":11,"wind":12,"wd":210,"hum":86,"pc":19,"rain":0.2 },{"date":17296416E5,"ts":"Wed, 23","ds":"Wed, 23 Oct","icon":7,"desc":"Cloudy.","temp":14,"templow":6,"cf":12,"wind":11,"wd":200,"hum":82,"pc":0},{"date":1729728E6,"ts":"Thu, 24","ds":"Thu, 24 Oct","icon":18,"desc":"Sprinkles late. Overcast.","temp":15,"templow":9,"cf":13,"wind":13,"wd":160,"hum":82,"pc":50,"rain":0.5 },{"date":17298144E5,"ts":"Fri, 25","ds":"Fri, 25 Oct","icon":33,"desc":"Rain showers. Overcast.","temp":12,"templow":8,"cf":10,"wind":11,"wd":310,"hum":85,"pc":72,"rain":9.5 },{"date":17299008E5,"ts":"Sat, 26","ds":"Sat, 26 Oct","icon":19,"desc":"Rain. Breaks of sun late.","temp":10,"templow":6,"cf":8,"wind":14,"wd":20,"hum":87,"pc":79,"rain":15.1 },{"date":17299872E5,"ts":"Sun, 27","ds":"Sun, 27 Oct","icon":18,"desc":"Sprinkles late. Overcast.","temp":11,"templow":6,"cf":9,"wind":9,"wd":0,"hum":93,"pc":48,"rain":0.9 },{"hl":true,"hls":"28 Oct – 3 Nov","date":17300736E5,"ts":"Mon, 28","ds":"Mon, 28 Oct","icon":4,"desc":"Breaks of sun late.","temp":11,"templow":7,"cf":10,"wind":4,"wd":340,"hum":77,"pc":6},{"date":173016E7,"ts":"Tue, 29","ds":"Tue, 29 Oct","icon":4,"desc":"Breaks of sun late.","temp":11,"templow":8,"cf":10,"wind":8,"wd":330,"hum":79,"pc":6},{"date":17302464E5,"ts":"Wed, 30","ds":"Wed, 30 Oct","icon":33,"desc":"Showers late. Overcast.","temp":11,"templow":8,"cf":10,"wind":7,"wd":150,"hum":83,"pc":70,"rain":8.7 },{"date":17303328E5,"ts":"Thu, 31","ds":"Thu, 31 Oct","icon":19,"desc":"Rain. Overcast.","temp":10,"templow":7,"cf":6,"wind":20,"wd":40,"hum":90,"pc":84,"rain":17.8 },{"date":17304192E5,"ts":"Fri, 1","ds":"Fri, 1 Nov","icon":18,"desc":"Sprinkles late. Cloudy.","temp":9,"templow":8,"cf":6,"wind":12,"wd":350,"hum":82,"pc":52,"rain":0.5 }],"grid":{"temp":{"low":6,"high":15,"range":9},"prec":{"high":17.8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2410/EuropaComet_cooper3.jpg',
		Title:     'The Clipper and the Comet',
		LinkImage: 'https://apod.nasa.gov/apod/image/2410/EuropaComet_cooper3.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241017.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/9/94/%28MHNT%29_Chromatopelma_cyaneopubescens_-_Venezuela_-_Female.jpg/350px-%28MHNT%29_Chromatopelma_cyaneopubescens_-_Venezuela_-_Female.jpg',
		Title:    'Greenbottle blue tarantula',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Greenbottle_blue_tarantula',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Greenbottle_blue_tarantula" title="Greenbottle blue tarantula">greenbottle blue tarantula</a></b> (<i>Chromatopelma cyaneopubescens</i>) is a species of spider in the <a href="https://en.wikipedia.org/wiki/Tarantula" title="Tarantula">tarantula</a> family, Theraphosidae. It is native to the <a href="https://en.wikipedia.org/wiki/Paraguan%C3%A1_Peninsula" title="Paraguaná Peninsula">Paraguaná Peninsula</a> in the Venezuelan state of <a href="https://en.wikipedia.org/wiki/Falc%C3%B3n" title="Falcón">Falcón</a>. The spider features metallic blue legs and a blue-green <a href="https://en.wikipedia.org/wiki/Carapace" title="Carapace">carapace</a>, which give it its name. They are very active and fast-growing animals that are particularly attractive to hobbyists. This mounted greenbottle blue tarantula female is part of the collection of the <a href="https://en.wikipedia.org/wiki/Mus%C3%A9um_de_Toulouse" title="Muséum de Toulouse">Muséum de Toulouse</a> in France.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Archaeodontosaurus" title="User:Archaeodontosaurus">Didier Descouens</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1729141200,"duration":12600,"svcId":560,"evtId":28396,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729152000,"availabilityEnd":1729240220,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023z54\u0026ui_id=4.0.0"}},{"name":"Crimewatch Live","description":"14\/15. How criminals stole tens of thousands of pounds worth of GPS devices from farm machinery as part of a nationwide crime ring. Plus an appeal to find the remains of Suzanne Pilley. [S] [HD]","startTime":1729153800,"duration":2700,"svcId":560,"evtId":28485,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jx3cp7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729156545,"availabilityEnd":1731579345,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00240hh\u0026ui_id=4.0.0"},"seriesNo":20,"episodeNo":14},{"name":"Frontline Fightback","description":"9\/10. Family-run farms have traditionally been an easy target for criminals preying on remote communities. Can new security systems using the latest technology make a difference? [S] [HD]","startTime":1729156500,"duration":2700,"svcId":560,"evtId":28397,"image":"\/ms\/img\/epg\/rb\/fec6-p0fmxxxd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729159222,"availabilityEnd":1731754822,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001m762\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":9},{"name":"Homes Under the Hammer","description":"Dion looks at a down-at-heel 1930s Nottingham bungalow that\u0027s been transformed into a modern, stylish house. [S] [HD]","startTime":1729159200,"duration":3600,"svcId":560,"evtId":28449,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwn9ft.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729162816,"availabilityEnd":1769775220,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023zwx\u0026ui_id=4.0.0"},"seriesNo":40},{"name":"Bargain Hunt","description":"Christina Trevanion presents today\u0027s show from Newark in Nottinghamshire, with Thomas Forrester and Ochuko Ojiri. Christina visits a library with more than books on its shelves. [S] [HD]","startTime":1729162800,"duration":3600,"svcId":560,"evtId":28486,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d96pff.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729166401,"availabilityEnd":1731762001,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00240hk\u0026ui_id=4.0.0"},"seriesNo":72},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1729166400,"duration":3600,"svcId":560,"evtId":28398,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false},{"name":"Doctors","description":"Al races against the clock. Emma is concerned about Rick. [S,AD] [HD]","startTime":1729170000,"duration":1800,"svcId":560,"evtId":28450,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jw56js.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729171785,"availabilityEnd":1760707785,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023zwz\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":260},{"name":"Money for Nothing","description":"11\/15. Sarah Moore and Leigh-Anne Treadwell give two wingback armchairs and an extendable dining table a makeover. [S] [HD]","startTime":1729171800,"duration":1800,"svcId":560,"evtId":28401,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hphvjw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729173595,"availabilityEnd":1731769195,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0015qcs\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":11},{"name":"Escape to the Country","description":"38\/55. Returning home after eight years of living and working in Abu Dhabi, two teachers want to swap desert sand for the beaches of East Sussex. [S] [HD]","startTime":1729173600,"duration":2700,"svcId":560,"evtId":28402,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hl8fn6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1711381475,"availabilityEnd":1742917475,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xpn8\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":38},{"name":"Garden Rescue","description":"35\/35. Flo and Lee are in Hemel Hempstead to design a practical, usable family space for Lisa, Chris and their children. [S] [HD]","startTime":1729176300,"duration":2700,"svcId":560,"evtId":28403,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gd8ssb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729178983,"availabilityEnd":1731774583,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001qpnk\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":35},{"name":"The Bidding Room","description":"19\/30. Nigel Havers presides as five sellers aim to get the best price for their items, including a picnic set, German lamps, dining table, an accordion and a Lego structure. [S] [HD]","startTime":1729179000,"duration":2700,"svcId":560,"evtId":28404,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwc72k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729181713,"availabilityEnd":1793553180,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023z5c\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":19},{"name":"Pointless","description":"17\/55. Alexander Armstrong is joined by co-host Nish Kumar for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1729181700,"duration":2700,"svcId":560,"evtId":28405,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gnndbs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1699293600,"availabilityEnd":1731779999,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001s72s\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":17},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1729184400,"duration":1800,"svcId":560,"evtId":28406,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729186245,"availabilityEnd":1729272645,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023z5f\u0026ui_id=4.0.0"},"episodeNo":144},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD] Followed by DEC Middle East Humanitarian Appeal.","startTime":1729186200,"duration":1800,"svcId":560,"evtId":28407,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729187850,"availabilityEnd":1729274250,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023z5h\u0026ui_id=4.0.0"},"episodeNo":200},{"name":"The One Show","description":"Jennifer Saunders and Jane Horrocks join Alex Jones and Roman Kemp on the sofa. Plus Gabby Logan and Maggie Alphonsi host the draw for next year\u0027s Women\u0027s Rugby World Cup. [S] [HD]","startTime":1729188000,"duration":1800,"svcId":560,"evtId":28451,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729189910,"availabilityEnd":1731785510,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023zx1\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Avani grapples with a decision. Jean grows suspicious and wants to find out what\u0027s really going on. [S,AD] [HD]","startTime":1729189800,"duration":1800,"svcId":560,"evtId":28487,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwd38x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729141200,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00240hm\u0026ui_id=4.0.0"},"episodeNo":6998},{"name":"Fake or Fortune?","description":"Owner Sally Green believes her landscape painting is by one of the forefathers of impressionism, Jean-Baptiste-Camille Corot. Can the team gather new evidence to prove its authenticity? [S,AD] [HD]","startTime":1729191600,"duration":3600,"svcId":560,"evtId":28488,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwvp7r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729195249,"availabilityEnd":1760731249,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00240hp\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":4},{"name":"Ambulance","description":"1\/6. London Ambulance Service manage a multi-storey flat fire and face the impact of assaults, both on patients and themselves. Contains some strong language and upsetting scenes. [S] [HD]","startTime":1729195200,"duration":3600,"svcId":560,"evtId":28489,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwvsmj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729198800,"availabilityEnd":1763762340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00240hr\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":1},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1729198800,"duration":1800,"svcId":560,"evtId":28408,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729200600,"availabilityEnd":1729287000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023z5k\u0026ui_id=4.0.0"},"episodeNo":144},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD] Followed by DEC Middle East Humanitarian Appeal.","startTime":1729200600,"duration":600,"svcId":560,"evtId":28409,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729201200,"availabilityEnd":1729287600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023z5m\u0026ui_id=4.0.0"},"episodeNo":172},{"name":"Question Time","description":"Fiona Bruce presents an hour of topical debate from  Rotherham in South Yorkshire. On the panel: Douglas Alexander MP, Damian Green, Ash Sarkar, Steve Rigby and Konstantin Kisin. [S] [HD]","startTime":1729201200,"duration":3600,"svcId":560,"evtId":28490,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729204800,"availabilityEnd":1760743200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00240hv\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Newscast","description":"Lighthearted discussion of the week\u0027s political events. [S] [HD]","startTime":1729204800,"duration":1800,"svcId":560,"evtId":28491,"image":"\/ms\/img\/epg\/rb\/fec6-p0gyf0ss.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729206784,"availabilityEnd":1731802384,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00240hx\u0026ui_id=4.0.0"},"episodeNo":15},{"name":"The Secret Lives of Lighthouse...","description":"...Keepers. A rare glimpse into the working world of the teams who keep the lights on in 208 lighthouses round the coast of Scotland and the Isle of Man. [S,AD] [HD]","startTime":1729206600,"duration":1800,"svcId":560,"evtId":28492,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jh0q0t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1723784400,"availabilityEnd":1755320400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00225h0\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":8},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1729208400,"duration":300,"svcId":560,"evtId":28410,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729208892,"availabilityEnd":1729813692,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0023z5p\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1729208700,"duration":18900,"svcId":560,"evtId":28411,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":200}]},{"channelid":700,"offset":0,"event":[{"name":"Richard Osman\u0027s House of Games","description":"14\/100. Jacqui Joseph, Ben Thompson, Laura Tobin and Henning Wehn test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1729143000,"duration":1800,"svcId":700,"evtId":20005,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jtw0lz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728581400,"availabilityEnd":1764440930,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023sfn\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":14},{"name":"Homes Under the Hammer","description":"A stunning multimillion-pound project in London that Tommy first saw in 2021 reaches an epic conclusion. Martel encounters two characterful projects in North Yorkshire and Cumbria. [S] [HD]","startTime":1729144800,"duration":3600,"svcId":700,"evtId":20006,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwn91m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729076403,"availabilityEnd":1769775220,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023zv2\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":13},{"name":"Gardeners\u0027 World","description":"29\/32. It\u0027s apple harvest time, so Monty collects some of his windfalls to juice, plants a shrub in the Cottage Garden and pots up amaryllis bulbs for Christmas. [S,AD,SL] [HD]","startTime":1729148400,"duration":3600,"svcId":700,"evtId":20007,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwf3bp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728676898,"availabilityEnd":1760212898,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0023sf5\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":29},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1729152000,"duration":11700,"svcId":700,"evtId":20008,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Is the chancellor feeling the heat from cabinet colleagues over her budget plans? [S] [HD]","startTime":1729163700,"duration":2700,"svcId":700,"evtId":20009,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729166385,"availabilityEnd":1731761985,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002417t\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"9\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1729166400,"duration":2700,"svcId":700,"evtId":20010,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729169077,"availabilityEnd":1731764677,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0004pwx\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":9},{"name":"Unbeatable","description":"37\/45. Jason Manford hosts the quiz show where players face a question and pick from a board of six rankable answers. Some answers are good, but only one is Unbeatable. [S] [HD]","startTime":1729169100,"duration":2700,"svcId":700,"evtId":20011,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fjqn0w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729171788,"availabilityEnd":1731767388,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001lm4t\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":37},{"name":"The Boss","description":"4\/20. Susan Calman hosts the quiz show where contestants compete for thousands of pounds. Who will rise to the top and see off their challengers? [S] [HD]","startTime":1729171800,"duration":2700,"svcId":700,"evtId":20012,"image":"\/ms\/img\/epg\/rb\/ae0c-p0grkb3r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729174492,"availabilityEnd":1731770092,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b08nz3yz\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Tiger about the House","description":"1\/8. Series following British tiger expert Giles Clark as he hand-rears Sumatran tiger cubs at home. The cubs struggle through their first crucial weeks. [S,AD] [HD]","startTime":1729174500,"duration":3600,"svcId":700,"evtId":20013,"image":"\/ms\/img\/epg\/rb\/fec6-p01wfbj4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729178142,"availabilityEnd":1731773742,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p01wf1b9\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"The Great British Countryside","description":"1\/4. Hugh Dennis and Julia Bradbury explore the most stunning parts of Cornwall and Devon to learn how Britain\u0027s past lives on in fascinating stories and characters. [2012] [S,AD] [HD]","startTime":1729178100,"duration":3600,"svcId":700,"evtId":20014,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jx4lcf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729181699,"availabilityEnd":1731777299,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01c9wdv\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Cycling: Track World Championships","description":"The fast-paced action continues from Ballerup in Denmark on day two of the Track Cycling World Championships. [S] [HD]","startTime":1729181700,"duration":2700,"svcId":700,"evtId":20015,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jw5nzg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729184400,"availabilityEnd":1731780000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002417w\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Richard Osman\u0027s House of Games","description":"19\/100. Sam Campbell, Cherry Healey, Anthony Ogogo and Catherine Tyldesley test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1729184400,"duration":1800,"svcId":700,"evtId":20016,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwy93n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729186200,"availabilityEnd":1764440930,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002417z\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":19},{"name":"Strictly - It Takes Two","description":"19\/60. Janette Manrara dishes up all the backstage gossip and behind-the-scenes action from the world of Strictly. [S] [HD]","startTime":1729186200,"duration":1800,"svcId":700,"evtId":20017,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729188005,"availabilityEnd":1765654200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024181\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":19},{"name":"Rick Stein\u0027s Food Stories","description":"4\/6. Rick sees strawberries tended by robots in Lincolnshire and makes a mean bangers and mash. [S,AD] [HD]","startTime":1729188000,"duration":3600,"svcId":700,"evtId":20018,"image":"\/ms\/img\/epg\/rb\/fec6-p0h8cv5r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729191625,"availabilityEnd":1761940847,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024183\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"Amazing Hotels: Life Beyond the...","description":"...Lobby. Rob Rinder and Monica Galetti work at high altitude, 3,000m above sea level, at a hidden gem of a hotel with Buddhist connections in the remote kingdom of Bhutan. [S,AD] [HD]","startTime":1729191600,"duration":3600,"svcId":700,"evtId":20019,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnqvct.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726117200,"availabilityEnd":1757653200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021zdk\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":6},{"name":"A House Through Time: Two...","description":"...Cities at War. 1\/4. Reeling from World War One, residents feel the impact of a new political party, the Nazis. [S,AD] [HD]","startTime":1729195200,"duration":3300,"svcId":700,"evtId":20020,"image":"\/ms\/img\/epg\/rb\/fec6-p0jx3xgh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729141200,"availabilityEnd":1760677200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002389m\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":1},{"name":"DEC Middle East Humanitarian...","description":"...Appeal. An appeal on behalf of the Disasters Emergency Committee for the humanitarian crisis in the Middle East. [S] [HD]","startTime":1729198500,"duration":300,"svcId":700,"evtId":20435,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs64x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729188110,"availabilityEnd":1731794597,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024k0v\u0026ui_id=4.0.0"}},{"name":"Red Dwarf","description":"3\/6. A genetic mutant gets loose aboard the ship, subjecting Rimmer, Lister, Cat and Kryten to 24 hours of non-stop, gruesome horror. Deals with adult themes. [S] [HD]","startTime":1729198800,"duration":1800,"svcId":700,"evtId":20021,"image":"\/ms\/img\/epg\/rb\/ae0c-p08vxtz2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687237200,"availabilityEnd":1781931600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p00bp2y3\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":3},{"name":"Newsnight","description":"The IDF have killed Hamas leader Yahya Sinwar in Gaza. Is it the beginning of the end of the war or is the idea of Hamas harder to defeat than its leader? With Faisal Islam. [S] [HD]","startTime":1729200600,"duration":1800,"svcId":700,"evtId":20022,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729202490,"availabilityEnd":1760738490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024186\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1729202400,"duration":300,"svcId":700,"evtId":20023,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729202735,"availabilityEnd":1729289135,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002418b\u0026ui_id=4.0.0"}},{"name":"Breathe","description":"A young couple seek to conquer the limitations on life of the husband\u0027s sudden paralysis. Contains some scenes which some viewers may find upsetting. [2017] [S,AD] [HD]","startTime":1729202700,"duration":6600,"svcId":700,"evtId":20024,"image":"\/ms\/img\/epg\/rb\/ae0c-p0957c9f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729209384,"availabilityEnd":1731804984,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000ry80\u0026ui_id=4.0.0"}},{"name":"Parole","description":"3\/4. Can 45-year-old Adrian convince the panel his gang affiliations are behind him? Contains some strong language. [S,AD,SL] [HD]","startTime":1729209300,"duration":3600,"svcId":700,"evtId":20025,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrqqf6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727240400,"availabilityEnd":1758776400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002385z\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"The Cleaner","description":"2\/6. Wicky attempts to clean a hut for a furious pregnant lady. Contains some strong language and adult humour. [S,AD,SL] [HD]","startTime":1729212900,"duration":1800,"svcId":700,"evtId":20026,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jsnynw.jpg","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"The Big Cases: The Doping Ward","description":"The hospital unit where patients were drugged to keep them \u0027quiet and compliant\u0027. [S,AD,SL] [HD]","startTime":1729214700,"duration":1800,"svcId":700,"evtId":20027,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h0hk49.jpg","hasTstv":false},{"name":"Nadiya\u0027s Cook Once Eat Twice","description":"1\/6. Nadiya elevates everyday ingredients into food heroes. An old bag of salad becomes a vibrant pasta sauce, and spiced carrot soup is spun into a warming cod and carrot curry. [S,AD,SL] [HD]","startTime":1729216500,"duration":1800,"svcId":700,"evtId":20028,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqc7ld.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1729218300,"duration":12000,"svcId":700,"evtId":20029,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Give Him the Chair!: Frasier feels guilty when he loses his father\u0027s chair and learns that sentiment is more important than style. (S1 Ep19)  [AD,S]","startTime":1729138800,"duration":1500,"svcId":1500,"evtId":47227,"image":"\/ms\/img\/epg\/rb\/5d52-300780.l.png","hasTstv":false,"seriesNo":1,"episodeNo":19},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Maggie Aderin-Pocock joins Susie Dent in Dictionary Corner.  [S]","startTime":1729140300,"duration":2400,"svcId":1500,"evtId":46663,"image":"\/ms\/img\/epg\/rb\/5d52-10024708.l.png","hasTstv":false},{"name":"Cheers","description":"License to Hill: Rebecca insists she can run the bar while Sam plays poker, but her management skills crumble when she realises she let the licence to serve alcohol expire. (S10 Ep18\/26)  [S]","startTime":1729142700,"duration":1500,"svcId":1500,"evtId":46664,"image":"\/ms\/img\/epg\/rb\/5d52-77212.l.png","hasTstv":false,"seriesNo":10,"episodeNo":18},{"name":"Cheers","description":"Rich Man, Wood Man: The gang step in when Woody returns a changed man from an all-expenses-paid holiday with his rich girlfriend Kelly. Frasier decides to get in shape. (S10 Ep19\/26)  [S]","startTime":1729144200,"duration":1800,"svcId":1500,"evtId":46665,"image":"\/ms\/img\/epg\/rb\/5d52-78330.l.png","hasTstv":false,"seriesNo":10,"episodeNo":19},{"name":"Cheers","description":"Smotherly Love: Rebecca tries to persuade Sam to make Norm pay his bar tab after Norm has a big win on a bet. Frasier wants Lilith to confront her overbearing mother Betty. (S10 Ep20\/26)  [S]","startTime":1729146000,"duration":1500,"svcId":1500,"evtId":46666,"image":"\/ms\/img\/epg\/rb\/5d52-80857.l.png","hasTstv":false,"seriesNo":10,"episodeNo":20},{"name":"The King of Queens","description":"Steve Moscow: Doug and Carrie resort to underhand tactics to bribe the Russian workmen. (S5 Ep18\/25)  [AD,S]","startTime":1729147500,"duration":1500,"svcId":1500,"evtId":46667,"image":"\/ms\/img\/epg\/rb\/5d52-381642885.l.png","hasTstv":false,"seriesNo":5,"episodeNo":18},{"name":"The King of Queens","description":"Cowardly Lyin\u0027: Doug gets caught out when he lies to Carrie to avoid going to the opera, and admits that he regularly bends the truth for an easy life. (S5 Ep19\/25)  [AD,S]","startTime":1729149000,"duration":1800,"svcId":1500,"evtId":46668,"image":"\/ms\/img\/epg\/rb\/5d52-5382801.l.png","hasTstv":false,"seriesNo":5,"episodeNo":19},{"name":"The King of Queens","description":"Driving Reign: A rivalry forms when Doug reluctantly agrees to recommend that Danny should be promoted to driver at work. (S5 Ep20\/25)  [AD,S]","startTime":1729150800,"duration":1800,"svcId":1500,"evtId":46669,"image":"\/ms\/img\/epg\/rb\/5d52-5382980.l.png","hasTstv":false,"seriesNo":5,"episodeNo":20},{"name":"Frasier","description":"Taking Liberties: Frasier hires a butler, who spoils everyone in the household and offers Frasier sage advice in his bid to join the snobbish opera board. (S8 Ep4)  [AD,S]","startTime":1729152600,"duration":1500,"svcId":1500,"evtId":46670,"image":"\/ms\/img\/epg\/rb\/5d52-1090587.l.png","hasTstv":false,"seriesNo":8,"episodeNo":5},{"name":"Frasier","description":"Legal Tender Love and Care: Frasier begins to date the attractive attorney who defended him against Donny, who was jilted at the altar by Daphne. (S8 Ep5)  [AD,S]","startTime":1729154100,"duration":1800,"svcId":1500,"evtId":46671,"image":"\/ms\/img\/epg\/rb\/5d52-1105319.l.png","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"Frasier","description":"The New Friend: Frasier develops a friendship with Roz\u0027s new boyfriend, who then cheats them both. (S8 Ep6)  [AD,S]","startTime":1729155900,"duration":1800,"svcId":1500,"evtId":46672,"image":"\/ms\/img\/epg\/rb\/5d52-1108839.l.png","hasTstv":false,"seriesNo":8,"episodeNo":7},{"name":"Frasier","description":"Frasier\u0027s Edge: On the night of the SeaBee broadcasting awards, Frasier has an emotional crisis that makes him re-evaluate his entire life. (S8 Ep8)  [AD,S]","startTime":1729157700,"duration":1800,"svcId":1500,"evtId":46673,"image":"\/ms\/img\/epg\/rb\/5d52-1120029.l.png","hasTstv":false,"seriesNo":8,"episodeNo":9},{"name":"Come Dine with Me: The...","description":"...Professionals: There\u0027s messy eating, post-dessert dancing, and ketchup revelations as Sicilian, Mexican and American restaurants compete in Sheffield. (S2 Ep10\/20)  [S]","startTime":1729159500,"duration":3600,"svcId":1500,"evtId":46674,"image":"\/ms\/img\/epg\/rb\/5d52-9395418.l.png","hasTstv":false,"seriesNo":2,"episodeNo":10},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1729163100,"duration":300,"svcId":1500,"evtId":46675,"image":"\/ms\/img\/epg\/rb\/5d52-10025073.l.png","hasTstv":false},{"name":"Renovation Nation","description":"In Yorkshire, Byron attempts a sash window restoration, while Naomi is determined their honeymoon suite will be fit for royalty. Have Faye and David reached the end of the road? (Ep9\/20)  [AD,S]","startTime":1729163400,"duration":3600,"svcId":1500,"evtId":46676,"image":"\/ms\/img\/epg\/rb\/5d52-6561596.l.png","hasTstv":false,"seriesNo":1,"episodeNo":9},{"name":"Find It, Fix It, Flog It","description":"Simon O\u0027Brien and Henry Cole meet Gaby, whose garden is strewn with interesting items. Henry finds a vintage sack barrow while Simon unearths a shepherd\u0027s stove in the undergrowth. (S7 Ep5)  [AD,S]","startTime":1729167000,"duration":3600,"svcId":1500,"evtId":46677,"image":"\/ms\/img\/epg\/rb\/5d52-6092720.l.png","hasTstv":false,"seriesNo":7,"episodeNo":5},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Maggie Aderin-Pocock joins Susie Dent in Dictionary Corner.  [S]","startTime":1729170600,"duration":3000,"svcId":1500,"evtId":46678,"image":"\/ms\/img\/epg\/rb\/5d52-10025075.l.png","hasTstv":false},{"name":"A Place in the Sun: What...","description":"...Happened Next?: Ben Hillman catches up with John and Daniel who bought a town house in C\u00e1diz. Jean Johansson visits Kate in Paphos to see how she\u0027s getting on in her apartment. (Ep2)  [S]","startTime":1729173600,"duration":3600,"svcId":1500,"evtId":46679,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"The Great House Giveaway","description":"In Liverpool, Michael and Alex renovate a damp house that needs major structural changes. Can they finish on time, and will they make a profit? (S4 Ep16)  [S]","startTime":1729177200,"duration":3600,"svcId":1500,"evtId":46951,"image":"\/ms\/img\/epg\/rb\/5d52-8299787.l.png","hasTstv":false,"seriesNo":4,"episodeNo":16},{"name":"Help! We Bought a Village","description":"The new series continues. In France, Liz and Dave battle storms to save a crumbling cottage. In Montenegro, Anya hopes to bring new life to a mountain village. (S3 Ep29\/30)  [S]","startTime":1729180800,"duration":3600,"svcId":1500,"evtId":46681,"image":"\/ms\/img\/epg\/rb\/5d52-10025078.l.png","hasTstv":false,"seriesNo":3,"episodeNo":29},{"name":"A Place in the Sun","description":"Lian and Dave want a holiday home in Spain\u0027s Almer\u00eda Province. Ben Hillman shows them impressive properties for their \u00a380,000 budget, but are any of them the perfect place?  [S]","startTime":1729184400,"duration":1800,"svcId":1500,"evtId":46682,"image":"\/ms\/img\/epg\/rb\/5d52-412656716.l.png","hasTstv":false},{"name":"The Simpsons","description":"Gorillas on the Mast: Homer buys a boat but is shocked when he finds out how much it costs to run it. Lisa frees a whale, so Bart frees a gorilla. (S31 Ep5\/22)  [AD,S]","startTime":1729186200,"duration":1800,"svcId":1500,"evtId":46683,"image":"\/ms\/img\/epg\/rb\/5d52-3415342.l.png","hasTstv":false,"seriesNo":31,"episodeNo":5},{"name":"Channel 4 News","description":"Israel is \u0027increasingly confident\u0027 it has killed Hamas leader Yahya Sinwar. Shocked fans mourn the death of One Direction\u0027s Liam Payne. And Kamala Harris is in enemy territory on Fox News.  [S]","startTime":1729188000,"duration":3300,"svcId":1500,"evtId":46684,"image":"\/ms\/img\/epg\/rb\/5d52-10025082.l.png","hasTstv":false},{"name":"DEC Middle East Humanitarian...","description":"...Appeal: An appeal on behalf of the Disasters Emergency Committee to help those affected by the crisis in the Middle East.  [S]","startTime":1729191300,"duration":300,"svcId":1500,"evtId":47760,"hasTstv":false},{"name":"New: The Great British Bake...","description":"...Off: An Extra Slice: Jo Brand gets stuck into Caramel Week with Prue Leith, Oti Mabuse and Chloe Petts. Whose mousse cake got the judges gooey? And who came to a sticky end? (S15 Ep4\/10)  [AD,S]","startTime":1729191600,"duration":3600,"svcId":1500,"evtId":46686,"image":"\/ms\/img\/epg\/rb\/5d52-10025084.l.png","hasTstv":false,"seriesNo":15,"episodeNo":4},{"name":"New: Taskmaster","description":"Alex Horne shows off his prowess with pliers. Jack Dee adopts a charismatic New York accent. Emma Sidi enjoys a Taskmaster tipple. Bab\u00e1t\u00fand\u00e9 Al\u00e9sh\u00e9 makes a lovely little otter. (S18 Ep6\/10)  [AD,S]","startTime":1729195200,"duration":3600,"svcId":1500,"evtId":46687,"image":"\/ms\/img\/epg\/rb\/5d52-10025085.l.png","hasTstv":false,"seriesNo":18,"episodeNo":6},{"name":"New: Everyone Else Burns","description":"Second series of the sitcom starring Simon Bird, about a strictly religious family from Manchester. Rachel returns to the church, where arranged marriage is making a comeback. (S2 Ep1\/6)  [AD,S]","startTime":1729198800,"duration":1800,"svcId":1500,"evtId":46688,"image":"\/ms\/img\/epg\/rb\/5d52-10025088.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"New: Everyone Else Burns","description":"Comedy with Simon Bird. David teaches Rachel to drive, and swiftly shows off his prowess... Fiona proves that she\u0027s a good mum by promoting her son\u0027s homoerotic merchandise. (S2 Ep2\/6)  [AD,S]","startTime":1729200600,"duration":1800,"svcId":1500,"evtId":46689,"image":"\/ms\/img\/epg\/rb\/5d52-10025093.l.png","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Gogglebox","description":"On the \u0027Box this week: Heartstopper, Strictly Come Dancing, The Dog House, Slow Horses, Nadiya\u0027s Cook Once Eat Twice, and Will \u0026 Ralf Should Know Better. (S24 Ep5)  [AD,S,SL]","startTime":1729202400,"duration":3600,"svcId":1500,"evtId":46690,"image":"\/ms\/img\/epg\/rb\/5d52-10002225.l.png","hasTstv":false,"seriesNo":24,"episodeNo":5},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In the second half of a two-part Nightmare at The Burger Kitchen in Los Angeles, can Gordon Ramsay bring together the fragmented Saffron family and save their failing restaurant? (S5 Ep4)  [S]","startTime":1729206000,"duration":3000,"svcId":1500,"evtId":46691,"image":"\/ms\/img\/epg\/rb\/5d52-409760204.l.png","hasTstv":false,"seriesNo":5,"episodeNo":4},{"name":"Celebrity SAS: Who Dares Wins","description":"The remaining recruits\u0027 true grit is tested as they move equipment over treacherous terrain, are ambushed and make a dead-of-night escape. And there\u0027s some mud wrestling too. (S6 Ep7)  [AD,S,SL]","startTime":1729209000,"duration":3300,"svcId":1500,"evtId":46692,"image":"\/ms\/img\/epg\/rb\/5d52-10024448.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Celebrity SAS: Who Dares Wins","description":"In the series finale, the four remaining celebrity recruits are ambushed behind enemy lines and handed to expert interrogators for the ultimate psychological and physical test. (S6 Ep8)  [AD,S,SL]","startTime":1729212300,"duration":3300,"svcId":1500,"evtId":46693,"image":"\/ms\/img\/epg\/rb\/5d52-10024576.l.png","hasTstv":false,"seriesNo":6,"episodeNo":8},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In the first half of a two-part Nightmare, Gordon tries to save The Burger Kitchen in Los Angeles, which is run by a dysfunctional family in a state of constant conflict. (S5 Ep3)  [S,SL]","startTime":1729215600,"duration":3000,"svcId":1500,"evtId":46694,"image":"\/ms\/img\/epg\/rb\/5d52-378011935.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"Julius\u0027 Story: Stand Up To Cancer","description":"Short film for SU2C. When Julius is diagnosed with a rare form of blood cancer, the disease threatens to tear apart his life and also the karate club that so many people rely on.  [AD,S,SL]","startTime":1729218600,"duration":300,"svcId":1500,"evtId":46952,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Escape to the Chateau","description":"From the discovery of the old 19th-century wash house to the pepper pot tower library, we revisit some of the Strawbridges\u0027 best moments at the chateau from series seven of the show.  [S]","startTime":1729218900,"duration":300,"svcId":1500,"evtId":47159,"image":"\/ms\/img\/epg\/rb\/5d52-414294809.l.png","hasTstv":false},{"name":"The Simpsons","description":"Exit Through the Kwik-E-Mart: Bart goes undercover as a graffiti artist. A trendy new health food superstore threatens to put Apu out of business. (S23 Ep15\/22)  [AD,S]","startTime":1729219200,"duration":1500,"svcId":1500,"evtId":46696,"image":"\/ms\/img\/epg\/rb\/5d52-46615352.l.png","hasTstv":false,"seriesNo":23,"episodeNo":15},{"name":"Frasier","description":"Fortysomething: Confronted with the prospect of ageing, Frasier has a mid-life crisis and considers chasing a younger woman to prove that he still has some youthful vitality. (S1 Ep20)  [AD,S]","startTime":1729220700,"duration":1500,"svcId":1500,"evtId":46697,"image":"\/ms\/img\/epg\/rb\/5d52-302519.l.png","hasTstv":false,"seriesNo":1,"episodeNo":20},{"name":"Frasier","description":"Travels with Martin: Frasier, Niles, Martin and Daphne go on an outrageous road trip, which almost leads to disaster for Daphne. (S1 Ep21)  [AD,S]","startTime":1729222200,"duration":1500,"svcId":1500,"evtId":47261,"image":"\/ms\/img\/epg\/rb\/5d52-304043.l.png","hasTstv":false,"seriesNo":1,"episodeNo":21},{"name":"Frasier","description":"Author! Author!: Frasier and Niles decide to write a book together. It doesn\u0027t go well. (S1 Ep22)  [AD,S]","startTime":1729223700,"duration":1500,"svcId":1500,"evtId":47260,"image":"\/ms\/img\/epg\/rb\/5d52-305773.l.png","hasTstv":false,"seriesNo":1,"episodeNo":22}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('392');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('41');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'Lf1-ZWQZADU', title: "Tributes Paid After One Direction's Liam Payne Dies Aged 31 | This Morning", label: "Tributes Paid After One Direction's Liam Payne Dies Aged 31 | This Morning by This Morning 181,844 views 9 hours ago 16 minutes" },
{ id: 'XDzQYXhv0pM', title: "Liam Payne’s Girlfriend Kate Cassidy Explains Why She Left Argentina Days Before His Death | E! News", label: "Liam Payne’s Girlfriend Kate Cassidy Explains Why She Left Argentina Days Before His Death | E! News by E! News 119,044 views 7 hours ago 2 minutes, 22 seconds" },
{ id: 'gkZ4dLMH-B8', title: "ST. CHROMA", label: "ST. CHROMA by Tyler, The Creator 2,472,106 views 1 day ago 1 minute, 25 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Nun\'s Story (1959)">The Nun\'s Story (1959)</a></li><li><a href="https://www.google.com/search?q=Films+-+Kamikaze Girls (2004)">Kamikaze Girls (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+One Percent More Humid (2017)">One Percent More Humid (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Substance (2024)">The Substance (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Voyage to Italy (1954)">Voyage to Italy (1954)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Human Voice (1966)">The Human Voice (1966)</a></li><li><a href="https://www.google.com/search?q=Films+-+Don\'t Worry Darling (2022)">Don\'t Worry Darling (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jeanne Dielman, 23, quai du commerce, 1080 Bruxelles (1975)">Jeanne Dielman, 23, quai du commerce, 1080 Bruxelles (1975)</a></li><li><a href="https://www.google.com/search?q=Films+-+Girl, Interrupted (1999)">Girl, Interrupted (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+Belle de Jour (1967)">Belle de Jour (1967)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 221.65, tooltip: "Wed, Oct 16, 2024<br/>£221.65"},
{ number: 219.86, tooltip: "Tue, Oct 15, 2024<br/>£219.86"},
{ number: 221.87, tooltip: "Mon, Oct 14, 2024<br/>£221.87"},
{ number: 220.51, tooltip: "Fri, Oct 11, 2024<br/>£220.51"},
{ number: 219.65, tooltip: "Thu, Oct 10, 2024<br/>£219.65"},
{ number: 219.38, tooltip: "Wed, Oct 09, 2024<br/>£219.38"},
{ number: 218.15, tooltip: "Tue, Oct 08, 2024<br/>£218.15"},
{ number: 218.31, tooltip: "Mon, Oct 07, 2024<br/>£218.31"},
{ number: 218.64, tooltip: "Fri, Oct 04, 2024<br/>£218.64"},
{ number: 217.38, tooltip: "Thu, Oct 03, 2024<br/>£217.38"},
{ number: 215.97, tooltip: "Wed, Oct 02, 2024<br/>£215.97"},
{ number: 215.48, tooltip: "Tue, Oct 01, 2024<br/>£215.48"},
{ number: 214.93, tooltip: "Mon, Sep 30, 2024<br/>£214.93"},
{ number: 215.29, tooltip: "Fri, Sep 27, 2024<br/>£215.29"},
{ number: 214.66, tooltip: "Thu, Sep 26, 2024<br/>£214.66"},
{ number: 213.17, tooltip: "Wed, Sep 25, 2024<br/>£213.17"},
{ number: 213.30, tooltip: "Tue, Sep 24, 2024<br/>£213.30"},
{ number: 212.77, tooltip: "Mon, Sep 23, 2024<br/>£212.77"},
{ number: 213.25, tooltip: "Fri, Sep 20, 2024<br/>£213.25"},
{ number: 214.33, tooltip: "Thu, Sep 19, 2024<br/>£214.33"},
{ number: 211.62, tooltip: "Wed, Sep 18, 2024<br/>£211.62"},
{ number: 212.58, tooltip: "Tue, Sep 17, 2024<br/>£212.58"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Oct 16, 2024",
		"vs Day":      "Tue, Oct 15, 2024",
		"vs Week":     "Wed, Oct 09, 2024",
		"vs Month":    "Tue, Sep 17, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£221.65/share",
		'vs Day':      "+0.81%",
		'vs Week':     "+1.03%",
		'vs Month':    "+4.27%",
		'vs Year':     "+22.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '99.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/full-moon.html" title="Full Moon on the night between 17 October and 18 October">Full Moon</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.997&p=3.031&r=0.288',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:35',
		Set:      '18:06',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Fugacious</em> is a formal word that describes something that lasts only a short time.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>