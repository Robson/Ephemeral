<!DOCTYPE html>
<html lang="en">
	<head>
		<title>14:35 25-Oct - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Starmer attempts to define \'working people\' tax pledge</b><br/>The prime minister is under pressure to set out who he is excluding from possible tax increases." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cgqy8v7ze0ko">Starmer attempts to define \'working people\' tax pledge</a></li><li class="ttt" data-tt="<b>UK pledges thousands of new jobs in freeports plan</b><br/>Critics have said freeports do not boost actual job numbers, but move investment to a different area instead."><a href="https://www.bbc.com/news/articles/c0j8w73pdn8o">UK pledges thousands of new jobs in freeports plan</a></li><li class="ttt" data-tt="<b>We must learn lessons from history, King tells Commonwealth</b><br/>Some Commonwealth countries have called for the UK to pay reparations for its historic role in the transatlantic slave trade."><a href="https://www.bbc.com/news/articles/cyv7y3vrq8yo">We must learn lessons from history, King tells Commonwealth</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cgqy8v7ze0ko"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ed7b/live/d193c830-92af-11ef-83ce-478bdbf60eba.jpg" class="ttt" data-tt="Keir Starmer at a Commonwealth Heads of Government meeting in Samoa" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Top LA prosecutor backs Menendez brothers being released on parole</b><br/>Erik and Lyle Menendez were convicted of killing their parents in a case that gained worldwide attention." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvglmv4lgx0o">Top LA prosecutor backs Menendez brothers being released on parole</a></li><li class="ttt" data-tt="<b>Democrats anxious as Trump gains ground in tight race</b><br/>North America editor Sarah Smith found warning signs for Harris when speaking to voters on her own tour of battleground states."><a href="https://www.bbc.com/news/articles/ce31w8dzepno">Democrats anxious as Trump gains ground in tight race</a></li><li class="ttt" data-tt="<b>Obama and celebrities rally to shore up Harris in Georgia</b><br/>Trump has gained some ground with black voters, who will play a big role in this crucial swing state."><a href="https://www.bbc.com/news/articles/cdrdj030d40o">Obama and celebrities rally to shore up Harris in Georgia</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvglmv4lgx0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/514a/live/9a8379e0-9263-11ef-89ae-5575c76d98e6.jpg" class="ttt" data-tt="Erik and Lyle Menendez during one of their criminal trials in the 1990s. They are wearing colourful jumpers and smart shirts as they observe proceedings" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>‘Death trap’ Channel boats traded by smugglers in German city - BBC undercover</b><br/>A €15,000 package deal for a dinghy, engine and 60 life jackets was offered to our reporter in Essen." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd6q6wz765eo">‘Death trap’ Channel boats traded by smugglers in German city - BBC undercover</a></li><li class="ttt" data-tt="<b>Kurdish militant group behind attack on Turkish aerospace firm</b><br/>The PKK says it targeted the defence manufacturer because the weapons it produced had killed &quot;thousands&quot; of Kurds."><a href="https://www.bbc.com/news/articles/crr957ee559o">Kurdish militant group behind attack on Turkish aerospace firm</a></li><li class="ttt" data-tt="<b>Obama and celebrities rally to shore up Harris in Georgia</b><br/>Trump has gained some ground with black voters, who will play a big role in this crucial swing state."><a href="https://www.bbc.com/news/articles/cdrdj030d40o">Obama and celebrities rally to shore up Harris in Georgia</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd6q6wz765eo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0623/live/66d1a8c0-922b-11ef-9347-4b3dd7fd1c89.png" class="ttt" data-tt="Composite image of two men as filmed by our undercover reporter - the one on the left has dark hair, a beard and is wearing a zipped fleece, while the other also has a beard and is wearing a baseball cap. In the background, an inflatable boat used by smugglers out at sea, with land on the horizon" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Norris says he\'s \'not quite at Verstappen\'s level\'</b><br/>Lando Norris says he is &quot;not quite at the level&quot; of title rival Max Verstappen when it comes to race-craft." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cp359d20zyyo">Norris says he\'s \'not quite at Verstappen\'s level\'</a></li><li class="ttt" data-tt="<b>Before his 400th GP, how well do you know Alonso?</b><br/>As he prepares for his 400th F1 grand prix in Mexico City this weekend, find out how much you know about Fernando Alonso."><a href="https://www.bbc.com/sport/formula1/articles/c62d2e8zd4no">Before his 400th GP, how well do you know Alonso?</a></li><li class="ttt" data-tt="<b>Perez admits 2024 season has been \'terrible\'</b><br/>Red Bull driver Sergio Perez admits he has had &quot;a terrible season&quot; as he embarks on his home race this weekend."><a href="https://www.bbc.com/sport/formula1/articles/ckgvn2g4r34o">Perez admits 2024 season has been \'terrible\'</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cp359d20zyyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/22f6/live/8b2e5680-9255-11ef-9303-4f3343461132.jpg" class="ttt" data-tt="Lando Norris " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Call of Duty: Black Ops 6 launches with eyes on Game Pass</b><br/>It is available straight away to subscribers of Microsoft’s Game Pass service, a first for a game this big." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cp87e58ld3do">Call of Duty: Black Ops 6 launches with eyes on Game Pass</a></li><li class="ttt" data-tt="<b>Boeing-made satellite breaks up in space</b><br/>The &quot;total loss&quot; of the communications satellite has affected Intelsat customers around the world."><a href="https://www.bbc.com/news/articles/ce8d886l028o">Boeing-made satellite breaks up in space</a></li><li class="ttt" data-tt="<b>Ofcom: Clear link between online posts and violent disorder</b><br/>Regulator says misinformation spread widely and quickly and the response of big tech was &quot;uneven&quot;."><a href="https://www.bbc.com/news/articles/c70w0ne4zexo">Ofcom: Clear link between online posts and violent disorder</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cp87e58ld3do"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/147c/live/84b60b30-92ba-11ef-9504-b516e8b5f45f.jpg" class="ttt" data-tt="A screengrab from the game showing three characters dressed in armour, holding assault rifles, surrounded by small buildings, grass and trees" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"21 Oct – 27 Oct","date":17298144E5,"ts":"Fri, 25","ds":"Fri, 25 Oct","icon":18,"desc":"Drizzle. Cloudy.","temp":17,"templow":9,"cf":16,"wind":9,"wd":180,"hum":84,"pc":16,"rain":0.4 },{"date":17299008E5,"ts":"Sat, 26","ds":"Sat, 26 Oct","icon":7,"desc":"Overcast.","temp":14,"templow":8,"cf":14,"wind":4,"wd":260,"hum":75,"pc":5},{"date":17299872E5,"ts":"Sun, 27","ds":"Sun, 27 Oct","icon":4,"desc":"Increasing cloudiness.","temp":12,"templow":5,"cf":10,"wind":8,"wd":230,"hum":70,"pc":22,"rain":0.1 },{"hl":true,"hls":"28 Oct – 3 Nov","date":17300736E5,"ts":"Mon, 28","ds":"Mon, 28 Oct","icon":18,"desc":"Sprinkles. Overcast.","temp":14,"templow":8,"cf":14,"wind":4,"wd":260,"hum":87,"pc":58,"rain":2.2 },{"date":173016E7,"ts":"Tue, 29","ds":"Tue, 29 Oct","icon":18,"desc":"Sprinkles. Overcast.","temp":16,"templow":12,"cf":16,"wind":4,"wd":160,"hum":83,"pc":21,"rain":0.9 },{"date":17302464E5,"ts":"Wed, 30","ds":"Wed, 30 Oct","icon":4,"desc":"Breaks of sun late.","temp":17,"templow":10,"cf":16,"wind":5,"wd":200,"hum":83,"pc":0},{"date":17303328E5,"ts":"Thu, 31","ds":"Thu, 31 Oct","icon":2,"desc":"Decreasing cloudiness.","temp":16,"templow":8,"cf":15,"wind":4,"wd":280,"hum":82,"pc":0},{"date":17304192E5,"ts":"Fri, 1","ds":"Fri, 1 Nov","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":15,"templow":8,"cf":12,"wind":8,"wd":40,"hum":82,"pc":44,"rain":0.8 },{"date":17305056E5,"ts":"Sat, 2","ds":"Sat, 2 Nov","icon":2,"desc":"Decreasing cloudiness.","temp":12,"templow":7,"cf":10,"wind":10,"wd":70,"hum":67,"pc":6},{"date":1730592E6,"ts":"Sun, 3","ds":"Sun, 3 Nov","icon":1,"desc":"Sunny.","temp":10,"templow":6,"cf":8,"wind":11,"wd":90,"hum":72,"pc":4},{"hl":true,"hls":"4 Nov – 10 Nov","date":17306784E5,"ts":"Mon, 4","ds":"Mon, 4 Nov","icon":1,"desc":"Sunny.","temp":11,"templow":7,"cf":9,"wind":9,"wd":110,"hum":74,"pc":5},{"date":17307648E5,"ts":"Tue, 5","ds":"Tue, 5 Nov","icon":4,"desc":"Morning clouds.","temp":11,"templow":6,"cf":9,"wind":9,"wd":130,"hum":75,"pc":5},{"date":17308512E5,"ts":"Wed, 6","ds":"Wed, 6 Nov","icon":7,"desc":"Cloudy.","temp":11,"templow":7,"cf":10,"wind":6,"wd":170,"hum":73,"pc":6},{"date":17309376E5,"ts":"Thu, 7","ds":"Thu, 7 Nov","icon":7,"desc":"Cloudy.","temp":12,"templow":7,"cf":10,"wind":6,"wd":150,"hum":70,"pc":6},{"date":1731024E6,"ts":"Fri, 8","ds":"Fri, 8 Nov","icon":4,"desc":"Breaks of sun late.","temp":12,"templow":7,"cf":10,"wind":8,"wd":160,"hum":82,"pc":6}],"grid":{"temp":{"low":5,"high":17,"range":12},"prec":{"high":2.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2410/NGC6752_DiFusco1024.jpg',
		Title:     'Globular Star Cluster NGC 6752',
		LinkImage: 'https://apod.nasa.gov/apod/image/2410/NGC6752_DiFusco.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241025.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/8/82/USS_Johnston_%28DD-557%29_underway_on_27_October_1943_%28NH_63495%29.jpg/550px-USS_Johnston_%28DD-557%29_underway_on_27_October_1943_%28NH_63495%29.jpg',
		Title:    'USS Johnston (DD-557)',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/USS_Johnston_(DD-557)',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/USS_Johnston_(DD-557)" title="USS Johnston (DD-557)">USS <i>Johnston</i></a></b> was a <a href="https://en.wikipedia.org/wiki/Fletcher-class_destroyer" title="Fletcher-class destroyer"><i>Fletcher</i>-class destroyer</a> built for the <a href="https://en.wikipedia.org/wiki/United_States_Navy" title="United States Navy">United States Navy</a> during <a href="https://en.wikipedia.org/wiki/World_War_II" title="World War II">World War II</a>. She was named after Lieutenant <a href="https://en.wikipedia.org/wiki/John_V._Johnston" title="John V. Johnston">John V. Johnston</a>, a navy officer during the <a href="https://en.wikipedia.org/wiki/American_Civil_War" title="American Civil War">American Civil War</a>. The ship was <a href="https://en.wikipedia.org/wiki/Keel_laying" title="Keel laying">laid down</a> in May 1942 and was launched in March 1943, entering active duty later that year as part of the <a href="https://en.wikipedia.org/wiki/United_States_Pacific_Fleet" title="United States Pacific Fleet">US Pacific Fleet</a>. <i>Johnston</i> provided <a href="https://en.wikipedia.org/wiki/Naval_gunfire_support" title="Naval gunfire support">naval gunfire support</a> for American ground forces during the <a href="https://en.wikipedia.org/wiki/Gilbert_and_Marshall_Islands_campaign" title="Gilbert and Marshall Islands campaign">Gilbert and Marshall Islands campaign</a> in 1944 and again, after three months of patrol and escort duty in the <a href="https://en.wikipedia.org/wiki/Solomon_Islands" title="Solomon Islands">Solomon Islands</a>, during <a href="https://en.wikipedia.org/wiki/Battle_of_Guam_(1944)" title="Battle of Guam (1944)">the recapture</a> of <a href="https://en.wikipedia.org/wiki/Guam" title="Guam">Guam</a> in July. Thereafter, <i>Johnston</i> was tasked with escorting <a href="https://en.wikipedia.org/wiki/Escort_carrier" title="Escort carrier">escort carriers</a> during the <a href="https://en.wikipedia.org/wiki/Mariana_and_Palau_Islands_campaign" title="Mariana and Palau Islands campaign">Mariana and Palau Islands campaign</a> and the <a href="https://en.wikipedia.org/wiki/Philippines_campaign_(1944%E2%80%931945)" title="Philippines campaign (1944–1945)">liberation of the Philippines</a>. On 25 October 1944, <i>Johnston</i> and various other ships were engaged by a large <a href="https://en.wikipedia.org/wiki/Imperial_Japanese_Navy" title="Imperial Japanese Navy">Imperial Japanese Navy</a> flotilla, in what became known as the <a href="https://en.wikipedia.org/wiki/Battle_off_Samar" title="Battle off Samar">Battle off Samar</a>. After engaging several Japanese <a href="https://en.wikipedia.org/wiki/Capital_ship" title="Capital ship">capital ships</a> and a destroyer squadron, <i>Johnston</i> was sunk with 187 dead. <i>Johnston</i><span class="nowrap" style="padding-left:0.1em;">&#39;</span>s wreck was discovered in 2019, and at a depth of more than 20,000 feet (6,100&#160;m) below the surface, is one of the deepest shipwrecks ever surveyed. This photograph shows <i>Johnston</i> in <a href="https://en.wikipedia.org/wiki/Seattle" title="Seattle">Seattle</a> in October 1943.<small style="display: block; margin-top: 0.8em;">Photograph credit: unidentified US Navy photographer; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a> and <a href="https://en.wikipedia.org/wiki/User:Cobatfor" title="User:Cobatfor">Cobatfor</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1729832400,"duration":12600,"svcId":560,"evtId":28603,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729843200,"availabilityEnd":1729931340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002470k\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Gethin Jones and Sara Davies talk to Nick Stapleton about the scams happening right now, Dr Veena on COPD, John Gregory-Smith\u0027s tips on how to cook the perfect steak, and more. [S] [HD]","startTime":1729845000,"duration":4500,"svcId":560,"evtId":28604,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k047h7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729849455,"availabilityEnd":1761385455,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002470m\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":95},{"name":"Crimewatch Caught","description":"When detectives investigate a wine investment scam, they uncover a breathtaking story of deception involving gold bars worth \u00a31 million, the FBI and a suspect on the run. [S] [HD]","startTime":1729849500,"duration":1800,"svcId":560,"evtId":28673,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy28qh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729486800,"availabilityEnd":1761022800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002471r\u0026ui_id=4.0.0"}},{"name":"Homes Under the Hammer","description":"69\/80. Jacqui heads to Lowestoft to see a flat that\u0027s just a stone\u0027s throw from the beach. Dion\u0027s in Yorkshire to visit a two-bed terrace in need of a full refurbishment. [S,AD] [HD]","startTime":1729851300,"duration":3600,"svcId":560,"evtId":28605,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch5k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729854890,"availabilityEnd":1732450490,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001fr6c\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":69},{"name":"Bargain Hunt","description":"In Keith Gascoigne\u0027s workshop, Natasha Raskin Sharp learns about the craft of making long bows, while two teams target profits at an antiques fair. [S,AD] [HD]","startTime":1729854900,"duration":2700,"svcId":560,"evtId":28674,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy438n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729857605,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002489b\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1729857600,"duration":3600,"svcId":560,"evtId":28606,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":150},{"name":"Sister Boniface Mysteries","description":"10\/10. The Miss United Britain contest comes to Slaughter Abbey and is interrupted when one of the contestants is found dead. Sister Boniface confirms that she was murdered. [S,AD] [HD]","startTime":1729861200,"duration":2700,"svcId":560,"evtId":28642,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jjnbgv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1724389200,"availabilityEnd":1740290400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002266r\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"Escape to the Country","description":"10\/20. Sonali Shah meets a couple from a Surrey town who want to escape to the Welsh Borders for a quieter pace of life. [S] [HD]","startTime":1729863900,"duration":3600,"svcId":560,"evtId":28609,"image":"\/ms\/img\/epg\/rb\/fec6-p04qmb0x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729867464,"availabilityEnd":1732463064,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kjlg\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":10},{"name":"Garden Rescue","description":"6\/35. Charlie and Chris are in Swindon to transform a troublesome sloping plot into a productive 21st-century cottage garden for Hannah and Marc. [S] [HD]","startTime":1729867500,"duration":2700,"svcId":560,"evtId":28610,"image":"\/ms\/img\/epg\/rb\/ae0c-p0frd1sr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729870157,"availabilityEnd":1732465757,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001mp5b\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":6},{"name":"The Bidding Room","description":"25\/30. The eclectic items on sale include a meat press, a vanity case and a fairground sign. [S] [HD]","startTime":1729870200,"duration":2700,"svcId":560,"evtId":28643,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyb2cs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729872856,"availabilityEnd":1793553180,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00247nj\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":25},{"name":"Pointless","description":"23\/55. Alexander Armstrong is joined by co-host Nish Kumar for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1729872900,"duration":2700,"svcId":560,"evtId":28611,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gnndbs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1699984800,"availabilityEnd":1732471200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001sghm\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":23},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1729875600,"duration":1800,"svcId":560,"evtId":28612,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729877490,"availabilityEnd":1729963890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002470v\u0026ui_id=4.0.0"},"episodeNo":150},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1729877400,"duration":1800,"svcId":560,"evtId":28613,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729879200,"availabilityEnd":1729965600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002470x\u0026ui_id=4.0.0"},"episodeNo":208},{"name":"The One Show","description":"Craig Revel Horwood and Sugababes join Roman Kemp and Vick Hope on the sofa. And meet Ethan from our Challenge Squad and find out what his challenge is. [S] [HD]","startTime":1729879200,"duration":1800,"svcId":560,"evtId":28644,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729881000,"availabilityEnd":1732476600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00247nl\u0026ui_id=4.0.0"}},{"name":"Pets Saving Lives","description":"Family pets with a special calling. These specially trained search and rescue dogs and their volunteer handlers risk everything to help find Northern Ireland\u0027s missing people. [S,AD] [HD]","startTime":1729881000,"duration":1800,"svcId":560,"evtId":28675,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jh6hjv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1723784400,"availabilityEnd":1755320400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00225h4\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":11},{"name":"Would I Lie to You?","description":"4\/11. Rob Brydon, Lee Mack and David Mitchell are joined by guests Mist, Jayde Adams, Laurence Llewelyn-Bowen and Ellie Simmonds. [S] [HD]","startTime":1729882800,"duration":1800,"svcId":560,"evtId":28676,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dx4fq1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713034800,"availabilityEnd":1774846740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001hk6d\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":4},{"name":"Ghosts","description":"6\/6. The big day at Button House has arrived, but some freak weather disrupts everyone\u0027s plans. [S,AD] [HD]","startTime":1729884600,"duration":1800,"svcId":560,"evtId":28677,"image":"\/ms\/img\/epg\/rb\/ae0c-p08r20h1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1632254400,"availabilityEnd":1861909200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p08qyz9q\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"Have I Got News for You","description":"4\/10. Charlie Brooker is host, with panellists Sir Grayson Perry and Angela Barnes. Contains some strong language and adult humour. [S] [HD]","startTime":1729886400,"duration":1800,"svcId":560,"evtId":28678,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzl1jr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729888282,"availabilityEnd":1765661340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002489d\u0026ui_id=4.0.0"},"seriesNo":68,"episodeNo":4},{"name":"The Cleaner","description":"4\/6. Wicky\u0027s called to a remote lighthouse, where all is not what it seems. Will he survive seagulls, jellyfish, sea monsters and folk music? Contains some strong language. [S,AD] [HD]","startTime":1729888200,"duration":1800,"svcId":560,"evtId":28679,"image":"\/ms\/img\/epg\/rb\/fec6-p0jsnzjx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728018000,"availabilityEnd":1759554000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023j5c\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":4},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1729890000,"duration":1800,"svcId":560,"evtId":28614,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729891935,"availabilityEnd":1729978335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002470z\u0026ui_id=4.0.0"},"episodeNo":150},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1729891800,"duration":600,"svcId":560,"evtId":28615,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729892400,"availabilityEnd":1729978800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024711\u0026ui_id=4.0.0"},"episodeNo":179},{"name":"The Graham Norton Show","description":"Graham\u0027s guests are actors Paul Mescal, Denzel Washington, Saoirse Ronan and Eddie Redmayne. Plus music from Blossoms. Contains some strong language. [S] [HD]","startTime":1729892400,"duration":3000,"svcId":560,"evtId":28680,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k04hqj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729895566,"availabilityEnd":1771716240,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002489g\u0026ui_id=4.0.0"},"episodeNo":5},{"name":"RuPaul\u0027s Drag Race UK","description":"5\/10. Claire Richards steps in as the queens star in a special edition of The Graham Norton Show. Contains some strong language. [S] [HD]","startTime":1729895400,"duration":4200,"svcId":560,"evtId":28681,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k02v6m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729796400,"availabilityEnd":1790398800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002489j\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":5},{"name":"Alan Carr\u0027s Picture Slam","description":"4\/10. Married couple Stewart and Ross from Glasgow, London couple Amy and Anwar, and Liverpudlian uncle and niece George and Danielle all hope to Picture Slam their way to \u00a310,000. [S] [HD]","startTime":1729899600,"duration":2700,"svcId":560,"evtId":28682,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxw9jx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729358760,"availabilityEnd":1764529438,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247yc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1729902300,"duration":300,"svcId":560,"evtId":28616,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729902807,"availabilityEnd":1730514761,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024713\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1729902600,"duration":16200,"svcId":560,"evtId":28617,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":208}]},{"channelid":700,"offset":0,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1729829400,"duration":4800,"svcId":700,"evtId":20256,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Bargain Hunt","description":"Caroline Hawley learns about tins of chocolate sent to soldiers from York in World War I, while Philip Serrell and Jonathan Pratt guide their teams around an antiques fair in Wetherby. [S,AD] [HD]","startTime":1729834200,"duration":2700,"svcId":700,"evtId":20183,"image":"\/ms\/img\/epg\/rb\/fec6-p0jy430b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729684800,"availabilityEnd":1767704310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002483k\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"The Bidding Room","description":"24\/30. The dealers have a flutter on a pigeon clock, a Georgian painter\u0027s box and a butter churn. [S] [HD]","startTime":1729836900,"duration":2700,"svcId":700,"evtId":20184,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxwrxs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729786494,"availabilityEnd":1793553180,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247q9\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":24},{"name":"Dr Xand\u0027s Con or Cure","description":"14\/15. Are food intolerance tests worth the money? [S,SL] [HD]","startTime":1729839600,"duration":1800,"svcId":700,"evtId":20185,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h9q40b.jpg","hasTstv":false,"seriesNo":2,"episodeNo":14},{"name":"Mortimer \u0026 Whitehouse: Gone...","description":"...Fishing. 4\/8. Paul and Bob fish the mighty River Trent for the barbel and welcome a very special guest. [S,AD,SL] [HD]","startTime":1729841400,"duration":1800,"svcId":700,"evtId":20186,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwxklq.jpg","hasTstv":false,"seriesNo":11,"episodeNo":4},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1729843200,"duration":14400,"svcId":700,"evtId":20187,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Impossible","description":"25\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the Impossible answers. [S] [HD]","startTime":1729857600,"duration":2700,"svcId":700,"evtId":20188,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729860267,"availabilityEnd":1732455867,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0005b0s\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":25},{"name":"Unbeatable","description":"43\/45. Jason Manford hosts the quiz show where players face a question and pick from a board of six rankable answers. Some answers are good, but only one is Unbeatable. [S] [HD]","startTime":1729860300,"duration":2700,"svcId":700,"evtId":20189,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fl3349.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729862981,"availabilityEnd":1732458581,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001lt5w\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":43},{"name":"The Boss","description":"10\/20. Susan Calman hosts the quiz show of tactics, knowledge and nerve. Contestants must work as a team, but ultimately there can only be one Boss. Who will walk away with the money? [S] [HD]","startTime":1729863000,"duration":2700,"svcId":700,"evtId":20190,"image":"\/ms\/img\/epg\/rb\/ae0c-p0grkb3r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729865695,"availabilityEnd":1732461295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b08pqfny\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"Operation Gold Rush with Dan Snow","description":"2\/3. On this leg of the epic journey following in the footsteps of 19th-century Klondike gold rush prospectors, Dan and his team attempt to traverse perilous waterways. [S,AD] [HD]","startTime":1729865700,"duration":3600,"svcId":700,"evtId":20191,"image":"\/ms\/img\/epg\/rb\/fec6-p04dvwdj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729869288,"availabilityEnd":1732464888,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b082w0zw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"This Farming Life","description":"3\/12. The stags are roaring on Isla and George\u0027s farm, and Matt and Murray shop for a new tup. Joyce rescues her ewes, and Helen and Graham fear the worst for their poorly piglet. [S] [HD]","startTime":1729869300,"duration":3600,"svcId":700,"evtId":20192,"image":"\/ms\/img\/epg\/rb\/fec6-p08pns5z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729872904,"availabilityEnd":1732468504,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000m7pl\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":3},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from the Milestones Museum in Basingstoke, which recreates the streets of Victorian and Edwardian Hampshire. [S] [HD]","startTime":1729872900,"duration":2700,"svcId":700,"evtId":20193,"image":"\/ms\/img\/epg\/rb\/ae0c-p036yjr6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729875598,"availabilityEnd":1732471198,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06pnfbs\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":8},{"name":"Richard Osman\u0027s House of Games","description":"25\/100. Kelle Bryan, Antony Costa, Alexei Sayle and Emma Sidi test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1729875600,"duration":1800,"svcId":700,"evtId":20194,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyqd5j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729877401,"availabilityEnd":1771698595,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024pd1\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":25},{"name":"Strictly - It Takes Two","description":"25\/60. Fleur East is on hand with more Strictly exclusives ahead of the weekend\u0027s Halloween extravaganza. And a star-studded Friday Panel discuss the couples\u0027 next dances. [S] [HD]","startTime":1729877400,"duration":1800,"svcId":700,"evtId":20195,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729879245,"availabilityEnd":1765654200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024917\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":25},{"name":"Celebrity Antiques Road Trip","description":"6\/20. Today\u0027s star-studded shopping spree features newscasters Nina Hossain and Lucrezia Millarini. Expert advice comes from Tim Medhurst and Steven Moore. [S] [HD]","startTime":1729879200,"duration":3600,"svcId":700,"evtId":20196,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dgds7h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729882854,"availabilityEnd":1732478454,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fnq3\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":6},{"name":"Gardeners\u0027 World","description":"31\/32. Monty plants an early flowering clematis along a very shady wall, checks on the progress of his supermarket garlic and plants out two other types of garlic to overwinter outdoors. [S] [HD]","startTime":1729882800,"duration":3600,"svcId":700,"evtId":20197,"image":"\/ms\/img\/epg\/rb\/fec6-p0jzfckh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729886439,"availabilityEnd":1761422439,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024919\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":31},{"name":"Al Pacino: Once Upon a Time in...","description":"...Hollywood. Screen legend and Oscar winner Al Pacino looks back on his extraordinary life and career, and shares the stories behind some of his biggest films. [S,AD] [HD]","startTime":1729886400,"duration":3600,"svcId":700,"evtId":20198,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxvr7b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729832400,"availabilityEnd":1761368400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002491c\u0026ui_id=4.0.0"}},{"name":"Live at the Apollo","description":"6\/7. Hosted by the magnificent Suzi Ruffell, who welcomes comedians Alfie Brown and Sikisa to the stage. Contains some strong language and adult humour. [S] [HD]","startTime":1729890000,"duration":1800,"svcId":700,"evtId":20199,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dyr8kk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729891922,"availabilityEnd":1732487522,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002491f\u0026ui_id=4.0.0"},"seriesNo":2026,"episodeNo":6},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Adam Fleming. [S] [HD]","startTime":1729891800,"duration":1800,"svcId":700,"evtId":20200,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729893720,"availabilityEnd":1761429720,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002491h\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1729893600,"duration":300,"svcId":700,"evtId":20201,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729893945,"availabilityEnd":1729980345,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002491k\u0026ui_id=4.0.0"}},{"name":"House of Gucci","description":"The rise and fall of the Gucci fashion empire, centred around the marriage of Maurizio Gucci and Patrizia Reggiani. Contains strong language and some scenes of a sexual nature. [2021] [S,AD] [HD]","startTime":1729893900,"duration":9000,"svcId":700,"evtId":20202,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gx3lp6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729902909,"availabilityEnd":1732498509,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001tlrm\u0026ui_id=4.0.0"}},{"name":"Lucy Letby: Unanswered...","description":"...Questions - Panorama. Judith Moritz investigates the questions surrounding former nurse Lucy Letby\u0027s conviction. Contains some scenes which some viewers may find upsetting. [S,SL] [HD]","startTime":1729902900,"duration":1800,"svcId":700,"evtId":20203,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxx5q1.jpg","hasTstv":false},{"name":"Michael Mosley - Just One Thing","description":"1\/2. In north Wales, busy single mum Jayne is in desperate need of an energy boost, but will the chilly challenge Michael has in store be the \u0027Just One Thing\u0027 for her? [S,AD,SL] [HD]","startTime":1729904700,"duration":1800,"svcId":700,"evtId":20204,"image":"\/ms\/img\/epg\/rb\/fec6-p0jwddrs.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Designing the Hebrides","description":"5\/6. Banjo tackles a unique brief - to turn a salon into a spa by day and a bar by night in a grand hotel on the Isle of Mull. But will his radical design please both clients? [S,AD,SL] [HD]","startTime":1729906500,"duration":1800,"svcId":700,"evtId":20205,"image":"\/ms\/img\/epg\/rb\/fec6-p0jnrjwj.jpg","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"Nadiya\u0027s Cook Once Eat Twice","description":"4\/6. Nadiya\u0027s wallet-friendly recipes to impress, including Swedish meatballs and trifle. [S,AD,SL] [HD]","startTime":1729908300,"duration":1800,"svcId":700,"evtId":20206,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jtwfpb.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1729910100,"duration":9600,"svcId":700,"evtId":20207,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Dark Victory: After counselling his family and friends when all he wants is a little peace, Frasier comes to realise that sometimes you have to put others first. (S2 Ep24)  [AD,S]","startTime":1729830000,"duration":1500,"svcId":1500,"evtId":47590,"image":"\/ms\/img\/epg\/rb\/5d52-394107.l.png","hasTstv":false,"seriesNo":2,"episodeNo":24},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Linford Christie joins Susie Dent in Dictionary Corner.  [S]","startTime":1729831500,"duration":2400,"svcId":1500,"evtId":47228,"image":"\/ms\/img\/epg\/rb\/5d52-10055204.l.png","hasTstv":false},{"name":"Cheers","description":"Norm\u0027s Big Audit: Sam panics when the gang try to watch one of his old baseball games. Investigated by the tax authorities, Norm flirts with an official to avoid an audit. (S11 Ep13\/28)  [S]","startTime":1729833900,"duration":1500,"svcId":1500,"evtId":47229,"image":"\/ms\/img\/epg\/rb\/5d52-165354.l.png","hasTstv":false,"seriesNo":11,"episodeNo":13},{"name":"Cheers","description":"It\u0027s a Mad, Mad, Mad, Mad Bar: Robin Colcord returns to Cheers, claiming to be destitute, but implies that he has hidden a stash of money somewhere on the premises. (S11 Ep14\/28)  [S]","startTime":1729835400,"duration":1800,"svcId":1500,"evtId":47230,"image":"\/ms\/img\/epg\/rb\/5d52-166985.l.png","hasTstv":false,"seriesNo":11,"episodeNo":14},{"name":"Cheers","description":"Loathe and Marriage: Carla\u0027s daughter Serafina announces that she has to get married because she\u0027s expecting a baby, and wants her father to walk her down the aisle. (S11 Ep15\/28)  [S]","startTime":1729837200,"duration":1500,"svcId":1500,"evtId":47231,"image":"\/ms\/img\/epg\/rb\/5d52-168840.l.png","hasTstv":false,"seriesNo":11,"episodeNo":15},{"name":"The King of Queens","description":"Frigid Heirs: Arthur wins $2500 on the bingo. Meanwhile, Doug and Carrie are strapped for cash... (S6 Ep13\/24)  [AD,S]","startTime":1729838700,"duration":1500,"svcId":1500,"evtId":47232,"image":"\/ms\/img\/epg\/rb\/5d52-383357479.l.png","hasTstv":false,"seriesNo":6,"episodeNo":13},{"name":"The King of Queens","description":"Switch Sitters: Deacon and Kelly agree to babysit Arthur but forget Carrie and Doug\u0027s warning not to give him spicy food. (S6 Ep14\/24)  [AD,S]","startTime":1729840200,"duration":1800,"svcId":1500,"evtId":47233,"image":"\/ms\/img\/epg\/rb\/5d52-383357485.l.png","hasTstv":false,"seriesNo":6,"episodeNo":14},{"name":"The King of Queens","description":"Cheap Saks: Carrie agrees to befriend Doug\u0027s annoying ex-girlfriend (guest star Janeane Garofalo) And Spence agrees to go on a date with a man. (S6 Ep15\/24)  [AD,S]","startTime":1729842000,"duration":1800,"svcId":1500,"evtId":47234,"image":"\/ms\/img\/epg\/rb\/5d52-383522254.l.png","hasTstv":false,"seriesNo":6,"episodeNo":15},{"name":"Frasier","description":"Bully for Martin: Frasier offers his unsolicited help when Martin\u0027s boss starts acting like a bully. Roz talks incessantly about her new love, Roger. (S9 Ep11)  [AD,S]","startTime":1729843800,"duration":1800,"svcId":1500,"evtId":47235,"image":"\/ms\/img\/epg\/rb\/5d52-1543986.l.png","hasTstv":false,"seriesNo":9,"episodeNo":11},{"name":"Frasier","description":"Mother Load (Part 1\/2): Just as Niles and Daphne agree to move in together, they are visited by her disruptive, conniving mother and lecherous, leeching brother. (S9 Ep12)  [AD,S]","startTime":1729845600,"duration":1800,"svcId":1500,"evtId":47477,"image":"\/ms\/img\/epg\/rb\/5d52-1553886.l.png","hasTstv":false,"seriesNo":9,"episodeNo":12},{"name":"Frasier","description":"Mother Load (Part 2\/2): After Frasier boots Daphne\u0027s unpleasant brother out of his home, Daphne frets that she\u0027ll be left alone to deal with her horrendous mother. (S9 Ep13)  [AD,S]","startTime":1729847400,"duration":1800,"svcId":1500,"evtId":47476,"image":"\/ms\/img\/epg\/rb\/5d52-1562210.l.png","hasTstv":false,"seriesNo":9,"episodeNo":13},{"name":"Frasier","description":"Juvenilia: Frasier is ambushed when he agrees to appear on a seemingly innocent teen-oriented radio show but is then interrogated by the brainy high-school panel. (S9 Ep14)  [AD,S]","startTime":1729849200,"duration":1500,"svcId":1500,"evtId":47475,"image":"\/ms\/img\/epg\/rb\/5d52-1570147.l.png","hasTstv":false,"seriesNo":9,"episodeNo":14},{"name":"Come Dine with Me: The...","description":"...Professionals: In Oxfordshire, The White Hart pit their alfresco asado BBQ cooking against The Hand and Shears\u0027 traditional pub grub and Whistlers\u0027 hand-dived scallops. (S2 Ep16\/20)  [S]","startTime":1729850700,"duration":3600,"svcId":1500,"evtId":47239,"image":"\/ms\/img\/epg\/rb\/5d52-9453142.l.png","hasTstv":false,"seriesNo":2,"episodeNo":16},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1729854300,"duration":300,"svcId":1500,"evtId":47240,"image":"\/ms\/img\/epg\/rb\/5d52-10055259.l.png","hasTstv":false},{"name":"Renovation Nation","description":"Catherine and Alan create a cosy snug, while Liz and Michael try to firm up plans for their kitchen. (Ep15\/20)  [AD,S]","startTime":1729854600,"duration":3600,"svcId":1500,"evtId":47241,"image":"\/ms\/img\/epg\/rb\/5d52-6592542.l.png","hasTstv":false,"seriesNo":1,"episodeNo":15},{"name":"Find It, Fix It, Flog It","description":"In Wiltshire, Henry Cole and Gemma Longworth restore a vintage car, a weaving loom and a dough proving bin. (S7 Ep11)  [AD,S]","startTime":1729858200,"duration":3600,"svcId":1500,"evtId":47242,"image":"\/ms\/img\/epg\/rb\/5d52-6149056.l.png","hasTstv":false,"seriesNo":7,"episodeNo":11},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Linford Christie joins Susie Dent in Dictionary Corner.  [S]","startTime":1729861800,"duration":3000,"svcId":1500,"evtId":47243,"image":"\/ms\/img\/epg\/rb\/5d52-10055260.l.png","hasTstv":false},{"name":"A Place in the Sun: What...","description":"...Happened Next?: Craig Rowe catches up with Alison and Gabriel, who found their perfect place in D\u00e9nia in 2021. Jasmine Harman\u0027s back in Mallorca to see how George is getting on. (Ep8)  [S]","startTime":1729864800,"duration":3600,"svcId":1500,"evtId":47244,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"The Great House Giveaway","description":"Simon O\u0027Brien gives NHS workers Ceri and Danni the money to buy and renovate a house in Valley on the Isle of Anglesey. When they sell it, they get to keep any profit they make. (S1 Ep5)  [S]","startTime":1729868400,"duration":3600,"svcId":1500,"evtId":47245,"image":"\/ms\/img\/epg\/rb\/5d52-387219565.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Four in a Bed","description":"The new run continues. On payment day, the B\u0026Bers take each other to task on everything from insufficient slumber to hopeless hosting, before we find out who\u0027s won the week.  [S]","startTime":1729872000,"duration":1800,"svcId":1500,"evtId":47246,"image":"\/ms\/img\/epg\/rb\/5d52-412656063.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"There are wedding bells at a rebuilt Italian borgo, and it\u0027s the moment of truth at a French hamlet as the glamping site opens. (S2 Ep5)  [S]","startTime":1729873800,"duration":3600,"svcId":1500,"evtId":47247,"image":"\/ms\/img\/epg\/rb\/5d52-8268159.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"The Simpsons","description":"The Miseducation of Lisa Simpson: Springfield steals the Sea Captain\u0027s treasure to build an academy. But Lisa and Bart discover terrifying secret plans for the new school. (S31 Ep12\/22)  [AD,S]","startTime":1729877400,"duration":1800,"svcId":1500,"evtId":47248,"image":"\/ms\/img\/epg\/rb\/5d52-3504501.l.png","hasTstv":false,"seriesNo":31,"episodeNo":12},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1729879200,"duration":3300,"svcId":1500,"evtId":47249,"image":"\/ms\/img\/epg\/rb\/5d52-10055268.l.png","hasTstv":false},{"name":"Tiffany\u0027s Story: Stand Up To...","description":"...Cancer: A short film for Stand Up To Cancer. Online influencer Tiffany channels the power of positivity as she battles cancer while it spreads through her body.  [AD,S]","startTime":1729882500,"duration":300,"svcId":1500,"evtId":47250,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Yorkshire by the Sea","description":"In Scarborough, we hit the waves with an accessible surfing group, and in Robin Hood\u0027s Bay, an ambitious couple launch their first wine from their vineyard. (Ep3\/4)  [AD,S]","startTime":1729882800,"duration":3600,"svcId":1500,"evtId":47282,"image":"\/ms\/img\/epg\/rb\/5d52-9822141.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Celebrity Gogglebox for...","description":"...Stand Up To Cancer: Celebrities join the Gogglebox regulars to react to the week\u0027s television in this special episode for Stand Up To Cancer. (S24 Ep7)  [AD,S]","startTime":1729886400,"duration":3600,"svcId":1500,"evtId":47283,"image":"\/ms\/img\/epg\/rb\/5d52-10055279.l.png","hasTstv":false,"seriesNo":24,"episodeNo":7},{"name":"Live: The Last Leg","description":"Actress Miriam Margolyes and comedian Phil Wang join Adam, Josh and Alex for an anarchic look at the week\u0027s news. Plus: music from The Waeve (Graham Coxon and Rose Dougall). (S31 Ep1)  [S]","startTime":1729890000,"duration":3900,"svcId":1500,"evtId":47284,"image":"\/ms\/img\/epg\/rb\/5d52-10055283.l.png","hasTstv":false,"seriesNo":31,"episodeNo":1},{"name":"Rhod Gilbert: A Pain in the...","description":"...Neck for SU2C: In 2022, comedian Rhod Gilbert was diagnosed with a little-known form of head and neck cancer. This is his intimate, inspiring and humorous journey through treatment.  [AD,S]","startTime":1729893900,"duration":3900,"svcId":1500,"evtId":47285,"image":"\/ms\/img\/epg\/rb\/5d52-8326433.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Diwan: Gordon helps an Indian restaurant in New York that\u0027s been going for 35 years. But a decline in trade has led to fusion experiments - with mixed results. (S8 Ep10)  [S]","startTime":1729897800,"duration":3000,"svcId":1500,"evtId":47482,"image":"\/ms\/img\/epg\/rb\/5d52-10055230.l.png","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"Zola","description":"(2020) Dark comedy drama. Dancer Zola (Taylour Paige) joins a road trip to Tampa, where she gets dragged too far into the sex work world. Offensive language\/sexual violence.  [S]","startTime":1729900800,"duration":5100,"svcId":1500,"evtId":47286,"image":"\/ms\/img\/epg\/rb\/5d52-4376639.l.png","hasTstv":false},{"name":"The Simpsons","description":"Beware My Cheating Bart: Jimbo\u0027s girlfriend likes Bart - which isn\u0027t entirely good news... (S23 Ep18\/22)  [AD,S]","startTime":1729905900,"duration":1500,"svcId":1500,"evtId":47582,"image":"\/ms\/img\/epg\/rb\/5d52-46686219.l.png","hasTstv":false,"seriesNo":23,"episodeNo":18},{"name":"Tiffany\u0027s Story: Stand Up To...","description":"...Cancer: A short film for Stand Up To Cancer. Online influencer Tiffany channels the power of positivity as she battles cancer while it spreads through her body.  [AD,S,SL]","startTime":1729907400,"duration":300,"svcId":1500,"evtId":47287,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Essex and Suffolk. The first host, 29-year-old entrepreneur Chris, hopes to impress his guests with a night of French fine dining - and showing off his six pack. (Ep1\/5)  [AD,S]","startTime":1729907700,"duration":1500,"svcId":1500,"evtId":47280,"image":"\/ms\/img\/epg\/rb\/5d52-4015980.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Essex and Suffolk. Salon owner Sam opts for a simple, good-looking menu, on a night of bling, laughter and chest waxing. But is it all style and no substance? (Ep2\/5)  [AD,S]","startTime":1729909200,"duration":1500,"svcId":1500,"evtId":47311,"image":"\/ms\/img\/epg\/rb\/5d52-4015983.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Essex and Suffolk. Claire lays on a lavish East End feast. But is Sam out for vengeance? And will Joanna\u0027s shock proposition to heart-throb Chris take the shine off Claire\u0027s night? (Ep3\/5)  [AD,S]","startTime":1729910700,"duration":1500,"svcId":1500,"evtId":47312,"image":"\/ms\/img\/epg\/rb\/5d52-2531313.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Essex and Suffolk. Polish party lover Joanna offers her guests a taste of her homeland, with some rather unusual flavour combinations. (Ep4\/5)  [AD,S]","startTime":1729912200,"duration":1500,"svcId":1500,"evtId":47313,"image":"\/ms\/img\/epg\/rb\/5d52-4015984.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Essex and Suffolk. Former police officer Mark plans to surprise his guests with some homemade favourites on the final night. And how will Chris respond to Joanna\u0027s proposition? (Ep5\/5)  [AD,S]","startTime":1729913700,"duration":1500,"svcId":1500,"evtId":47520,"image":"\/ms\/img\/epg\/rb\/5d52-4015986.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('395');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('81');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '41jqg14RGS0', title: "Why do people collect their pensions for an average of only 8 years?", label: "Why do people collect their pensions for an average of only 8 years? by Anatomy of a Leader  3,775,716 views 3 weeks ago 39 seconds – play Short" },
{ id: '41jqg14RGS0', title: "Dear Alyne shares why trying to be the ‘ideal’ partner could destroy your life", label: "Dear Alyne shares why trying to be the ‘ideal’ partner could destroy your life by Anatomy of a Leader  2,953 views 8 days ago 51 seconds – play Short" },
{ id: 'WB7j33xnjM8', title: "This is how Hannah Holland got GK Barry on her talent roster.", label: "This is how Hannah Holland got GK Barry on her talent roster. by Anatomy of a Leader  639 views 10 days ago 51 seconds – play Short" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Priscilla (2023)">Priscilla (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Frozen (2013)">Frozen (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Women on the Verge of a Nervous Breakdown (1988)">Women on the Verge of a Nervous Breakdown (1988)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Brothers Bloom (2008)">The Brothers Bloom (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Adventurer (1917)">The Adventurer (1917)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Last Exorcism Part II (2013)">The Last Exorcism Part II (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Wonder (2022)">The Wonder (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Au hasard Balthazar (1966)">Au hasard Balthazar (1966)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Nun\'s Story (1959)">The Nun\'s Story (1959)</a></li><li><a href="https://www.google.com/search?q=Films+-+Kamikaze Girls (2004)">Kamikaze Girls (2004)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 220.46, tooltip: "Thu, Oct 24, 2024<br/>£220.46"},
{ number: 220.33, tooltip: "Wed, Oct 23, 2024<br/>£220.33"},
{ number: 221.57, tooltip: "Tue, Oct 22, 2024<br/>£221.57"},
{ number: 221.85, tooltip: "Mon, Oct 21, 2024<br/>£221.85"},
{ number: 222.23, tooltip: "Fri, Oct 18, 2024<br/>£222.23"},
{ number: 221.75, tooltip: "Thu, Oct 17, 2024<br/>£221.75"},
{ number: 221.65, tooltip: "Wed, Oct 16, 2024<br/>£221.65"},
{ number: 219.86, tooltip: "Tue, Oct 15, 2024<br/>£219.86"},
{ number: 221.87, tooltip: "Mon, Oct 14, 2024<br/>£221.87"},
{ number: 220.51, tooltip: "Fri, Oct 11, 2024<br/>£220.51"},
{ number: 219.65, tooltip: "Thu, Oct 10, 2024<br/>£219.65"},
{ number: 219.38, tooltip: "Wed, Oct 09, 2024<br/>£219.38"},
{ number: 218.15, tooltip: "Tue, Oct 08, 2024<br/>£218.15"},
{ number: 218.31, tooltip: "Mon, Oct 07, 2024<br/>£218.31"},
{ number: 218.64, tooltip: "Fri, Oct 04, 2024<br/>£218.64"},
{ number: 217.38, tooltip: "Thu, Oct 03, 2024<br/>£217.38"},
{ number: 215.97, tooltip: "Wed, Oct 02, 2024<br/>£215.97"},
{ number: 215.48, tooltip: "Tue, Oct 01, 2024<br/>£215.48"},
{ number: 214.93, tooltip: "Mon, Sep 30, 2024<br/>£214.93"},
{ number: 215.29, tooltip: "Fri, Sep 27, 2024<br/>£215.29"},
{ number: 214.66, tooltip: "Thu, Sep 26, 2024<br/>£214.66"},
{ number: 213.17, tooltip: "Wed, Sep 25, 2024<br/>£213.17"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Oct 24, 2024",
		"vs Day":      "Wed, Oct 23, 2024",
		"vs Week":     "Thu, Oct 17, 2024",
		"vs Month":    "Wed, Sep 25, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£220.46/share",
		'vs Day':      "+0.06%",
		'vs Week':     "-0.58%",
		'vs Month':    "+3.42%",
		'vs Year':     "+26.54%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '38.0',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 25 October and 26 October">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.380&p=2.802&r=5.905',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:49',
		Set:      '17:49',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Euphoria</em> refers to a feeling of great happiness and excitement.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>