<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:06 21-May - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Infected blood was decades-long moral failure - PM</b><br/>PM truly sorry as inquiry finds authorities covered up scandal and exposed victims to unacceptable risks." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/health-69037200">Infected blood was decades-long moral failure - PM</a></li><li class="ttt" data-tt="<b>Woman dies in XL bully attack at home</b><br/>The woman was found dead at her home in Hornchurch in east London on Monday afternoon, police say."><a href="https://www.bbc.co.uk/news/uk-england-london-69041493">Woman dies in XL bully attack at home</a></li><li class="ttt" data-tt="<b>Kate not back yet as early years report published</b><br/>A return to work is ruled out for the Princess of Wales, as her early years foundation issues a report."><a href="https://www.bbc.co.uk/news/uk-69039748">Kate not back yet as early years report published</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/health-69037200"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10BCF/production/_132895586_gettyimages-1556498815.jpg" class="ttt" data-tt="Demonstrators hold placards" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Cohen says he stole thousands from Trump organization</b><br/>The prosecution rested Monday and closing statements are expected to take place next week." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-69041401">Cohen says he stole thousands from Trump organization</a></li><li class="ttt" data-tt="<b>Assange wins right to challenge US extradition</b><br/>It means Mr Assange can remain in the UK for now and challenge US assurances over his prospective trial."><a href="https://www.bbc.com/news/articles/cw44l170xdwo">Assange wins right to challenge US extradition</a></li><li class="ttt" data-tt="<b>Ship that hit Baltimore bridge on the move again</b><br/>The operation to move the Dali to a nearby terminal will take 21 hours, according to engineers."><a href="https://www.bbc.co.uk/news/world-us-canada-69039100">Ship that hit Baltimore bridge on the move again</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-69041401"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/CD70/production/_133329525_eb1ac88950b30f7cc61cb7b12dac4c4c812aa41e.jpg" class="ttt" data-tt="Courtroom sketch of Michael Cohen being cross examined by defence lawyer Todd Blanche" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Netanyahu denounces bid to arrest him over Gaza war</b><br/>Israel\'s prime minister lambasts the ICC, saying it has compared Israel to &quot;mass murderers&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cmllykpwgdyo">Netanyahu denounces bid to arrest him over Gaza war</a></li><li class="ttt" data-tt="<b>Iran declares five days of mourning for president</b><br/>Supreme Leader Ayatollah Ali Kamenei offered condolences after the deaths of the president and foreign minister."><a href="https://www.bbc.com/news/articles/cpwwql21747o">Iran declares five days of mourning for president</a></li><li class="ttt" data-tt="<b>Assange wins right to challenge US extradition</b><br/>It means Mr Assange can remain in the UK for now and challenge US assurances over his prospective trial."><a href="https://www.bbc.com/news/articles/cw44l170xdwo">Assange wins right to challenge US extradition</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cmllykpwgdyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/23cc/live/f05527e0-16e1-11ef-a076-37e73e62d3fb.jpg" class="ttt" data-tt="Benjamin Netanyahu" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Norris \'excited\' that McLaren can take fight to Verstappen</b><br/>Lando Norris says he is &quot;excited&quot; about the rest of the Formula 1 season after challenging Max Verstappen hard for victory at the Emilia Romagna Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cw447274llvo">Norris \'excited\' that McLaren can take fight to Verstappen</a></li><li class="ttt" data-tt="<b>Verstappen holds off Norris charge for Imola win</b><br/>Red Bull’s Max Verstappen holds off a late charge from McLaren’s Lando Norris to win the Emilia Romagna Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/c877x4lxgkxo">Verstappen holds off Norris charge for Imola win</a></li><li class="ttt" data-tt="<b>F1: Chequered Flag</b><br/>Jennie Gow and the team reflect on the Emilia Romagna GP."><a href="https://www.bbc.co.uk/sounds/play/p0hz084f">F1: Chequered Flag</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cw447274llvo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/6421/live/6f2c8290-15fa-11ef-a514-5f73575d1b0d.jpg" class="ttt" data-tt="Lando Norris on the podium at Imola" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>ChatGPT to lose voice over Johansson similarity</b><br/>The flirty, conversational upgrade to OpenAI\'s chatbot has been compared by some to 2013 film Her." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c51188y6n6yo">ChatGPT to lose voice over Johansson similarity</a></li><li class="ttt" data-tt="<b>BT scraps digital landline switch deadline</b><br/>BT has ditched its timetable to move landline customers from copper wire to digital."><a href="https://www.bbc.com/news/articles/c5119g5z4q5o">BT scraps digital landline switch deadline</a></li><li class="ttt" data-tt="<b>Grand Theft Auto maker firms up GTA 6 release date</b><br/>The latest instalment of the hugely popular series will be released in autumn 2025, its publisher says."><a href="https://www.bbc.com/news/articles/cgrwlewjn7do">Grand Theft Auto maker firms up GTA 6 release date</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c51188y6n6yo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f1d8/live/ca9019e0-169e-11ef-90c9-3744ecf4e2fd.jpg" class="ttt" data-tt="Scarlett Johansson at the 76th Cannes Film Festival in May 2023 " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"20 May – 26 May","date":17162496E5,"ts":"Tue, 21","ds":"Tue, 21 May","icon":18,"desc":"Sprinkles late. Overcast.","temp":16,"templow":9,"cf":15,"wind":6,"wd":350,"hum":74,"pc":50,"rain":1.3 },{"date":1716336E6,"ts":"Wed, 22","ds":"Wed, 22 May","icon":33,"desc":"Rain showers. Cloudy.","temp":16,"templow":11,"cf":14,"wind":11,"wd":280,"hum":74,"pc":96,"rain":23.8 },{"date":17164224E5,"ts":"Thu, 23","ds":"Thu, 23 May","icon":33,"desc":"Rain showers. Cloudy.","temp":14,"templow":10,"cf":11,"wind":12,"wd":310,"hum":72,"pc":72,"rain":8.2 },{"date":17165088E5,"ts":"Fri, 24","ds":"Fri, 24 May","icon":18,"desc":"Sprinkles late. Cloudy.","temp":15,"templow":8,"cf":15,"wind":5,"wd":200,"hum":65,"pc":21,"rain":0.8 },{"date":17165952E5,"ts":"Sat, 25","ds":"Sat, 25 May","icon":4,"desc":"Increasing cloudiness.","temp":18,"templow":7,"cf":17,"wind":10,"wd":120,"hum":54,"pc":5},{"date":17166816E5,"ts":"Sun, 26","ds":"Sun, 26 May","icon":18,"desc":"Sprinkles. Overcast.","temp":15,"templow":9,"cf":14,"wind":4,"wd":150,"hum":79,"pc":22,"rain":1.4 },{"hl":true,"hls":"27 May – 2 Jun","date":1716768E6,"ts":"Mon, 27","ds":"Mon, 27 May","icon":18,"desc":"Drizzle. Cloudy.","temp":15,"templow":8,"cf":13,"wind":13,"wd":320,"hum":71,"pc":24,"rain":1.2 },{"date":17168544E5,"ts":"Tue, 28","ds":"Tue, 28 May","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":16,"templow":9,"cf":15,"wind":7,"wd":350,"hum":68,"pc":46,"rain":1.1 },{"date":17169408E5,"ts":"Wed, 29","ds":"Wed, 29 May","icon":4,"desc":"Afternoon clouds.","temp":18,"templow":10,"cf":18,"wind":6,"wd":20,"hum":56,"pc":6},{"date":17170272E5,"ts":"Thu, 30","ds":"Thu, 30 May","icon":21,"desc":"Isolated tstorms late. Broken clouds.","temp":18,"templow":11,"cf":18,"wind":5,"wd":10,"hum":66,"pc":45,"rain":1.6 },{"date":17171136E5,"ts":"Fri, 31","ds":"Fri, 31 May","icon":2,"desc":"Scattered clouds.","temp":18,"templow":11,"cf":18,"wind":2,"wd":20,"hum":64,"pc":6},{"date":17172E8,"ts":"Sat, 1","ds":"Sat, 1 Jun","icon":6,"desc":"Mostly cloudy.","temp":19,"templow":11,"cf":18,"wind":8,"wd":110,"hum":71,"pc":5},{"date":17172864E5,"ts":"Sun, 2","ds":"Sun, 2 Jun","icon":6,"desc":"Mostly cloudy.","temp":19,"templow":11,"cf":19,"wind":9,"wd":70,"hum":66,"pc":5},{"hl":true,"hls":"3 Jun – 9 Jun","date":17173728E5,"ts":"Mon, 3","ds":"Mon, 3 Jun","icon":4,"desc":"Partly cloudy.","temp":19,"templow":11,"cf":19,"wind":14,"wd":50,"hum":69,"pc":5},{"date":17174592E5,"ts":"Tue, 4","ds":"Tue, 4 Jun","icon":33,"desc":"Showers late. Overcast.","temp":20,"templow":11,"cf":20,"wind":4,"wd":130,"hum":83,"pc":54,"rain":1.7 }],"grid":{"temp":{"low":7,"high":20,"range":13},"prec":{"high":23.8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2405/AuroraWisconsin_Liu_960.jpg',
		Title:     'Aurora Dome Sky',
		LinkImage: 'https://apod.nasa.gov/apod/image/2405/AuroraWisconsin_Liu_6000.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240520.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Viviparus_georgianus_02.jpg/500px-Viviparus_georgianus_02.jpg',
		Title:    'Viviparus georgianus',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Viviparus_georgianus',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Viviparus_georgianus" title="Viviparus georgianus">Viviparus georgianus</a></b></i>, commonly known as the banded mystery snail, is a species of large <a href="https://en.wikipedia.org/wiki/Freshwater_snail" title="Freshwater snail">freshwater snail</a> in the family <a href="https://en.wikipedia.org/wiki/Viviparidae" title="Viviparidae">Viviparidae</a>, the river snails. It is native to North America, generally found from the northeastern United States to Florida and the Gulf of Mexico, and thrives in <a href="https://en.wikipedia.org/wiki/Trophic_state_index#Eutrophic" title="Trophic state index">eutrophic</a> lentic environments such as lakes, ponds and some low-flow streams. The snail has <a href="https://en.wikipedia.org/wiki/Dioecy" title="Dioecy">has two distinct sexes</a> and <a href="https://en.wikipedia.org/wiki/Semelparity_and_iteroparity" title="Semelparity and iteroparity">reproduces more than once in a lifetime</a>, with females laying eggs singly in albumen-filled capsules. It feeds on <a href="https://en.wikipedia.org/wiki/Diatom" title="Diatom">diatom</a> clusters found on silt and mud substrates, but it may also require the ingestion of some grit to be able to break down algae. This image shows five views of a 2.1&#160;cm high (0.83&#160;in) <i>V.&#160;georgianus</i> <a href="https://en.wikipedia.org/wiki/Gastropod_shell" title="Gastropod shell">shell</a>, originally collected in the U.S. state of <a href="https://en.wikipedia.org/wiki/Georgia_(U.S._state)" title="Georgia (U.S. state)">Georgia</a> and now in the collection of the <a href="https://en.wikipedia.org/wiki/State_Museum_of_Natural_History_Karlsruhe" title="State Museum of Natural History Karlsruhe">State Museum of Natural History Karlsruhe</a> in Germany.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Llez" title="User:Llez">H.&#160;Zell</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":1,"event":[{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1716253200,"duration":14400,"svcId":560,"evtId":24632,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":50},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1716267600,"duration":12600,"svcId":560,"evtId":24659,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716278400,"availabilityEnd":1716366625,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zhgp\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain","description":"2\/15. When an algorithm banned one woman from opening an online account because her surname was McManus, she asked Rip Off Britain for help! [S] [HD]","startTime":1716280200,"duration":2700,"svcId":560,"evtId":24660,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hz2c8g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716282923,"availabilityEnd":1749287720,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhgr\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":2},{"name":"Moment of Proof","description":"2\/15. A hotel guest book gives police the names of an international drug smuggling network, and thieves who stole \u00a320,000 of food from a factory are caught out by a car number plate. [S] [HD]","startTime":1716282900,"duration":1800,"svcId":560,"evtId":24661,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fbj9bz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1711445400,"availabilityEnd":1742968740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f4ffml\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":2},{"name":"Defenders: Busting the Bad Guys","description":"7\/10. A teen schoolgirl goes undercover to expose shops selling illegal vapes to children. [S] [HD]","startTime":1716284700,"duration":1800,"svcId":560,"evtId":24662,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gv5yvj.jpg","hasTstv":false,"seriesNo":11,"episodeNo":7},{"name":"Homes Under the Hammer","description":"8\/30. A father-and-daughter development team buy a bungalow with a view in Eastbourne and knock it down to build three detached houses. [S] [HD]","startTime":1716286500,"duration":3600,"svcId":560,"evtId":24663,"image":"\/ms\/img\/epg\/rb\/fec6-p0hxrzjn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716290135,"availabilityEnd":1747826135,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhgv\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":8},{"name":"Bargain Hunt: Kitchen and...","description":"...Garden Special. Christina Trevanion digs up some of the best kitchen and garden collectables that the red and blue teams have bought over the years. [S,AD] [HD]","startTime":1716290100,"duration":2700,"svcId":560,"evtId":24664,"image":"\/ms\/img\/epg\/rb\/ae0c-p08y6d43.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716292799,"availabilityEnd":1718884799,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000pjxb\u0026ui_id=4.0.0"},"seriesNo":56},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1716292800,"duration":1800,"svcId":560,"evtId":24665,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716294600,"availabilityEnd":1716381000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhgx\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1716294600,"duration":900,"svcId":560,"evtId":24666,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716295380,"availabilityEnd":1716381780,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhvw\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"Doctors","description":"Suni treats a young man who is getting out of his depth - but is he too far gone to help? [S,AD] [HD]","startTime":1716295500,"duration":1800,"svcId":560,"evtId":24667,"image":"\/ms\/img\/epg\/rb\/fec6-p0hxnt2n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716297252,"availabilityEnd":1747833252,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhgz\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":218},{"name":"Money for Nothing","description":"16\/20. Lighting designer Guy needs to jump through hoops to somehow repurpose some old croquet sets, while Sarah needs a light touch with a delicate glass dome. [S] [HD]","startTime":1716297300,"duration":2700,"svcId":560,"evtId":24668,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hxq4s7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716299972,"availabilityEnd":1748613584,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhh1\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":16},{"name":"Escape to the Country","description":"15\/55. A soon-to-be retired vicar and her husband need Sonali Shah\u0027s help to find a new home in the beautiful countryside of Gloucestershire. [S,AD] [HD]","startTime":1716300000,"duration":2700,"svcId":560,"evtId":24669,"image":"\/ms\/img\/epg\/rb\/fec6-p0d7c6n2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716302669,"availabilityEnd":1718894669,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001d80n\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":15},{"name":"RHS Chelsea Flower Show 2024","description":"It\u0027s Medals Day at the RHS Chelsea Flower Show, and Nicki Chapman and Angellica Bell kick off our coverage with an overview of this year\u0027s big winners. [S] [HD]","startTime":1716302700,"duration":2700,"svcId":560,"evtId":24670,"image":"\/ms\/img\/epg\/rb\/fec6-p0hxs0gh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716305375,"availabilityEnd":1748100595,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhh3\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"New: The Finish Line","description":"12\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1716305400,"duration":2700,"svcId":560,"evtId":24671,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hxpcwn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716308116,"availabilityEnd":1749917670,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhh5\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":12},{"name":"New: Pointless","description":"35\/48. Alexander Armstrong is joined by co-host Josh Widdicombe for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1716308100,"duration":2700,"svcId":560,"evtId":24672,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hxprj1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716310801,"availabilityEnd":1747846801,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhh7\u0026ui_id=4.0.0"},"seriesNo":31,"episodeNo":35},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1716310800,"duration":1800,"svcId":560,"evtId":24673,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716312690,"availabilityEnd":1716399090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhh9\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1716312600,"duration":1800,"svcId":560,"evtId":24674,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716314295,"availabilityEnd":1716400695,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhvy\u0026ui_id=4.0.0"},"episodeNo":51},{"name":"The One Show","description":"Alex Jones and Jermaine Jenas bring you the stories that matter from across the country. [S] [HD]","startTime":1716314400,"duration":1800,"svcId":560,"evtId":24675,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716316218,"availabilityEnd":1718908218,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhhc\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Elaine puts her own emotions aside for her family, Whitney receives advice from an unlikely source, and Kat makes a decision for her boys. [S,AD] [HD]","startTime":1716316200,"duration":1800,"svcId":560,"evtId":24676,"image":"\/ms\/img\/epg\/rb\/fec6-p0hy2q0q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716267600,"availabilityEnd":1806469200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhhf\u0026ui_id=4.0.0"},"episodeNo":6912},{"name":"MasterChef","description":"23\/24. It\u0027s finals week as the MasterChef anniversary celebrations continue, and two incredible challenges await our final four. [S,AD] [HD]","startTime":1716318000,"duration":3600,"svcId":560,"evtId":24677,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hxxhbj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716181200,"availabilityEnd":1747890000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zhhh\u0026ui_id=4.0.0"},"seriesNo":21,"episodeNo":23},{"name":"The Great British Sewing Bee","description":"1\/10. The Great British Sewing Bee turns ten as 12 brand new sewers follow the pattern for an A-line skirt, transform T-shirts and put their take on day dresses in the Made-to-Measure. [S,AD] [HD]","startTime":1716321600,"duration":3600,"svcId":560,"evtId":24678,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hy5gq3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716325200,"availabilityEnd":1753390683,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zhhk\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":1},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1716325200,"duration":1800,"svcId":560,"evtId":24679,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716327090,"availabilityEnd":1716413490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhhn\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1716327000,"duration":600,"svcId":560,"evtId":24680,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716327450,"availabilityEnd":1716413850,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhw0\u0026ui_id=4.0.0"},"episodeNo":44},{"name":"FA Cup: Road to Wembley","description":"Warm up for the 2023\/24 FA Cup final at Wembley by watching how Premier League giants and non-league minnows fared in the latest campaign of football\u0027s oldest cup competition. [S] [HD]","startTime":1716327600,"duration":2100,"svcId":560,"evtId":24681,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hyn18k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716329775,"availabilityEnd":1718921775,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhhq\u0026ui_id=4.0.0"},"seriesNo":16},{"name":"Tokyo Vice","description":"3\/10. Jake takes an unnecessary risk. Contains some strong language. [S,AD] [HD]","startTime":1716329700,"duration":3300,"svcId":560,"evtId":24682,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwqgd2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715662800,"availabilityEnd":1747262508,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z739\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"Tokyo Vice","description":"4\/10. Sato is sent on a dangerous mission. Contains very strong language and prolonged violent scenes. [S,AD] [HD]","startTime":1716333000,"duration":3600,"svcId":560,"evtId":24683,"image":"\/ms\/img\/epg\/rb\/fec6-p0hwqgvz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715662800,"availabilityEnd":1747262508,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z73c\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"MOTD Top Ten: Wingers","description":"11\/20. Dashing, jinking, dribbling and delivering superb crosses - Gary, Alan and Micah pick the best wingers to have played in the Premier League. [S] [HD]","startTime":1716336600,"duration":1800,"svcId":560,"evtId":24684,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hkdqj4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1710396000,"availabilityEnd":1719102288,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xnz8\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":11},{"name":"NBA: 2024 Conference Final","description":"NBA: 2024 Conference Final. [S] [HD]","startTime":1716338400,"duration":9600,"svcId":560,"evtId":24685,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hh65h6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716348000,"availabilityEnd":1718940061,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zhhs\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1716348000,"duration":300,"svcId":560,"evtId":24686,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716348344,"availabilityEnd":1716953144,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhhv\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1716348300,"duration":5700,"svcId":560,"evtId":24687,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":51}]},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1716257400,"duration":12900,"svcId":700,"evtId":16349,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Money for Nothing","description":"15\/20. Upholsterer Simion falls in love with a super cool sofa frame, but it pushes him way out of his comfort zone - maybe love is blind! [S] [HD]","startTime":1716270300,"duration":2700,"svcId":700,"evtId":16353,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwnv6b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715867965,"availabilityEnd":1748613584,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z8f4\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":15},{"name":"Marcus Wareing Simply Provence","description":"11\/15. The British people are proud of their beef dishes, and the French are too. Steak frites is a national institution, but in Provence, Marcus is expecting something a little different. [S] [HD]","startTime":1716273000,"duration":1800,"svcId":700,"evtId":16355,"image":"\/ms\/img\/epg\/rb\/fec6-p0htwp8d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1714971600,"availabilityEnd":1746507600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yzr6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":11},{"name":"MasterChef","description":"20\/24. As the semi-finals continue, it\u0027s down to the remaining six amateurs to stave off the competition with a dish that turns on the theatrics. [S,AD,SL] [HD]","startTime":1716274800,"duration":3600,"svcId":700,"evtId":16357,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwpl5l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715576400,"availabilityEnd":1893391140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001z8g4\u0026ui_id=4.0.0"},"seriesNo":21,"episodeNo":20},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1716278400,"duration":11700,"svcId":700,"evtId":16359,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1716290100,"duration":2700,"svcId":700,"evtId":16361,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716292805,"availabilityEnd":1718884805,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zjh1\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"12\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 20 people start today\u0027s show, but how many of them will survive to face the \u00a310,000 Question? [S] [HD]","startTime":1716292800,"duration":2700,"svcId":700,"evtId":16363,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716295499,"availabilityEnd":1718887499,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000p4hn\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":12},{"name":"Mastermind","description":"12\/31. Clive Myrie hosts another heat, with the contenders answering questions on Great Britain at the Winter Olympics, Goodness Gracious Me and High School Musical. [S] [HD]","startTime":1716295500,"duration":1800,"svcId":700,"evtId":16365,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b4jp49.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0011ww7\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":12},{"name":"Great Coastal Railway Journeys","description":"12\/25. Michael heads north from Newcastle to the former mining town of Lynemouth. [S,AD] [HD]","startTime":1716297300,"duration":1800,"svcId":700,"evtId":16367,"image":"\/ms\/img\/epg\/rb\/fec6-p0blycsg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716299147,"availabilityEnd":1718891147,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0014c0q\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":12},{"name":"The Farmers\u0027 Country Showdown","description":"2\/20. Farmers head to Hexham Farmers\u0027 Market to sell their produce. [S] [HD]","startTime":1716299100,"duration":1800,"svcId":700,"evtId":16369,"image":"\/ms\/img\/epg\/rb\/ae0c-p092cm8x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716300941,"availabilityEnd":1718892941,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000z1n4\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":2},{"name":"Big Little Journeys","description":"2\/3. A Taiwanese pangolin travels through a land of giants to seek a mate, and in Brazil, a family of tamarins travel to the edge of their world to seek a new future alongside humans. [S,AD] [HD]","startTime":1716300900,"duration":3600,"svcId":700,"evtId":16371,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gl0gqs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1697400191,"availabilityEnd":1729627349,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rkhg\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Who Do You Think You Are?","description":"7\/8. Sharon Osbourne uncovers the difficult circumstances of her mother\u0027s and grandmother\u0027s lives, and is stunned to learn that her great-grandmother was born in the US. [S,AD] [HD]","startTime":1716304500,"duration":3600,"svcId":700,"evtId":16373,"image":"\/ms\/img\/epg\/rb\/ae0c-p07m1kwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691730000,"availabilityEnd":1754888340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00085rf\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":7},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Muncaster Castle in Cumbria and delves into the Lake District\u0027s bobbin industry. [S] [HD]","startTime":1716308100,"duration":2700,"svcId":700,"evtId":16375,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716310806,"availabilityEnd":1718902806,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b075997l\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":32},{"name":"Richard Osman\u0027s House of Games","description":"57\/100. Former winners Maggie Aderin-Pocock, Cariad Lloyd, Gareth Malone and Mike Wozniak test their general knowledge skills on this week\u0027s Richard Osman\u0027s House of Games: Champions. [S] [HD]","startTime":1716310800,"duration":1800,"svcId":700,"evtId":16377,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dgbfnt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716312609,"availabilityEnd":1718904609,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fhf8\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":57},{"name":"Marcus Wareing Simply Provence","description":"12\/15. Herbes de Provence is famous. But with no UK equivalent, Marcus wants to create his own simple dried herb mix to rival this French classic and turn any dull dish into a tasty meal. [S] [HD]","startTime":1716312600,"duration":1800,"svcId":700,"evtId":16380,"image":"\/ms\/img\/epg\/rb\/ae0c-p0htwq1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1714971600,"availabilityEnd":1746507600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yzr9\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":12},{"name":"Hairy Bikers: Route 66","description":"2\/6. On the second leg of their Route 66 adventure, Dave and Si travel through three states to discover what lies beneath the legend of this iconic road. [S,AD] [HD]","startTime":1716314400,"duration":3600,"svcId":700,"evtId":16383,"image":"\/ms\/img\/epg\/rb\/ae0c-p07n5344.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709218800,"availabilityEnd":1740754800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0008lj0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"RHS Chelsea Flower Show 2024","description":"Emotions are running high at the RHS Chelsea Flower Show as the all-important medals are revealed. Monty Don and Joe Swift bring us the highlights of the garden design awards. [S] [HD]","startTime":1716318000,"duration":3600,"svcId":700,"evtId":16386,"image":"\/ms\/img\/epg\/rb\/fec6-p0hxs0gh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716321694,"availabilityEnd":1748204730,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zjh3\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Cold Case Investigators:...","description":"...Solving Britain\u0027s Sex Crimes. 2\/2. Detectives are on the hunt for a rapist who has escaped justice for nearly 30 years. Contains some strong language and upsetting scenes. [S,AD] [HD]","startTime":1716321600,"duration":3600,"svcId":700,"evtId":16389,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hy38hz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716181200,"availabilityEnd":1747717200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z7wq\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Meet the Richardsons","description":"1\/6. Lucy wants Jon to appear on All Star and Mrs, playing against Rob Beckett. Contains strong language. [S,AD] [HD]","startTime":1716325200,"duration":1800,"svcId":700,"evtId":16392,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hy3jzp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716267600,"availabilityEnd":1747803600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001z7x0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Kirsty Wark. [S] [HD]","startTime":1716327000,"duration":2400,"svcId":700,"evtId":16395,"image":"\/ms\/img\/epg\/rb\/ae0c-p07m7twy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716329610,"availabilityEnd":1747865610,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zjh5\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1716329400,"duration":300,"svcId":700,"evtId":16398,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716329775,"availabilityEnd":1716416175,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zjh7\u0026ui_id=4.0.0"}},{"name":"All Is True","description":"After London\u0027s Globe Theatre burns to the ground in 1613, William Shakespeare stops writing and returns to his home town of Stratford-upon-Avon. Contains some strong language. [2018] [S] [HD]","startTime":1716329700,"duration":5700,"svcId":700,"evtId":16401,"image":"\/ms\/img\/epg\/rb\/fec6-p09qngyb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716335513,"availabilityEnd":1718927513,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000yhk2\u0026ui_id=4.0.0"}},{"name":"Secrets \u0026 Spies: A Nuclear Game","description":"2\/3. Spies work behind the scenes as the superpowers enter a new era. Intelligence pushes world leaders towards a more peaceful approach. But a new danger is lurking in the shadows. [S,AD,SL] [HD]","startTime":1716335400,"duration":3600,"svcId":700,"evtId":16404,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hwr9sv.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Hidden Treasures of the...","description":"...National Trust. 2\/6. The portraits of two high-society women give up their secrets. [S,AD,SL] [HD]","startTime":1716339000,"duration":3600,"svcId":700,"evtId":16450,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvl2jp.jpg","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Better Off Dead?","description":"A documentary on assisted suicide, authored by actor and disability rights activist Liz Carr. Contains some strong language. [S,AD,SL] [HD]","startTime":1716342600,"duration":3600,"svcId":700,"evtId":16451,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvtmhv.jpg","hasTstv":false},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1716346200,"duration":10500,"svcId":700,"evtId":16452,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Couples Come Dine with Me","description":"Three couples put their hosting skills to the test on Jersey, in a week featuring wedding talk, a chinchilla dinner guest and cocktails from a fake cow...  [S,SL]","startTime":1716257400,"duration":3300,"svcId":1500,"evtId":22913,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"Grand Designs","description":"In south west London, Elinor and Born plan to build Britain\u0027s first hypoallergenic house, to alleviate their two young sons\u0027 life-threatening allergies, in a race against time.  [AD,S,SL]","startTime":1716260700,"duration":3300,"svcId":1500,"evtId":22719,"image":"\/ms\/img\/epg\/rb\/5d52-405617298.l.png","hasTstv":false,"seriesNo":19,"episodeNo":3},{"name":"Location, Location, Location","description":"In Yorkshire, it\u0027s all about family as Kirstie helps Mia and Jack buy their first home together in Leeds, and Phil helps childhood sweethearts Rachel and Chris move back up north. (S34 Ep3)  [S]","startTime":1716264000,"duration":3000,"svcId":1500,"evtId":22720,"image":"\/ms\/img\/epg\/rb\/5d52-398579857.l.png","hasTstv":false,"seriesNo":34,"episodeNo":3},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Pat Nevin joins Susie Dent in Dictionary Corner.  [S]","startTime":1716267000,"duration":2400,"svcId":1500,"evtId":22722,"image":"\/ms\/img\/epg\/rb\/5d52-9426946.l.png","hasTstv":false},{"name":"3rd Rock from the Sun","description":"Sally Forth: The aliens and Mrs Dubcek start feuding because she won\u0027t get their plumbing fixed and they won\u0027t pay their rent. Don mistakenly thinks Sally wants him to propose. (S4 Ep13)  [AD,S]","startTime":1716269400,"duration":1500,"svcId":1500,"evtId":22723,"image":"\/ms\/img\/epg\/rb\/5d52-784316.l.png","hasTstv":false,"seriesNo":4,"episodeNo":13},{"name":"3rd Rock from the Sun","description":"Paranoid Dick: Mary becomes concerned when Chancellor Stevens appears to be avoiding her in favour of Judith, and confiding in Dick only makes her more worried. (S4 Ep14)  [AD,S]","startTime":1716270900,"duration":1500,"svcId":1500,"evtId":22724,"image":"\/ms\/img\/epg\/rb\/5d52-795875.l.png","hasTstv":false,"seriesNo":4,"episodeNo":14},{"name":"3rd Rock from the Sun","description":"The House That Dick Built: Vicki asks Harry to be the father of her child, and Sally decides she wants to move out and get her own apartment. (S4 Ep15)  [AD,S]","startTime":1716272400,"duration":1500,"svcId":1500,"evtId":22725,"image":"\/ms\/img\/epg\/rb\/5d52-796211.l.png","hasTstv":false,"seriesNo":4,"episodeNo":15},{"name":"Everybody Loves Raymond","description":"Say Uncle: When Ray realises that his kids would rather spend time with their Uncle Robert than with him, he decides to do something about it. (S5 Ep22)  [AD,S]","startTime":1716273900,"duration":1500,"svcId":1500,"evtId":22726,"image":"\/ms\/img\/epg\/rb\/5d52-1408099.l.png","hasTstv":false,"seriesNo":5,"episodeNo":22},{"name":"Everybody Loves Raymond","description":"Separation: Debra is upset by the unexpected news that her parents have separated. (S5 Ep23)  [AD,S]","startTime":1716275400,"duration":1800,"svcId":1500,"evtId":22727,"image":"\/ms\/img\/epg\/rb\/5d52-1415836.l.png","hasTstv":false,"seriesNo":5,"episodeNo":23},{"name":"Everybody Loves Raymond","description":"Frank Paints the House: Frank offers to decorate Ray\u0027s house but refuses to paint it the colour that Ray and Debra want. (S5 Ep24)  [AD,S]","startTime":1716277200,"duration":1800,"svcId":1500,"evtId":22728,"image":"\/ms\/img\/epg\/rb\/5d52-1404886.l.png","hasTstv":false,"seriesNo":5,"episodeNo":24},{"name":"Everybody Loves Raymond","description":"Ally\u0027s Birth: As Ray escorts Ally to a father-daughter dance, he realises how grown-up and independent his daughter has become, and recalls the day when she was born. (S5 Ep25)  [AD,S]","startTime":1716279000,"duration":1800,"svcId":1500,"evtId":22729,"image":"\/ms\/img\/epg\/rb\/5d52-1404998.l.png","hasTstv":false,"seriesNo":5,"episodeNo":25},{"name":"Frasier","description":"Docu.Drama: Frasier can\u0027t narrate Roz\u0027s ambitious space documentary, so she turns to legendary space hero and US senator John Glenn. (S8 Ep15)  [AD,S]","startTime":1716280800,"duration":1800,"svcId":1500,"evtId":22730,"image":"\/ms\/img\/epg\/rb\/5d52-1166935.l.png","hasTstv":false,"seriesNo":8,"episodeNo":16},{"name":"Frasier","description":"It Takes Two to Tangle: Frasier and Niles desperately search for a wealthy patron to lend support to the failing prep school they both attended. (S8 Ep16)  [AD,S]","startTime":1716282600,"duration":1800,"svcId":1500,"evtId":22761,"image":"\/ms\/img\/epg\/rb\/5d52-1175811.l.png","hasTstv":false,"seriesNo":8,"episodeNo":17},{"name":"Frasier","description":"Forgotten But Not Gone: Frasier resigns from his beloved wine club to avoid a conflict of interest when he begins a new radio show about wine. (S8 Ep17)  [AD,S]","startTime":1716284400,"duration":1800,"svcId":1500,"evtId":22762,"image":"\/ms\/img\/epg\/rb\/5d52-1183312.l.png","hasTstv":false,"seriesNo":8,"episodeNo":18},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon visits high-end Le Bistro in Florida. Owner Andy has cooked for top chefs in the past, but since opening, he\u0027s lost his passion - and he doesn\u0027t respond well to criticism. (S3 Ep11)  [S]","startTime":1716286200,"duration":3300,"svcId":1500,"evtId":22763,"image":"\/ms\/img\/epg\/rb\/5d52-1015946.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1716289500,"duration":300,"svcId":1500,"evtId":22764,"image":"\/ms\/img\/epg\/rb\/5d52-9426894.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay revisits three restaurants - Handlebar, Casa Roma and The Black Pearl - to check in with the owners he helped. Has his advice been put to good use? (S3 Ep12)  [S]","startTime":1716289800,"duration":3300,"svcId":1500,"evtId":22765,"image":"\/ms\/img\/epg\/rb\/5d52-1055827.l.png","hasTstv":false,"seriesNo":2,"episodeNo":13},{"name":"Find It, Fix It, Flog It","description":"In Nantwich and Stoke-on-Trent, Henry Cole tarts up a 1960s moped once favoured by model Twiggy, and Simon O\u0027Brien restores an early Mirror dinghy. (S3 Ep8)  [S]","startTime":1716293100,"duration":3900,"svcId":1500,"evtId":22766,"image":"\/ms\/img\/epg\/rb\/5d52-302367000.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Pat Nevin joins Susie Dent in Dictionary Corner.  [S]","startTime":1716297000,"duration":3000,"svcId":1500,"evtId":22767,"image":"\/ms\/img\/epg\/rb\/5d52-9426994.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"With help from his old friend Angus, Ian is looking for a holiday home on Ibiza for himself, his wife and their two sons. Can Ben Hillman find the one for \u00a3400k?  [S]","startTime":1716300000,"duration":3600,"svcId":1500,"evtId":22768,"image":"\/ms\/img\/epg\/rb\/5d52-393390582.l.png","hasTstv":false},{"name":"Narrow Escapes","description":"The new series continues. On the River Lea, florist Roka takes her tulips to market. Tracey and Tim head towards Little Venice to launch their Accessible Waterways badge scheme. (Ep17\/20)  [AD,S]","startTime":1716303600,"duration":3600,"svcId":1500,"evtId":22769,"image":"\/ms\/img\/epg\/rb\/5d52-9426996.l.png","hasTstv":false,"seriesNo":1,"episodeNo":17},{"name":"Come Dine with Me: The...","description":"...Professionals: The new series continues. In Swansea, the Secret Bar and Kitchen take on The Mine\u0027s elegant entr\u00e9e. But will The Plough\u0027s flaming pud steal the show? (S2 Ep12\/20)  [S]","startTime":1716307200,"duration":3600,"svcId":1500,"evtId":22770,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":12},{"name":"Four in a Bed","description":"The new run continues. In East Sussex, Dean and Becky hope their unique glamping digs - including a converted army truck and a horsebox - will have the B\u0026Bers raving. If only...  [S]","startTime":1716310800,"duration":1800,"svcId":1500,"evtId":22771,"image":"\/ms\/img\/epg\/rb\/5d52-9427000.l.png","hasTstv":false},{"name":"The Simpsons","description":"Tales from the Public Domain: Homer reads out classic tales from an overdue library book, with himself as Odysseus at the Battle of Troy, Lisa as Joan of Arc, and Bart as Hamlet. (S13 Ep14)  [AD,S]","startTime":1716312600,"duration":1800,"svcId":1500,"evtId":22772,"image":"\/ms\/img\/epg\/rb\/5d52-1656844.l.png","hasTstv":false,"seriesNo":13,"episodeNo":14},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1716314400,"duration":3600,"svcId":1500,"evtId":22773,"image":"\/ms\/img\/epg\/rb\/5d52-9427003.l.png","hasTstv":false},{"name":"New: Emergency Helicopter Medics","description":"Air ambulance teams save lives, from the hospital bedside to the roadside, including a motorcyclist who has multiple injuries after colliding with a van. (S5 Ep1)  [AD,S]","startTime":1716318000,"duration":3600,"svcId":1500,"evtId":22774,"image":"\/ms\/img\/epg\/rb\/5d52-9426975.l.png","hasTstv":false,"seriesNo":5,"episodeNo":1},{"name":"New: The Gathering","description":"Gripping drama. When Adam\u0027s disparate worlds collide at his dad\u0027s birthday party, will the resulting fallout make him turn on Kelly? (Ep3\/6)  [AD,S]","startTime":1716321600,"duration":3600,"svcId":1500,"evtId":22775,"image":"\/ms\/img\/epg\/rb\/5d52-thrill.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Imposter: The Man Who Came...","description":"...Back from the Dead: Documentary. Criminal Nicholas Rossi\u0027s stepdad, an Engelbert Humperdinck impersonator, tells us about his stepson as evidence emerges linking Knight to Rossi. (Ep3\/4)  [AD,S]","startTime":1716325200,"duration":3900,"svcId":1500,"evtId":22776,"image":"\/ms\/img\/epg\/rb\/5d52-crime.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Night Coppers","description":"A vehicle-stop turns into a high-speed chase. Officers meet fierce resistance from a woman accused of stalking. And a drunken reveller has broken a security guard\u0027s finger. (S2 Ep6)  [AD,S]","startTime":1716329100,"duration":3600,"svcId":1500,"evtId":22915,"image":"\/ms\/img\/epg\/rb\/5d52-9330460.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Taskmaster","description":"Taskmaster Greg Davies has witnessed many bizarre moments, but this episode ups the ante - from oars for arms to a beatboxing wolf. And why won\u0027t Nick Mohammed stop winking?! (S17 Ep8\/10)  [AD,S,SL]","startTime":1716332700,"duration":3600,"svcId":1500,"evtId":22782,"image":"\/ms\/img\/epg\/rb\/5d52-9395312.l.png","hasTstv":false,"seriesNo":17,"episodeNo":8},{"name":"Late Night Lycett","description":"Carol Vorderman, Sophie Willan, Johnny Vegas and Jack Rooke join Joe for more hilarity, high jinks and horsing around in Birmingham. (S2 Ep6)  [S]","startTime":1716336300,"duration":3300,"svcId":1500,"evtId":22786,"image":"\/ms\/img\/epg\/rb\/5d52-9395482.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"#Horror","description":"(2015) Satirical horror featuring Chloe Sevigny. A killer is on the loose as six social-media-obsessed, phone-addicted 12-year-old girls are busy partying. Strong language\/gory violence.  [S,SL]","startTime":1716339600,"duration":5700,"svcId":1500,"evtId":22778,"image":"\/ms\/img\/epg\/rb\/5d52-414927370.l.png","hasTstv":false},{"name":"The Simpsons","description":"Half-Decent Proposal: Marge\u0027s incredibly rich high school prom date Artie makes Homer and Marge an indecent proposal they can\u0027t afford to turn down. (S13 Ep10\/22)  [AD,S]","startTime":1716345300,"duration":1500,"svcId":1500,"evtId":22916,"image":"\/ms\/img\/epg\/rb\/5d52-1584670.l.png","hasTstv":false,"seriesNo":13,"episodeNo":10},{"name":"Coca-Cola\u0027s Dirty Secret:...","description":"...Dispatches: The UK has a huge soft drink habit. With a thirsty nation getting through four billion plastic Coke bottles and tin cans a year, do Coca-Cola\u0027s claims on recycling stand up?  [AD,S,SL]","startTime":1716346800,"duration":1800,"svcId":1500,"evtId":22780,"image":"\/ms\/img\/epg\/rb\/5d52-9395314.l.png","hasTstv":false},{"name":"Grand Designs Australia","description":"Tani and Tim Richards plan to build an \u0027earth castle\u0027 on their 60-acre property in Bullsbrook near Perth, complete with a drawbridge, turret and even a moat. (S10 Ep7)  [AD,S]","startTime":1716348600,"duration":3300,"svcId":1500,"evtId":22781,"image":"\/ms\/img\/epg\/rb\/5d52-6591329.l.png","hasTstv":false,"seriesNo":10,"episodeNo":7}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('162');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('157');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'aFGQ-nUOYqw', title: "HIGHLIGHTS! Oleksandr Usyk beats Tyson Fury for Undisputed crown 👑", label: "HIGHLIGHTS! Oleksandr Usyk beats Tyson Fury for Undisputed crown 👑 by Sky Sports Boxing 1,293,116 views 1 day ago 2 minutes, 43 seconds" },
{ id: '6hVcBKxXTXc', title: "UNDISPUTED CHAMPION CROWNED | Tyson Fury vs. Oleksandr Usyk Fight Highlights (Ring of Fire)", label: "UNDISPUTED CHAMPION CROWNED | Tyson Fury vs. Oleksandr Usyk Fight Highlights (Ring of Fire) by DAZN Boxing 7,731,390 views 1 day ago 3 minutes, 16 seconds" },
{ id: 'TzA8Kbh6hlw', title: "Tears in the studio as Ian Wright says farewell to MOTD | Match of the Day", label: "Tears in the studio as Ian Wright says farewell to MOTD | Match of the Day by BBC Sport 220,608 views 16 hours ago 4 minutes, 34 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in f1 module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jojo Rabbit (2019)">Jojo Rabbit (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Days (2023)">Perfect Days (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sicario (2015)">Sicario (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Whiplash (2014)">Whiplash (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gifted (2017)">Gifted (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Lobster (2015)">The Lobster (2015)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Feel Good (S2, 2021)">Feel Good (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Feel Good (S1, 2020)">Feel Good (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Baby Reindeer (S1, 2024)">Baby Reindeer (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Sugar Rush (S2, 2006)">Sugar Rush (S2, 2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Sugar Rush (S1, 2005)">Sugar Rush (S1, 2005)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Change (2023, S1)">The Change (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Dinosaur (2024, S1)">Dinosaur (2024, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Gentlemen (2024, S1)">The Gentlemen (2024, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1995, S4)">Buffy the Vampire Slayer (1995, S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Dexter: New Blood (2021, S1)">Dexter: New Blood (2021, S1)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
{ number: 210.12, tooltip: "Mon, May 13, 2024<br/>£210.12"},
{ number: 210.82, tooltip: "Fri, May 10, 2024<br/>£210.82"},
{ number: 210.11, tooltip: "Thu, May 09, 2024<br/>£210.11"},
{ number: 209.55, tooltip: "Wed, May 08, 2024<br/>£209.55"},
{ number: 208.97, tooltip: "Tue, May 07, 2024<br/>£208.97"},
{ number: 206.73, tooltip: "Fri, May 03, 2024<br/>£206.73"},
{ number: 205.42, tooltip: "Thu, May 02, 2024<br/>£205.42"},
{ number: 203.50, tooltip: "Wed, May 01, 2024<br/>£203.50"},
{ number: 203.58, tooltip: "Tue, Apr 30, 2024<br/>£203.58"},
{ number: 205.50, tooltip: "Mon, Apr 29, 2024<br/>£205.50"},
{ number: 205.99, tooltip: "Fri, Apr 26, 2024<br/>£205.99"},
{ number: 203.74, tooltip: "Thu, Apr 25, 2024<br/>£203.74"},
{ number: 205.76, tooltip: "Wed, Apr 24, 2024<br/>£205.76"},
{ number: 205.42, tooltip: "Tue, Apr 23, 2024<br/>£205.42"},
{ number: 204.69, tooltip: "Mon, Apr 22, 2024<br/>£204.69"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, May 17, 2024",
		"vs Day":      "Thu, May 16, 2024",
		"vs Week":     "Fri, May 10, 2024",
		"vs Month":    "Mon, Apr 22, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£211.15/share",
		'vs Day':      "-0.11%",
		'vs Week':     "+0.16%",
		'vs Month':    "+3.16%",
		'vs Year':     "+19.92%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '93.3',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 20 May and 21 May">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.933&p=0.129&r=0.145',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:02',
		Set:      '21:04',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>An effort, action, or emotion described as futile has no result or effect, and therefore serves no useful purpose.  </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23BlueLights">#BlueLights</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23Corrie">#Corrie</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23GardensHour">#GardensHour</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Bad+Bones%22">Bad Bones</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23ImposterBackFromTheDead">#ImposterBackFromTheDead</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Costello">Costello</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23StreamingDay">#StreamingDay</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23DownBadFor">#DownBadFor</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Merchan">Merchan</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%24MIMI">$MIMI</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>