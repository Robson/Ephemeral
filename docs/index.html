<!DOCTYPE html>
<html lang="en">
	<head>
		<title>15:54 12-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Questions must be answered over Sara murder, PM says</b><br/>It follows calls to change the law so children like Sara Sharif, suspected to be victims of abuse, cannot be home-schooled." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvgn8lp30ydo">Questions must be answered over Sara murder, PM says</a></li><li class="ttt" data-tt="<b>Body found in search for rugby star missing in flood</b><br/>Police believe Tom Voyce tried to cross a flooded ford and his car was pulled along by the current."><a href="https://www.bbc.com/news/articles/c1kej2m3dvvo">Body found in search for rugby star missing in flood</a></li><li class="ttt" data-tt="<b>Parents who caused death of buried boy jailed</b><br/>Abiyah Yasharahyalah, three, had a &quot;catalogue of injury and disease&quot; when he died, a judge says."><a href="https://www.bbc.com/news/articles/ce902vk42d5o">Parents who caused death of buried boy jailed</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvgn8lp30ydo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/fbc4/live/60cfacf0-b842-11ef-9706-2fc1aa966ee5.jpg" class="ttt" data-tt="A handout image shows Sara Sharif, a 10-year-old girl whose father and stepmother have been convicted of her murder. At the time the image was taken, she was four. She had long brown hair and is seen looking into the camera. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>How Luigi Mangione\'s legal defence could take shape</b><br/>Police believe forensic and ballistic evidence ties the suspect to insurance CEO Brian Thompson\'s killing." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cgm987p8xz3o">How Luigi Mangione\'s legal defence could take shape</a></li><li class="ttt" data-tt="<b>Biden issues 39 presidential pardons and commutes 1,500 sentences</b><br/>The White House says it is the highest number of presidential acts of clemency in a single day."><a href="https://www.bbc.com/news/articles/c30nq7r0v2mo">Biden issues 39 presidential pardons and commutes 1,500 sentences</a></li><li class="ttt" data-tt="<b>Donald Trump named Time Person of the Year again</b><br/>The Republican president-elect also won the award in 2016 after he first won the presidency."><a href="https://www.bbc.com/news/articles/c36e71wg7z9o">Donald Trump named Time Person of the Year again</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cgm987p8xz3o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/4d36/live/676f4a60-b861-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="Luigi Mangione is escorted after an extradition hearing at Blair County Court House in Hollidaysburg, Pennsylvania, U.S. on 10 December 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>US man found wandering near Damascus after months in Syrian prison</b><br/>Mr Timmerman told CBS that he was detained upon entering Syria seven months ago." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn54xk0vkq5o">US man found wandering near Damascus after months in Syrian prison</a></li><li class="ttt" data-tt="<b>Donald Trump named Time Person of the Year again</b><br/>The Republican president-elect also won the award in 2016 after he first won the presidency."><a href="https://www.bbc.com/news/articles/c36e71wg7z9o">Donald Trump named Time Person of the Year again</a></li><li class="ttt" data-tt="<b>Rape inquiry linked by Swedish media to Mbappé closed</b><br/>Authorities said there was not enough evidence to pursue the investigation into the alleged Stockholm attack."><a href="https://www.bbc.com/news/articles/cgkxgd4rkexo">Rape inquiry linked by Swedish media to Mbappé closed</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn54xk0vkq5o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/630e/live/fb3285b0-b888-11ef-b9e2-61ad42d5e760.jpg" class="ttt" data-tt="Travis Timmerman looks up, with a camera pointing down on him, as he sits in a dark room. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Former F1 team boss Jordan reveals cancer diagnosis</b><br/>Eddie Jordan reveals he has been diagnosed with a &quot;quite aggressive&quot; form of cancer." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cn8502y285eo">Former F1 team boss Jordan reveals cancer diagnosis</a></li><li class="ttt" data-tt="<b>Motorsport boss \'saddened\' by proposed FIA changes</b><br/>The head of Austria\'s motorsport federation says he is &quot;saddened&quot; by proposed changes that will reduce accountability at motorsport\'s governing body the FIA."><a href="https://www.bbc.com/sport/formula1/articles/cd9xldqw49ko">Motorsport boss \'saddened\' by proposed FIA changes</a></li><li class="ttt" data-tt="<b>Alonso \'still dreaming\' of third world title</b><br/>Fernando Alonso says 2026 will be a &quot;time of delivering&quot; as he prepares to link up with Adrian Newey at Aston Martin."><a href="https://www.bbc.com/sport/formula1/articles/c5yweeww57wo">Alonso \'still dreaming\' of third world title</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cn8502y285eo"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/436b/live/1e6cac40-b88e-11ef-b9e2-61ad42d5e760.jpg" class="ttt" data-tt="Eddie Jordan in the paddock in Monaco in May 2024 " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Controversial chatbot\'s safety measures \'a sticking plaster\'</b><br/>Character.ai is facing legal action in the US over claims a bot on the site encouraged a teenager to kill his parents." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c62zgd3kk50o">Controversial chatbot\'s safety measures \'a sticking plaster\'</a></li><li class="ttt" data-tt="<b>Mark Zuckerberg\'s Meta donates $1m to Trump fund</b><br/>It appears to be the latest attempt by the Meta boss to build a closer relationship with the incoming president."><a href="https://www.bbc.com/news/articles/c8j9e1x9z2xo">Mark Zuckerberg\'s Meta donates $1m to Trump fund</a></li><li class="ttt" data-tt="<b>Australia to force tech giants to keep paying for news</b><br/>The long-awaited decision follows a standoff with Meta, and succeeds a world-first law from 2021."><a href="https://www.bbc.com/news/articles/cy4pvgjklevo">Australia to force tech giants to keep paying for news</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c62zgd3kk50o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/3ef6/live/c20e7720-b87f-11ef-9b54-edc811e341cb.jpg" class="ttt" data-tt="A teenager using her phone while lying on a bed." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"9 Dec – 15 Dec","date":17339616E5,"ts":"Thu, 12","ds":"Thu, 12 Dec","icon":7,"desc":"Overcast.","temp":8,"templow":4,"cf":6,"wind":7,"wd":40,"hum":94,"pc":15,"rain":0.1 },{"date":1734048E6,"ts":"Fri, 13","ds":"Fri, 13 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":6,"templow":4,"cf":6,"wind":2,"wd":320,"hum":87,"pc":38,"rain":1.8 },{"date":17341344E5,"ts":"Sat, 14","ds":"Sat, 14 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":7,"templow":4,"cf":2,"wind":12,"wd":290,"hum":81,"pc":41,"rain":1},{"date":17342208E5,"ts":"Sun, 15","ds":"Sun, 15 Dec","icon":7,"desc":"Overcast.","temp":11,"templow":5,"cf":8,"wind":11,"wd":260,"hum":87,"pc":22,"rain":0.2 },{"hl":true,"hls":"16 Dec – 22 Dec","date":17343072E5,"ts":"Mon, 16","ds":"Mon, 16 Dec","icon":18,"desc":"Sprinkles early. Cloudy.","temp":11,"templow":7,"cf":7,"wind":11,"wd":250,"hum":77,"pc":21,"rain":0.5 },{"date":17343936E5,"ts":"Tue, 17","ds":"Tue, 17 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":10,"templow":7,"cf":7,"wind":11,"wd":190,"hum":84,"pc":20,"rain":0.8 },{"date":173448E7,"ts":"Wed, 18","ds":"Wed, 18 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":14,"templow":9,"cf":10,"wind":20,"wd":190,"hum":88,"pc":24,"rain":0.9 },{"date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":18,"desc":"Light rain. Mostly cloudy.","temp":13,"templow":4,"cf":2,"wind":20,"wd":240,"hum":78,"pc":56,"rain":5.4 },{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":8,"templow":5,"cf":4,"wind":21,"wd":270,"hum":75,"pc":53,"rain":1.3 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":33,"desc":"Rain showers. Overcast.","temp":8,"templow":5,"cf":4,"wind":14,"wd":240,"hum":82,"pc":62,"rain":5.9 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":4,"desc":"Partly cloudy.","temp":9,"templow":3,"cf":2,"wind":15,"wd":310,"hum":71,"pc":49,"rain":0.3 },{"hl":true,"hls":"23 Dec – 29 Dec","date":1734912E6,"ts":"Mon, 23","ds":"Mon, 23 Dec","icon":18,"desc":"Light rain. Overcast.","temp":8,"templow":4,"cf":4,"wind":23,"wd":290,"hum":75,"pc":59,"rain":4.2 },{"date":17349984E5,"ts":"Tue, 24","ds":"Tue, 24 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":10,"templow":4,"cf":7,"wind":13,"wd":250,"hum":93,"pc":47,"rain":0.3 },{"date":17350848E5,"ts":"Wed, 25","ds":"Wed, 25 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":11,"templow":6,"cf":8,"wind":18,"wd":240,"hum":92,"pc":57,"rain":0.9 },{"date":17351712E5,"ts":"Thu, 26","ds":"Thu, 26 Dec","icon":18,"desc":"Light rain early. Decreasing cloudiness.","temp":9,"templow":6,"cf":6,"wind":12,"wd":310,"hum":77,"pc":64,"rain":5.1 }],"grid":{"temp":{"low":3,"high":14,"range":11},"prec":{"high":5.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/MSato_Phaethon-and-Geminids-v2.jpg',
		Title:     'Phaethon\'s Brood',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/MSato_Phaethon-and-Geminids-v1.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241212.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Marcelo_Rebelo_de_Sousa_%28Web_Summit%29.jpg/300px-Marcelo_Rebelo_de_Sousa_%28Web_Summit%29.jpg',
		Title:    'Marcelo Rebelo de Sousa',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Marcelo_Rebelo_de_Sousa',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Marcelo_Rebelo_de_Sousa" title="Marcelo Rebelo de Sousa">Marcelo Rebelo de Sousa</a></b> (born 12&#160;December 1948) is a Portuguese politician and academic. He has been the 20th and current <a href="https://en.wikipedia.org/wiki/President_of_Portugal" title="President of Portugal">president of Portugal</a> since 9&#160;March 2016. As a member of the <a href="https://en.wikipedia.org/wiki/Social_Democratic_Party_(Portugal)" title="Social Democratic Party (Portugal)">Social Democratic Party</a>, he previously served as a <a href="https://en.wikipedia.org/wiki/Minister_(government)" title="Minister (government)">minister</a> and parliamentarian in the <a href="https://en.wikipedia.org/wiki/Assembly_of_the_Republic_(Portugal)" title="Assembly of the Republic (Portugal)">Assembly of the Republic</a>. This photograph of Rebelo de Sousa was taken in 2017 at <a href="https://en.wikipedia.org/wiki/Web_Summit" title="Web Summit">Web Summit</a>, an annual technology conference held in <a href="https://en.wikipedia.org/wiki/Lisbon" title="Lisbon">Lisbon</a>.<small style="display: block; margin-top: 0.8em;">Photograph credit: João Pedro Correia</small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1733983200,"duration":12600,"svcId":560,"evtId":29890,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733995740,"availabilityEnd":1734082140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025vk2\u0026ui_id=4.0.0"}},{"name":"Morning Live at Christmas","description":"Gordon Smart and Jacqui Joseph talk to former detective Rav Wilding about digital theft. Also, Dr Tharaka\u0027s guide on reading body language. [S] [HD]","startTime":1733995800,"duration":4500,"svcId":560,"evtId":29891,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb9jx4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734000290,"availabilityEnd":1765536290,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025vk4\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":129},{"name":"Caught Red Handed","description":"16\/20. A family track a gang of car thieves via a signal from their daughter\u0027s stolen earphones. [S] [HD]","startTime":1734000300,"duration":1800,"svcId":560,"evtId":29892,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f32z8v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734002076,"availabilityEnd":1736594076,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rkxp\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":16},{"name":"Celebrity Homes Under the Hammer","description":"Broadcasting icon Sarah Greene teams up with Jacqui to explore a three-bedroom terrace in Northampton, where the work is already underway. [S,AD] [HD]","startTime":1734002100,"duration":3600,"svcId":560,"evtId":29929,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6shsj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734005702,"availabilityEnd":1765628082,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wl4\u0026ui_id=4.0.0"},"seriesNo":41},{"name":"Bargain Hunt","description":"Danny Sebastian finds out the engineering genius behind Britain\u0027s longest and steepest set of staircase canal locks in Northamptonshire, while the teams hunt for bargains. [S,AD] [HD]","startTime":1734005700,"duration":2700,"svcId":560,"evtId":29893,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gbxm5b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734004740,"availabilityEnd":1736600402,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001qh65\u0026ui_id=4.0.0"},"seriesNo":66},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1734008400,"duration":3600,"svcId":560,"evtId":29894,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":184},{"name":"Countryfile Treasures","description":"The team return to the Cumbrian fells to learn of 16-year-old shepherdess Katie and her family\u0027s Christmas traditions on their upland farm. [S] [HD]","startTime":1734012000,"duration":3600,"svcId":560,"evtId":29967,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h1x271.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734015545,"availabilityEnd":1736607545,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001twqp\u0026ui_id=4.0.0"}},{"name":"Escape to the Country","description":"9\/55. Steve Brown helps a London couple, with \u00a3425,000 to spend, find a new home and less hectic lifestyle in Yorkshire. [S] [HD]","startTime":1734015600,"duration":2700,"svcId":560,"evtId":29897,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gfypsm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734018259,"availabilityEnd":1736610259,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001qxcd\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":9},{"name":"The Vintage French Farmhouse","description":"9\/20. Three antiques dealers visit L\u0027Isle-sur-la-Sorgue to find two hidden treasures each, to buy, then sell online for the most profit. [S] [HD]","startTime":1734018300,"duration":2700,"svcId":560,"evtId":29898,"image":"\/ms\/img\/epg\/rb\/fec6-p0ggrkqj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734020976,"availabilityEnd":1736612976,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0gcvqz3\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":9},{"name":"Antiques Road Trip","description":"9\/25. David and Catherine go digging for bargains on the Jurassic Coast. Catherine is attracted to old iron, David is daft for Delft, and they shake it all up with a cocktail. [S] [HD]","startTime":1734021000,"duration":2700,"svcId":560,"evtId":29899,"image":"\/ms\/img\/epg\/rb\/fec6-p0f2w9vr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734023689,"availabilityEnd":1736615689,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jg4s\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":9},{"name":"Pointless","description":"2\/48. Alexander Armstrong is joined by co-host Hugh Dennis for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1734023700,"duration":2700,"svcId":560,"evtId":29900,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hm8cjm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1712250000,"availabilityEnd":1743786000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xxs1\u0026ui_id=4.0.0"},"seriesNo":31,"episodeNo":2},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1734026400,"duration":1800,"svcId":560,"evtId":29901,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734028290,"availabilityEnd":1734114690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkc\u0026ui_id=4.0.0"},"episodeNo":184},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734028200,"duration":1800,"svcId":560,"evtId":29902,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734029895,"availabilityEnd":1734116295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkf\u0026ui_id=4.0.0"},"episodeNo":256},{"name":"The One Show","description":"McFly star Tom Fletcher and Hollywood stars Kerry Washington and Tyler Perry join Roman and Lauren on the show. [S] [HD]","startTime":1734030000,"duration":1800,"svcId":560,"evtId":29930,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734031809,"availabilityEnd":1736623809,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025wl6\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"It\u0027s crunch time for those who love Linda, Jay tries to reach out to a loved one in need, and Lauren\u0027s behaviour causes concern. [S,AD] [HD]","startTime":1734031800,"duration":1800,"svcId":560,"evtId":29968,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89nmc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733983200,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x51\u0026ui_id=4.0.0"},"episodeNo":7030},{"name":"Celebrity Escape to the Country","description":"1\/6. On your marks for an Escape to the Country of Olympic proportions, as sprinter Linford Christie looks for a slower lifestyle in the countryside, with the help of Alistair Appleton. [S] [HD]","startTime":1734033600,"duration":3600,"svcId":560,"evtId":29969,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6td57.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734037222,"availabilityEnd":1767470445,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025ysm\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"MasterChef: The Professionals","description":"21\/21. It\u0027s the grand final, and everything the three finalists have worked towards reaches a crescendo as the judges decide who among them will be crowned champion. [S,AD] [HD]","startTime":1734037200,"duration":3600,"svcId":560,"evtId":29970,"image":"\/ms\/img\/epg\/rb\/fec6-p0k8k96r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734040793,"availabilityEnd":1893391200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025x56\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":21},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1734040800,"duration":1800,"svcId":560,"evtId":29903,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734042690,"availabilityEnd":1734129090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkh\u0026ui_id=4.0.0"},"episodeNo":184},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734042600,"duration":600,"svcId":560,"evtId":29904,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734043050,"availabilityEnd":1734129450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkk\u0026ui_id=4.0.0"},"episodeNo":220},{"name":"Question Time","description":"Fiona Bruce presents topical debate from Beckenham in South London. On the panel: Wes Streeting MP, Tom Tugendhat MP, Christine Jardine MP, Emma Dabiri and Piers Morgan. [S] [HD]","startTime":1734043200,"duration":3600,"svcId":560,"evtId":29905,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734046844,"availabilityEnd":1765582844,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkm\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Newscast","description":"Lighthearted discussion of the week\u0027s political events. [S] [HD]","startTime":1734046800,"duration":1800,"svcId":560,"evtId":29906,"image":"\/ms\/img\/epg\/rb\/fec6-p0gyf0ss.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734048660,"availabilityEnd":1736640660,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkp\u0026ui_id=4.0.0"},"episodeNo":23},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1734048600,"duration":300,"svcId":560,"evtId":29907,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734048959,"availabilityEnd":1734653759,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vkr\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1734048900,"duration":20700,"svcId":560,"evtId":29908,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":256}]},{"channelid":700,"offset":0,"event":[{"name":"Escape to the Country","description":"24\/55. Sonali Shah is in magnificent Northumberland, helping three generations of the same family to escape from Leicester and find a new rural home together. [S] [HD]","startTime":1733984100,"duration":2700,"svcId":700,"evtId":21446,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5vwbf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733845487,"availabilityEnd":1765381487,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x26\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":24},{"name":"Celebrity Homes Under the Hammer","description":"Owain shows friend and pop sensation Ian \u0027H\u0027 Watkins around a Step-tacular, tiny home in the historic town of Stratford-upon-Avon. [S,AD] [HD]","startTime":1733986800,"duration":3600,"svcId":700,"evtId":21447,"image":"\/ms\/img\/epg\/rb\/fec6-p0k6shp1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733919316,"availabilityEnd":1765628082,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wlh\u0026ui_id=4.0.0"},"seriesNo":41},{"name":"Gardeners\u0027 World Winter Specials","description":"3\/4. Frances Tophill finds out what it takes to look after some of the world\u0027s rarest and most endangered plants as she goes behind the scenes at the Royal Botanic Garden Edinburgh. [S,AD,SL] [HD]","startTime":1733990400,"duration":3600,"svcId":700,"evtId":21386,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5hnf6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733518881,"availabilityEnd":1765659750,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025px4\u0026ui_id=4.0.0"},"seriesNo":23,"episodeNo":3},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1733994000,"duration":11700,"svcId":700,"evtId":21342,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"What will the government\u0027s housebuilding plans mean for local communities? And what will new Brexit rules mean for small businesses? [S] [HD]","startTime":1734005700,"duration":2700,"svcId":700,"evtId":21343,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734008415,"availabilityEnd":1736600415,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025vmz\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"49\/50. The quiz show where players must avoid Impossible answers to stay in the competition. 18 people start today\u0027s show but how many of them will survive to face the \u00a310,000 Question? [S] [HD]","startTime":1734008400,"duration":2700,"svcId":700,"evtId":21344,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734011085,"availabilityEnd":1736603085,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0008ztt\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":49},{"name":"The Tournament","description":"28\/30. Eight players do battle in the ultimate knockout quiz. Only one will be left standing at the end, but will they reach the Golden Run and double their money? Hosted by Alex Scott. [S] [HD]","startTime":1734011100,"duration":2700,"svcId":700,"evtId":21345,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d7hwg5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734013772,"availabilityEnd":1736605772,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001djnw\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":28},{"name":"Beat the Pack","description":"19\/20. Jake Humphrey hosts the general knowledge quiz where contestants can win money if they can give a correct answer to a question before all their opponents in the Pack do. [S] [HD]","startTime":1734013800,"duration":2700,"svcId":700,"evtId":21346,"image":"\/ms\/img\/epg\/rb\/ae0c-p01l9d8p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734016459,"availabilityEnd":1736608459,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b01rkyyv\u0026ui_id=4.0.0"},"episodeNo":19},{"name":"Nigel Slater\u0027s 12 Tastes of...","description":"...Christmas. Nigel Slater shares the flavours that for him make Christmas a truly delicious season, and demonstrates how to cook food designed to bring comfort and joy. [S,AD] [HD]","startTime":1734016500,"duration":3600,"svcId":700,"evtId":21347,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k77shg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734020067,"availabilityEnd":1736612067,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b03mjxh6\u0026ui_id=4.0.0"}},{"name":"The Polar Bear Family and Me","description":"1\/3. Wildlife cameraman Gordon Buchanan follows a wild polar bear family over three seasons. In Svalbard, Gordon and the team find a polar bear birth den. [S,AD] [HD]","startTime":1734020100,"duration":3600,"svcId":700,"evtId":21348,"image":"\/ms\/img\/epg\/rb\/ae0c-p0903hsh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734023656,"availabilityEnd":1736615656,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b01py626\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Wrest Park, a 19th-century French-style chateau in Bedfordshire, with experts Christina Trevanion and David Harper. [S] [HD]","startTime":1734023700,"duration":2700,"svcId":700,"evtId":21349,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734026389,"availabilityEnd":1736618389,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b05s7v4m\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":24},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 4\/10. Clare Balding, Ivo Graham, Ugo Monye and Su Pollard test their general knowledge skills for a special festive show in Richard Osman\u0027s House of Games. [S] [HD]","startTime":1734026400,"duration":1800,"svcId":700,"evtId":21448,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dmvd05.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734028197,"availabilityEnd":1736620197,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gdv3\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":4},{"name":"Strictly - It Takes Two","description":"59\/60. Janette Manrara dishes up more backstage gossip as the remaining finalists drop by for a chat. And Vicky Gill reveals some of the weekend\u0027s costumes in Puttin\u0027 on the Glitz. [S] [HD]","startTime":1734028200,"duration":1800,"svcId":700,"evtId":21449,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734030075,"availabilityEnd":1765654335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025xzg\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":59},{"name":"Clive Myrie\u0027s Caribbean Treasures","description":"6\/6. Clive travels to Jamaica to find the school that produces the island\u0027s top sprinters, while in Cuba, he takes a motorcycle tour of Havana with Che Guevara\u0027s son. [S] [HD]","startTime":1734030000,"duration":3600,"svcId":700,"evtId":21450,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5tzyn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733292000,"availabilityEnd":1796363940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025nr8\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Remarkable Places to Eat Christmas","description":"Michel Roux Jr takes Fred to his favourite British city, Bristol, for a Christmas treat: from the perfect French bistro to a festive countryside escape and Jamaican jerk turkey. [S,AD] [HD]","startTime":1734033600,"duration":3600,"svcId":700,"evtId":21451,"image":"\/ms\/img\/epg\/rb\/fec6-p090hz5w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734037316,"availabilityEnd":1736629316,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qrxy\u0026ui_id=4.0.0"}},{"name":"Mortimer \u0026 Whitehouse: Gone...","description":"...Christmas Fishing 2021. Paul, Bob and Ted the dog travel to the north of England on a quest for an English salmon. [S,AD] [HD]","startTime":1734037200,"duration":3600,"svcId":700,"evtId":21452,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b8xzyc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1672089300,"availabilityEnd":1769839140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012y90\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"Motherland","description":"5\/6. Anne\u0027s new car propels her into the limelight. Liz and Julia\u0027s friendship is under fire. Contains some strong language. [S,AD] [HD]","startTime":1734040800,"duration":1800,"svcId":700,"evtId":21453,"image":"\/ms\/img\/epg\/rb\/fec6-p05lpzlj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731304800,"availabilityEnd":1891641540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p05j39xn\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Faisal Islam. [S] [HD]","startTime":1734042600,"duration":1800,"svcId":700,"evtId":21350,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734044550,"availabilityEnd":1765580550,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vn1\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1734044400,"duration":300,"svcId":700,"evtId":21351,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734044765,"availabilityEnd":1734131165,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025vn3\u0026ui_id=4.0.0"}},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. In a festive special, Rom visits the Sahara Desert. Contains some strong language. [S,AD] [HD]","startTime":1734044700,"duration":3600,"svcId":700,"evtId":21454,"image":"\/ms\/img\/epg\/rb\/fec6-p07xpv89.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1748494740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000crgc\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"MasterChef: The Professionals","description":"18\/21. The semi-finals come to an end, with a stunning task that will require the five remaining chefs to draw on every reserve they can muster, if they hope to make it to finals week. [S,AD,SL] [HD]","startTime":1734048300,"duration":3600,"svcId":700,"evtId":21455,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6zl2k.jpg","hasTstv":false,"seriesNo":22,"episodeNo":18},{"name":"A Cook Abroad: Dave Myers\u0027 Egypt","description":"1\/6. Hairy Biker Dave Myers travels to Egypt in search of the origins of some favourite dishes. He samples street food in Cairo, a family feast in Aswan and more along the River Nile. [S,AD,SL] [HD]","startTime":1734051900,"duration":3600,"svcId":700,"evtId":21456,"image":"\/ms\/img\/epg\/rb\/fec6-p02hx3cm.jpg","hasTstv":false,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1734055500,"duration":14100,"svcId":700,"evtId":21352,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('392');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('41');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'mcvLKldPM08', title: "28 YEARS LATER – Official Trailer (HD)", label: "28 YEARS LATER – Official Trailer (HD) by Sony Pictures Entertainment 10,958,228 views 2 days ago 2 minutes, 13 seconds" },
{ id: 'PtAoX2WkHGA', title: "Man City Stunned In Turin 😬 | Juventus 2-0 Man City | UEFA Champions League Highlights", label: "Man City Stunned In Turin 😬 | Juventus 2-0 Man City | UEFA Champions League Highlights by TNT Sports 779,468 views 17 hours ago 5 minutes, 40 seconds" },
{ id: 'YWWPHY6eeok', title: "Thierry Henry \u0026 Jamie Carragher react to Manchester City's CRISIS | UCL Today | CBS Sports Golazo", label: "Thierry Henry \u0026 Jamie Carragher react to Manchester City's CRISIS | UCL Today | CBS Sports Golazo by CBS Sports Golazo 314,228 views 16 hours ago 8 minutes, 18 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Kes (1969)">Kes (1969)</a></li><li><a href="https://www.google.com/search?q=Films+-+Cries and Whispers (1972)">Cries and Whispers (1972)</a></li><li><a href="https://www.google.com/search?q=Films+-+Consent (2023)">Consent (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Falling (2014)">The Falling (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+Pandora\'s Box (1929)">Pandora\'s Box (1929)</a></li><li><a href="https://www.google.com/search?q=Films+-+Melancholia (2011)">Melancholia (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+Hive (2021)">Hive (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Fruit of Paradise (1970)">Fruit of Paradise (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+A Letter to Three Wives (1949)">A Letter to Three Wives (1949)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Diary of a Teenage Girl (2015)">The Diary of a Teenage Girl (2015)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Dec 11, 2024",
		"vs Day":      "Tue, Dec 10, 2024",
		"vs Week":     "Wed, Dec 04, 2024",
		"vs Month":    "Tue, Nov 12, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£231.49/share",
		'vs Day':      "+0.46%",
		'vs Week':     "-0.44%",
		'vs Month':    "+1.90%",
		'vs Year':     "+21.67%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '90.1',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 12 December and 13 December">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.901&p=0.473&r=0.418',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:07',
		Set:      '15:52',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Pastiche</em> refers to something (such as a piece of writing, music, etc.) that imitates the style of someone or something else. It can also refer to a work that is made up of selections from multiple other works, or it can be used as a synonym of <a href="https://www.merriam-webster.com/dictionary/hodgepodge"><em>hodgepodge</em></a>.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>