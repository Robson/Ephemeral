<!DOCTYPE html>
<html lang="en">
	<head>
		<title>15:42 15-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Jay Slater search teams find body, police say</b><br/>The 19-year-old from Lancashire has been missing in Tenerife for more than a month." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c0jjv3k10yqo">Jay Slater search teams find body, police say</a></li><li class="ttt" data-tt="<b>Spiking to be made specific offence in King\'s Speech</b><br/>The government is set to introduce a new law to make spiking a specific criminal offence in this week\'s King\'s Speech."><a href="https://www.bbc.com/news/articles/c2x0ev00rzmo">Spiking to be made specific offence in King\'s Speech</a></li><li class="ttt" data-tt="<b>Heavy rain warnings issued as cool, wet summer continues</b><br/>Flooding, travel disruption and power cuts are possible as more wet weather hits the UK."><a href="https://www.bbc.com/weather/articles/c6p2nq0x7p5o">Heavy rain warnings issued as cool, wet summer continues</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c0jjv3k10yqo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6569/live/df838ec0-42a6-11ef-96a8-e710c6bfc866.png" class="ttt" data-tt="Jay Slater smiles as he takes a selfie in the street. he is wearing a grey T-shirt with green shoulders and has short brown hair. A man can be seen behind him wearing sunglasses." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Five questions for Secret Service after Trump shooting</b><br/>Former agents ask whether the event was properly resourced - and whether warnings about the gunman were passed on." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd1jz027nrzo">Five questions for Secret Service after Trump shooting</a></li><li class="ttt" data-tt="<b>\'I was saved by luck or God,\' Trump says</b><br/>The former president says he was lucky to survive Saturday\'s attack."><a href="https://www.bbc.com/news/articles/c29dn2j53w2o">\'I was saved by luck or God,\' Trump says</a></li><li class="ttt" data-tt="<b>Tragedy at Trump rally upends election campaign - for now</b><br/>Saturday\'s shooting showed political narratives can shift in seconds. Yet the race remains close."><a href="https://www.bbc.com/news/articles/cd172rp02e0o">Tragedy at Trump rally upends election campaign - for now</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd1jz027nrzo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/369a/live/49bbb390-42b0-11ef-96a8-e710c6bfc866.jpg" class="ttt" data-tt="Secret Service agents around Donald Trump " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Five questions for Secret Service after Trump shooting</b><br/>Former agents ask whether the event was properly resourced - and whether warnings about the gunman were passed on." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd1jz027nrzo">Five questions for Secret Service after Trump shooting</a></li><li class="ttt" data-tt="<b>\'I was saved by luck or God,\' Trump says</b><br/>The former president says he was lucky to survive Saturday\'s attack."><a href="https://www.bbc.com/news/articles/c29dn2j53w2o">\'I was saved by luck or God,\' Trump says</a></li><li class="ttt" data-tt="<b>Tragedy at Trump rally upends election campaign - for now</b><br/>Saturday\'s shooting showed political narratives can shift in seconds. Yet the race remains close."><a href="https://www.bbc.com/news/articles/cd172rp02e0o">Tragedy at Trump rally upends election campaign - for now</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd1jz027nrzo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/369a/live/49bbb390-42b0-11ef-96a8-e710c6bfc866.jpg" class="ttt" data-tt="Secret Service agents around Donald Trump " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>How to follow Hungarian GP on the BBC</b><br/>All the key details of BBC coverage of the Hungarian Grand Prix in Budapest from 19-21 July." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cmj2zgpenx5o">How to follow Hungarian GP on the BBC</a></li><li class="ttt" data-tt="<b>F1 announces six sprint races venues for 2025</b><br/>Formula 1 announces the six grands prix which will host events in the sprint format in 2025."><a href="https://www.bbc.com/sport/formula1/articles/cmm2z0l41p3o">F1 announces six sprint races venues for 2025</a></li><li class="ttt" data-tt="<b>Andrew Benson Q&A: Send us your questions</b><br/>Our F1 correspondent Andrew Benson will do a weekly Q&A this season, so get your questions in now."><a href="https://www.bbc.com/sport/formula1/articles/cv22xdd1l09o">Andrew Benson Q&A: Send us your questions</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cmj2zgpenx5o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/788b/live/449a4520-42a6-11ef-b83f-157e38fc9c03.jpg" class="ttt" data-tt="Max Verstappan and Lewis Hamilton contest the lead at the first corner of the 2023 Hungarian Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>As Apple headset reaches Europe, will VR ever hit the mainstream?</b><br/>As Apple\'s Vision Pro headset launches in the UK, can it finally kickstart the virtual reality market?" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c51yl7q8z42o">As Apple headset reaches Europe, will VR ever hit the mainstream?</a></li><li class="ttt" data-tt="<b>EU says X’s blue tick accounts deceive users</b><br/>The EU says the way the social media site designs and operates blue tick accounts &quot;deceives&quot; users."><a href="https://www.bbc.com/news/articles/cw0y1ezpv5xo">EU says X’s blue tick accounts deceive users</a></li><li class="ttt" data-tt="<b>Pioneering British AI chip designer bought by Japanese firm</b><br/>Graphcore was once considered one of the country\'s most promising start-ups, with a £2bn valuation."><a href="https://www.bbc.com/news/articles/c3gd1n5kmy5o">Pioneering British AI chip designer bought by Japanese firm</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c51yl7q8z42o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3dc9/live/c60fd530-405c-11ef-8575-23a95e527259.jpg" class="ttt" data-tt="A woman using the Vision Pro headset inside an Apple store. It looks like a sleek, shiny, curvy, futuristic pair of goggles strapped to her face. You&#x27;d almost say it looks cool." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"15 Jul – 21 Jul","date":17210016E5,"ts":"Mon, 15","ds":"Mon, 15 Jul","icon":19,"desc":"Rain late. Cloudy.","temp":19,"templow":9,"cf":17,"wind":9,"wd":110,"hum":77,"pc":48,"rain":5.1 },{"date":1721088E6,"ts":"Tue, 16","ds":"Tue, 16 Jul","icon":33,"desc":"Passing showers. Cloudy.","temp":19,"templow":12,"cf":18,"wind":13,"wd":300,"hum":75,"pc":63,"rain":3.4 },{"date":17211744E5,"ts":"Wed, 17","ds":"Wed, 17 Jul","icon":33,"desc":"Showers late. Afternoon clouds.","temp":22,"templow":11,"cf":24,"wind":6,"wd":180,"hum":58,"pc":22,"rain":0.5 },{"date":17212608E5,"ts":"Thu, 18","ds":"Thu, 18 Jul","icon":18,"desc":"Sprinkles. Overcast.","temp":22,"templow":14,"cf":20,"wind":2,"wd":230,"hum":62,"pc":22,"rain":0.8 },{"date":17213472E5,"ts":"Fri, 19","ds":"Fri, 19 Jul","icon":33,"desc":"Showers late. Overcast.","temp":25,"templow":12,"cf":25,"wind":11,"wd":220,"hum":61,"pc":38,"rain":1},{"date":17214336E5,"ts":"Sat, 20","ds":"Sat, 20 Jul","icon":18,"desc":"Sprinkles. Overcast.","temp":20,"templow":12,"cf":19,"wind":14,"wd":200,"hum":74,"pc":42,"rain":1.8 },{"date":172152E7,"ts":"Sun, 21","ds":"Sun, 21 Jul","icon":18,"desc":"Sprinkles late. Cloudy.","temp":17,"templow":10,"cf":14,"wind":13,"wd":180,"hum":79,"pc":42,"rain":1.2 },{"hl":true,"hls":"22 Jul – 28 Jul","date":17216064E5,"ts":"Mon, 22","ds":"Mon, 22 Jul","icon":33,"desc":"Passing showers. Morning clouds.","temp":22,"templow":14,"cf":24,"wind":18,"wd":240,"hum":60,"pc":38,"rain":1.9 },{"date":17216928E5,"ts":"Tue, 23","ds":"Tue, 23 Jul","icon":33,"desc":"Passing showers. Scattered clouds.","temp":20,"templow":13,"cf":20,"wind":17,"wd":260,"hum":52,"pc":43,"rain":0.3 },{"date":17217792E5,"ts":"Wed, 24","ds":"Wed, 24 Jul","icon":18,"desc":"Sprinkles. Morning clouds.","temp":18,"templow":12,"cf":18,"wind":17,"wd":260,"hum":73,"pc":56,"rain":1.2 },{"date":17218656E5,"ts":"Thu, 25","ds":"Thu, 25 Jul","icon":18,"desc":"Sprinkles late. Broken clouds.","temp":19,"templow":12,"cf":19,"wind":9,"wd":300,"hum":54,"pc":44,"rain":0.3 },{"date":1721952E6,"ts":"Fri, 26","ds":"Fri, 26 Jul","icon":33,"desc":"Showers late. Overcast.","temp":20,"templow":12,"cf":19,"wind":12,"wd":220,"hum":67,"pc":53,"rain":1.1 },{"date":17220384E5,"ts":"Sat, 27","ds":"Sat, 27 Jul","icon":21,"desc":"Isolated tstorms. Overcast.","temp":20,"templow":13,"cf":20,"wind":8,"wd":220,"hum":63,"pc":58,"rain":1.4 },{"date":17221248E5,"ts":"Sun, 28","ds":"Sun, 28 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":20,"templow":15,"cf":20,"wind":14,"wd":220,"hum":84,"pc":59,"rain":6.4 },{"hl":true,"hls":"29 Jul – 4 Aug","date":17222112E5,"ts":"Mon, 29","ds":"Mon, 29 Jul","icon":6,"desc":"Mostly cloudy.","temp":20,"templow":15,"cf":20,"wind":11,"wd":270,"hum":58,"pc":6}],"grid":{"temp":{"low":9,"high":25,"range":16},"prec":{"high":6.4},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/TadpoleGalaxy_HubblePathak_960.jpg',
		Title:     'The Tadpole Galaxy from Hubble',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/TadpoleGalaxy_HubblePathak_3751.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240715.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Bronze-winged_jacana_%28Metopidius_indicus%29.jpg/400px-Bronze-winged_jacana_%28Metopidius_indicus%29.jpg',
		Title:    'Bronze-winged jacana',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Bronze-winged_jacana',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Bronze-winged_jacana" title="Bronze-winged jacana">bronze-winged jacana</a></b> (<i>Metopidius indicus</i>) is a <a href="https://en.wikipedia.org/wiki/Wader" title="Wader">wader</a> in the family <a href="https://en.wikipedia.org/wiki/Jacanidae" title="Jacanidae">Jacanidae</a>. It is found across South and Southeast Asia. Like other jacanas, it forages on lilies and other floating aquatic vegetation, using its long feet and legs for balance. The sexes are alike but females are slightly larger and are <a href="https://en.wikipedia.org/wiki/Polyandry_in_animals" title="Polyandry in animals">polyandrous</a>, maintaining a harem of males during the breeding season in the <a href="https://en.wikipedia.org/wiki/Monsoon" title="Monsoon">monsoon</a> rains. Males maintain territories, with one male in the harem chosen to incubate the eggs and take care of the young. When threatened, young chicks may be carried to safety by the male under his wings. This bronze-winged jacana was photographed in <a href="https://en.wikipedia.org/wiki/Kumarakom" title="Kumarakom">Kumarakom</a> on the shore of <a href="https://en.wikipedia.org/wiki/Vembanad" title="Vembanad">Vembanad</a>, the largest lake in the Indian state of <a href="https://en.wikipedia.org/wiki/Kerala" title="Kerala">Kerala</a>.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1721019600,"duration":12600,"svcId":560,"evtId":26107,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721030400,"availabilityEnd":1721118540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021527\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Helen Skelton and Gaby Roslin talk to Dr Xand about how sport can tackle loneliness, and there is water bill support with Colletta Smith and luggage tag craft with Sara Davies. [S] [HD]","startTime":1721032200,"duration":4500,"svcId":560,"evtId":26108,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbhn09.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721036655,"availabilityEnd":1752572655,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021529\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":56},{"name":"Close Calls: On Camera","description":"3\/20. A helicopter rescue mission for an injured climber, stranded after plummeting down a rock face. And a cyclist\u0027s brush with death as a giant hay bale falls from a passing tractor. [S] [HD]","startTime":1721036700,"duration":1800,"svcId":560,"evtId":26109,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fwltsp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687944599,"availabilityEnd":1723630475,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nb6w\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":3},{"name":"Homes Under the Hammer","description":"35\/80. Featuring a terraced cottage in Kent, a two-bed semi-detached with a wonderful garden in Suffolk and a four-bedroom terrace near Coventry. [S,AD] [HD]","startTime":1721038500,"duration":3600,"svcId":560,"evtId":26110,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch5k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721042077,"availabilityEnd":1723634077,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0019mkj\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":35},{"name":"Bargain Hunt","description":"Two teams hunt for bargains in Hemswell. It\u0027s a creature that comes in various guises, but can Eric find out who is responsible for the modern popularity of the Lincoln Imp? [S,AD] [HD]","startTime":1721042100,"duration":2700,"svcId":560,"evtId":26165,"image":"\/ms\/img\/epg\/rb\/fec6-p0j92lwv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721044798,"availabilityEnd":1752580798,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00215hz\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1721044800,"duration":3600,"svcId":560,"evtId":26111,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":76},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"10\/15. Clive makes gelato and learns why it\u0027s healthier than ice cream, gets a makeover from Florence\u0027s most stylish man, and stays in a hotel that\u0027s a homage to Italian design. [S] [HD]","startTime":1721048400,"duration":1800,"svcId":560,"evtId":26114,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fk2y09.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1714582800,"availabilityEnd":1840815000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdrrcb\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"Animal Park","description":"13\/15. It\u0027s training day for the park\u0027s youngest camel, and a new era begins in wolf wood. [S,AD] [HD]","startTime":1721050200,"duration":1800,"svcId":560,"evtId":26166,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g6t3tr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692797413,"availabilityEnd":1724506204,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pvtp\u0026ui_id=4.0.0"},"seriesNo":35,"episodeNo":13},{"name":"Escape to the Country","description":"52\/55. Nicki Chapman\u0027s buyers have spent the last 25 years living and working in America. They now want to find their new, forever home in the Aberdeenshire countryside. [S] [HD]","startTime":1721052000,"duration":2700,"svcId":560,"evtId":26167,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j91xj8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721054711,"availabilityEnd":1752590711,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00215j2\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":52},{"name":"The Repair Shop","description":"5\/14. The team tackle a rare historic painting, a vintage sewing machine and a Beatles souvenir from the Swinging Sixties. [S,AD] [HD]","startTime":1721054700,"duration":2700,"svcId":560,"evtId":26115,"image":"\/ms\/img\/epg\/rb\/ae0c-p09pdlhz.jpg","hasTstv":false,"seriesNo":13,"episodeNo":5},{"name":"The Finish Line","description":"13\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1721057400,"duration":2700,"svcId":560,"evtId":26168,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hxph2y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721060100,"availabilityEnd":1723960800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zhb6\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":13},{"name":"Pointless","description":"47\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1721060100,"duration":2700,"svcId":560,"evtId":26116,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g5vrxl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692637200,"availabilityEnd":1724173200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pwcg\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":47},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1721062800,"duration":1800,"svcId":560,"evtId":26117,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721064690,"availabilityEnd":1721151090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002152k\u0026ui_id=4.0.0"},"episodeNo":76},{"name":"BBC London","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1721064600,"duration":1800,"svcId":560,"evtId":26118,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721066295,"availabilityEnd":1721152695,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002152m\u0026ui_id=4.0.0"},"episodeNo":106},{"name":"The One Show","description":"Hollywood actor Josh Hartnett joins Alex Jones and Jermaine Jenas on the sofa, alongside Olympic champion Linford Christie and actor Alan Cumming. [S] [HD]","startTime":1721066400,"duration":1800,"svcId":560,"evtId":26169,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721068260,"availabilityEnd":1723660260,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00215j4\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Cindy grows suspicious and is determined to get answers, Lauren is offended by an outside observation, and Bobby takes matters into his own hands. [S,AD] [HD]","startTime":1721068200,"duration":1800,"svcId":560,"evtId":26219,"image":"\/ms\/img\/epg\/rb\/fec6-p0j9prn5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721019600,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00215yc\u0026ui_id=4.0.0"},"episodeNo":6943},{"name":"Britain\u0027s Child Health Crisis -...","description":"...Panorama. Rahil Sheikh discovers what\u0027s causing Britain\u0027s child health crisis and how to fix it. [S] [HD]","startTime":1721070000,"duration":1800,"svcId":560,"evtId":26220,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jb2t23.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721019600,"availabilityEnd":1752555600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00215yf\u0026ui_id=4.0.0"}},{"name":"Trump Assassination Attempt:...","description":"...What Happened?. How the shooting of former US president Donald Trump unfolded. Watch first-hand accounts from BBC journalists and eyewitnesses who were at the scene in Pennsylvania. [S] [HD]","startTime":1721071800,"duration":1800,"svcId":560,"evtId":26431,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbcb1q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720980000,"availabilityEnd":1752447540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021kfq\u0026ui_id=4.0.0"}},{"name":"The Jetty","description":"1\/4. Recently widowed DC Ember Manning suspects there\u0027s a predator targeting underage girls. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1721073600,"duration":3600,"svcId":560,"evtId":26222,"image":"\/ms\/img\/epg\/rb\/fec6-p0j9yspy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721019600,"availabilityEnd":1752555600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020ys9\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1721077200,"duration":1800,"svcId":560,"evtId":26119,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721079090,"availabilityEnd":1721165490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002152p\u0026ui_id=4.0.0"},"episodeNo":76},{"name":"BBC London","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1721079000,"duration":600,"svcId":560,"evtId":26120,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721079450,"availabilityEnd":1721165850,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002152r\u0026ui_id=4.0.0"},"episodeNo":91},{"name":"We Hunt Together","description":"3\/6. The hunt for the killer intensifies as Lola and Jackson search for a link to Freddy. Contains very strong language and some upsetting scenes. [S,AD] [HD]","startTime":1721079600,"duration":2700,"svcId":560,"evtId":26223,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7lfmr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1736316000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020626\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"We Hunt Together","description":"4\/6. Freddy\u0027s games with the Birdman take an unexpected turn. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1721082300,"duration":2700,"svcId":560,"evtId":26224,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7lm33.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1736316000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020629\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"Peacock","description":"5\/6. Andy has low testosterone - will Kara\u0027s dubious new product help? Jonathan and Eunice start a torrid affair. Contains strong language and adult humour. [S,AD] [HD]","startTime":1721085000,"duration":1500,"svcId":560,"evtId":26225,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3gk48.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718686800,"availabilityEnd":1781758800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002040h\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Peacock","description":"6\/6. Jonathan and Eunice break up, while Andy and Spooner make up. Will Kara\u0027s influencer promises ruin everything? Contains very strong language. [S,AD] [HD]","startTime":1721086500,"duration":1800,"svcId":560,"evtId":26226,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j3gk79.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1718686800,"availabilityEnd":1781758800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002040k\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1721088300,"duration":300,"svcId":560,"evtId":26122,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721088763,"availabilityEnd":1721693563,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002152t\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1721088600,"duration":17400,"svcId":560,"evtId":26123,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":106}]},{"channelid":700,"offset":0,"event":[{"name":"Garden Rescue: Top of the Plots","description":"8\/10. Charlie and the Rich brothers remember their favourite eco gardens made to help Mother Nature, including a garden designed to attract bees. [S] [HD]","startTime":1721021400,"duration":2700,"svcId":700,"evtId":17616,"image":"\/ms\/img\/epg\/rb\/ae0c-p08nvrs9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721024139,"availabilityEnd":1723616139,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000lpw7\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":8},{"name":"Bargain Hunt","description":"Experts Ben Cooper and Kate Bliss lead two teams of friends around a huge antiques fair in Exeter before the items are sold at Tim Weeks\u0027s auction in Wiltshire. [S,AD] [HD]","startTime":1721024100,"duration":2700,"svcId":700,"evtId":17617,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j94b2f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720785579,"availabilityEnd":1752321579,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020zpc\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"The Repair Shop","description":"5\/25. A poignant reminder of the Aids crisis that killed so many young men in the 80s as Sonnaz helps Leigh honour his partner, Greg, who was lost. [S,AD,SL] [HD]","startTime":1721026800,"duration":3600,"svcId":700,"evtId":17618,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzj10j.jpg","hasTstv":false,"seriesNo":22,"episodeNo":5},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1721030400,"duration":11700,"svcId":700,"evtId":17621,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Reaction to the assassination attempt on Donald Trump. [S] [HD]","startTime":1721042100,"duration":2700,"svcId":700,"evtId":17623,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721044795,"availabilityEnd":1723636795,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00212f6\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"6\/30. The quiz show where players must avoid Impossible answers to stay in the competition. How many of today\u0027s players will survive to face the \u00a310,000 question? [S] [HD]","startTime":1721044800,"duration":2700,"svcId":700,"evtId":17625,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721047501,"availabilityEnd":1723639501,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000trtx\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":6},{"name":"Make Me a Dealer","description":"17\/20. Paul Martin teaches two antiques lovers the tricks of the trade and turns them into successful antiques dealers. Today, in Stafford, photographer Adris takes on upcycler Tim. [S] [HD]","startTime":1721047500,"duration":2700,"svcId":700,"evtId":17627,"image":"\/ms\/img\/epg\/rb\/ae0c-p07s2nnq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721050201,"availabilityEnd":1723642201,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0009v57\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":17},{"name":"The Customer Is Always Right","description":"1\/15. Customers test and score a multi-purpose beauty tool, a stoneware bread maker and a rear-view mirror for bicycles. [S] [HD]","startTime":1721050200,"duration":2700,"svcId":700,"evtId":17629,"image":"\/ms\/img\/epg\/rb\/ae0c-p089g86m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721052906,"availabilityEnd":1723644906,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000hk3j\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":1},{"name":"Coastal Defenders","description":"1\/8. The Coastal Defenders dive team tackle Brighton\u0027s tilting jetty. [S,AD] [HD]","startTime":1721052900,"duration":1800,"svcId":700,"evtId":17631,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f54ffj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721054716,"availabilityEnd":1723646716,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jplw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"B\u0026B by the Sea","description":"1\/15. Deborah Meaden has taken time out of her busy schedule to lend a hand to the B\u0026B team. She has a unique connection to the sea, making this visit even more personal. [S] [HD]","startTime":1721054700,"duration":1800,"svcId":700,"evtId":17633,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dgl8xq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721056503,"availabilityEnd":1723648503,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0df1727\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Cornwall: This Fishing Life","description":"1\/6. Whilst other fishing communities are feeling the pinch, Mevagissey on Cornwall\u0027s south coast bucks the trend. Can the next generation of young skippers make a go of it? [S,AD] [HD]","startTime":1721056500,"duration":3600,"svcId":700,"evtId":17635,"image":"\/ms\/img\/epg\/rb\/ae0c-p07ysykl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721060108,"availabilityEnd":1723652108,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000d24r\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Flog It!","description":"Flog It! comes from historic St Albans Cathedral and Abbey. Antique experts Claire Rawle and Jonathan Pratt find a selection of antiques to take to auction. [S] [HD]","startTime":1721060100,"duration":2700,"svcId":700,"evtId":17637,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721062805,"availabilityEnd":1723654805,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b08h8dxq\u0026ui_id=4.0.0"},"seriesNo":15,"episodeNo":18},{"name":"Robson Green\u0027s Weekend Escapes","description":"1\/15. Former footballer Les Ferdinand is coerced into the North Sea in a wetsuit as he joins Robson Green on a short break in Northumberland packed with memories and laughter. [S,AD] [HD]","startTime":1721062800,"duration":1800,"svcId":700,"evtId":17639,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dx5nrq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721064634,"availabilityEnd":1723656634,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0dp34s6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Great Continental Railway Journeys","description":"7\/10. Michael\u0027s 1936 Bradshaw\u0027s Continental Railways Guide brings him to the Italian \u0027treasure island\u0027 of Sicily, full of natural beauty and \u0027scenery of the greatest charm\u0027. [S,AD] [HD]","startTime":1721064600,"duration":1800,"svcId":700,"evtId":17641,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9zrgz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721066429,"availabilityEnd":1723658429,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000x9rn\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":7},{"name":"Grand Tours of Scotland\u0027s Rivers","description":"1\/3. Paul Murton sets off downstream to explore Scottish rivers from source to sea. [S] [HD]","startTime":1721066400,"duration":3600,"svcId":700,"evtId":17643,"image":"\/ms\/img\/epg\/rb\/fec6-p0b1vxl7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721069992,"availabilityEnd":1723661992,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001nbvj\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"Your Home Made Perfect","description":"6\/8. Two architects compete using virtual reality to remodel a 1990s build in Milton Keynes. Will the finished design fulfill the dreams of the family of six who live there? [S] [HD]","startTime":1721070000,"duration":3600,"svcId":700,"evtId":17645,"image":"\/ms\/img\/epg\/rb\/ae0c-p09x53zz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1666296000,"availabilityEnd":1760936340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0010csf\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":6},{"name":"The Turkish Detective","description":"4\/8. The Demir investigation feels like a wild goose chase until Ikmen decides to look much deeper into the past. Leyla begins to remember things from before her accident. [S,AD] [HD]","startTime":1721073600,"duration":3000,"svcId":700,"evtId":17647,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7k94p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720328400,"availabilityEnd":1811804340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zpfm\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"QI XS","description":"3\/6. A selection of classic pieces of general ignorance from QI. [S] [HD]","startTime":1721076600,"duration":600,"svcId":700,"evtId":17649,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gz57my.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721077405,"availabilityEnd":1723669405,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kc0n\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Spent","description":"2\/6. Mia faces a dilemma when the party she is using to network reveals a dark underbelly. Contains very strong language and adult humour [S,AD] [HD]","startTime":1721077200,"duration":1800,"svcId":700,"evtId":17651,"image":"\/ms\/img\/epg\/rb\/fec6-p0j7zzj1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1752010340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zprb\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1721079000,"duration":1800,"svcId":700,"evtId":17653,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721080980,"availabilityEnd":1752616980,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00216nn\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1721080800,"duration":300,"svcId":700,"evtId":17655,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721081135,"availabilityEnd":1721167535,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00216nq\u0026ui_id=4.0.0"}},{"name":"The Last Right","description":"A New York lawyer must deliver the body of a man he didn\u0027t know back to Northern Ireland. Contains strong language. [2019] [S] [HD]","startTime":1721081100,"duration":6000,"svcId":700,"evtId":17657,"image":"\/ms\/img\/epg\/rb\/fec6-p0czxh7f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721087224,"availabilityEnd":1723679224,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001c9y2\u0026ui_id=4.0.0"}},{"name":"Countryfile","description":"Matt Baker and Margherita Taylor visits Montacute in Somerset, home to an impressive 400-year-old Elizabethan mansion and some of the rarest wildlife in the UK. [S,SL] [HD]","startTime":1721087100,"duration":3600,"svcId":700,"evtId":17659,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9yy72.jpg","hasTstv":false},{"name":"Clean It, Fix It","description":"2\/20. The team help a family turn their busy dining area into a practical space. In just 24 hours, with a limited budget, they create serving and storage solutions. [S,SL] [HD]","startTime":1721090700,"duration":2700,"svcId":700,"evtId":17661,"image":"\/ms\/img\/epg\/rb\/fec6-p0h8fjyw.jpg","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"The Bidding Room","description":"2\/30. Nigel Havers presides as five sellers aim to get the best price for their items, including a dressing screen, a coracle, a toy steam engine, a car mascot and a theatrical prop clown. [S,SL] [HD]","startTime":1721093400,"duration":2700,"svcId":700,"evtId":17663,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hfqxvg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709828986,"availabilityEnd":1777044600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001x0vk\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1721096100,"duration":11700,"svcId":700,"evtId":17665,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Dinner Party: Frasier and Niles decide to throw a dinner party but can\u0027t agree on who they should invite. (S6 Ep17)  [AD,S]","startTime":1721016000,"duration":1500,"svcId":1500,"evtId":32737,"image":"\/ms\/img\/epg\/rb\/5d52-799250.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"Frasier","description":"Taps at the Montana: Niles wants his apartment back, but he must face up to both the snooty neighbours who think he is a menace and the person who is renting from him. (S6 Ep18)  [AD,S]","startTime":1721017500,"duration":1500,"svcId":1500,"evtId":32738,"image":"\/ms\/img\/epg\/rb\/5d52-801726.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Myleene Klass joins Susie Dent in Dictionary Corner.  [S]","startTime":1721019000,"duration":2400,"svcId":1500,"evtId":32739,"image":"\/ms\/img\/epg\/rb\/5d52-9635683.l.png","hasTstv":false},{"name":"Cheers","description":"The Belles of St Clete\u0027s: Carla calls together her former school classmates to plot revenge when she spots their sadistic principal having a drink at Cheers. (S3 Ep24\/25)  [S]","startTime":1721021400,"duration":1500,"svcId":1500,"evtId":32740,"image":"\/ms\/img\/epg\/rb\/5d52-231990.l.png","hasTstv":false,"seriesNo":3,"episodeNo":24},{"name":"Cheers","description":"Rescue Me: Frasier has proposed to Diane but instead of answering, she dashes to the phone to call Sam, hoping he\u0027ll declare undying love and rush to Italy to stop the wedding. (S3 Ep25\/25)  [S]","startTime":1721022900,"duration":1500,"svcId":1500,"evtId":32741,"image":"\/ms\/img\/epg\/rb\/5d52-233872.l.png","hasTstv":false,"seriesNo":3,"episodeNo":25},{"name":"Everybody Loves Raymond","description":"The Author: Ray has to face up to failure for once, while Robert is promoted to lieutenant, causing the brothers to fall out. (S5 Ep6)  [AD,S]","startTime":1721024400,"duration":1500,"svcId":1500,"evtId":32742,"image":"\/ms\/img\/epg\/rb\/5d52-1380371.l.png","hasTstv":false,"seriesNo":5,"episodeNo":6},{"name":"Everybody Loves Raymond","description":"The Walk to the Door: Ray feels guilty when he meets a woman he dated 25 years earlier and treated badly. He decides to apologise but soon regrets bringing up the past. (S5 Ep7)  [AD,S]","startTime":1721025900,"duration":1500,"svcId":1500,"evtId":32743,"image":"\/ms\/img\/epg\/rb\/5d52-1380477.l.png","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"Everybody Loves Raymond","description":"Young Girl: Robert is dating a 22-year-old woman. Debra and Marie think he\u0027s being foolish, but Ray and Frank aren\u0027t so sure. But is she really 22? (S5 Ep8)  [AD,S]","startTime":1721027400,"duration":1800,"svcId":1500,"evtId":32744,"image":"\/ms\/img\/epg\/rb\/5d52-1380626.l.png","hasTstv":false,"seriesNo":5,"episodeNo":8},{"name":"Everybody Loves Raymond","description":"Fighting In-Laws: Debra\u0027s parents come round for Thanksgiving dinner. Debra\u0027s so pleased that they\u0027re not like Frank and Marie - or are they? (S5 Ep9)  [AD,S]","startTime":1721029200,"duration":1800,"svcId":1500,"evtId":32745,"image":"\/ms\/img\/epg\/rb\/5d52-150642.l.png","hasTstv":false,"seriesNo":5,"episodeNo":9},{"name":"Frasier","description":"Three Dates and a Breakup (Part 1\/2): Frasier goes on dates with three very different women, while Martin and Sherry consider splitting up. (S4 Ep19)  [AD,S]","startTime":1721031000,"duration":1800,"svcId":1500,"evtId":32746,"image":"\/ms\/img\/epg\/rb\/5d52-1197409.l.png","hasTstv":false,"seriesNo":4,"episodeNo":19},{"name":"Frasier","description":"Three Dates and a Breakup (Part 2\/2): Frasier and Niles celebrate Sherry\u0027s departure with glee, but she won\u0027t give up on Martin that easily. (S4 Ep20)  [AD,S]","startTime":1721032800,"duration":1800,"svcId":1500,"evtId":32747,"image":"\/ms\/img\/epg\/rb\/5d52-624707.l.png","hasTstv":false,"seriesNo":4,"episodeNo":20},{"name":"Frasier","description":"Daphne Hates Sherry: Daphne and Sherry just can\u0027t get on, so Daphne decides to stay at Niles\u0027s apartment. And Niles can\u0027t believe his luck. (S4 Ep21)  [AD,S]","startTime":1721034600,"duration":1800,"svcId":1500,"evtId":32748,"image":"\/ms\/img\/epg\/rb\/5d52-593677.l.png","hasTstv":false,"seriesNo":4,"episodeNo":21},{"name":"Frasier","description":"Are You Being Served?: Frasier attempts to console a distraught Niles after Maris sends him their divorce papers. (S4 Ep22)  [AD,S]","startTime":1721036400,"duration":1800,"svcId":1500,"evtId":32749,"image":"\/ms\/img\/epg\/rb\/5d52-595602.l.png","hasTstv":false,"seriesNo":4,"episodeNo":22},{"name":"Undercover Boss USA","description":"John Fuller, CEO of The Coffee Bean \u0026 Tea Leaf, goes undercover to check on his shops\u0027 efficiency. Six years earlier, he did the same thing as CEO of diner chain Johnny Rockets. (S8 Ep6\/10)  [S]","startTime":1721038200,"duration":3300,"svcId":1500,"evtId":32750,"image":"\/ms\/img\/epg\/rb\/5d52-246965456.l.png","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1721041500,"duration":300,"svcId":1500,"evtId":32751,"image":"\/ms\/img\/epg\/rb\/5d52-9673123.l.png","hasTstv":false},{"name":"A New Life in the Sun","description":"The series that follows Brits chasing their dream lives. In Spain, a family transform a dated villa into a high-end B\u0026B, and two entrepreneurs team up for a new venture. (S9 Ep1)  [S]","startTime":1721041800,"duration":3600,"svcId":1500,"evtId":32752,"image":"\/ms\/img\/epg\/rb\/5d52-8701180.l.png","hasTstv":false,"seriesNo":9,"episodeNo":1},{"name":"Car S.O.S","description":"Ford Capri Mk1: In North Yorkshire, Tim Shaw and Fuzz Townshend restore Helen\u0027s 1974 Mk1 Ford Capri, which is in so many pieces that it\u0027s almost impossible to tell what it is. (S6 Ep10\/10)  [AD,S]","startTime":1721045400,"duration":3600,"svcId":1500,"evtId":32753,"image":"\/ms\/img\/epg\/rb\/5d52-288614182.l.png","hasTstv":false,"seriesNo":6,"episodeNo":10},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Chris McCausland joins Susie Dent in Dictionary Corner.  [S]","startTime":1721049000,"duration":3000,"svcId":1500,"evtId":32754,"image":"\/ms\/img\/epg\/rb\/5d52-9673127.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"David and Debbie are looking for a holiday home in and around the town of Coin in Spain\u0027s M\u00e1laga Province. Can they find a place big enough to house their five children and their horse?  [S]","startTime":1721052000,"duration":3600,"svcId":1500,"evtId":32755,"image":"\/ms\/img\/epg\/rb\/5d52-7626592.l.png","hasTstv":false},{"name":"Renovation Nation","description":"The new series continues. In Kent, Iain and Miranda reach for the stars in their cinema room. In Yorkshire, Jill and John strip back their entire villa to create a modern home. (S2 Ep16)  [AD,S]","startTime":1721055600,"duration":3600,"svcId":1500,"evtId":32756,"image":"\/ms\/img\/epg\/rb\/5d52-9673094.l.png","hasTstv":false,"seriesNo":2,"episodeNo":16},{"name":"A New Life in the Sun: Where...","description":"...Are They Now?: In Spain, yoga teacher Tessa risks everything to start hosting weddings, and in Portugal, restaurateurs Romain and Ana reap the rewards of their hard work. (S5 Ep10)  [S]","startTime":1721059200,"duration":3600,"svcId":1500,"evtId":32757,"image":"\/ms\/img\/epg\/rb\/5d52-7293435.l.png","hasTstv":false,"seriesNo":5,"episodeNo":10},{"name":"Come Dine with Me","description":"Cardiff. Mental health support worker and budding singer Tracey hosts a Caribbean carnival. The rum punch flows, but is the spice too hot for some of her guests to handle? (Ep1\/5)  [S]","startTime":1721062800,"duration":1800,"svcId":1500,"evtId":32758,"image":"\/ms\/img\/epg\/rb\/5d52-7227789.l.png","hasTstv":false},{"name":"The Simpsons","description":"My Way or the Highway to Heaven: The Simpsons explore three ways to enter heaven, including Ned\u0027s conversion as a trampoline salesman. (S30 Ep3\/23)  [AD,S]","startTime":1721064600,"duration":1800,"svcId":1500,"evtId":32759,"image":"\/ms\/img\/epg\/rb\/5d52-309989571.l.png","hasTstv":false,"seriesNo":30,"episodeNo":3},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1721066400,"duration":3300,"svcId":1500,"evtId":32760,"image":"\/ms\/img\/epg\/rb\/5d52-9673142.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, swimmer Maisie Summers-Newton shares an intimate insight into her life, her love for her sport, and the sheer dedication it demands.  [AD,S]","startTime":1721069700,"duration":300,"svcId":1500,"evtId":32761,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"New: Jamie: What to Eat This Week","description":"Jamie Oliver returns, as he shows us how to make the most of summer\u0027s bountiful produce. He heroes carrots in a vibrant rainbow slaw and makes an oozy risotto with fresh peas. (Ep1\/3)  [AD,S]","startTime":1721070000,"duration":3600,"svcId":1500,"evtId":32762,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: 24 Hours in A\u0026E","description":"After suffering a severe asthma attack while walking the kids from school, Nichole is rushed to A\u0026E. And Josh has a serious neck injury from an accident playing American football. (S33 Ep4)  [S]","startTime":1721073600,"duration":3600,"svcId":1500,"evtId":32763,"image":"\/ms\/img\/epg\/rb\/5d52-9673170.l.png","hasTstv":false,"seriesNo":33,"episodeNo":4},{"name":"New: The Great","description":"You the People: Catherine involves the peasants, nobles and merchants in a conference to bring change to Russia. But Peter\u0027s vengeance threatens her attempt to outlaw murder. (S3 Ep3)  [AD,S]","startTime":1721077200,"duration":4200,"svcId":1500,"evtId":32764,"image":"\/ms\/img\/epg\/rb\/5d52-9673179.l.png","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"New: The Great","description":"Stag: Peter (Nicholas Hoult) and Catherine (Elle Fanning) clash over their son Paul when Catherine worries that he\u0027ll grow up to be a ruthless and careless leader. (S3 Ep4)  [AD,S]","startTime":1721081400,"duration":4200,"svcId":1500,"evtId":32765,"image":"\/ms\/img\/epg\/rb\/5d52-9673181.l.png","hasTstv":false,"seriesNo":3,"episodeNo":4},{"name":"Embarrassing Bodies","description":"Dr Anand meets a patient whose skin cancer left her face two different shades, Dr Jane treats a mum with leg pain, and Dr Tosin helps a man with a skin condition. (S9 Ep8)  [AD,S]","startTime":1721085600,"duration":3300,"svcId":1500,"evtId":32766,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":9,"episodeNo":8},{"name":"The Doorman","description":"(2020) Action thriller. A former US Marine (Ruby Rose) is flung back into combat when armed mercenaries take over the building where she works. Strong language\/gory violence\/drugs. [S,W]","startTime":1721088900,"duration":5700,"svcId":1500,"evtId":32767,"image":"\/ms\/img\/epg\/rb\/5d52-3739832.l.png","hasTstv":false},{"name":"Becoming Elizabeth","description":"Keep Your Knife Bright: Drama telling the untold story of Queen Elizabeth I, long before she ascended to the throne. After Henry VIII dies, a dangerous power struggle begins. (Ep1\/8)  [AD,S,SL]","startTime":1721094600,"duration":3900,"svcId":1500,"evtId":32768,"image":"\/ms\/img\/epg\/rb\/5d52-7875022.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Kirstie\u0027s Fill Your House for Free","description":"Kirstie Allsopp proves that free can be fabulous as she helps people transform their homes for next to nothing. In this episode, she explores upcycling in Bath.  [S]","startTime":1721098500,"duration":300,"svcId":1500,"evtId":32772,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":3,"episodeNo":15},{"name":"Grand Designs","description":"Gretta plans to build a Malaysian-inspired pavilion, designed by her nephew, on her sister and brother-in-law\u0027s land in Ely. Will this family affair and story of renewal end in harmony?  [AD,S,SL]","startTime":1721098800,"duration":3300,"svcId":1500,"evtId":32769,"image":"\/ms\/img\/epg\/rb\/5d52-4830899.l.png","hasTstv":false},{"name":"Frasier","description":"IQ: Who has the most impressive IQ - Frasier or Niles? The results of their childhood tests are finally revealed, and one is much higher than the other. (S6 Ep19)  [AD,S]","startTime":1721102100,"duration":1500,"svcId":1500,"evtId":32770,"image":"\/ms\/img\/epg\/rb\/5d52-804121.l.png","hasTstv":false,"seriesNo":6,"episodeNo":19}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('264');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('122');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('40');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '4SNThp0YiU4', title: "50 YouTubers Fight For $1,000,000", label: "50 YouTubers Fight For $1,000,000 by MrBeast 94,656,667 views 1 day ago 41 minutes" },
{ id: '5Q3yjUKxKMk', title: "SACK SOUTHGATE TONIGHT!", label: "SACK SOUTHGATE TONIGHT! by That's Football 663,524 views 17 hours ago 9 minutes, 3 seconds" },
{ id: '8rpDbGemHk4', title: "Shots fired at Trump rally", label: "Shots fired at Trump rally by Fox News 11,083,971 views 1 day ago 2 minutes, 10 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Passion of Joan of Arc (1928)">The Passion of Joan of Arc (1928)</a></li><li><a href="https://www.google.com/search?q=Films+-+Host (2020)">Host (2020)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Gentlemen (2019)">The Gentlemen (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Petite Maman (2021)">Petite Maman (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Tomato Red (2017)">Tomato Red (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+You Can Live Forever (2022)">You Can Live Forever (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Thoroughbreds (2017)">Thoroughbreds (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+Blade Runner (1982)">Blade Runner (1982)</a></li><li><a href="https://www.google.com/search?q=Films+-+Comrade Kim Goes Flying (2012)">Comrade Kim Goes Flying (2012)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Blue (1997)">Perfect Blue (1997)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1-3, 2015-2017)">My Mad Fat Diary (S1-3, 2015-2017)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
{ number: 213.51, tooltip: "Fri, Jun 28, 2024<br/>£213.51"},
{ number: 213.69, tooltip: "Thu, Jun 27, 2024<br/>£213.69"},
{ number: 214.04, tooltip: "Wed, Jun 26, 2024<br/>£214.04"},
{ number: 213.31, tooltip: "Tue, Jun 25, 2024<br/>£213.31"},
{ number: 212.57, tooltip: "Mon, Jun 24, 2024<br/>£212.57"},
{ number: 213.43, tooltip: "Fri, Jun 21, 2024<br/>£213.43"},
{ number: 213.21, tooltip: "Thu, Jun 20, 2024<br/>£213.21"},
{ number: 212.98, tooltip: "Tue, Jun 18, 2024<br/>£212.98"},
{ number: 212.22, tooltip: "Mon, Jun 17, 2024<br/>£212.22"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 12, 2024",
		"vs Day":      "Thu, Jul 11, 2024",
		"vs Week":     "Fri, Jul 05, 2024",
		"vs Month":    "Mon, Jun 17, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£214.88/share",
		'vs Day':      "+0.05%",
		'vs Week':     "+0.07%",
		'vs Month':    "+1.25%",
		'vs Year':     "+20.99%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '65.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 15 July and 16 July">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.659&p=0.892&r=0.884',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:03',
		Set:      '21:20',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Limpid</em> describes things that are perfectly transparent or clear, or that are simple in style.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>