<!DOCTYPE html>
<html lang="en">
	<head>
		<title>18:33 22-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Mum, dad and daughters, 4 and 9, among crash dead</b><br/>Lillie Morgan-Roller, four, and Rubie Morgan-Roller, nine, died in the crash on Sunday." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cq5j95v5wklo">Mum, dad and daughters, 4 and 9, among crash dead</a></li><li class="ttt" data-tt="<b>Tories spent £700m on Rwanda scheme, Cooper says</b><br/>The home secretary says the scheme is &quot;the most shocking waste of taxpayers\' money I have ever seen&quot;."><a href="https://www.bbc.com/news/articles/c1rw47l2xxgo">Tories spent £700m on Rwanda scheme, Cooper says</a></li><li class="ttt" data-tt="<b>Woman killed in attack by pet dog</b><br/>Police say the woman was treated by paramedics after the attack but died a short time later."><a href="https://www.bbc.com/news/articles/c80x7l511w9o">Woman killed in attack by pet dog</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cq5j95v5wklo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/cdb0/live/f00007f0-4842-11ef-b74c-bb483a802c97.jpg" class="ttt" data-tt="Nine-year-old Rubie Morgan-Roller and four-year-old Lillie Morgan-Roller" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>The last days of the Biden campaign – BBC correspondent’s account</b><br/>BBC correspondent Tom Bateman takes us behind the scenes in the final days of Biden\'s campaign." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c250zqgrpqgo">The last days of the Biden campaign – BBC correspondent’s account</a></li><li class="ttt" data-tt="<b>Harris raises $50m after Biden\'s exit from presidential race</b><br/>The surge in donations in the last 24 hours is the single biggest for online contributions to Democrats since 2020."><a href="https://www.bbc.com/news/articles/cxx2d25l634o">Harris raises $50m after Biden\'s exit from presidential race</a></li><li class="ttt" data-tt="<b>Democrats hope to use crisis to transform election</b><br/>Savvy members of Mr Biden\'s party sensed an opportunity in his debate debacle, writes Sarah Smith."><a href="https://www.bbc.com/news/articles/cxe24mjez84o">Democrats hope to use crisis to transform election</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c250zqgrpqgo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/05a8/live/0dce30e0-47ee-11ef-96a8-e710c6bfc866.jpg" class="ttt" data-tt="Biden&#x27;s last public appearance in Delaware before announcing he would withdraw from the race" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Democrats hope to use crisis to transform election</b><br/>Savvy members of Mr Biden\'s party sensed an opportunity in his debate debacle, writes Sarah Smith." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cxe24mjez84o">Democrats hope to use crisis to transform election</a></li><li class="ttt" data-tt="<b>At least six killed in Croatia nursing home shooting</b><br/>The Croatian president called for gun ownership laws to be tightened after a gunman killed six people in a care home."><a href="https://www.bbc.com/news/articles/cn08d7vyj6wo">At least six killed in Croatia nursing home shooting</a></li><li class="ttt" data-tt="<b>Celebrities praise Biden and rally round Harris</b><br/>Famous faces are quick to pay tribute to the US president, after he says he won\'t stand for re-election."><a href="https://www.bbc.com/news/articles/c1e5x1yyj5xo">Celebrities praise Biden and rally round Harris</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cxe24mjez84o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ea92/live/9b4343c0-47ee-11ef-b74c-bb483a802c97.jpg" class="ttt" data-tt="Joe Biden embraces Kamala Harris " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>\'I didn\'t give up the win. I lost it off the line\'</b><br/>Lando Norris agonised over whether to hand victory in the Hungarian Grand Prix back to McLaren team-mate Oscar Piastri but said it was the &quot;fair&quot; and &quot;honest&quot; thing to do." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cye03ylnnr0o">\'I didn\'t give up the win. I lost it off the line\'</a></li><li class="ttt" data-tt="<b>Red Bull need to do better - Verstappen</b><br/>Max Verstappen says Red Bull &quot;need to do a better job&quot; and that he sees no need to apologise for a series of bad-tempered radio messages during the Hungarian Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/ck5g3e6ex71o">Red Bull need to do better - Verstappen</a></li><li class="ttt" data-tt="<b>F1: Chequered Flag</b><br/>Harry and Marc look back at a cracking race in Hungary."><a href="https://www.bbc.co.uk/sounds/play/p0jcsp4b">F1: Chequered Flag</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cye03ylnnr0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/e69c/live/38ccc840-4782-11ef-b74b-5f98efd74680.jpg" class="ttt" data-tt="Lando Norris at the Hungarian Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>\'Significant number\' of devices fixed - CrowdStrike</b><br/>Cybersecurity firm behind global outage says it continues to focus on restoring all impacted computers." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cgl7e33n1d0o">\'Significant number\' of devices fixed - CrowdStrike</a></li><li class="ttt" data-tt="<b>Scam warning as fake emails and websites target users after outage</b><br/>Agencies in the UK and Australia are warning people to be vigilante to fake emails, calls and websites."><a href="https://www.bbc.com/news/articles/cq5xy12pynyo">Scam warning as fake emails and websites target users after outage</a></li><li class="ttt" data-tt="<b>IT working but delays possible after outage, says NHS</b><br/>NHS England says services are back online after the global IT outage, but there could still be disruption."><a href="https://www.bbc.com/news/articles/crge037gey3o">IT working but delays possible after outage, says NHS</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cgl7e33n1d0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/bb5b/live/363718b0-47c3-11ef-be99-e9774e2b4d6b.jpg" class="ttt" data-tt="Information screen informs train travellers of global IT outage. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"22 Jul – 28 Jul","date":17216928E5,"ts":"Tue, 23","ds":"Tue, 23 Jul","icon":33,"desc":"Passing showers. Cloudy.","temp":22,"templow":14,"cf":24,"wind":8,"wd":0,"hum":59,"pc":24,"rain":1},{"date":17217792E5,"ts":"Wed, 24","ds":"Wed, 24 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":24,"templow":14,"cf":25,"wind":10,"wd":210,"hum":56,"pc":15,"rain":0.1 },{"date":17218656E5,"ts":"Thu, 25","ds":"Thu, 25 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":15,"cf":20,"wind":14,"wd":200,"hum":78,"pc":48,"rain":3},{"date":1721952E6,"ts":"Fri, 26","ds":"Fri, 26 Jul","icon":33,"desc":"Showers late. Overcast.","temp":22,"templow":15,"cf":25,"wind":6,"wd":240,"hum":50,"pc":18,"rain":0.2 },{"date":17220384E5,"ts":"Sat, 27","ds":"Sat, 27 Jul","icon":33,"desc":"Showers late. Overcast.","temp":20,"templow":12,"cf":20,"wind":8,"wd":270,"hum":53,"pc":16,"rain":0.5 },{"date":17221248E5,"ts":"Sun, 28","ds":"Sun, 28 Jul","icon":33,"desc":"Showers late. Partly cloudy.","temp":22,"templow":10,"cf":25,"wind":4,"wd":210,"hum":46,"pc":17,"rain":0.2 },{"hl":true,"hls":"29 Jul – 4 Aug","date":17222112E5,"ts":"Mon, 29","ds":"Mon, 29 Jul","icon":6,"desc":"Broken clouds.","temp":23,"templow":13,"cf":25,"wind":10,"wd":250,"hum":51,"pc":2},{"date":17222976E5,"ts":"Tue, 30","ds":"Tue, 30 Jul","icon":2,"desc":"Mostly sunny.","temp":22,"templow":13,"cf":25,"wind":6,"wd":240,"hum":47,"pc":6},{"date":1722384E6,"ts":"Wed, 31","ds":"Wed, 31 Jul","icon":2,"desc":"Scattered clouds.","temp":23,"templow":14,"cf":25,"wind":8,"wd":240,"hum":49,"pc":6},{"date":17224704E5,"ts":"Thu, 1","ds":"Thu, 1 Aug","icon":1,"desc":"Sunny.","temp":23,"templow":14,"cf":25,"wind":11,"wd":240,"hum":45,"pc":5},{"date":17225568E5,"ts":"Fri, 2","ds":"Fri, 2 Aug","icon":1,"desc":"Sunny.","temp":24,"templow":14,"cf":25,"wind":17,"wd":220,"hum":56,"pc":5},{"date":17226432E5,"ts":"Sat, 3","ds":"Sat, 3 Aug","icon":22,"desc":"Thunderstorms. Increasing cloudiness.","temp":22,"templow":14,"cf":24,"wind":7,"wd":270,"hum":70,"pc":69,"rain":9.6 },{"date":17227296E5,"ts":"Sun, 4","ds":"Sun, 4 Aug","icon":33,"desc":"Showers late. Overcast.","temp":22,"templow":14,"cf":22,"wind":7,"wd":20,"hum":82,"pc":40,"rain":0.1 },{"hl":true,"hls":"5 Aug – 11 Aug","date":1722816E6,"ts":"Mon, 5","ds":"Mon, 5 Aug","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":21,"templow":14,"cf":25,"wind":6,"wd":260,"hum":56,"pc":56,"rain":0.9 },{"date":17229024E5,"ts":"Tue, 6","ds":"Tue, 6 Aug","icon":7,"desc":"Overcast.","temp":22,"templow":13,"cf":20,"wind":12,"wd":200,"hum":57,"pc":6}],"grid":{"temp":{"low":10,"high":24,"range":14},"prec":{"high":9.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/VeeChamaeleon_Lee_960.jpg',
		Title:     'Chamaeleon Dark Nebulas',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/VeeChamaeleon_Lee_6098.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240722.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Marabou_stork_%28Leptoptilos_crumenifer%29_in_flight_2.jpg/400px-Marabou_stork_%28Leptoptilos_crumenifer%29_in_flight_2.jpg',
		Title:    'Marabou stork',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Marabou_stork',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Marabou_stork" title="Marabou stork">marabou stork</a></b> (<i>Leptoptilos crumenifer</i>) is a wading <a href="https://en.wikipedia.org/wiki/Bird" title="Bird">bird</a> in the <a href="https://en.wikipedia.org/wiki/Stork" title="Stork">stork</a> family, Ciconiidae, native to <a href="https://en.wikipedia.org/wiki/Sub-Saharan_Africa" title="Sub-Saharan Africa">sub-Saharan Africa</a>. It is a large bird, with individuals reaching a height of 152 centimetres (4.99 feet) and a weight of 9 kilograms (20&#160;lb), and has the largest <a href="https://en.wikipedia.org/wiki/Wingspan" title="Wingspan">wingspan</a> of any land bird, with an average of 2.6 metres (8.5&#160;ft) and some recorded examples of up to 3.2 metres (10&#160;ft). The marabou stork breeds in Africa south of the Sahara. In East Africa, the birds interact with humans and breed in urban areas. In southern African countries, the birds breed mainly in less populated areas. This marabou stork in flight was photographed in the town of <a href="https://en.wikipedia.org/wiki/Batu_(town)" title="Batu (town)">Batu</a>, by <a href="https://en.wikipedia.org/wiki/Lake_Ziway" title="Lake Ziway">Lake Ziway</a>, Ethiopia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

console.log('Error in tv module: The remote server returned an error: (500) Internal Server Error.');

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('267');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('75');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('25');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'QZ1rhSnk-B0', title: "FIGHT HIGHLIGHTS | JAKE PAUL VS MIKE PERRY", label: "FIGHT HIGHLIGHTS | JAKE PAUL VS MIKE PERRY by DAZN Boxing 3,528,681 views 1 day ago 3 minutes" },
{ id: 'JCl3jTOUE84', title: "Amad \u0026 Hugill FIRE Home! 🚀 | Rangers 0-2 Man Utd | Highlights", label: "Amad \u0026 Hugill FIRE Home! 🚀 | Rangers 0-2 Man Utd | Highlights by Manchester United 1,468,101 views 1 day ago 3 minutes, 23 seconds" },
{ id: 'eQfsnED4j8A', title: "Race Highlights | 2024 Hungarian Grand Prix", label: "Race Highlights | 2024 Hungarian Grand Prix by FORMULA 1 5,790,439 views 1 day ago 8 minutes, 10 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Short Term 12 (2013)">Short Term 12 (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Casablanca (1942)">Casablanca (1942)</a></li><li><a href="https://www.google.com/search?q=Films+-+Come and See (1985)">Come and See (1985)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Miseducation of Cameron Post (2018)">The Miseducation of Cameron Post (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Phantom Thread (2017)">Phantom Thread (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+Stand By Me (1986)">Stand By Me (1986)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Passion of Joan of Arc (1928)">The Passion of Joan of Arc (1928)</a></li><li><a href="https://www.google.com/search?q=Films+-+Host (2020)">Host (2020)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Gentlemen (2019)">The Gentlemen (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Petite Maman (2021)">Petite Maman (2021)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 211.93, tooltip: "Fri, Jul 19, 2024<br/>£211.93"},
{ number: 212.63, tooltip: "Thu, Jul 18, 2024<br/>£212.63"},
{ number: 213.73, tooltip: "Wed, Jul 17, 2024<br/>£213.73"},
{ number: 216.60, tooltip: "Tue, Jul 16, 2024<br/>£216.60"},
{ number: 215.12, tooltip: "Mon, Jul 15, 2024<br/>£215.12"},
{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
{ number: 213.51, tooltip: "Fri, Jun 28, 2024<br/>£213.51"},
{ number: 213.69, tooltip: "Thu, Jun 27, 2024<br/>£213.69"},
{ number: 214.04, tooltip: "Wed, Jun 26, 2024<br/>£214.04"},
{ number: 213.31, tooltip: "Tue, Jun 25, 2024<br/>£213.31"},
{ number: 212.57, tooltip: "Mon, Jun 24, 2024<br/>£212.57"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 19, 2024",
		"vs Day":      "Thu, Jul 18, 2024",
		"vs Week":     "Fri, Jul 12, 2024",
		"vs Month":    "Mon, Jun 24, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£211.93/share",
		'vs Day':      "-0.33%",
		'vs Week':     "-1.37%",
		'vs Month':    "-0.30%",
		'vs Year':     "+16.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '97.6',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 22 July and 23 July">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.976&p=3.725&r=0.384',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:12',
		Set:      '21:11',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Extenuate</em> is a formal word that is most often used to mean “to lessen the strength or effect of something, such as a risk.” In legal use, to extenuate a crime, offense, etc., is to lessen or to try to lessen its seriousness or extent by making partial excuses. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>