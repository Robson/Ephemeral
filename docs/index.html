<!DOCTYPE html>
<html lang="en">
	<head>
		<title>15:02 17-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Sara Sharif\'s \'sadistic\' killers jailed for murder</b><br/>A judge says Sara endured &quot;despicable&quot; abuse as he jails her father and stepmother for life." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/czr3vygvyy7o">Sara Sharif\'s \'sadistic\' killers jailed for murder</a></li><li class="ttt" data-tt="<b>Council tax to rise to fund up to £330m for police</b><br/>The Home Office says funding for forces in England and Wales will rise by 3.5% in 2025-26."><a href="https://www.bbc.com/news/articles/c62w79ggk9vo">Council tax to rise to fund up to £330m for police</a></li><li class="ttt" data-tt="<b>Fury as women hit by pension age rise denied payouts</b><br/>Campaigners say they were not properly informed of a pension age rise to bring them in line with men."><a href="https://www.bbc.com/news/articles/czr36842nd6o">Fury as women hit by pension age rise denied payouts</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/czr3vygvyy7o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/8c63/live/e2230ce0-bc78-11ef-9e94-492e454c4f8c.jpg" class="ttt" data-tt="
Mugshot of Urfan Sharif and Beinash Batool. Both are looking directly at the camera. 
" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Second-grade pupil called 911 over Wisconsin school shooting</b><br/>Two people were killed by the attacker, identified as a teenage girl who attended the school." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c5yvpl89p8eo">Second-grade pupil called 911 over Wisconsin school shooting</a></li><li class="ttt" data-tt="<b>Trudeau in peril after Trump spat sparks political crisis</b><br/>The PM faces calls from members of his own party to quit after the sudden exit of his finance minister."><a href="https://www.bbc.com/news/articles/c5y49ym6em3o">Trudeau in peril after Trump spat sparks political crisis</a></li><li class="ttt" data-tt="<b>Debunking misinformation about US drone sightings</b><br/>BBC Verify looks at claims about the involvement of aliens or foreign state actors in the alleged drone sightings."><a href="https://www.bbc.com/news/videos/cj90w3rxr2no">Debunking misinformation about US drone sightings</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c5yvpl89p8eo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/ba83/live/5239d240-bc63-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="A woman holds a tissue to her face while praying for the victims and survivors of a US school shooting" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>General killed in Moscow a legitimate target, says Ukraine</b><br/>Ukrainian sources tell the BBC the country\'s security service was behind the killings." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cm2ek388yxzo">General killed in Moscow a legitimate target, says Ukraine</a></li><li class="ttt" data-tt="<b>Igor Kirillov: Russia\'s chemical weapons chief and mouthpiece killed in Moscow</b><br/>Kirillov, who has been killed in Moscow, was accused by the West of overseeing the use of chemical weapons on the battlefield in Ukraine."><a href="https://www.bbc.com/news/articles/clyx4kvz4l0o">Igor Kirillov: Russia\'s chemical weapons chief and mouthpiece killed in Moscow</a></li><li class="ttt" data-tt="<b>Gaza ceasefire talks in final stage, Palestinian negotiator tells BBC</b><br/>The official outlines a phased plan which would see hostages freed in step with Israeli pullouts."><a href="https://www.bbc.com/news/articles/c80vdy9ex9xo">Gaza ceasefire talks in final stage, Palestinian negotiator tells BBC</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cm2ek388yxzo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/daec/live/24acbfe0-bc63-11ef-a0f2-fd81ae5962f4.jpg" class="ttt" data-tt="A view shows a scene of an explosion, which reportedly killed two army officers, in Moscow, Russia December 17, 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>FIA changes criticised as they are voted through</b><br/>Controversial changes to the statutes of Formula 1\'s governing body approved on Friday constitute a &quot;worrisome concentration of power&quot;, according to the head of one of its member clubs." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/ckgz4jw14rdo">FIA changes criticised as they are voted through</a></li><li class="ttt" data-tt="<b>Hamilton to Ferrari and what else to look out for in 2025</b><br/>With Lewis Hamilton moving to Ferrari and exciting rookies joining the Formula 1 grid, here are the key things to look out for in 2025."><a href="https://www.bbc.com/sport/formula1/articles/cn4v5kgxv1qo">Hamilton to Ferrari and what else to look out for in 2025</a></li><li class="ttt" data-tt="<b>Rwanda President Kagame announces F1 race bid</b><br/>Rwanda is bidding to host a Formula 1 grand prix, the country\'s President Paul Kagame says."><a href="https://www.bbc.com/sport/formula1/articles/cdd6e1jep42o">Rwanda President Kagame announces F1 race bid</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/ckgz4jw14rdo"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/7b27/live/300e45b0-b962-11ef-a76e-4d65d4c6203f.jpg" class="ttt" data-tt="Mohammed Ben Sulayem wearing subglasses" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Ofcom criticised for \'reprehensible\' porn job post</b><br/>Campaigners say the post, by a senior manager at the regulator, &quot;trivialises&quot; violence against women and girls." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/clygj1l4yweo">Ofcom criticised for \'reprehensible\' porn job post</a></li><li class="ttt" data-tt="<b>Trump meets TikTok CEO as ban deadline looms</b><br/>The social media giant is currently seeking to delay a law that would see it banned or sold in early 2025."><a href="https://www.bbc.com/news/articles/cre7vdz4npzo">Trump meets TikTok CEO as ban deadline looms</a></li><li class="ttt" data-tt="<b>Social media given \'last chance\' to tackle illegal posts</b><br/>Platforms have three months to take action or they could be fined up to 10% of global turnover."><a href="https://www.bbc.com/news/articles/cwy83jdpgw5o">Social media given \'last chance\' to tackle illegal posts</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/clygj1l4yweo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/0d66/live/efa025a0-bc6a-11ef-9917-c9023e45899a.jpg" class="ttt" data-tt="Ofcom logo on a sign. It reads in a red font: Ofcom, office of communications." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"16 Dec – 22 Dec","date":17343936E5,"ts":"Tue, 17","ds":"Tue, 17 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":12,"templow":6,"cf":6,"wind":16,"wd":190,"hum":87,"pc":50,"rain":1.2 },{"date":173448E7,"ts":"Wed, 18","ds":"Wed, 18 Dec","icon":19,"desc":"Rain. Overcast.","temp":14,"templow":8,"cf":8,"wind":13,"wd":240,"hum":85,"pc":79,"rain":16.3 },{"date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":19,"desc":"Rain early. Breaks of sun late.","temp":8,"templow":3,"cf":1,"wind":15,"wd":310,"hum":78,"pc":66,"rain":7},{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":18,"desc":"Sprinkles late. Mostly cloudy.","temp":8,"templow":2,"cf":4,"wind":14,"wd":220,"hum":87,"pc":57,"rain":1.1 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":18,"desc":"Sprinkles. Cloudy.","temp":11,"templow":5,"cf":8,"wind":18,"wd":240,"hum":84,"pc":43,"rain":2.2 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":7,"templow":3,"cf":-2,"wind":18,"wd":270,"hum":70,"pc":43,"rain":1.4 },{"hl":true,"hls":"23 Dec – 29 Dec","date":1734912E6,"ts":"Mon, 23","ds":"Mon, 23 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":14,"templow":10,"cf":10,"wind":9,"wd":290,"hum":90,"pc":38,"rain":1},{"date":17349984E5,"ts":"Tue, 24","ds":"Tue, 24 Dec","icon":7,"desc":"Cloudy.","temp":14,"templow":9,"cf":8,"wind":14,"wd":260,"hum":79,"pc":6},{"date":17350848E5,"ts":"Wed, 25","ds":"Wed, 25 Dec","icon":2,"desc":"Mostly sunny.","temp":10,"templow":8,"cf":8,"wind":8,"wd":230,"hum":82,"pc":6},{"date":17351712E5,"ts":"Thu, 26","ds":"Thu, 26 Dec","icon":18,"desc":"Sprinkles late. Cloudy.","temp":9,"templow":7,"cf":8,"wind":5,"wd":180,"hum":92,"pc":52,"rain":0.6 },{"date":17352576E5,"ts":"Fri, 27","ds":"Fri, 27 Dec","icon":4,"desc":"Afternoon clouds.","temp":9,"templow":7,"cf":8,"wind":6,"wd":160,"hum":88,"pc":6},{"date":1735344E6,"ts":"Sat, 28","ds":"Sat, 28 Dec","icon":18,"desc":"Sprinkles. Morning clouds.","temp":10,"templow":6,"cf":6,"wind":16,"wd":260,"hum":76,"pc":47,"rain":0.4 },{"date":17354304E5,"ts":"Sun, 29","ds":"Sun, 29 Dec","icon":33,"desc":"Showers late. Overcast.","temp":10,"templow":6,"cf":8,"wind":9,"wd":190,"hum":89,"pc":66,"rain":4.6 },{"hl":true,"hls":"30 Dec – 5 Jan","date":17355168E5,"ts":"Mon, 30","ds":"Mon, 30 Dec","icon":18,"desc":"Sprinkles late. Mostly cloudy.","temp":8,"templow":5,"cf":4,"wind":14,"wd":250,"hum":65,"pc":42,"rain":0.2 },{"date":17356032E5,"ts":"Tue, 31","ds":"Tue, 31 Dec","icon":7,"desc":"Overcast.","temp":8,"templow":5,"cf":7,"wind":4,"wd":270,"hum":84,"pc":6}],"grid":{"temp":{"low":2,"high":14,"range":12},"prec":{"high":16.3},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/Heart_HorneEvans_1080.jpg',
		Title:     'Near to the Heart Nebula',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/Heart_HorneEvans_4096.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241217.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Mauritius_fody_%28Foudia_rubra%29_male_2.jpg/400px-Mauritius_fody_%28Foudia_rubra%29_male_2.jpg',
		Title:    'Mauritius fody',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Mauritius_fody',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Mauritius_fody" title="Mauritius fody">Mauritius fody</a></b> (<i>Foudia rubra</i>) is a rare and endangered species of bird in the weaver family, <a href="https://en.wikipedia.org/wiki/Ploceidae" title="Ploceidae">Ploceidae</a>. It is <a href="https://en.wikipedia.org/wiki/Endemism" title="Endemism">endemic</a> to the southern Indian Ocean island of Mauritius, where it resides in several types of forest, including degraded areas, as well as plantations. With a length of around 14 centimetres (5.5 inches), breeding males are olive brown, with a red head, breast and rump patch, and black lores. Females, non-breeding males and juveniles are olive brown with white wing bars and a brown bill. The bird feeds on insects such as grasshoppers, beetle larvae, caterpillars, and also spiders. Berries are eaten regularly by some individuals, and it feeds on nectar regularly, using its specialised brush-tipped tongue. This male Mauritius fody was photographed on the <a href="https://en.wikipedia.org/wiki/%C3%8Ele_aux_Aigrettes" title="Île aux Aigrettes">Île aux Aigrettes</a>, an island off Mauritius\'s south-eastern coast.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1734415200,"duration":12600,"svcId":560,"evtId":30027,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734427740,"availabilityEnd":1734514140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00261cm\u0026ui_id=4.0.0"}},{"name":"Morning Live at Christmas","description":"Helen Skelton and Rav Wilding talk to Scam Interceptors\u0027 Nick Stapleton about the top three scams of 2024, and to Dr Xand on the signs of sight loss. [S] [HD]","startTime":1734427800,"duration":4500,"svcId":560,"evtId":30028,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb9jx4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734432255,"availabilityEnd":1765968255,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00261cp\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":132},{"name":"Animal Park Christmas Special","description":"2\/5. Ben and Kate have joined the keepers for a magical Christmas, and with babies being born all over the park, each one needs a visit before the big day. [S,AD] [HD]","startTime":1734432300,"duration":2700,"svcId":560,"evtId":30157,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k93jxr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734328800,"availabilityEnd":1765864800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025z63\u0026ui_id=4.0.0"},"seriesNo":37,"episodeNo":2},{"name":"Homes Under the Hammer","description":"15\/80. Country music fans create a fantastic home in Felixstowe, a development in Willenhall aims to support young people, and a mum transforms a fantastic warehouse flat in Liverpool. [S] [HD]","startTime":1734435000,"duration":2700,"svcId":560,"evtId":30029,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcg50.jpg","hasTstv":false,"seriesNo":39,"episodeNo":15},{"name":"Bargain Hunt: Christmas Special","description":"It\u0027s Christmas! Today\u0027s bauble-tastic Bargain Hunt with Christina Trevanion comes from Peterborough, where Santa\u0027s helpers Catherine Southon and Kate Bliss guide our Yuletide teams. [S,AD] [HD]","startTime":1734437700,"duration":2700,"svcId":560,"evtId":30030,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dl4t10.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734440400,"availabilityEnd":1737032400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001gcgf\u0026ui_id=4.0.0"},"seriesNo":64},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1734440400,"duration":3600,"svcId":560,"evtId":30031,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":187},{"name":"Best of Seven Worlds, One Planet","description":"The most spectacular moments from the series, highlighting the incredible rich and wonderful diversity of life found on our planet\u0027s seven unique continents. [S] [HD]","startTime":1734444000,"duration":3600,"svcId":560,"evtId":30507,"image":"\/ms\/img\/epg\/rb\/fec6-p07y7113.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1609509900,"availabilityEnd":1824728700,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000ctbn\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Escape to the Country","description":"26\/55. Nicki Chapman is in the Cairngorms with a couple who, after exploring the UK in their campervan for the last two years, have decided to settle in the Scottish countryside. [S] [HD]","startTime":1734447600,"duration":2700,"svcId":560,"evtId":30118,"image":"\/ms\/img\/epg\/rb\/fec6-p0k8jbvf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734450248,"availabilityEnd":1765986248,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002634y\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":26},{"name":"The Vintage French Farmhouse","description":"12\/20. Three antiques dealers head to the beautiful town of P\u00e9zenas in the Occitanie region to find two hidden treasures each which they know they can sell for a profit online in just a day. [S] [HD]","startTime":1734450300,"duration":2700,"svcId":560,"evtId":30035,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gfy06b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734452946,"availabilityEnd":1737044946,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0gcw2q8\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":12},{"name":"Antiques Road Trip","description":"12\/25. Irita Marriott and Mark Hill continue their search for money-making treasures. Some anatomy moulds and a 200-year-old ornament go under the gavel. [S] [HD]","startTime":1734453000,"duration":2700,"svcId":560,"evtId":30036,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f4gsyd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734455648,"availabilityEnd":1737047648,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jp1g\u0026ui_id=4.0.0"},"seriesNo":26,"episodeNo":12},{"name":"Pointless Celebrities","description":"The celebrities competing for the Pointless trophy are Larry Dean, Holly Walsh, Desiree Burch, Jessica Fostekew, Morgan Lake, Ashleigh Nelson, Beatie Edney and Michelle Collins. [S] [HD]","startTime":1734455700,"duration":2700,"svcId":560,"evtId":30037,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hj4g96.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1710624418,"availabilityEnd":1742160418,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xgss\u0026ui_id=4.0.0"},"seriesNo":16},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1734458400,"duration":1800,"svcId":560,"evtId":30038,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734460290,"availabilityEnd":1734546690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261cx\u0026ui_id=4.0.0"},"episodeNo":187},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734460200,"duration":1800,"svcId":560,"evtId":30039,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734461895,"availabilityEnd":1734548295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261cz\u0026ui_id=4.0.0"},"episodeNo":261},{"name":"Sports Personality of the Year...","description":"...2024. Gabby Logan, Clare Balding and Alex Scott present the annual celebration of sport. Contains scenes of flashing images. [S] [HD]","startTime":1734462000,"duration":7200,"svcId":560,"evtId":30158,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb55gp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734469250,"availabilityEnd":1737061250,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00263ld\u0026ui_id=4.0.0"},"episodeNo":30},{"name":"Strike: The Ink Black Heart","description":"2\/4. Strike faces terrorists, Robin goes undercover, and Barclay lands in danger. Contains some strong language. [S,AD] [HD]","startTime":1734469200,"duration":3600,"svcId":560,"evtId":30159,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k93h2q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734328800,"availabilityEnd":1765864800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025ydn\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":2},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1734472800,"duration":1800,"svcId":560,"evtId":30040,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734474720,"availabilityEnd":1734561120,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261d1\u0026ui_id=4.0.0"},"episodeNo":187},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734474600,"duration":600,"svcId":560,"evtId":30041,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734475050,"availabilityEnd":1734561450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261d3\u0026ui_id=4.0.0"},"episodeNo":224},{"name":"Avengers: Age of Ultron","description":"Superhero sequel. Iron Man, Captain America, Thor, the Hulk, Black Widow and Hawkeye all spring into action when a rogue Stark Industries experiment threatens to destroy the world. [2015] [S,AD] [HD]","startTime":1734475200,"duration":7800,"svcId":560,"evtId":30119,"image":"\/ms\/img\/epg\/rb\/ae0c-p09jknmd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734483129,"availabilityEnd":1737075129,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06h15q7\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1734483000,"duration":300,"svcId":560,"evtId":30042,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734483407,"availabilityEnd":1735090032,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00261d5\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1734483300,"duration":18300,"svcId":560,"evtId":30043,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":261}]},{"channelid":700,"offset":0,"event":[{"name":"My Life at Christmas: Anita...","description":"...Rani Meets Spencer Matthews. 3\/3. Anita Rani meets reality TV star Spencer Matthews to see what Christmas means to him. [S,AD] [HD]","startTime":1734416100,"duration":3600,"svcId":700,"evtId":21592,"image":"\/ms\/img\/epg\/rb\/fec6-p0k92l46.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734262181,"availabilityEnd":1765798181,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00263cd\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Animal Park Christmas Special","description":"1\/5. Ben and Kate are back for the festivities. Four adorable tiger cubs are about to experience their first Christmas - but first, what will an urgent vet visit reveal? [S,AD] [HD]","startTime":1734419700,"duration":2700,"svcId":700,"evtId":21593,"image":"\/ms\/img\/epg\/rb\/fec6-p0k93jhs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734328800,"availabilityEnd":1765864800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025z5d\u0026ui_id=4.0.0"},"seriesNo":37,"episodeNo":1},{"name":"Wonders of Life","description":"5\/5. Brian Cox considers what it is about our world that makes it a home for life and asks what transformed this once barren planet into the earth we know today. [S,AD,SL] [HD]","startTime":1734422400,"duration":3600,"svcId":700,"evtId":21536,"image":"\/ms\/img\/epg\/rb\/ae0c-p01j2zkm.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1734426000,"duration":11700,"svcId":700,"evtId":21485,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"How does the UK deal with China? [S] [HD]","startTime":1734437700,"duration":2700,"svcId":700,"evtId":21486,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734440469,"availabilityEnd":1737032469,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002618c\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"2\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 20 people start today\u0027s show, but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1734440400,"duration":2700,"svcId":700,"evtId":21487,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734443228,"availabilityEnd":1737035228,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000nppf\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":2},{"name":"The Tournament","description":"7\/30. In the ultimate knockout quiz, eight players do battle on the Tournament Run in a series of exciting tug-of-war quiz matches. Hosted by Alex Scott. [S] [HD]","startTime":1734443100,"duration":2700,"svcId":700,"evtId":21488,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d18b4f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734445978,"availabilityEnd":1737037978,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ckxc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"Funny Face","description":"Fashion photographer Dick Avery takes his latest discovery on a trip to Paris, but she proves to be a far-from-perfect model. [1956] [S] [HD]","startTime":1734445800,"duration":6300,"svcId":700,"evtId":21537,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gd306m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734452054,"availabilityEnd":1737044054,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001qp66\u0026ui_id=4.0.0"}},{"name":"Life in Polar Bear Town with...","description":"...Gordon Buchanan. Gordon Buchanan discovers what life is like in the \u0027polar bear capital of the world\u0027. [S,AD] [HD]","startTime":1734452100,"duration":3600,"svcId":700,"evtId":21489,"image":"\/ms\/img\/epg\/rb\/fec6-p04l6x67.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734455689,"availabilityEnd":1737047689,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b087vfxj\u0026ui_id=4.0.0"}},{"name":"Flog It!","description":"24\/40. In County Durham, David Fletcher finds a money box in the shape of a bulldog. [S] [HD]","startTime":1734455700,"duration":2700,"svcId":700,"evtId":21490,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734458399,"availabilityEnd":1737050399,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000dtps\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":24},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 2\/10. Richie Anderson, Simon Gregson, Jessica Knappett and Debbie McGee test their general knowledge skills for a special festive show in Richard Osman\u0027s Festive House of Games. [S] [HD]","startTime":1734458400,"duration":1800,"svcId":700,"evtId":21594,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gy5p41.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1703016099,"availabilityEnd":1737052212,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tlsk\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"Nigella: At My Table","description":"3\/6. Treats are in store as Nigella prepares some of her favourite dishes to share. For a lunch with friends, Nigella\u0027s herbed leg of lamb is relaxingly simple to prepare. [S,AD] [HD]","startTime":1734460200,"duration":1800,"svcId":700,"evtId":21595,"image":"\/ms\/img\/epg\/rb\/ae0c-p05m666d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1591862400,"availabilityEnd":1970467200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b09g3s2n\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Saving Lives at Sea","description":"4\/10. In north Wales, the Conwy crew respond to reports of two people - including a young boy - who have been caught out by the tide and are now struggling to stay afloat. [S,AD] [HD]","startTime":1734462000,"duration":3600,"svcId":700,"evtId":21596,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gl3ng3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734465644,"availabilityEnd":1737057644,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001rklm\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":4},{"name":"Celebrity Antiques Road Trip","description":"14\/20. The knowledge of antiques experts Angus Ashworth and Phil Serrell is put to the test, as their celebrity companions are University Challenge icons Eric Monkman and Bobby Seagull. [S] [HD]","startTime":1734465600,"duration":3600,"svcId":700,"evtId":21597,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlz716.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734292935,"availabilityEnd":1737061253,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001g695\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":14},{"name":"QI XL: Christmas Special","description":"9\/16. Sandi Toksvig hosts the QI Christmas special and is joined by Gyles Brandreth, Lulu, Emmanuel Sonubi and Alan Davies. Contains some strong language. [S] [HD]","startTime":1734469200,"duration":2700,"svcId":700,"evtId":21598,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb59rg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734471989,"availabilityEnd":1771367369,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002644v\u0026ui_id=4.0.0"},"seriesNo":23,"episodeNo":9},{"name":"Live at the Apollo: Christmas...","description":"...Special. 1\/7. The brilliant Judi Love introduces comedians Dan Tiernan and John Kearns to the stage. Contains some strong language and adult humour. [S] [HD]","startTime":1734471900,"duration":2700,"svcId":700,"evtId":21599,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7m1ct.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734474691,"availabilityEnd":1770244154,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002644x\u0026ui_id=4.0.0"},"seriesNo":2029,"episodeNo":1},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1734474600,"duration":1800,"svcId":700,"evtId":21491,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734476490,"availabilityEnd":1766012490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002618f\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1734476400,"duration":300,"svcId":700,"evtId":21492,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734476685,"availabilityEnd":1734563085,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002618h\u0026ui_id=4.0.0"}},{"name":"The Last Bus","description":"Tom, an elderly widower, takes a deeply nostalgic trip across the length of the UK. Contains some strong language and some scenes of a sexual nature. [2021] [S] [HD]","startTime":1734476700,"duration":5100,"svcId":700,"evtId":21600,"image":"\/ms\/img\/epg\/rb\/fec6-p0gwt1cv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1702428161,"availabilityEnd":1796947199,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001td8j\u0026ui_id=4.0.0"}},{"name":"MasterChef: The Professionals","description":"19\/21. It\u0027s finals week on MasterChef: The Professionals, and just four outstanding chefs are in with a fighting chance at the title. [S,AD,SL] [HD]","startTime":1734481800,"duration":3600,"svcId":700,"evtId":21601,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89p3n.jpg","hasTstv":false,"seriesNo":22,"episodeNo":19},{"name":"Renaissance: The Blood and the...","description":"...Beauty. 2\/3. The rivalry between Michelangelo and Leonardo is heightened by the arrival of Raphael. [S,AD,SL] [HD]","startTime":1734485400,"duration":3600,"svcId":700,"evtId":21602,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6zld9.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1734489000,"duration":14400,"svcId":700,"evtId":21493,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('387');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('36');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'bgrwYFuNib0', title: "Where I've been for the past year...", label: "Where I've been for the past year... by CoryxKenshin 7,385,439 views 22 hours ago 23 minutes" },
{ id: 'ZFKfe4vSsBk', title: "Amad the HERO in huge derby comeback! | Man City 1-2 Man Utd | Premier League Highlights", label: "Amad the HERO in huge derby comeback! | Man City 1-2 Man Utd | Premier League Highlights by Sky Sports Premier League 2,462,171 views 1 day ago 3 minutes, 14 seconds" },
{ id: 'eyCrTbCaoV4', title: "REBUILDING A PORSCHE 911 GT3RS FROM SCRATCH", label: "REBUILDING A PORSCHE 911 GT3RS FROM SCRATCH by Mat Armstrong 2,516,656 views 1 day ago 45 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Last Year at Marienbad (1961)">Last Year at Marienbad (1961)</a></li><li><a href="https://www.google.com/search?q=Films+-+No Vacancy (1999)">No Vacancy (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+Friends & Family Christmas (2023)">Friends & Family Christmas (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mustang (2015)">Mustang (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+When Harry Met Sally (1989)">When Harry Met Sally (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sans Soleil (1983)">Sans Soleil (1983)</a></li><li><a href="https://www.google.com/search?q=Films+-+Drop Dead Gorgeous (1999)">Drop Dead Gorgeous (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+Vrazda ing. Certa (1970)">Vrazda ing. Certa (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+Kes (1969)">Kes (1969)</a></li><li><a href="https://www.google.com/search?q=Films+-+Cries and Whispers (1972)">Cries and Whispers (1972)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 231.35, tooltip: "Mon, Dec 16, 2024<br/>£231.35"},
{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>£231.64"},
{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
].reverse();

	var vanguardDates = {
		"Latest":      "Mon, Dec 16, 2024",
		"vs Day":      "Fri, Dec 13, 2024",
		"vs Week":     "Mon, Dec 09, 2024",
		"vs Month":    "Mon, Nov 18, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£231.35/share",
		'vs Day':      "-0.44%",
		'vs Week':     "+0.39%",
		'vs Month':    "+2.22%",
		'vs Year':     "+21.26%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '93.6',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 17 December and 18 December">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.936&p=3.325&r=0.317',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:11',
		Set:      '15:53',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To describe something as lexical is to say that it is related to words or vocabulary.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>