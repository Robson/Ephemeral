<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:28 11-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>\'Nothing inappropriate\' in BBC presenter row - young person\'s lawyer</b><br/>Claims being made by the mother at the heart of the BBC presenter row are &quot;rubbish&quot;, a lawyer says." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/entertainment-arts-66159357?at_medium=RSS&amp;at_campaign=KARANGA">\'Nothing inappropriate\' in BBC presenter row - young person\'s lawyer</a></li><li class="ttt" data-tt="<b>What\'s next in BBC presenter claims?</b><br/>The BBC still has questions to answer after lawyers representing the young person at the centre of the allegations disputed the mother’s account."><a href="https://www.bbc.co.uk/news/entertainment-arts-66158050?at_medium=RSS&amp;at_campaign=KARANGA">What\'s next in BBC presenter claims?</a></li><li class="ttt" data-tt="<b>Mortgage rates soar to cusp of mini-budget peak</b><br/>Lenders will be questioned in front of MPs on Tuesday as homeowners face higher monthly payments."><a href="https://www.bbc.co.uk/news/business-66153812?at_medium=RSS&amp;at_campaign=KARANGA">Mortgage rates soar to cusp of mini-budget peak</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/entertainment-arts-66159357?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2A52/production/_130343801_bbcgv.png" class="ttt" data-tt="BBC New Broadcasting House" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Sex offender Larry Nassar stabbed multiple times in prison</b><br/>Nassar, who sexually abused gymnasts, is believed to have been stabbed in the chest and the back." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66154758?at_medium=RSS&amp;at_campaign=KARANGA">Sex offender Larry Nassar stabbed multiple times in prison</a></li><li class="ttt" data-tt="<b>Aretha Franklin sons fight over will found under sofa</b><br/>Five years after the Queen of Soul died without a known will, her heirs are in court over her estate."><a href="https://www.bbc.co.uk/news/world-us-canada-66158755?at_medium=RSS&amp;at_campaign=KARANGA">Aretha Franklin sons fight over will found under sofa</a></li><li class="ttt" data-tt="<b>US storms: \'Catastrophic flooding\' warning in parts of Vermont</b><br/>Forecasters warn of flash flooding across New England with Vermont facing the highest risk."><a href="https://www.bbc.co.uk/news/world-us-canada-66154757?at_medium=RSS&amp;at_campaign=KARANGA">US storms: \'Catastrophic flooding\' warning in parts of Vermont</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66154758?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6861/production/_130312762_larrynassar.jpg" class="ttt" data-tt="Former USA Gymnastics doctor Larry Nassar pictured during his sentencing hearing in 2018" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Turkey backs Sweden\'s Nato membership - Stoltenberg</b><br/>The Nato chief says President Erdogan will drop opposition to Sweden becoming the alliance\'s 32nd member." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-66160319?at_medium=RSS&amp;at_campaign=KARANGA">Turkey backs Sweden\'s Nato membership - Stoltenberg</a></li><li class="ttt" data-tt="<b>Wagner boss Yevgeny Prigozhin met Russia\'s Vladimir Putin after mutiny</b><br/>The meeting in Moscow took place days after last month\'s failed rebellion, the Kremlin says."><a href="https://www.bbc.co.uk/news/world-europe-66154909?at_medium=RSS&amp;at_campaign=KARANGA">Wagner boss Yevgeny Prigozhin met Russia\'s Vladimir Putin after mutiny</a></li><li class="ttt" data-tt="<b>Putin meets Prigozhin: Getting to grips with latest twist in Wagner saga</b><br/>The latest twist in Russia\'s mutiny saga surpasses Dostoyevsky for mystery, Steve Rosenberg says."><a href="https://www.bbc.co.uk/news/world-europe-66154912?at_medium=RSS&amp;at_campaign=KARANGA">Putin meets Prigozhin: Getting to grips with latest twist in Wagner saga</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-66160319?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2A5C/production/_130344801_f3b82f367b4f799b9fbb8141446010fc1ab3aeb20_0_6068_40451000x667.jpg" class="ttt" data-tt="leaders shake" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>British Grand Prix: Max Verstappen beats Lando Norris to victory</b><br/>Max Verstappen cruises to victory in the British Grand Prix for his sixth win in a row and a record-equalling 11th consecutive triumph for Red Bull." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66148503?at_medium=RSS&amp;at_campaign=KARANGA">British Grand Prix: Max Verstappen beats Lando Norris to victory</a></li><li class="ttt" data-tt="<b>British Grand Prix: Brad Pitt at Silverstone filming Formula 1-inspired movie</b><br/>Brad Pitt begins filming at Silverstone for a new Formula 1-inspired movie."><a href="https://www.bbc.co.uk/sport/formula1/66142472?at_medium=RSS&amp;at_campaign=KARANGA">British Grand Prix: Brad Pitt at Silverstone filming Formula 1-inspired movie</a></li><li class="ttt" data-tt="<b>Jennie Gow: BBC Sport presenter returns to Formula 1 after stroke</b><br/>BBC Sport presenter Jennie Gow returns to Formula 1 for the first time since having a stroke in December."><a href="https://www.bbc.co.uk/sport/formula1/66143457?at_medium=RSS&amp;at_campaign=KARANGA">Jennie Gow: BBC Sport presenter returns to Formula 1 after stroke</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66148503?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/5481/production/_130333612_maxverstappen.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Threads app signs up 100m users in less than a week</b><br/>Meta\'s rival to Twitter has surpassed a record set by Open AI\'s ChatGPT app since its launch." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66153244?at_medium=RSS&amp;at_campaign=KARANGA">Threads app signs up 100m users in less than a week</a></li><li class="ttt" data-tt="<b>Video games: YouTube channel NoClip rescues tapes from landfill</b><br/>Hundreds of hours of gaming history were set to be lost until film-maker Danny O\'Dwyer stepped in."><a href="https://www.bbc.co.uk/news/newsbeat-66136597?at_medium=RSS&amp;at_campaign=KARANGA">Video games: YouTube channel NoClip rescues tapes from landfill</a></li><li class="ttt" data-tt="<b>Byju\'s: The unravelling of India\'s most valued start-up</b><br/>Once a darling of investors, Byju\'s is struggling to retain their confidence after a series of setbacks."><a href="https://www.bbc.co.uk/news/world-asia-india-66126095?at_medium=RSS&amp;at_campaign=KARANGA">Byju\'s: The unravelling of India\'s most valued start-up</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66153244?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/11597/production/_130336017_threads.png" class="ttt" data-tt="Threads logo on phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"10 Jul – 16 Jul","date":16890336E5,"ts":"Tue, 11","ds":"Tue, 11 Jul","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":20,"templow":13,"cf":19,"wind":15,"wd":220,"hum":66,"pc":65,"rain":5.7 },{"date":168912E7,"ts":"Wed, 12","ds":"Wed, 12 Jul","icon":33,"desc":"Passing showers. Partly cloudy.","temp":20,"templow":12,"cf":19,"wind":15,"wd":240,"hum":59,"pc":57,"rain":1.8 },{"date":16892064E5,"ts":"Thu, 13","ds":"Thu, 13 Jul","icon":33,"desc":"Showers late. Mostly cloudy.","temp":20,"templow":12,"cf":20,"wind":11,"wd":260,"hum":50,"pc":22,"rain":0.5 },{"date":16892928E5,"ts":"Fri, 14","ds":"Fri, 14 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":12,"cf":21,"wind":13,"wd":200,"hum":58,"pc":48,"rain":1.2 },{"date":16893792E5,"ts":"Sat, 15","ds":"Sat, 15 Jul","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":19,"templow":12,"cf":19,"wind":20,"wd":220,"hum":65,"pc":68,"rain":10.1 },{"date":16894656E5,"ts":"Sun, 16","ds":"Sun, 16 Jul","icon":21,"desc":"Isolated tstorms. Broken clouds.","temp":18,"templow":12,"cf":18,"wind":20,"wd":230,"hum":63,"pc":24,"rain":2.3 },{"hl":true,"hls":"17 Jul – 23 Jul","date":1689552E6,"ts":"Mon, 17","ds":"Mon, 17 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":20,"templow":12,"cf":20,"wind":13,"wd":240,"hum":52,"pc":20,"rain":0.9 },{"date":16896384E5,"ts":"Tue, 18","ds":"Tue, 18 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":19,"templow":10,"cf":19,"wind":5,"wd":240,"hum":53,"pc":52,"rain":2.7 },{"date":16897248E5,"ts":"Wed, 19","ds":"Wed, 19 Jul","icon":33,"desc":"Passing showers. Afternoon clouds.","temp":19,"templow":11,"cf":19,"wind":9,"wd":270,"hum":55,"pc":53,"rain":0.9 },{"date":16898112E5,"ts":"Thu, 20","ds":"Thu, 20 Jul","icon":21,"desc":"Isolated tstorms. Overcast.","temp":19,"templow":11,"cf":19,"wind":11,"wd":250,"hum":65,"pc":57,"rain":1.4 },{"date":16898976E5,"ts":"Fri, 21","ds":"Fri, 21 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":19,"templow":12,"cf":19,"wind":13,"wd":240,"hum":76,"pc":54,"rain":2.9 },{"date":1689984E6,"ts":"Sat, 22","ds":"Sat, 22 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":18,"templow":12,"cf":18,"wind":15,"wd":210,"hum":81,"pc":69,"rain":2.8 },{"date":16900704E5,"ts":"Sun, 23","ds":"Sun, 23 Jul","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":17,"templow":11,"cf":17,"wind":15,"wd":290,"hum":55,"pc":51,"rain":1},{"hl":true,"hls":"24 Jul – 30 Jul","date":16901568E5,"ts":"Mon, 24","ds":"Mon, 24 Jul","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":17,"templow":11,"cf":17,"wind":15,"wd":290,"hum":58,"pc":54,"rain":1},{"date":16902432E5,"ts":"Tue, 25","ds":"Tue, 25 Jul","icon":33,"desc":"Showers late. Overcast.","temp":19,"templow":12,"cf":18,"wind":15,"wd":230,"hum":81,"pc":48,"rain":0.3 }],"grid":{"temp":{"low":10,"high":21,"range":11},"prec":{"high":10.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2307/NGC6559_Block_960.jpg',
		Title:     'Stars, Dust and Nebula in NGC 6559',
		LinkImage: 'https://apod.nasa.gov/apod/image/2307/NGC6559_Block_1311.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230710.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Large_red_damselfly_%28Pyrrhosoma_nymphula%29_female_fulvipes_2.jpg/550px-Large_red_damselfly_%28Pyrrhosoma_nymphula%29_female_fulvipes_2.jpg',
		Title:    'Large red damselfly',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Large_red_damselfly',
		Description: '    The <b><a href="/wiki/Large_red_damselfly" title="Large red damselfly">large red damselfly</a></b> (<i>Pyrrhosoma nymphula</i>) is a species of <a href="/wiki/Damselfly" title="Damselfly">damselfly</a> belonging to the family <a href="/wiki/Coenagrionidae" title="Coenagrionidae">Coenagrionidae</a>. Found mainly in Europe, with some populations also in northern Africa and western Asia, it inhabits small ponds, lakes and dikes, and occasionally slow-moving rivers. Large red damselflies have black legs and wing spots in both sexes, and can reach a body length of 33 to 36 millimetres (1.3 to 1.4&#160;in). They are often the first damselflies to emerge in the spring, usually in April or May, and adults can be found until September in some localities. This female large red damselfly was photographed on <a href="/wiki/Cumnor_Hill" title="Cumnor Hill">Cumnor Hill</a> in Oxfordshire, England. It is of the form <i>fulvipes</i>, one of three colour forms for the species.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1689039900,"duration":13500,"svcId":700,"evtId":8253,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Bargain Hunt","description":"Caroline Hawley presents today\u0027s show from Hemswell in Lincolnshire, with Izzie Balmer and Mark Stacey. [S,AD] [HD]","startTime":1689053400,"duration":2700,"svcId":700,"evtId":8254,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwrgcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1688731200,"availabilityEnd":1720267200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001njv9\u0026ui_id=4.0.0"},"seriesNo":65},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"1\/15. Clive explores the ancient subterranean city where people have lived underground for millennia and meets the Scotsman who swapped office life for olive farming. [S,SL] [HD]","startTime":1689056100,"duration":1800,"svcId":700,"evtId":8255,"image":"\/ms\/img\/epg\/rb\/8df1-p0fjx0t4.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Great British Railway Journeys","description":"1\/15. Michael Portillo strikes out to explore the Britain of his youth, starting at Preston\u0027s Fulwood Barracks and heading across to Bury Bolton Street station in Greater Manchester. [S,AD,SL] [HD]","startTime":1689057900,"duration":1800,"svcId":700,"evtId":8256,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvbbys.jpg","hasTstv":false,"seriesNo":14,"episodeNo":1},{"name":"Super League Show 2023","description":"Tanya Arnold presents Super League highlights including the derby between Hull KR and Hull FC. With both teams fighting for the play-offs, another intense atmosphere is guaranteed. [S] [HD]","startTime":1689059700,"duration":2700,"svcId":700,"evtId":8257,"image":"\/ms\/img\/epg\/rb\/8df1-p0bpycx3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1688994000,"availabilityEnd":1691622600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nq6x\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1689062400,"duration":7200,"svcId":700,"evtId":8258,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1689069600,"duration":2700,"svcId":700,"evtId":8259,"image":"\/ms\/img\/epg\/rb\/placeholder-700.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1689072300,"duration":2700,"svcId":700,"evtId":8260,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Wimbledon","description":"All the action from Wimbledon as the quarter-final stage gets underway on the pristine grass courts of the All England Club. Presented by Clare Balding. [S] [HD]","startTime":1689075000,"duration":12600,"svcId":700,"evtId":8261,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwmvx5.jpg","hasTstv":false,"seriesNo":2023},{"name":"Wimbledon","description":"Further action from Wimbledon as the quarter-final stage gets underway on the pristine grass courts of the All England Club. Presented by Clare Balding. [S] [HD]","startTime":1689087600,"duration":14400,"svcId":700,"evtId":8262,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwmvx5.jpg","hasTstv":false,"seriesNo":2023},{"name":"Today at Wimbledon","description":"Qasa Alom and guests look back at the day\u0027s play at Wimbledon. Featuring highlights from the biggest matches, along with analysis and discussion of the main talking points. [S] [HD]","startTime":1689102000,"duration":3600,"svcId":700,"evtId":8263,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwmvx5.jpg","hasTstv":false,"seriesNo":2023},{"name":"New: Your Home Made Perfect","description":"4\/8. Using virtual reality, two top architects compete to remodel a family home in Croydon. Will they go for Laura\u0027s double bunk beds or Lizzie\u0027s colourful side extension? [S,AD] [HD]","startTime":1689105600,"duration":3600,"svcId":700,"evtId":8264,"image":"\/ms\/img\/epg\/rb\/8df1-p0fz874g.jpg","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"3 Non-Blondes","description":"1\/10. The all-girl trio return to the streets of Britain with a hidden camera in search of unsuspecting members of the public. [S]","startTime":1689109200,"duration":1800,"svcId":700,"evtId":8265,"image":"\/ms\/img\/epg\/rb\/8df1-p0fz8clz.jpg","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With  Victoria Derbyshire. [S] [HD]","startTime":1689111000,"duration":2400,"svcId":700,"evtId":8266,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1689113400,"duration":300,"svcId":700,"evtId":8267,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"County Lines","description":"A 14-year-old-boy is groomed into smuggling drugs for a criminal network. Contains very strong language, sexual violence and upsetting scenes. [2020] [S] [HD]","startTime":1689113700,"duration":5100,"svcId":700,"evtId":8268,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvf9t7.jpg","hasTstv":false},{"name":"Frontline Fightback","description":"8\/10. A cyclist takes matters into his own hands and is fighting back against bike thefts. We also look at a new DNA technique helping forensic artists sketch criminals. [S,SL] [HD]","startTime":1689118800,"duration":2700,"svcId":700,"evtId":8269,"image":"\/ms\/img\/epg\/rb\/8df1-p0fmxxsd.jpg","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Big Little Crimes","description":"7\/10. An anonymous tip-off leads authorities to crack the UK\u0027s biggest case of food fraud. [S,SL] [HD]","startTime":1689121500,"duration":2700,"svcId":700,"evtId":8270,"image":"\/ms\/img\/epg\/rb\/8df1-p0dt00r8.jpg","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"Your Home Made Perfect","description":"3\/8. Using virtual reality, two top architects compete to remodel actress Jill Halfpenny and her son Harvey\u0027s flat in the north east of England. [S,AD,SL] [HD]","startTime":1689124200,"duration":3600,"svcId":700,"evtId":8271,"image":"\/ms\/img\/epg\/rb\/8df1-p0fxjnk2.jpg","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1689127800,"duration":12000,"svcId":700,"evtId":8272,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"George Clarke\u0027s Amazing Spaces","description":"George Clarke explores more inspirational and ingenious amazing spaces, including a stargazing cabin with a twist, a vintage horsebox and a Norwegian Viking-inspired longhouse. (S10 Ep1)  [AD,S,SL]","startTime":1689043200,"duration":3300,"svcId":1500,"evtId":34960,"image":"\/ms\/img\/epg\/rb\/5d52-5264442.l.png","hasTstv":false,"seriesNo":10,"episodeNo":1},{"name":"Undercover Boss USA","description":"Sports bar chain Walk-On\u0027s founder, Brandon Landry, and co-owner, NFL quarterback Drew Brees, go undercover in their company to find out what life is like for their 4000 staff. (S10 Ep1)  [S]","startTime":1689046500,"duration":3000,"svcId":1500,"evtId":34961,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":10,"episodeNo":1},{"name":"Beat the Chef","description":"Andi Oliver hosts the culinary combat, as skilful amateur cooks compete against professional chefs. Former pilot Chris Topham takes on chef Mark Sargeant, but who will be top gun? (S2 Ep1)  [S]","startTime":1689049500,"duration":1500,"svcId":1500,"evtId":34956,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"Kirstie\u0027s House of Craft","description":"Dr Dawn Harper and Dr Ranj Singh take on a shaving foam marbling challenge. Chris Hollins and Laura Hamilton make paper gift bags. Debra Stephenson and Amanda Lamb create glitter cards.  [S]","startTime":1689051000,"duration":1200,"svcId":1500,"evtId":30287,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Rory Bremner joins Susie Dent in Dictionary Corner.  [S]","startTime":1689052200,"duration":2400,"svcId":1500,"evtId":34649,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Cheers","description":"Ma\u0027s Little Maggie: Cliff fears the first meeting between his mother and his girlfriend Margaret, but the two women get along famously. Rebecca aims to improve Sam\u0027s fertility. (S10 Ep5\/26)  [S]","startTime":1689054600,"duration":1500,"svcId":1500,"evtId":34650,"image":"\/ms\/img\/epg\/rb\/5d52-54765.l.png","hasTstv":false,"seriesNo":10,"episodeNo":5},{"name":"Cheers","description":"Unplanned Parenthood: Rebecca and Sam argue over what last name their future child should have, and look after Carla\u0027s unruly kids for a night. (S10 Ep6\/26)  [S]","startTime":1689056100,"duration":1500,"svcId":1500,"evtId":34651,"image":"\/ms\/img\/epg\/rb\/5d52-56928.l.png","hasTstv":false,"seriesNo":10,"episodeNo":6},{"name":"Everybody Loves Raymond","description":"Super Bowl: Ray is sent by his paper to cover the Super Bowl, but his excitement is tempered by having to choose someone to accompany him. Will he make the right choice? (S5 Ep13)  [AD,S]","startTime":1689057600,"duration":1500,"svcId":1500,"evtId":34652,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"Ray\u0027s Journal: Ray is horrified to learn that his mother used to read his diary, which contained his most personal - and perverted - thoughts. (S5 Ep14)  [AD,S]","startTime":1689059100,"duration":1800,"svcId":1500,"evtId":34653,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":14},{"name":"Everybody Loves Raymond","description":"Silent Partners: After spending a Valentine\u0027s dinner without talking to each other, Ray and Debra agree to take an interest in each other\u0027s hobbies. (S5 Ep15)  [AD,S]","startTime":1689060900,"duration":1800,"svcId":1500,"evtId":34654,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":15},{"name":"Frasier","description":"Ham Radio: Frasier\u0027s attempt to produce a live, 1940s-style radio drama for KACL\u0027s 50th anniversary proves disastrous when Niles takes matters into his own hands. (S4 Ep18)  [AD,S]","startTime":1689062700,"duration":1800,"svcId":1500,"evtId":34655,"image":"\/ms\/img\/epg\/rb\/5d52-587314.l.png","hasTstv":false,"seriesNo":4,"episodeNo":18},{"name":"Frasier","description":"Three Dates and a Breakup (Part 1\/2): Frasier goes on dates with three very different women, while Martin and Sherry consider splitting up. (S4 Ep19)  [AD,S]","startTime":1689064500,"duration":2100,"svcId":1500,"evtId":34656,"image":"\/ms\/img\/epg\/rb\/5d52-1197409.l.png","hasTstv":false,"seriesNo":4,"episodeNo":19},{"name":"Frasier","description":"Three Dates and a Breakup (Part 2\/2): Frasier and Niles celebrate Sherry\u0027s departure with glee, but she won\u0027t give up on Martin that easily. (S4 Ep20)  [AD,S]","startTime":1689066600,"duration":1800,"svcId":1500,"evtId":34657,"image":"\/ms\/img\/epg\/rb\/5d52-624707.l.png","hasTstv":false,"seriesNo":4,"episodeNo":20},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Colorado, Gordon Ramsay visits Italian restaurant Pantaleone\u0027s, whose stubborn owner Pete claims that he makes \u0027the best pizza in Denver\u0027. Sadly, Gordon doesn\u0027t agree. (S7 Ep1)  [S]","startTime":1689068400,"duration":3300,"svcId":1500,"evtId":34658,"image":"\/ms\/img\/epg\/rb\/5d52-1885642.l.png","hasTstv":false,"seriesNo":6,"episodeNo":2},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1689071700,"duration":300,"svcId":1500,"evtId":34659,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The competition begins at Derwent House Apartments in Scarborough, where hosts Claire and her daughter-in-law Jessica want to change perceptions of the seaside town.  [S]","startTime":1689072000,"duration":1800,"svcId":1500,"evtId":34660,"image":"\/ms\/img\/epg\/rb\/5d52-7195752.l.png","hasTstv":false},{"name":"Four in a Bed","description":"At Burton Constable Holiday Park near Hull, park wardens Gemma and Mark are hoping their luxurious lodges will wow the B\u0026Bers. But there\u0027s a fly in the ointment for one pair of guests.  [S]","startTime":1689073800,"duration":1800,"svcId":1500,"evtId":34661,"image":"\/ms\/img\/epg\/rb\/5d52-7196000.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Pro chef Stephen hosts the week\u0027s third visit at The Crossings Inn in Cumbria. His ethos is no-nonsense accommodation and gorgeous grub, so eggs-pectations are sky high at breakfast time.  [S]","startTime":1689075600,"duration":1800,"svcId":1500,"evtId":34662,"image":"\/ms\/img\/epg\/rb\/5d52-7196219.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The week\u0027s last visit is to Jane\u0027s lovingly restored Plas Maenan Country House in Wales\u0027 Conwy Valley. But the restoration doesn\u0027t meet everyone\u0027s standards with patchy paintwork a problem.  [S]","startTime":1689077400,"duration":1800,"svcId":1500,"evtId":34663,"image":"\/ms\/img\/epg\/rb\/5d52-7196381.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s payment day, and there\u0027s a packed agenda of cleanliness concerns and scrambled scores as the B\u0026Bers air their grievances before the winner is announced.  [S]","startTime":1689079200,"duration":1800,"svcId":1500,"evtId":34664,"image":"\/ms\/img\/epg\/rb\/5d52-412164625.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Rory Bremner joins Susie Dent in Dictionary Corner.  [S]","startTime":1689081000,"duration":3000,"svcId":1500,"evtId":34665,"image":"\/ms\/img\/epg\/rb\/5d52-7848093.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Mother and daughter Michelle and Charlotte are looking for Michelle\u0027s dream holiday home on Lanzarote\u0027s Playa Blanca. Ben Hillman lines up five fantastic options for their \u00a3110k budget.  [S]","startTime":1689084000,"duration":3600,"svcId":1500,"evtId":34666,"image":"\/ms\/img\/epg\/rb\/5d52-406345607.l.png","hasTstv":false},{"name":"Chateau DIY","description":"A nest of ants causes trouble for Tim and Krys as they finally open to paying guests. The Cherry family experience an unexpected delay, while Aaron battles the elements. (S3 Ep27)  [AD,S]","startTime":1689087600,"duration":3600,"svcId":1500,"evtId":34667,"image":"\/ms\/img\/epg\/rb\/5d52-6489027.l.png","hasTstv":false,"seriesNo":3,"episodeNo":27},{"name":"Sun, Sea and Selling Houses","description":"In Murcia, the Browns have a bumper budget to find the perfect place for Stuart and Laura. And in Almer\u00eda, the Garners help mum and daughter Sharon and Meg find their dream home. (S6 Ep12)  [S]","startTime":1689091200,"duration":3600,"svcId":1500,"evtId":34668,"image":"\/ms\/img\/epg\/rb\/5d52-7848099.l.png","hasTstv":false,"seriesNo":6,"episodeNo":12},{"name":"The Simpsons","description":"Bart to the Future: Bart foresees his adult future as a struggling rock guitarist crashing on Ralph Wiggum\u0027s couch, while Lisa becomes the first straight female President. (S11 Ep17\/22)  [AD,S]","startTime":1689094800,"duration":1800,"svcId":1500,"evtId":34669,"image":"\/ms\/img\/epg\/rb\/5d52-388256112.l.png","hasTstv":false,"seriesNo":11,"episodeNo":17},{"name":"Hollyoaks","description":"Things keep getting worse for Charlie. Erin is convinced she\u0027s found her real dad, and Ste offers her some advice. Rayne shows her mean streak.  [AD,S]","startTime":1689096600,"duration":1800,"svcId":1500,"evtId":34670,"image":"\/ms\/img\/epg\/rb\/5d52-7848110.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1689098400,"duration":3600,"svcId":1500,"evtId":34671,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: Bake Off: The Professionals","description":"The five remaining teams create 24 reimagined tarts and 24 peach melbas, before attempting a pi\u00e8ce mont\u00e9e of 160 individual choux buns, inspired by the theme of \u0027Mad Science\u0027. (S6 Ep2\/10)  [AD,S]","startTime":1689102000,"duration":3600,"svcId":1500,"evtId":34672,"image":"\/ms\/img\/epg\/rb\/5d52-7848118.l.png","hasTstv":false,"seriesNo":6,"episodeNo":2},{"name":"New: Sky Coppers","description":"Behind the scenes with the West Midlands Police Drone Unit, who work on the ground, but hunt criminals from the sky, from a suspected dealer to an illicit cannabis farm. (Ep1\/6)  [AD,S]","startTime":1689105600,"duration":3600,"svcId":1500,"evtId":34673,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Gogglebox","description":"Britain\u0027s sharpest armchair critics have been watching: Killing Eve, The Apprentice, Our House, Naked Attraction, Ant \u0026 Dec\u0027s Saturday Night Takeaway, and Dragons\u0027 Den. (S19 Ep4)  [AD,S]","startTime":1689109200,"duration":3900,"svcId":1500,"evtId":34962,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":19,"episodeNo":4},{"name":"Celebrity Gogglebox","description":"On the \u0027Box this time, Is It Cake, Too?, Hijack, Steph\u0027s Packed Lunch and Dr. Pimple Popper. As seen by Mo Gilligan, Jon Richardson, Gyles Brandreth, Melanie C and NDubz. (S5 Ep4)  [AD,S,SL]","startTime":1689113100,"duration":3600,"svcId":1500,"evtId":34675,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":4},{"name":"Untold: Konan - Trapped in Trauma","description":"Rapper Konan gives intimate access to his own therapy sessions as Untold\u0027s data reveals that more than 300,000 16 to 24-year-olds are struggling with PTSD, many of whom are undiagnosed.  [AD,S]","startTime":1689116700,"duration":3300,"svcId":1500,"evtId":34676,"image":"\/ms\/img\/epg\/rb\/5d52-7848128.l.png","hasTstv":false},{"name":"The Last Leg","description":"Adam Hills, Josh Widdicombe and Alex Brooker continue their 28th series - and no news story is safe from their acerbic wit. With comedian Guz Khan and Jess Phillips MP. (S28 Ep2)  [S,SL]","startTime":1689120000,"duration":3300,"svcId":1500,"evtId":34963,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":28,"episodeNo":2},{"name":"The Change","description":"Comedy about Linda, a menopausal mum who starts a new life in the woods. It\u0027s Eel Festival eve, and Linda joins up with Joy and the Eel sisters to help with the final preparations. (Ep5\/6)  [AD,S,SL]","startTime":1689123300,"duration":1500,"svcId":1500,"evtId":34964,"image":"\/ms\/img\/epg\/rb\/5d52-7818703.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"The Change","description":"Comedy. It\u0027s Eel Festival day, and the town is buzzing with excitement. Even honorary \u0027Eel Child\u0027 The Verderer comes down from his tree to celebrate. But the harmony is soon broken. (Ep6\/6)  [AD,S,SL]","startTime":1689124800,"duration":1800,"svcId":1500,"evtId":34965,"image":"\/ms\/img\/epg\/rb\/5d52-7818705.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Evacuation","description":"Pilots navigate treacherous Afghan skies while troops at Kabul airport must make life-and-death decisions as they struggle to control crowds of terrified civilians. (Ep2\/3)  [AD,S,SL]","startTime":1689126600,"duration":3300,"svcId":1500,"evtId":34677,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Grand Designs Australia","description":"Barbara and Craig are using an untested building system to create their dream home in Dee Why, a coastal suburb of Sydney. (S8 Ep10)  [AD,S]","startTime":1689129900,"duration":3300,"svcId":1500,"evtId":34966,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"Location, Location, Location","description":"Kirstie Allsopp helps a couple who feel bruised and battered by the property market in Barry in Wales. Phil Spencer helps Will and Aby hunt for a country home in the Wye Valley. (S30 Ep3\/8)  [S]","startTime":1689133200,"duration":3300,"svcId":1500,"evtId":34967,"image":"\/ms\/img\/epg\/rb\/5d52-284356891.l.png","hasTstv":false,"seriesNo":30,"episodeNo":3}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('363');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('36');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('57');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'k8YiqM0Y-78', title: "Jawan |Official Hindi Prevue |Shah Rukh Khan |Atlee |Nayanthara |Vijay Sethupathi |Deepika |Anirudh", label: "Jawan |Official Hindi Prevue |Shah Rukh Khan |Atlee |Nayanthara |Vijay Sethupathi |Deepika |Anirudh by Red Chillies Entertainment 18 hours ago 2 minutes, 13 seconds 40,371,418 views" },
{ id: 'zcDNTeNJpJY', title: "Mason Mount's First Training Session For United! 🔥 | Day 1️⃣ | INSIDE TRAINING", label: "Mason Mount's First Training Session For United! 🔥 | Day 1️⃣ | INSIDE TRAINING by Manchester United 13 hours ago 10 minutes, 22 seconds 817,272 views" },
{ id: 'U_PzcWkd62I', title: "I have cancer.", label: "I have cancer. by Sam and Colby 1 day ago 24 minutes 3,231,674 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Hungary.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Hungarian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>23 July</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Us (2019)">Us (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert (2020)">Command & Conquer: Red Alert (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs (2021)">100 Hidden Frogs (2021)</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island (2022)">Return to Monkey Island (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2014, S5)">Downton Abbey (2014, S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2013, S4)">Downton Abbey (2013, S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2012, S3)">Downton Abbey (2012, S3)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 175.67, tooltip: "Fri, Jul 07, 2023<br/>£175.67"},
{ number: 177.33, tooltip: "Thu, Jul 06, 2023<br/>£177.33"},
{ number: 179.30, tooltip: "Wed, Jul 05, 2023<br/>£179.30"},
{ number: 179.97, tooltip: "Tue, Jul 04, 2023<br/>£179.97"},
{ number: 180.41, tooltip: "Mon, Jul 03, 2023<br/>£180.41"},
{ number: 179.41, tooltip: "Fri, Jun 30, 2023<br/>£179.41"},
{ number: 179.00, tooltip: "Thu, Jun 29, 2023<br/>£179.00"},
{ number: 178.60, tooltip: "Wed, Jun 28, 2023<br/>£178.60"},
{ number: 176.52, tooltip: "Tue, Jun 27, 2023<br/>£176.52"},
{ number: 175.48, tooltip: "Mon, Jun 26, 2023<br/>£175.48"},
{ number: 175.84, tooltip: "Fri, Jun 23, 2023<br/>£175.84"},
{ number: 177.15, tooltip: "Thu, Jun 22, 2023<br/>£177.15"},
{ number: 177.37, tooltip: "Wed, Jun 21, 2023<br/>£177.37"},
{ number: 178.07, tooltip: "Tue, Jun 20, 2023<br/>£178.07"},
{ number: 178.24, tooltip: "Mon, Jun 19, 2023<br/>£178.24"},
{ number: 178.58, tooltip: "Fri, Jun 16, 2023<br/>£178.58"},
{ number: 179.61, tooltip: "Thu, Jun 15, 2023<br/>£179.61"},
{ number: 178.74, tooltip: "Wed, Jun 14, 2023<br/>£178.74"},
{ number: 179.51, tooltip: "Tue, Jun 13, 2023<br/>£179.51"},
{ number: 179.33, tooltip: "Mon, Jun 12, 2023<br/>£179.33"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 07, 2023",
		"vs Day":      "Thu, Jul 06, 2023",
		"vs Week":     "Fri, Jun 30, 2023",
		"vs Month":    "Mon, Jun 12, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£175.67/share",
		'vs Day':      "-0.94%",
		'vs Week':     "-2.08%",
		'vs Month':    "-2.04%",
		'vs Year':     "+5.37%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '40.3',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 10 July and 11 July">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.403&p=3.400&r=0.286',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:57',
		Set:      '21:25',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A bon vivant is a sociable person who has cultivated and refined tastes especially with respect to food and drink.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

console.log('Error in twitter module: This is usually a temporary error during hostname resolution and means that the local server did not receive a response from an authoritative server. (trends24.in:443)');

//////////////////////////////////////////////////

console.log('Error in twitter module: This is usually a temporary error during hostname resolution and means that the local server did not receive a response from an authoritative server. (trends24.in:443)');

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>