<!DOCTYPE html>
<html lang="en">
	<head>
		<title>19:40 6-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>King and world leaders attend emotional D-Day events</b><br/>The King and Prince of Wales both made speeches, praising the &quot;bravery and sacrifice&quot; of those who &quot;served at that critical time&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cn44ed7yelzo">King and world leaders attend emotional D-Day events</a></li><li class="ttt" data-tt="<b>Search under way after TV presenter Michael Mosley goes missing in Greece</b><br/>Mr Mosley went missing on Wednesday after going for a walk while on holiday on the Greek island of Symi."><a href="https://www.bbc.com/news/articles/cerr19d0z0go">Search under way after TV presenter Michael Mosley goes missing in Greece</a></li><li class="ttt" data-tt="<b>Green Party outlines NHS plans as Douglas Ross says he\'ll stand at election</b><br/>The Greens says they would raise funds for the health service by taxing the &quot;very richest&quot;."><a href="https://www.bbc.co.uk/news/live/uk-politics-69095779">Green Party outlines NHS plans as Douglas Ross says he\'ll stand at election</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cn44ed7yelzo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2aaa/live/0c4cd740-242f-11ef-80de-01d4152f54e3.jpg" class="ttt" data-tt="Prince William meeting veterans" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Hunter Biden\'s ex-girlfriend \'panicked\' after finding gun</b><br/>Hallie Biden told the court she got rid of the weapon as she feared for the safety of the president\'s son." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c9xxn32yr2lo">Hunter Biden\'s ex-girlfriend \'panicked\' after finding gun</a></li><li class="ttt" data-tt="<b>Biden links WW2 and Ukraine war in D-Day address</b><br/>Joe Biden says democracies are under threat, adding autocrats are &quot;watching what happens in Ukraine&quot;."><a href="https://www.bbc.com/news/articles/cjkkzmj0p5xo">Biden links WW2 and Ukraine war in D-Day address</a></li><li class="ttt" data-tt="<b>Trump heads to Silicon Valley with eye on fundraising haul</b><br/>Emboldened by billionaires like Elon Musk, some of tech\'s big names are turning to Donald Trump."><a href="https://www.bbc.com/news/articles/ckvv3zpeywko">Trump heads to Silicon Valley with eye on fundraising haul</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c9xxn32yr2lo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/35be/live/13f77050-2433-11ef-b6c4-4f39da31931b.jpg" class="ttt" data-tt="Hallie Biden, widow of Beau Biden and former girlfriend to Hunter Biden, arrives with her fiancee John Hopkins Anning, at federal court during Hunter’s trial for criminal gun charges in Wilmington, Delaware, U.S., June 6, 2024." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Myanmar soldiers cut off tattoos and gave detainees urine to drink, witnesses tell BBC</b><br/>Witnesses tell the BBC the Myanmar army tortured and killed dozens of men in a village in Rakhine State." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/ckmm6jep6l7o">Myanmar soldiers cut off tattoos and gave detainees urine to drink, witness...</a></li><li class="ttt" data-tt="<b>Israeli strike on UN school in Gaza reportedly kills at least 35</b><br/>The Israeli military said it struck a &quot;Hamas compound&quot; in the school - a claim Hamas officials deny."><a href="https://www.bbc.com/news/articles/crggq0jygq6o">Israeli strike on UN school in Gaza reportedly kills at least 35</a></li><li class="ttt" data-tt="<b>Biden links WW2 and Ukraine war in D-Day address</b><br/>Joe Biden says democracies are under threat, adding autocrats are &quot;watching what happens in Ukraine&quot;."><a href="https://www.bbc.com/news/articles/cjkkzmj0p5xo">Biden links WW2 and Ukraine war in D-Day address</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/ckmm6jep6l7o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/8fee/live/e474ae70-23f0-11ef-baa7-25d483663b8e.jpg" class="ttt" data-tt="This photo taken on May 21, 2024 shows people rebuilding temporary homes near a destroyed building following fighting between Myanmar&#x27;s military and the Arakan Army (AA) ethnic minority armed group in a village in Minbya Township in western Rakhine State" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Plans for smaller and greener F1 cars unveiled</b><br/>Formula 1 cars will be smaller, nimbler and more environmentally friendly from 2026, the sport\'s governing body the FIA says." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cgeeqr817xxo">Plans for smaller and greener F1 cars unveiled</a></li><li class="ttt" data-tt="<b>Canadian GP race times, weather & BBC coverage</b><br/>Round nine of the 2024 Formula 1 season heads to Circuit Gilles Villeneuve for the Canadian Grand Prix - how to follow on the BBC."><a href="https://www.bbc.com/sport/formula1/articles/c9998zd1yexo">Canadian GP race times, weather & BBC coverage</a></li><li class="ttt" data-tt="<b>Perez signs new two-year deal with Red Bull</b><br/>Sergio Perez signs a new two-year contract to stay at Red Bull in Formula 1 until the end of 2026."><a href="https://www.bbc.com/sport/formula1/articles/cv22n5ypp5ro">Perez signs new two-year deal with Red Bull</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cgeeqr817xxo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/2a38/live/5fd497c0-23dc-11ef-baa7-25d483663b8e.jpg" class="ttt" data-tt="Rendered image of how F1 cars will look like from 2026" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Plans to use Facebook and Instagram posts to train AI criticised</b><br/>Public posts, images and image captions will also be used to develop parent company Meta\'s AI tools." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cw99n3qjeyjo">Plans to use Facebook and Instagram posts to train AI criticised</a></li><li class="ttt" data-tt="<b>Nvidia value surges past $3tn and overtakes Apple</b><br/>Nvidia has been marked out as a  winner from a wave of investments in artificial intelligence."><a href="https://www.bbc.com/news/articles/c6ppqd3j621o">Nvidia value surges past $3tn and overtakes Apple</a></li><li class="ttt" data-tt="<b>Meta releases \'sextortion\' data after mum\'s criticism</b><br/>Murray Dowey, 16, from Dunblane took his own life last December after being blackmailed online."><a href="https://www.bbc.com/news/articles/cekkr4lvl82o">Meta releases \'sextortion\' data after mum\'s criticism</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cw99n3qjeyjo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3ec8/live/7224dfd0-1f62-11ef-b46c-c12631792e6a.jpg" class="ttt" data-tt="Meta AI logo is displayed on a smartphone lying on a computer keyboard" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"3 Jun – 9 Jun","date":17177184E5,"ts":"Fri, 7","ds":"Fri, 7 Jun","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":18,"templow":6,"cf":17,"wind":12,"wd":240,"hum":60,"pc":45,"rain":1.1 },{"date":17178048E5,"ts":"Sat, 8","ds":"Sat, 8 Jun","icon":18,"desc":"Sprinkles. Morning clouds.","temp":16,"templow":7,"cf":16,"wind":11,"wd":300,"hum":53,"pc":23,"rain":0.6 },{"date":17178912E5,"ts":"Sun, 9","ds":"Sun, 9 Jun","icon":18,"desc":"Sprinkles. Afternoon clouds.","temp":15,"templow":5,"cf":13,"wind":13,"wd":270,"hum":59,"pc":38,"rain":1.3 },{"hl":true,"hls":"10 Jun – 16 Jun","date":17179776E5,"ts":"Mon, 10","ds":"Mon, 10 Jun","icon":33,"desc":"Rain showers. Overcast.","temp":13,"templow":8,"cf":10,"wind":12,"wd":340,"hum":75,"pc":67,"rain":8.6 },{"date":1718064E6,"ts":"Tue, 11","ds":"Tue, 11 Jun","icon":33,"desc":"Light showers. Cloudy.","temp":14,"templow":6,"cf":12,"wind":11,"wd":10,"hum":71,"pc":52,"rain":3.6 },{"date":17181504E5,"ts":"Wed, 12","ds":"Wed, 12 Jun","icon":33,"desc":"Light showers. Mostly cloudy.","temp":15,"templow":5,"cf":14,"wind":6,"wd":260,"hum":61,"pc":23,"rain":2.7 },{"date":17182368E5,"ts":"Thu, 13","ds":"Thu, 13 Jun","icon":18,"desc":"Sprinkles late. Cloudy.","temp":15,"templow":5,"cf":12,"wind":10,"wd":200,"hum":70,"pc":17,"rain":1.7 },{"date":17183232E5,"ts":"Fri, 14","ds":"Fri, 14 Jun","icon":21,"desc":"A few tstorms. Overcast.","temp":17,"templow":10,"cf":16,"wind":7,"wd":220,"hum":76,"pc":68,"rain":10.1 },{"date":17184096E5,"ts":"Sat, 15","ds":"Sat, 15 Jun","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":17,"templow":10,"cf":17,"wind":8,"wd":10,"hum":73,"pc":61,"rain":4.7 },{"date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":18,"desc":"Sprinkles early. Broken clouds.","temp":17,"templow":10,"cf":17,"wind":6,"wd":310,"hum":66,"pc":57,"rain":0.6 },{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":17,"templow":10,"cf":17,"wind":5,"wd":210,"hum":64,"pc":66,"rain":0.9 },{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":21,"desc":"A few tstorms. Overcast.","temp":17,"templow":10,"cf":17,"wind":5,"wd":80,"hum":75,"pc":63,"rain":5.6 },{"date":17187552E5,"ts":"Wed, 19","ds":"Wed, 19 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":18,"templow":10,"cf":17,"wind":8,"wd":60,"hum":71,"pc":49,"rain":1},{"date":17188416E5,"ts":"Thu, 20","ds":"Thu, 20 Jun","icon":21,"desc":"Isolated tstorms. Mostly cloudy.","temp":18,"templow":10,"cf":17,"wind":3,"wd":340,"hum":66,"pc":40,"rain":0.2 },{"date":1718928E6,"ts":"Fri, 21","ds":"Fri, 21 Jun","icon":18,"desc":"Sprinkles. Overcast.","temp":18,"templow":10,"cf":17,"wind":13,"wd":220,"hum":84,"pc":52,"rain":1.1 }],"grid":{"temp":{"low":5,"high":18,"range":13},"prec":{"high":10.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/278_lorand_fenyes_ngc4565_1024.jpg',
		Title:     'NGC 4565: Galaxy on Edge',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/278_lorand_fenyes_ngc4565.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240606.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/61/Martial_eagle_%28Polemaetus_bellicosus%29.jpg/300px-Martial_eagle_%28Polemaetus_bellicosus%29.jpg',
		Title:    'Martial eagle',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Martial_eagle',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Martial_eagle" title="Martial eagle">martial eagle</a></b> (<i>Polemaetus bellicosus</i>) is a large <a href="https://en.wikipedia.org/wiki/Eagle" title="Eagle">eagle</a> native to sub-Saharan Africa. A species of the booted eagle subfamily (<a href="https://en.wikipedia.org/wiki/Aquilinae" title="Aquilinae">Aquilinae</a>), it has feathering over its <a href="https://en.wikipedia.org/wiki/Tibiotarsus" title="Tibiotarsus">tarsus</a>. One of the largest and most powerful species of booted eagle, it is a fairly opportunistic predator that varies its prey selection between mammals, birds and reptiles. It is one of a few eagle species known to hunt primarily from a high soar, by stooping on its quarry. Currently, the species is classified as <a href="https://en.wikipedia.org/wiki/Endangered_species" title="Endangered species">endangered</a> by the <a href="https://en.wikipedia.org/wiki/International_Union_for_Conservation_of_Nature" title="International Union for Conservation of Nature">International Union for Conservation of Nature</a>. This martial eagle was photographed in the <a href="https://en.wikipedia.org/wiki/Matetsi" title="Matetsi">Matetsi</a> safari area in Zimbabwe.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1717650000,"duration":9000,"svcId":560,"evtId":24979,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717659000,"availabilityEnd":1717745401,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zx0n\u0026ui_id=4.0.0"}},{"name":"D-Day 80: We Will Remember Them","description":"On the 80th anniversary of D-Day, live coverage of the UK national commemorations from the British Normandy Memorial in Ver-sur-Mer. Presented by Paddy O\u0027Connell. [S] [HD]","startTime":1717659000,"duration":9900,"svcId":560,"evtId":25065,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1hh4w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717667115,"availabilityEnd":1749203115,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy6s\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain","description":"14\/15. Life savings gone and no refund - why your choice of bank could make all the difference if you lose out to scammers. [S] [HD]","startTime":1717668900,"duration":2700,"svcId":560,"evtId":25066,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0wll9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717669830,"availabilityEnd":1749287699,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy6v\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":14},{"name":"Homes Under the Hammer","description":"3\/10. A former hotel in Matlock in Derbyshire is given a stunning makeover, while there are ambitious plans for a piece of land in Penkhull in Stoke. [S] [HD]","startTime":1717671600,"duration":1800,"svcId":560,"evtId":25523,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch2j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717673400,"availabilityEnd":1720265400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000hftm\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":3},{"name":"Bargain Hunt","description":"Natasha Raskin Sharp presents from the East of England Showground in Peterborough, with experts Ben Cooper and Gary Pe on hand to help the teams. [S] [HD]","startTime":1717673400,"duration":1800,"svcId":560,"evtId":25524,"image":"\/ms\/img\/epg\/rb\/ae0c-p07bx2zy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717675200,"availabilityEnd":1720267200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0005xf3\u0026ui_id=4.0.0"},"seriesNo":53},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news and weather, plus a comprehensive round-up from your part of the UK. [S] [HD]","startTime":1717675200,"duration":3600,"svcId":560,"evtId":25305,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false},{"name":"Doctors","description":"It\u0027s Graham\u0027s first day at work - will he impress his new colleagues? Suni helps a young woman deal with a family revelation. [S,AD] [HD]","startTime":1717678800,"duration":1800,"svcId":560,"evtId":25004,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0s332.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717680611,"availabilityEnd":1749216611,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx84\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":228},{"name":"Clean It, Fix It","description":"1\/15. The team visit south Wales, coming to the rescue of a busy entrepreneur who has no time to fix her house. [S] [HD]","startTime":1717680600,"duration":1800,"svcId":560,"evtId":25005,"image":"\/ms\/img\/epg\/rb\/fec6-p0b3560b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717682375,"availabilityEnd":1720274375,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0011fgj\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Escape to the Country","description":"37\/55. Nicki Chapman helps today\u0027s buyer escape her ex-council flat in south London and begin a new life in the Wiltshire countryside. Nicki also visits a trout farm. [S] [HD]","startTime":1717682400,"duration":2700,"svcId":560,"evtId":24981,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fb808y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717685104,"availabilityEnd":1720277104,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001kjvb\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":37},{"name":"Garden Rescue","description":"13\/35. Charlie and Lee are in Sutton Coldfield to create an Australian-inspired space to rekindle happy memories for Claire and Andy of their years spent living in Melbourne. [S] [HD]","startTime":1717685100,"duration":2700,"svcId":560,"evtId":24982,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fsrlzj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686756640,"availabilityEnd":1720279790,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mx36\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":13},{"name":"New: The Finish Line","description":"24\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1717687800,"duration":2700,"svcId":560,"evtId":25006,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0wbqp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717690509,"availabilityEnd":1752596014,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx86\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":24},{"name":"Pointless","description":"35\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1717690500,"duration":2700,"svcId":560,"evtId":24983,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g2n1yg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691082000,"availabilityEnd":1722618000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001p9x1\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":35},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1717693200,"duration":1800,"svcId":560,"evtId":24984,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717695090,"availabilityEnd":1717781490,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx0q\u0026ui_id=4.0.0"},"episodeNo":49},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717695000,"duration":1800,"svcId":560,"evtId":24985,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717696695,"availabilityEnd":1717783095,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx0s\u0026ui_id=4.0.0"},"episodeNo":67},{"name":"The One Show","description":"Author Harlan Coben and dance sensation Oti Mabuse join Alex Jones and Lauren Laverne on the sofa. [S] [HD]","startTime":1717696800,"duration":1800,"svcId":560,"evtId":25007,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717698593,"availabilityEnd":1720290593,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx88\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Junior faces an uncertain future, Priya demands answers, and Sonia finds herself caught in the middle. [S,AD] [HD]","startTime":1717698600,"duration":1800,"svcId":560,"evtId":25068,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0xh1d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717650000,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy6z\u0026ui_id=4.0.0"},"episodeNo":6922},{"name":"Question Time","description":"With a month until polling day, Fiona Bruce and Chester voters put questions to the panel. [S] [HD]","startTime":1717700400,"duration":3600,"svcId":560,"evtId":25071,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717703991,"availabilityEnd":1749239991,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy71\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"The Outlaws","description":"2\/5. As the police investigate the crime and Rani\u0027s involvement, the other outlaws don\u0027t know who they can trust. Contains some strong language and adult humour. [S,AD] [HD]","startTime":1717704000,"duration":3600,"svcId":560,"evtId":25070,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzjddc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717045200,"availabilityEnd":1874811600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yqd7\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":2},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1717707600,"duration":1800,"svcId":560,"evtId":24986,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717709490,"availabilityEnd":1717795890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx0v\u0026ui_id=4.0.0"},"episodeNo":49},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717709400,"duration":600,"svcId":560,"evtId":24987,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717709850,"availabilityEnd":1717796250,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx0x\u0026ui_id=4.0.0"},"episodeNo":58},{"name":"Not Going Out","description":"1\/5. Taking in a package for a neighbour causes problems for Lee and Lucy. Contains adult humour. [S] [HD]","startTime":1717710000,"duration":1800,"svcId":560,"evtId":25405,"image":"\/ms\/img\/epg\/rb\/ae0c-p092cpq7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1641679200,"availabilityEnd":1734991200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000r0g2\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":1},{"name":"Newscast","description":"Lighthearted discussion of the week\u0027s political events. [S] [HD]","startTime":1717711800,"duration":1800,"svcId":560,"evtId":25072,"image":"\/ms\/img\/epg\/rb\/fec6-p0gyf0ss.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717700400,"availabilityEnd":1720306800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy73\u0026ui_id=4.0.0"}},{"name":"The Heat","description":"Film comedy. Two cops with nothing in common team up to take on a ruthless drug lord and end up becoming best buddies. Contains very strong language. [2013] [S,AD] [HD]","startTime":1717713600,"duration":6600,"svcId":560,"evtId":25406,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fvjs27.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717720248,"availabilityEnd":1720312248,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001nbhp\u0026ui_id=4.0.0"}},{"name":"NBA Finals: Boston Celtics v...","description":"...Dallas Mavericks - Game One. Fast action and amazing athleticism from the biggest stars in basketball. [S] [HD]","startTime":1717720200,"duration":9900,"svcId":560,"evtId":25075,"image":"\/ms\/img\/epg\/rb\/fec6-p0j1fmn5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717730100,"availabilityEnd":1720322153,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zy75\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":8},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1717730100,"duration":300,"svcId":560,"evtId":24988,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717730439,"availabilityEnd":1718335239,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx0z\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1717730400,"duration":6000,"svcId":560,"evtId":24989,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":67}]},{"channelid":700,"offset":0,"event":[{"name":"Bargain Hunt: All About D-Day","description":"Two teams of armed forces veterans go head-to-head in a special episode to mark the 80th anniversary of D-Day. [S] [HD]","startTime":1717652700,"duration":2700,"svcId":700,"evtId":16753,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0rmm9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717416000,"availabilityEnd":1748952000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zxk4\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"5\/15. Clive has a Jamaican family reunion and dishes up some delicious curry goat. [S] [HD]","startTime":1717655400,"duration":1800,"svcId":700,"evtId":16754,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzrfg1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpmy\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Gardeners\u0027 World","description":"11\/32. With summer feasts in mind, Monty reveals a new outdoor eating area he\u0027s been working on. [S,AD,SL] [HD]","startTime":1717657200,"duration":3600,"svcId":700,"evtId":16755,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0r6zw.jpg","hasTstv":false,"seriesNo":22,"episodeNo":11},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1717660800,"duration":11700,"svcId":700,"evtId":16756,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The tax row between Labour and the Tories. And, should national service be made compulsory for young people? [S] [HD]","startTime":1717672500,"duration":2700,"svcId":700,"evtId":16757,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717675265,"availabilityEnd":1720267265,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zz1p\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"24\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 18 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1717675200,"duration":2700,"svcId":700,"evtId":16758,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717677990,"availabilityEnd":1720269990,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000pk5r\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":24},{"name":"Mastermind","description":"24\/31. Clive Myrie hosts as more contenders take to the famous black chair, answering questions on Grace Kelly, the Cadfael novels and The Beatles\u0027 recording sessions. [S] [HD]","startTime":1717677900,"duration":1800,"svcId":700,"evtId":16759,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j15ynh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014t46\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":24},{"name":"Great Coastal Railway Journeys","description":"24\/25. Michael travels the breathtaking rural coastline of Carmarthenshire and Pembrokeshire. [S,AD] [HD]","startTime":1717679700,"duration":1800,"svcId":700,"evtId":16760,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bppg53.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717681503,"availabilityEnd":1720273503,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014tmj\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":24},{"name":"Five Bedrooms","description":"1\/8. Harry tries to outmanipulate his mother, Mel is after Ben\u0027s body, and guilty Liz must face husband Stuart. [S,AD] [HD]","startTime":1717681500,"duration":2700,"svcId":700,"evtId":16761,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g8bnwc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693544400,"availabilityEnd":1725197384,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fw14kq\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"The Farmers\u0027 Country Showdown","description":"19\/20. Two Scottish farming families hope to make healthy sales at the Bowhouse market in Fife: Robert and Jane, with their dairy produce, and the Bruce family with their spirits and liquors. [S] [HD]","startTime":1717684200,"duration":2700,"svcId":700,"evtId":16762,"image":"\/ms\/img\/epg\/rb\/ae0c-p094kprd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717686871,"availabilityEnd":1720278871,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000rq7g\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":19},{"name":"Ocean Giants","description":"3\/3. Documentary series about the intelligence of dolphins and whales. This part looks at how the sea mammals make sounds to catch food, and sing for music\u0027s own sake. [S,AD] [HD]","startTime":1717686900,"duration":3600,"svcId":700,"evtId":16763,"image":"\/ms\/img\/epg\/rb\/ae0c-p09kfpy9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717690464,"availabilityEnd":1720282464,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01452jz\u0026ui_id=4.0.0"},"episodeNo":3},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Wrest Park, a 19th-century French-style chateau in Bedfordshire, with experts Christina Trevanion and David Harper. [S] [HD]","startTime":1717690500,"duration":2700,"svcId":700,"evtId":16764,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717693197,"availabilityEnd":1720285197,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b05s7v4m\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":24},{"name":"Richard Osman\u0027s House of Games","description":"69\/100. Ashley John-Baptiste, Simon Rimmer, Claire Sweeney and Esme Young test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1717693200,"duration":1800,"svcId":700,"evtId":16765,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkldfl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717694999,"availabilityEnd":1720286999,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001fyxq\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":69},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"8\/15. Clive helps some Cuban cowboys set up a unique race, finds out how farmers are fighting back against ever-stronger hurricanes and learns how to roll the perfect cigar. [S] [HD]","startTime":1717695000,"duration":1800,"svcId":700,"evtId":16766,"image":"\/ms\/img\/epg\/rb\/fec6-p0hzrwfd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpn2\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":8},{"name":"Your Garden Made Perfect","description":"4\/6. Suzanne and Andrew have a huge problem in their lives: a crater-sized derelict swimming pool in their back garden in Plymouth. [S] [HD]","startTime":1717696800,"duration":3600,"svcId":700,"evtId":16767,"image":"\/ms\/img\/epg\/rb\/ae0c-p0977kt9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717700431,"availabilityEnd":1720292431,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000slms\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"Springwatch","description":"8\/12. A celebration of Roy Dennis, a man dedicated to bringing species back from the brink. There is also a round-up of the week\u0027s action, and Megan gets to know the beavers of Argarty. [S] [HD]","startTime":1717700400,"duration":3600,"svcId":700,"evtId":16768,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzvk62.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717704051,"availabilityEnd":1749844855,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz1r\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":8},{"name":"The Wrong Man: 17 Years Behind...","description":"...Bars. A man fighting for freedom after spending 17 years in prison for a crime he didn\u0027t commit. Contains some strong language and disturbing scenes. [S,AD] [HD]","startTime":1717704000,"duration":3600,"svcId":700,"evtId":16769,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j14q38.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717650000,"availabilityEnd":1749186000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zywl\u0026ui_id=4.0.0"}},{"name":"Live at the Apollo","description":"2\/6. The hilarious Loyiso Gola introduces comedians Scott Bennett and Helen Bauer to the stage. Contains some strong language and adult humour. [S] [HD]","startTime":1717707600,"duration":1800,"svcId":700,"evtId":16770,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b286pm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717709552,"availabilityEnd":1720301552,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011pmy\u0026ui_id=4.0.0"},"seriesNo":2022,"episodeNo":2},{"name":"Newsnight","description":"Opinion polls show Reform creeping up the charts. What happens if that reaches the ballot box? With Kirsty Wark. [S] [HD]","startTime":1717709400,"duration":1800,"svcId":700,"evtId":16771,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j101sb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717711350,"availabilityEnd":1749247350,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz1t\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1717711200,"duration":300,"svcId":700,"evtId":16772,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717711575,"availabilityEnd":1717797975,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz1w\u0026ui_id=4.0.0"}},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. 2\/3. Romesh travels to Rwanda to discover its unique culture and incredible wildlife. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1717711500,"duration":3600,"svcId":700,"evtId":16773,"image":"\/ms\/img\/epg\/rb\/fec6-p0hzqgzt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1811566740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpqw\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"D-Day: The Unheard Tapes","description":"2\/3. The D-Day invasion hangs in the balance as soldiers battle on the beaches of Normandy. Contains some strong language and upsetting scenes. [S,AD] [HD]","startTime":1717715100,"duration":3600,"svcId":700,"evtId":16774,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j14ylx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717304400,"availabilityEnd":1748840400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y65w\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Great British Railway Journeys","description":"8\/15. Michael Portillo continues his postwar Scottish railway adventure, this time from Glasgow to the capital, Edinburgh. [S,AD,SL] [HD]","startTime":1717718700,"duration":1800,"svcId":700,"evtId":16775,"image":"\/ms\/img\/epg\/rb\/fec6-p0hkcj07.jpg","hasTstv":false,"seriesNo":15,"episodeNo":8},{"name":"Doctor Who","description":"5\/8. The world of Finetime seems happy and harmonious. But an awful terror is preying on the citizens. Can the Doctor and Ruby make them see the truth before it\u0027s too late? [S,AD,SL] [HD]","startTime":1717720500,"duration":2700,"svcId":700,"evtId":16776,"image":"\/ms\/img\/epg\/rb\/fec6-p0j0qs20.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717196220,"availabilityEnd":1750617245,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zxwj\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Lost Boys and Fairies","description":"1\/3. Queer performance artist Gabriel and his partner Andy long to adopt a child. Contains very strong language, some sexual content and some upsetting sc... [S,AD,SL] [HD]","startTime":1717723200,"duration":3600,"svcId":700,"evtId":16777,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0yvhb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717390800,"availabilityEnd":1748926800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001wzp4\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1717726800,"duration":12300,"svcId":700,"evtId":16778,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717649400,"duration":2400,"svcId":1500,"evtId":29971,"image":"\/ms\/img\/epg\/rb\/5d52-9487268.l.png","hasTstv":false},{"name":"3rd Rock from the Sun","description":"My Mother, My Dick: When Harry and Sally mess about with the time-space portal in the apartment, they accidentally bring an alien from the home planet back to Earth. (S6 Ep14)  [AD,S]","startTime":1717651800,"duration":1500,"svcId":1500,"evtId":25001,"image":"\/ms\/img\/epg\/rb\/5d52-1379223.l.png","hasTstv":false,"seriesNo":6,"episodeNo":14},{"name":"3rd Rock from the Sun","description":"Glengarry Glen Dick: When Dick hears a pitch for a timeshare, he immediately falls in love with the idea and, to raise the money, persuades Officer Don to go halves on the scheme. (S6 Ep15)  [AD,S]","startTime":1717653300,"duration":1500,"svcId":1500,"evtId":25002,"image":"\/ms\/img\/epg\/rb\/5d52-1379366.l.png","hasTstv":false,"seriesNo":6,"episodeNo":15},{"name":"3rd Rock from the Sun","description":"Dick Soup for the Soul: Dick, Nina and Mary attend a book signing for a volume claiming to help its readers find true happiness. Tommy attempts to join a college fraternity. (S6 Ep16)  [AD,S]","startTime":1717654800,"duration":1500,"svcId":1500,"evtId":25003,"image":"\/ms\/img\/epg\/rb\/5d52-159482.l.png","hasTstv":false,"seriesNo":6,"episodeNo":16},{"name":"Everybody Loves Raymond","description":"Liars: When Ray fibs to Marie about why he failed to meet up with her, he and Debra are forced to tell more and more lies in order to cover up their previous falsehoods. (S8 Ep7)  [AD,S]","startTime":1717656300,"duration":1500,"svcId":1500,"evtId":29972,"image":"\/ms\/img\/epg\/rb\/5d52-5136493.l.png","hasTstv":false,"seriesNo":8,"episodeNo":7},{"name":"Everybody Loves Raymond","description":"The Surprise Party: After Debra\u0027s mother suggests throwing Debra an old-fashioned English tea party, Ray reluctantly agrees, as long as she promises to do all the work. (S8 Ep8)  [AD,S]","startTime":1717657800,"duration":1800,"svcId":1500,"evtId":29973,"image":"\/ms\/img\/epg\/rb\/5d52-5136498.l.png","hasTstv":false,"seriesNo":8,"episodeNo":8},{"name":"Everybody Loves Raymond","description":"The Bird: Robert and Amy convince their families that it would be fun to spend Thanksgiving together, but the day gets off to a bad start. (S8 Ep9)  [AD,S]","startTime":1717659600,"duration":1800,"svcId":1500,"evtId":29974,"image":"\/ms\/img\/epg\/rb\/5d52-5141956.l.png","hasTstv":false,"seriesNo":8,"episodeNo":9},{"name":"Everybody Loves Raymond","description":"Jazz Records: When the children ruin Ray\u0027s dictionary, Frank tells them about the time that Ray wrecked his prized jazz record collection. (S8 Ep10)  [AD,S]","startTime":1717661400,"duration":1800,"svcId":1500,"evtId":29975,"image":"\/ms\/img\/epg\/rb\/5d52-5143456.l.png","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"Frasier","description":"Kissing Cousin: Roz\u0027s 20-year-old cousin (guest star Zooey Deschanel) is quite the party girl. And when she arrives in Seattle, Frasier finds it impossible to keep up with her. (S10 Ep4)  [AD,S]","startTime":1717663200,"duration":1800,"svcId":1500,"evtId":29976,"image":"\/ms\/img\/epg\/rb\/5d52-1889637.l.png","hasTstv":false,"seriesNo":10,"episodeNo":4},{"name":"Frasier","description":"Tales from the Crypt: Frasier plots revenge on Bulldog after he finds himself on the receiving end of an office prank. (S10 Ep5)  [AD,S]","startTime":1717665000,"duration":1800,"svcId":1500,"evtId":29977,"image":"\/ms\/img\/epg\/rb\/5d52-1897613.l.png","hasTstv":false,"seriesNo":10,"episodeNo":5},{"name":"Frasier","description":"Star Mitzvah: Frasier makes a deal with his Trekkie workmate Noel that he\u0027ll get him Scott Bakula\u0027s autograph if Noel teaches him Hebrew. But all does not go to plan. (S10 Ep6)  [AD,S]","startTime":1717666800,"duration":1800,"svcId":1500,"evtId":29978,"image":"\/ms\/img\/epg\/rb\/5d52-1906748.l.png","hasTstv":false,"seriesNo":10,"episodeNo":6},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay is in Pennsylvania to help rescue Ms Jean\u0027s Southern Cuisine, a soul food restaurant that was opened 12 years ago by a retired special education teacher. (S6 Ep4)  [S]","startTime":1717668600,"duration":3300,"svcId":1500,"evtId":25281,"image":"\/ms\/img\/epg\/rb\/5d52-383517680.l.png","hasTstv":false,"seriesNo":5,"episodeNo":4},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1717671900,"duration":300,"svcId":1500,"evtId":29980,"image":"\/ms\/img\/epg\/rb\/5d52-9487383.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits Barefoot Bob\u0027s beachside restaurant in Hull, Massachusetts, where husband and wife Marc and Lisa struggle to attract customers during the bleak winter months. (S6 Ep5)  [S]","startTime":1717672200,"duration":3600,"svcId":1500,"evtId":29981,"image":"\/ms\/img\/epg\/rb\/5d52-384402231.l.png","hasTstv":false,"seriesNo":5,"episodeNo":5},{"name":"Car S.O.S","description":"Singer Le Mans: Tim Shaw and Fuzz Townshend fix up a 1934 Singer Le Mans two-seater sports car that had its last outing at a wedding in 1998 and has been in a barn ever since. (S4 Ep4\/10)  [AD,S]","startTime":1717675800,"duration":3600,"svcId":1500,"evtId":29982,"image":"\/ms\/img\/epg\/rb\/5d52-210619549.l.png","hasTstv":false,"seriesNo":4,"episodeNo":7},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717679400,"duration":3000,"svcId":1500,"evtId":29983,"image":"\/ms\/img\/epg\/rb\/5d52-9487384.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Samantha and Sam are looking for their dream holiday home in Oliva, Spain, that will work for the whole family. Lee Juggurnauth shows them what their \u00a385k can buy.  [S]","startTime":1717682400,"duration":3600,"svcId":1500,"evtId":29984,"image":"\/ms\/img\/epg\/rb\/5d52-413688871.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Sue and Tony want a bolthole in the French city of Carcassonne. With a property already on their radar, can any of Craig Rowe\u0027s options for their \u00a3100k win them over?  [S]","startTime":1717686000,"duration":3600,"svcId":1500,"evtId":29985,"image":"\/ms\/img\/epg\/rb\/5d52-9487089.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"The new series continues. In Almer\u00eda, the Garners search for the perfect property for two restaurateurs and their precious pooches. In Alicante, outside space is on the menu. (S7 Ep4\/20)  [S]","startTime":1717689600,"duration":3600,"svcId":1500,"evtId":29986,"image":"\/ms\/img\/epg\/rb\/5d52-9487105.l.png","hasTstv":false,"seriesNo":7,"episodeNo":4},{"name":"Four in a Bed","description":"The new run continues. The week\u0027s final visit is to East Lothian. Gavin and Rosie hope to persuade their guests of the merits of glamping. But not everyone is convinced.  [S]","startTime":1717693200,"duration":1800,"svcId":1500,"evtId":29987,"image":"\/ms\/img\/epg\/rb\/5d52-9487099.l.png","hasTstv":false},{"name":"The Simpsons","description":"The Mansion Family: Mr Burns leaves town for a full medical check-up, leaving the Simpsons in charge of his mansion. Guest starring Britney Spears as herself. (S11 Ep12\/22)  [AD,S]","startTime":1717695000,"duration":1800,"svcId":1500,"evtId":29989,"image":"\/ms\/img\/epg\/rb\/5d52-1706588.l.png","hasTstv":false,"seriesNo":11,"episodeNo":12},{"name":"Channel 4 News","description":"We\u0027re in Normandy, where President Biden declares that Ukraine\u0027s fight against Russian tyranny echoes the struggle for freedom on D-Day, exactly 80 years ago. [S,W]","startTime":1717696800,"duration":3300,"svcId":1500,"evtId":29990,"image":"\/ms\/img\/epg\/rb\/5d52-9487386.l.png","hasTstv":false},{"name":"Party Election Broadcast","description":"A party election broadcast by the Labour Party.  [S]","startTime":1717700100,"duration":300,"svcId":1500,"evtId":25838,"image":"\/ms\/img\/epg\/rb\/5d52-news.genre.l.png","hasTstv":false},{"name":"New: Double the Money","description":"It\u0027s the final and the teams must double \u00a310k. A used car business exhausts all opportunities. Can a pizza van bring home the dough? And will the grind pay off for a coffee brand? (Ep6\/6)  [AD,S]","startTime":1717700400,"duration":3600,"svcId":1500,"evtId":29991,"image":"\/ms\/img\/epg\/rb\/5d52-9487387.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"New: Taskmasterclass","description":"It\u0027s the greatest contest on TV. But is there any point to Taskmaster\u0027s pointless tasks? Greg Davies and Alex Horne reveal the method behind the madness, with Guz Khan, Jo Brand and more.  [AD,S]","startTime":1717704000,"duration":3600,"svcId":1500,"evtId":29992,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"New: We Are Lady Parts","description":"It\u0027s Britney B****: Anarchic comedy. A top music manager has her eye on Lady Parts. Meanwhile, the band\u0027s attempts to make peace with their Gen Z rivals lead to outright chaos. (S2 Ep3\/6)  [AD,S]","startTime":1717707600,"duration":2100,"svcId":1500,"evtId":29993,"image":"\/ms\/img\/epg\/rb\/5d52-9487396.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"New: We Are Lady Parts","description":"Don\u0027t Let Me Be Misunderstood: Anarchic comedy. The girls find themselves at difficult personal crossroads. With a major offer on the table, the band face an unthinkable choice. (S2 Ep4\/6)  [AD,S]","startTime":1717709700,"duration":2100,"svcId":1500,"evtId":29994,"image":"\/ms\/img\/epg\/rb\/5d52-9487404.l.png","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"Gogglebox","description":"Britain\u0027s sharpest armchair critics share their insightful and passionate takes on the best TV shows of the latest series. (S23 Ep16)  [AD,S,SL]","startTime":1717711800,"duration":3600,"svcId":1500,"evtId":29995,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":23,"episodeNo":16},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"Gordon visits Vasi\u0027s Restaurant and Bar, a family-owned eatery in Waterbury, Connecticut, to remodel the dated interior into an inviting Mediterranean seaside taverna. (S2 Ep3)  [AD,S,SL]","startTime":1717715400,"duration":3000,"svcId":1500,"evtId":29996,"image":"\/ms\/img\/epg\/rb\/5d52-326385376.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"Imposter: The Man Who Came Back...","description":"...from the Dead: Documentary. Criminal Nicholas Rossi\u0027s stepdad, an Engelbert Humperdinck impersonator, tells us about his stepson as evidence emerges linking Knight to Rossi. (Ep3\/4)  [AD,S]","startTime":1717718400,"duration":3000,"svcId":1500,"evtId":25145,"image":"\/ms\/img\/epg\/rb\/5d52-9426960.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"The Simpsons","description":"Faith Off: Homer gets a bucket of superglue stuck to his head and the only person who can remove it is a preacher (Don Cheadle), who inspires Bart to become a faith healer. (S11 Ep11\/22)  [AD,S]","startTime":1717721400,"duration":1500,"svcId":1500,"evtId":25146,"image":"\/ms\/img\/epg\/rb\/5d52-909359.l.png","hasTstv":false,"seriesNo":11,"episodeNo":11},{"name":"Queenie","description":"The Prodigal Granddaughter Returns: Sharp, honest, funny drama based on Candice Carty-Williams\u0027 novel. Queenie is shell-shocked when her boyfriend Tom tells her they need a break. (Ep1\/8)  [AD,S,SL]","startTime":1717722900,"duration":1500,"svcId":1500,"evtId":29998,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Queenie","description":"Clean Break Queenie: Drama. Queenie puts on a brave face as she moves into her new house share, but when she realises that Tom isn\u0027t coming back, she tries to numb her loneliness. (Ep2\/8)  [AD,S,SL]","startTime":1717724400,"duration":1500,"svcId":1500,"evtId":25282,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Queenie","description":"From Virgin to Vixen: Drama starring Dionne Brown. Queenie\u0027s in peak fun mode, using men as a distraction from her heartbreak. But when the fun stops, her demons catch up with her. (Ep3\/8)  [AD,S,SL]","startTime":1717725900,"duration":1800,"svcId":1500,"evtId":25283,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Queenie","description":"The Nightmare Before Christmas: Drama. Queenie is forced to spend Christmas with her mum, triggering feelings she\u0027s been trying to hide and leading her further into self-sabotage. (Ep4\/8)  [AD,S,SL]","startTime":1717727700,"duration":1500,"svcId":1500,"evtId":25284,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"The Truth about Temu: Dispatches","description":"What\u0027s the story behind the runaway success of the addictive Chinese shopping app? With half a billion downloads worldwide, are Temu\u0027s products and rock-bottom prices too good to be true?  [AD,S,SL]","startTime":1717729200,"duration":1500,"svcId":1500,"evtId":25285,"image":"\/ms\/img\/epg\/rb\/5d52-9458289.l.png","hasTstv":false},{"name":"Iris Prize Best British Shorts","description":"Stone: Tess travels to her estranged father\u0027s funeral hoping for some closure. But a huge revelation makes her wonder what else she doesn\u0027t know. Selected for the LGBT+ film festival award.  [AD,S]","startTime":1717730700,"duration":900,"svcId":1500,"evtId":25147,"image":"\/ms\/img\/epg\/rb\/5d52-9483676.l.png","hasTstv":false},{"name":"Location, Location, Location","description":"Phil Spencer catches up with Clare and Matt in Leamington Spa. And in pricey Weybridge, first-time buyers Louise and Johnny have been living through exciting times. (S33 Ep6)  [S]","startTime":1717731600,"duration":3300,"svcId":1500,"evtId":29999,"image":"\/ms\/img\/epg\/rb\/5d52-345486014.l.png","hasTstv":false,"seriesNo":33,"episodeNo":6}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('199');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('127');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('8');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'OW94GKd4ssM', title: "SIDEMEN $1,000,000 REALITY SHOW: INSIDE EP. 4", label: "SIDEMEN $1,000,000 REALITY SHOW: INSIDE EP. 4 by MoreSidemen 2,969,307 views 1 day ago 1 hour, 6 minutes" },
{ id: '1L8Yb664A0s', title: "SIDEMEN $1,000,000 REALITY SHOW: INSIDE EP. 3", label: "SIDEMEN $1,000,000 REALITY SHOW: INSIDE EP. 3 by MoreSidemen 3,557,777 views 2 days ago 1 hour, 10 minutes" },
{ id: '2hf2j1ZUH2g', title: "FIXING EVERYTHING WRONG WITH MY BMW M3", label: "FIXING EVERYTHING WRONG WITH MY BMW M3 by Mat Armstrong MK2 686,839 views 1 day ago 19 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in f1 module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Crash (1996)">Crash (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jojo Rabbit (2019)">Jojo Rabbit (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Float (S2, 2024)">Float (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1, 2021)">Float (S1, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S2, 2021)">In My Skin (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1, 2018)">In My Skin (S1, 2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S2, 2019)">Fleabag (S2, 2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1, 2016)">Fleabag (S1, 2016)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S3, 2024)">Clarkson\'s Farm (S3, 2024)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
{ number: 210.12, tooltip: "Mon, May 13, 2024<br/>£210.12"},
{ number: 210.82, tooltip: "Fri, May 10, 2024<br/>£210.82"},
{ number: 210.11, tooltip: "Thu, May 09, 2024<br/>£210.11"},
{ number: 209.55, tooltip: "Wed, May 08, 2024<br/>£209.55"},
{ number: 208.97, tooltip: "Tue, May 07, 2024<br/>£208.97"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Jun 05, 2024",
		"vs Day":      "Tue, Jun 04, 2024",
		"vs Week":     "Wed, May 29, 2024",
		"vs Month":    "Tue, May 07, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£209.82/share",
		'vs Day':      "+1.01%",
		'vs Week':     "+0.94%",
		'vs Month':    "+0.41%",
		'vs Year':     "+17.92%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '0.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/new-moon.html" title="New Moon on the night between 6 June and 7 June">New Moon</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.002&p=4.548&r=5.515',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:46',
		Set:      '21:23',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Moxie</em> can refer to courage and determination (aka <a href="https://www.merriam-webster.com/dictionary/nerve">nerve</a>), energy and pep (aka <a href="https://www.merriam-webster.com/dictionary/verve">verve</a>), or know-how (as, say, reflected in one’s <a href="https://www.merriam-webster.com/dictionary/oeuvre">oeuvre</a>). </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Branthwaite">Branthwaite</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Dunk">Dunk</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Southgate">Southgate</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Grealish">Grealish</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=England">England</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=D-Day">D-Day</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Normandy">Normandy</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Steve+Bannon%22">Steve Bannon</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Jill">Jill</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Hurley">Hurley</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>