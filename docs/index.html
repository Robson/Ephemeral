<!DOCTYPE html>
<html lang="en">
	<head>
		<title>16:17 28-Aug - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Starmer says \'ambitious\' reset with Europe will not mean reversing Brexit</b><br/>The PM says he wants closer relations with Europe, as he begins talks on a new agreement with Germany." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvg3pxz4334o">Starmer says \'ambitious\' reset with Europe will not mean reversing Brexit</a></li><li class="ttt" data-tt="<b>Hotels deny reselling rooms booked by Oasis fans</b><br/>A Manchester hotel chain faces claims it scrapped pre-made bookings to cash in on the band\'s reunion."><a href="https://www.bbc.com/news/articles/c935v1kkzjvo">Hotels deny reselling rooms booked by Oasis fans</a></li><li class="ttt" data-tt="<b>Zara Aleena killer and prison worker appear in court</b><br/>Jordan McSweeney and prison instructor Hayley Jones have been charged over an alleged inappropriate relationship."><a href="https://www.bbc.com/news/articles/c628vl6zzxjo">Zara Aleena killer and prison worker appear in court</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvg3pxz4334o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/9441/live/06e33b20-6532-11ef-8881-3361d84cbca1.jpg" class="ttt" data-tt="Prime Minister Sir Keir Starmer shakes hands with German Chancellor Olaf Scholz in front of UK and German flags at a news conference in Berlin" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump faces revised 2020 election interference charges</b><br/>The charges are in response to a Supreme Court ruling that presidents enjoy broad immunity for official acts." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/czdpq4en1vvo">Trump faces revised 2020 election interference charges</a></li><li class="ttt" data-tt="<b>SpaceX delays first private spacewalk mission</b><br/>Elon Musk\'s company said it would be delayed &quot;due to unfavourable weather forecasted&quot; in the capsule\'s splashdown areas."><a href="https://www.bbc.com/news/articles/cn47019e7l7o">SpaceX delays first private spacewalk mission</a></li><li class="ttt" data-tt="<b>Travis and Jason Kelce sign $100m podcast deal</b><br/>Amazon secure exclusive rights to the brothers\' popular New Heights sport and culture podcast."><a href="https://www.bbc.com/news/articles/czxl1wnpjgyo">Travis and Jason Kelce sign $100m podcast deal</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/czdpq4en1vvo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6b14/live/45104600-64b4-11ef-b970-9f202720b57a.jpg" class="ttt" data-tt="Donald Trump speaks into a microphone while standing next to a lectern. He is wearing a suit and red tie." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Israeli military launches major West Bank operation</b><br/>At least nine Palestinians are killed in separate incidents in the north of the territory." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cm2ny546m7go">Israeli military launches major West Bank operation</a></li><li class="ttt" data-tt="<b>Hostage rescued by Israel \'barely saw daylight\'</b><br/>Kaid Farhan Elkadi was rescued in a &quot;complex operation&quot; in Gaza, the Israeli military says."><a href="https://www.bbc.com/news/articles/c1w7zlj0n2xo">Hostage rescued by Israel \'barely saw daylight\'</a></li><li class="ttt" data-tt="<b>Three crew investigated over Bayesian yacht sinking</b><br/>Authorities investigate two crew members as well as the captain, according to Italian news agencies."><a href="https://www.bbc.com/news/articles/ce80rner8glo">Three crew investigated over Bayesian yacht sinking</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cm2ny546m7go"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/df54/live/e73b97e0-6531-11ef-b43e-6916dcba5cbf.jpg" class="ttt" data-tt="An Israeli military vehicle stops beside a Palestinian Red Crescent ambulance in Jenin, in the occupied West Bank (28 August 2024)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Williams replace Sargeant with F2 driver Colapinto</b><br/>Williams replace Logan Sargeant with academy driver Franco Colapinto for the remainder of the 2024 season." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c3vxek6v192o">Williams replace Sargeant with F2 driver Colapinto</a></li><li class="ttt" data-tt="<b>F1 Q&A: Can Norris still narrow gap to win Championship?</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the  Dutch Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cm2n76gyxnyo">F1 Q&A: Can Norris still narrow gap to win Championship?</a></li><li class="ttt" data-tt="<b>How to follow Italian Grand Prix on the BBC</b><br/>All the key BBC coverage details for the Italian Grand Prix at Monza from 30 August-1 September."><a href="https://www.bbc.com/sport/formula1/articles/cred3e33p3wo">How to follow Italian Grand Prix on the BBC</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c3vxek6v192o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/179e/live/95f12f00-6499-11ef-b970-9f202720b57a.jpg" class="ttt" data-tt="Logan Sargeant " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Klarna: AI lets us cut thousands of jobs - but pay more</b><br/>The firm wants to reduce staff levels to 2,000 works through its use of AI in marketing and customer service." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c80e1gp9m9zo">Klarna: AI lets us cut thousands of jobs - but pay more</a></li><li class="ttt" data-tt="<b>Telegram repeatedly refuses to join child protection schemes</b><br/>BBC learns platform does not comply with industry norms as its boss remains under arrest in Paris."><a href="https://www.bbc.com/news/articles/cy54905nv0go">Telegram repeatedly refuses to join child protection schemes</a></li><li class="ttt" data-tt="<b>Man posing as teen YouTuber jailed for global sextortion</b><br/>Muhammad Zain Ul Abideen Rasheed blackmailed 286 people - majority of them children - from 20 countries."><a href="https://www.bbc.com/news/articles/cp35z4z08qvo">Man posing as teen YouTuber jailed for global sextortion</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c80e1gp9m9zo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/c63a/live/fd13e7f0-651a-11ef-be1a-47dbeb9bfccf.jpg" class="ttt" data-tt="A woman looks bored at her desk in an office. She is glancing off to the side and resting on her hand, not looking at her computer." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"26 Aug – 1 Sep","date":17248032E5,"ts":"Wed, 28","ds":"Wed, 28 Aug","icon":18,"desc":"Sprinkles late. Overcast.","temp":23,"templow":15,"cf":25,"wind":9,"wd":210,"hum":60,"pc":52,"rain":0.2 },{"date":17248896E5,"ts":"Thu, 29","ds":"Thu, 29 Aug","icon":4,"desc":"Afternoon clouds.","temp":20,"templow":10,"cf":19,"wind":7,"wd":260,"hum":52,"pc":5},{"date":1724976E6,"ts":"Fri, 30","ds":"Fri, 30 Aug","icon":6,"desc":"Mostly cloudy.","temp":21,"templow":8,"cf":21,"wind":7,"wd":40,"hum":48,"pc":2},{"date":17250624E5,"ts":"Sat, 31","ds":"Sat, 31 Aug","icon":6,"desc":"Mostly cloudy.","temp":20,"templow":10,"cf":20,"wind":11,"wd":70,"hum":53,"pc":0},{"date":17251488E5,"ts":"Sun, 1","ds":"Sun, 1 Sep","icon":4,"desc":"Partly cloudy.","temp":22,"templow":13,"cf":24,"wind":13,"wd":80,"hum":62,"pc":0},{"hl":true,"hls":"2 Sep – 8 Sep","date":17252352E5,"ts":"Mon, 2","ds":"Mon, 2 Sep","icon":19,"desc":"Rain late. Cloudy.","temp":20,"templow":14,"cf":17,"wind":10,"wd":70,"hum":81,"pc":49,"rain":5.2 },{"date":17253216E5,"ts":"Tue, 3","ds":"Tue, 3 Sep","icon":7,"desc":"Overcast.","temp":18,"templow":13,"cf":18,"wind":6,"wd":330,"hum":69,"pc":2},{"date":1725408E6,"ts":"Wed, 4","ds":"Wed, 4 Sep","icon":7,"desc":"Cloudy.","temp":20,"templow":11,"cf":19,"wind":7,"wd":30,"hum":67,"pc":6},{"date":17254944E5,"ts":"Thu, 5","ds":"Thu, 5 Sep","icon":2,"desc":"Scattered clouds.","temp":19,"templow":11,"cf":19,"wind":11,"wd":50,"hum":49,"pc":6},{"date":17255808E5,"ts":"Fri, 6","ds":"Fri, 6 Sep","icon":18,"desc":"Drizzle. Overcast.","temp":18,"templow":11,"cf":18,"wind":12,"wd":50,"hum":81,"pc":53,"rain":0.7 },{"date":17256672E5,"ts":"Sat, 7","ds":"Sat, 7 Sep","icon":33,"desc":"Rain showers. Overcast.","temp":18,"templow":11,"cf":18,"wind":7,"wd":70,"hum":95,"pc":65,"rain":14.4 },{"date":17257536E5,"ts":"Sun, 8","ds":"Sun, 8 Sep","icon":7,"desc":"Overcast.","temp":18,"templow":11,"cf":18,"wind":2,"wd":300,"hum":77,"pc":50,"rain":0.3 },{"hl":true,"hls":"9 Sep – 15 Sep","date":172584E7,"ts":"Mon, 9","ds":"Mon, 9 Sep","icon":18,"desc":"Sprinkles late. Overcast.","temp":18,"templow":12,"cf":18,"wind":16,"wd":30,"hum":85,"pc":55,"rain":0.8 },{"date":17259264E5,"ts":"Tue, 10","ds":"Tue, 10 Sep","icon":33,"desc":"Passing showers. Overcast.","temp":18,"templow":12,"cf":18,"wind":15,"wd":50,"hum":74,"pc":60,"rain":1.8 },{"date":17260128E5,"ts":"Wed, 11","ds":"Wed, 11 Sep","icon":7,"desc":"Overcast.","temp":18,"templow":12,"cf":18,"wind":13,"wd":30,"hum":75,"pc":6}],"grid":{"temp":{"low":8,"high":23,"range":15},"prec":{"high":14.4},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2408/Tulip_Shastry_1080.jpg',
		Title:     'Tulip Nebula and Black Hole Cygnus X-1',
		LinkImage: 'https://apod.nasa.gov/apod/image/2408/Tulip_Shastry_6144.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240828.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Coral_plato_%28Danafungia_scruposa%29%2C_mar_Rojo%2C_Egipto%2C_2023-04-15%2C_DD_49.jpg/350px-Coral_plato_%28Danafungia_scruposa%29%2C_mar_Rojo%2C_Egipto%2C_2023-04-15%2C_DD_49.jpg',
		Title:    'Danafungia scruposa',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Danafungia_scruposa',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Danafungia_scruposa" title="Danafungia scruposa">Danafungia scruposa</a></b></i> is a species of <a href="https://en.wikipedia.org/wiki/Coral" title="Coral">coral</a> found in the eastern and western Indian Ocean, the eastern central, northwestern and western central Pacific Ocean, Japan, the East China Sea, the Red Sea, and eastern Australia. It is around 25 centimetres (9.8 inches) in diameter and normally consumes a variety of food from bacteria to <a href="https://en.wikipedia.org/wiki/Zooplankton#Mesozooplankton" title="Zooplankton">mesozooplankton</a> measuring 1&#160;mm (0.039&#160;in) in diameter. During an <a href="https://en.wikipedia.org/wiki/Algal_bloom" title="Algal bloom">algal bloom</a> in 2009, researchers observed <i>D.&#160;scruposa</i> consuming the jellyfish <i><a href="https://en.wikipedia.org/wiki/Aurelia_aurita" title="Aurelia aurita">Aurelia aurita</a></i>, the first time such behaviour had been seen in the wild. This <i>D.&#160;scruposa</i> coral was photographed in the Red Sea off the Egyptian coast.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Poco_a_poco" title="User:Poco a poco">Diego Delso</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

console.log('Error in tv module: The remote server returned an error: (500) Internal Server Error.');

//////////////////////////////////////////////////

console.log('Error in backlog module: The message filter indicated that the application is busy. (0x8001010A (RPC_E_SERVERCALL_RETRYLATER))');

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'pnbJgyeT_p0', title: "How to live on £1 a day | extreme food challenge UK | DAY 1", label: "How to live on £1 a day | extreme food challenge UK | DAY 1 by The Budget Foodie 81,620 views 1 month ago 28 minutes" },
{ id: 'njTwLPuyC1Q', title: "£10 weekly shop for one person at Aldi | 15 meals prepped", label: "£10 weekly shop for one person at Aldi | 15 meals prepped by The Budget Foodie 45,522 views 1 month ago 18 minutes" },
{ id: '0Hx4JRJieGA', title: "Money troubles…but every cloud has a silver lining", label: "Money troubles…but every cloud has a silver lining by The Budget Foodie 5,350 views 13 days ago 9 minutes, 36 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Alice in Wonderland (1951)">Alice in Wonderland (1951)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gold Diggers: The Secret of Bear Mountain (1995)">Gold Diggers: The Secret of Bear Mountain (1995)</a></li><li><a href="https://www.google.com/search?q=Films+-+Nope (2022)">Nope (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Elisa & Marcela (2019)">Elisa & Marcela (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+City Lights (1931)">City Lights (1931)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Darn Cat (1997)">The Darn Cat (1997)</a></li><li><a href="https://www.google.com/search?q=Films+-+Longlegs (2024)">Longlegs (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+#17 - To Finish The Barkley Marathons (2024)">#17 - To Finish The Barkley Marathons (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Humanist Vampire Seeking Consenting Suicidal Person (2023)">Humanist Vampire Seeking Consenting Suicidal Person (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Manifesto (2015)">Manifesto (2015)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 212.11, tooltip: "Tue, Aug 27, 2024<br/>£212.11"},
{ number: 212.96, tooltip: "Fri, Aug 23, 2024<br/>£212.96"},
{ number: 212.04, tooltip: "Thu, Aug 22, 2024<br/>£212.04"},
{ number: 213.87, tooltip: "Wed, Aug 21, 2024<br/>£213.87"},
{ number: 213.58, tooltip: "Tue, Aug 20, 2024<br/>£213.58"},
{ number: 214.46, tooltip: "Mon, Aug 19, 2024<br/>£214.46"},
{ number: 214.03, tooltip: "Fri, Aug 16, 2024<br/>£214.03"},
{ number: 213.40, tooltip: "Thu, Aug 15, 2024<br/>£213.40"},
{ number: 210.89, tooltip: "Wed, Aug 14, 2024<br/>£210.89"},
{ number: 210.24, tooltip: "Tue, Aug 13, 2024<br/>£210.24"},
{ number: 207.89, tooltip: "Mon, Aug 12, 2024<br/>£207.89"},
{ number: 208.33, tooltip: "Fri, Aug 09, 2024<br/>£208.33"},
{ number: 207.70, tooltip: "Thu, Aug 08, 2024<br/>£207.70"},
{ number: 204.73, tooltip: "Wed, Aug 07, 2024<br/>£204.73"},
{ number: 204.94, tooltip: "Tue, Aug 06, 2024<br/>£204.94"},
{ number: 201.72, tooltip: "Mon, Aug 05, 2024<br/>£201.72"},
{ number: 207.71, tooltip: "Fri, Aug 02, 2024<br/>£207.71"},
{ number: 212.34, tooltip: "Thu, Aug 01, 2024<br/>£212.34"},
{ number: 214.37, tooltip: "Wed, Jul 31, 2024<br/>£214.37"},
{ number: 211.42, tooltip: "Tue, Jul 30, 2024<br/>£211.42"},
{ number: 211.76, tooltip: "Mon, Jul 29, 2024<br/>£211.76"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Aug 27, 2024",
		"vs Day":      "Fri, Aug 23, 2024",
		"vs Week":     "Mon, Aug 19, 2024",
		"vs Month":    "Mon, Jul 29, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£212.11/share",
		'vs Day':      "-0.40%",
		'vs Week':     "-1.10%",
		'vs Month':    "+0.17%",
		'vs Year':     "+16.41%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '26.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 28 August and 29 August">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.269&p=2.599&r=5.691',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:11',
		Set:      '20:01',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To lollygag is to spend time doing things that are not useful or serious, or in other words, to fool around and waste time. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>