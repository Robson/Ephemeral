<!DOCTYPE html>
<html lang="en">
	<head>
		<title>23:02 15-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>UK in diplomatic contact with Syrian rebels, says Lammy</b><br/>The foreign secretary\'s remarks come as the government announced £50m of humanitarian aid for Syrians." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/ce90x283rv7o">UK in diplomatic contact with Syrian rebels, says Lammy</a></li><li class="ttt" data-tt="<b>Royal Mail takeover by Czech billionaire approved</b><br/>The £3.6 billion takeover by Daniel Kretinsky\'s EP Group will be announced on Monday morning, the BBC understands."><a href="https://www.bbc.com/news/articles/ckg93390808o">Royal Mail takeover by Czech billionaire approved</a></li><li class="ttt" data-tt="<b>DJ Fat Tony says he was injured after being hit at gig</b><br/>Fat Tony, real name Anthony Marnoch, performed on Friday at Lido Margate in Kent."><a href="https://www.bbc.com/news/articles/czenydx9de8o">DJ Fat Tony says he was injured after being hit at gig</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/ce90x283rv7o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/df65/live/f484bad0-bb03-11ef-aff0-072ce821b6ab.jpg" class="ttt" data-tt="Foreign Secretary David Lammy" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Two arrested after \'hazardous drone operation\' near Boston airport</b><br/>The flying objects were spotted flying &quot;dangerously close&quot; to Logan International Airport, said police." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/clyvnnj8g34o">Two arrested after \'hazardous drone operation\' near Boston airport</a></li><li class="ttt" data-tt="<b>What we know about mysterious drones over New Jersey and other states</b><br/>The US government says the flying objects pose no threat to national security, but their origin and intentions remain unclear."><a href="https://www.bbc.com/news/articles/c62785697v0o">What we know about mysterious drones over New Jersey and other states</a></li><li class="ttt" data-tt="<b>A decade since Canada opened its doors, Syrians reflect on home away from home</b><br/>Syrians in Canada reflect on a decade in the country"><a href="https://www.bbc.com/news/articles/c1kev3k49gwo">A decade since Canada opened its doors, Syrians reflect on home away from home</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/clyvnnj8g34o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/9d2a/live/73225740-bb21-11ef-8f42-0fe467cecbaf.jpg" class="ttt" data-tt="A plane takes off from Logan International Airport in Boston. Skyscrapers and a river are pictured behind the plane." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Several hundred feared dead after Mayotte cyclone</b><br/>A local official warns the full extent of the damage is still being assessed, with entire communities devastated." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c205wnvlqn6o">Several hundred feared dead after Mayotte cyclone</a></li><li class="ttt" data-tt="<b>\'We just need peace\': BBC speaks to Syrians watching Israel\'s incursion</b><br/>As Israel unveils plans to expand its Golan Heights settlements, Syrians living nearby say they want an end to conflict."><a href="https://www.bbc.com/news/articles/cgm9w2ym39go">\'We just need peace\': BBC speaks to Syrians watching Israel\'s incursion</a></li><li class="ttt" data-tt="<b>Two Russian oil tankers wrecked in Black Sea</b><br/>Video appears to show one of the tankers broken in half and sinking amid a heavy storm, with oil visible in the water."><a href="https://www.bbc.com/news/articles/c8dq6q0m862o">Two Russian oil tankers wrecked in Black Sea</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c205wnvlqn6o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/47de/live/fef78ae0-bb23-11ef-b2f8-33751f33c44f.jpg" class="ttt" data-tt="Damage in Mayotte. A town is seen in ruins, with a hill scape rising in the background. Trees appear blown over, walls are collapsed, though some buildings remain standing." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>FIA changes criticised as they are voted through</b><br/>Controversial changes to the statutes of Formula 1\'s governing body approved on Friday constitute a &quot;worrisome concentration of power&quot;, according to the head of one of its member clubs." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/ckgz4jw14rdo">FIA changes criticised as they are voted through</a></li><li class="ttt" data-tt="<b>Rwanda President Kagame announces F1 race bid</b><br/>Rwanda is bidding to host a Formula 1 grand prix, the country\'s President Paul Kagame says."><a href="https://www.bbc.com/sport/formula1/articles/cdd6e1jep42o">Rwanda President Kagame announces F1 race bid</a></li><li class="ttt" data-tt="<b>Faster, safer, more sustainable - Brown on F1 in 10 years</b><br/>McLaren Racing CEO Zak Brown and Williams team principal James Vowles talk to BBC Sport in the last episode of F1 in 10 Years."><a href="https://www.bbc.com/sport/formula1/videos/cq5lgyn6g43o">Faster, safer, more sustainable - Brown on F1 in 10 years</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/ckgz4jw14rdo"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/7b27/live/300e45b0-b962-11ef-a76e-4d65d4c6203f.jpg" class="ttt" data-tt="Mohammed Ben Sulayem wearing subglasses" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>BBC complains to Apple over misleading shooting headline</b><br/>Apple\'s new artificial intelligence features falsely made it seem the BBC reported Luigi Mangione had shot himself." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd0elzk24dno">BBC complains to Apple over misleading shooting headline</a></li><li class="ttt" data-tt="<b>Game Awards 2024: Astro Bot Wins Game of the Year</b><br/>Sony\'s 3D platformer takes four prizes at the ceremony dubbed &quot;the biggest night in gaming&quot;."><a href="https://www.bbc.com/news/articles/c0rn57j1lkeo">Game Awards 2024: Astro Bot Wins Game of the Year</a></li><li class="ttt" data-tt="<b>N Korea made millions from remote work scheme, US says</b><br/>Fourteen North Koreans have been charged with fraud in the US over an alleged long-running conspiracy."><a href="https://www.bbc.com/news/articles/cpdnz3elwzvo">N Korea made millions from remote work scheme, US says</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd0elzk24dno"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/4e44/live/5688a220-b972-11ef-a2ca-e99d0c9a24e3.jpg" class="ttt" data-tt="A picture of Luigi Mangione, who is accused of murdering healthcare insurance CEO Brian Thompson" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"16 Dec – 22 Dec","date":17343072E5,"ts":"Mon, 16","ds":"Mon, 16 Dec","icon":18,"desc":"Sprinkles. Cloudy.","temp":11,"templow":7,"cf":7,"wind":14,"wd":240,"hum":77,"pc":23,"rain":0.9 },{"date":17343936E5,"ts":"Tue, 17","ds":"Tue, 17 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":11,"templow":6,"cf":6,"wind":17,"wd":180,"hum":84,"pc":52,"rain":1.1 },{"date":173448E7,"ts":"Wed, 18","ds":"Wed, 18 Dec","icon":19,"desc":"Rain. Overcast.","temp":13,"templow":8,"cf":8,"wind":14,"wd":210,"hum":81,"pc":71,"rain":9.3 },{"date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":19,"desc":"Rain. Decreasing cloudiness.","temp":10,"templow":3,"cf":1,"wind":17,"wd":310,"hum":77,"pc":69,"rain":10.3 },{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":7,"templow":2,"cf":2,"wind":14,"wd":210,"hum":85,"pc":44,"rain":0.6 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":18,"desc":"Sprinkles late. Cloudy.","temp":11,"templow":4,"cf":7,"wind":19,"wd":250,"hum":84,"pc":40,"rain":0.7 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":18,"desc":"Sprinkles early. Cloudy.","temp":9,"templow":6,"cf":3,"wind":16,"wd":290,"hum":75,"pc":19,"rain":0.6 },{"hl":true,"hls":"23 Dec – 29 Dec","date":1734912E6,"ts":"Mon, 23","ds":"Mon, 23 Dec","icon":18,"desc":"Sprinkles. Cloudy.","temp":10,"templow":6,"cf":6,"wind":17,"wd":270,"hum":87,"pc":52,"rain":0.4 },{"date":17349984E5,"ts":"Tue, 24","ds":"Tue, 24 Dec","icon":4,"desc":"Partly cloudy.","temp":10,"templow":6,"cf":8,"wind":8,"wd":270,"hum":94,"pc":6},{"date":17350848E5,"ts":"Wed, 25","ds":"Wed, 25 Dec","icon":2,"desc":"Scattered clouds.","temp":11,"templow":7,"cf":9,"wind":5,"wd":270,"hum":90,"pc":6},{"date":17351712E5,"ts":"Thu, 26","ds":"Thu, 26 Dec","icon":7,"desc":"Cloudy.","temp":11,"templow":7,"cf":10,"wind":3,"wd":10,"hum":88,"pc":6},{"date":17352576E5,"ts":"Fri, 27","ds":"Fri, 27 Dec","icon":4,"desc":"Breaks of sun late.","temp":9,"templow":6,"cf":8,"wind":4,"wd":130,"hum":90,"pc":42,"rain":0.2 },{"date":1735344E6,"ts":"Sat, 28","ds":"Sat, 28 Dec","icon":7,"desc":"Overcast.","temp":9,"templow":6,"cf":7,"wind":8,"wd":220,"hum":90,"pc":6},{"date":17354304E5,"ts":"Sun, 29","ds":"Sun, 29 Dec","icon":18,"desc":"Sprinkles. Broken clouds.","temp":9,"templow":6,"cf":6,"wind":12,"wd":280,"hum":77,"pc":50,"rain":1.7 },{"hl":true,"hls":"30 Dec – 5 Jan","date":17355168E5,"ts":"Mon, 30","ds":"Mon, 30 Dec","icon":4,"desc":"Afternoon clouds.","temp":8,"templow":5,"cf":5,"wind":12,"wd":260,"hum":75,"pc":6}],"grid":{"temp":{"low":2,"high":13,"range":11},"prec":{"high":10.3},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/Geminids_Kurak_960.jpg',
		Title:     'Geminid Meteors over a Snowy Forest',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/Geminids_Kurak_5757.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241215.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Ornge_C-GYNP.jpg/500px-Ornge_C-GYNP.jpg',
		Title:    'Ornge',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Ornge',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Ornge" title="Ornge">Ornge</a></b> is a Canadian registered charity that provides <a href="https://en.wikipedia.org/wiki/Air_medical_services#Air_ambulance" title="Air medical services">air ambulance</a> and associated ground transportation services for the province of <a href="https://en.wikipedia.org/wiki/Ontario" title="Ontario">Ontario</a>, under the direction of the province\'s <a href="https://en.wikipedia.org/wiki/Ministry_of_Health_(Ontario)" title="Ministry of Health (Ontario)">Ministry of Health</a>. The name Ornge (pronounced <i>orange</i>) is based on the orange colour of the organization\'s aircraft and land ambulances. In 2012, the charity and its associated companies employed more than 400 people, including paramedics, pilots and aviation specialists. Ornge has its own aircraft and land ambulances, with 12 bases across Ontario. It also contracts some operations out to independent service providers. This photograph shows an Ornge <a href="https://en.wikipedia.org/wiki/AgustaWestland_AW139" title="AgustaWestland AW139">AgustaWestland AW139</a> departing from the <a href="https://en.wikipedia.org/wiki/Grand_River_Hospital" title="Grand River Hospital">Grand River Hospital</a> helipad in <a href="https://en.wikipedia.org/wiki/Regional_Municipality_of_Waterloo" title="Regional Municipality of Waterloo">Kitchener–Waterloo</a>.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:The_Cosmonaut" title="User:The Cosmonaut">The Cosmonaut</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1734242400,"duration":6300,"svcId":560,"evtId":30078,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":false},{"name":"Match of the Day","description":"Gary Lineker introduces highlights from the day\u0027s five matches in the Premier League, including Fulham\u0027s trip to Liverpool and an all-Midlands clash between Nottingham Forest and Aston Villa. [S] [HD]","startTime":1734248700,"duration":4500,"svcId":560,"evtId":30113,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbhjbn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734248700,"availabilityEnd":1734825540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002631d\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":18},{"name":"Sunday with Laura Kuenssberg","description":"With home secretary Yvette Cooper and shadow home secretary, Chris Philp. AI bosses Bret Taylor and Clay Bavor and mayor of Greater Manchester, Andy Burnham. [S] [HD]","startTime":1734253200,"duration":3600,"svcId":560,"evtId":30079,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kc61rs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734256795,"availabilityEnd":1765792795,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260pk\u0026ui_id=4.0.0"}},{"name":"Politics London","description":"The latest political news, interviews and debate. [S] [HD]","startTime":1734256800,"duration":1800,"svcId":560,"evtId":30080,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrjn8h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734258530,"availabilityEnd":1736850530,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260pm\u0026ui_id=4.0.0"}},{"name":"My Life at Christmas: Anita...","description":"...Rani Meets Spencer Matthews. 3\/3. Anita Rani meets reality TV star Spencer Matthews to see what Christmas means to him. [S,AD] [HD]","startTime":1734258600,"duration":3600,"svcId":560,"evtId":30147,"image":"\/ms\/img\/epg\/rb\/fec6-p0k92l46.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734262189,"availabilityEnd":1765798189,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00263cd\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Homes Under the Hammer","description":"17\/80. A beautiful building in Bath. Martin meets a couple who have bought a flat in a period, listed building, and luckily for them, they own the flat below too. [S] [HD]","startTime":1734262200,"duration":1800,"svcId":560,"evtId":30081,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch2j.jpg","hasTstv":false,"seriesNo":39,"episodeNo":17},{"name":"Bargain Hunt","description":"A team of students take on a team of balloon entertainers at Newark antiques fair, hosted by Natasha Raskin Sharp with experts Mark Stacey and Catherine Southon. [S] [HD]","startTime":1734264000,"duration":3600,"svcId":560,"evtId":30148,"image":"\/ms\/img\/epg\/rb\/ae0c-p0662zqd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734267602,"availabilityEnd":1736859602,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00263cg\u0026ui_id=4.0.0"},"seriesNo":72},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1734267600,"duration":600,"svcId":560,"evtId":30082,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734268245,"availabilityEnd":1734354645,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260pq\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1734268200,"duration":300,"svcId":560,"evtId":30083,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734268561,"availabilityEnd":1734354961,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260ps\u0026ui_id=4.0.0"}},{"name":"Songs of Praise: A Christmas...","description":"...Celebration from Huddersfield Town Hall. Aled Jones is joined by special guests for a spectacular celebration of carols. [S] [HD]","startTime":1734268500,"duration":2100,"svcId":560,"evtId":30149,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7ksyn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734270683,"availabilityEnd":1765806683,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00263cj\u0026ui_id=4.0.0"}},{"name":"Asia","description":"6\/7. A look at the vast, hostile, arid lands in the heart of Asia - deserts and dry grasslands. [S,AD] [HD]","startTime":1734270600,"duration":3600,"svcId":560,"evtId":30084,"image":"\/ms\/img\/epg\/rb\/fec6-p0k1gc7z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730613600,"availabilityEnd":1888380000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gcs\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"Night at the Museum: Battle of...","description":"...the Smithsonian. Action comedy sequel. The New York exhibits, sent to storage in Washington DC, call Larry - now in business - for help fighting a supernatural threat. [2009] [S,AD] [HD]","startTime":1734274200,"duration":6000,"svcId":560,"evtId":30114,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7kpsg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734280292,"availabilityEnd":1736872292,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002631g\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1734280200,"duration":1200,"svcId":560,"evtId":30085,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734281340,"availabilityEnd":1734367740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260pv\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734281400,"duration":300,"svcId":560,"evtId":30086,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734281700,"availabilityEnd":1734368100,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260px\u0026ui_id=4.0.0"},"episodeNo":259},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1734281700,"duration":300,"svcId":560,"evtId":30087,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734281946,"availabilityEnd":1734368346,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00260pz\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"The Earthshot Report 2024","description":"The Earthshot Report takes a deep dive into previous Earthshot finalist stories, looking at the global picture and showing the progress made towards a sustainable future. [S,AD] [HD]","startTime":1734282000,"duration":3600,"svcId":560,"evtId":30150,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8ltcf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734285552,"availabilityEnd":1765821552,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00263cl\u0026ui_id=4.0.0"},"episodeNo":8},{"name":"Countryfile","description":"Sammi Kinghorn and Matt Baker explore the Peak District, the first national park created by the transformative National Parks and Access to the Countryside Act of 1949. [S] [HD]","startTime":1734285600,"duration":3600,"svcId":560,"evtId":30151,"image":"\/ms\/img\/epg\/rb\/fec6-p0kbwd4g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734289225,"availabilityEnd":1765825225,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00263cn\u0026ui_id=4.0.0"}},{"name":"Asia","description":"7\/7. Many passionate people are dedicated to saving the wild animals of Asia. These individuals and their ingenious solutions give hope and optimism for the future of the continent. [S,AD] [HD]","startTime":1734289200,"duration":3600,"svcId":560,"evtId":30152,"image":"\/ms\/img\/epg\/rb\/fec6-p0k1gcby.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730613600,"availabilityEnd":1888380000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gct\u0026ui_id=4.0.0"},"episodeNo":7},{"name":"Antiques Roadshow","description":"The roadshow comes from Belfast\u0027s Botanic Gardens, where treasures include a commemorative Titanic teddy and the dress medals of one of the founding members of the SAS. [S] [HD]","startTime":1734292800,"duration":3600,"svcId":560,"evtId":30153,"image":"\/ms\/img\/epg\/rb\/fec6-p0k8k01p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734296427,"availabilityEnd":1767643170,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00263cq\u0026ui_id=4.0.0"},"seriesNo":47,"episodeNo":14},{"name":"Wolf Hall: The Mirror and the...","description":"...Light. 6\/6. Cromwell is stripped of his titles and brought to the Tower on a charge of treason. Contains some strong language. [S,AD] [HD]","startTime":1734296400,"duration":3600,"svcId":560,"evtId":30154,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k92l84.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734242400,"availabilityEnd":1765778400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00263cs\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"BBC News and Weather","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1734300000,"duration":1500,"svcId":560,"evtId":30088,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734301440,"availabilityEnd":1734387840,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00260q1\u0026ui_id=4.0.0"},"episodeNo":37},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1734301500,"duration":300,"svcId":560,"evtId":30089,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734301740,"availabilityEnd":1734388140,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00260q3\u0026ui_id=4.0.0"},"episodeNo":222},{"name":"Match of the Day 2","description":"Mark Chapman presents highlights from an action-packed Sunday in the Premier League, including the Manchester derby between City and United. [S] [HD]","startTime":1734301800,"duration":4500,"svcId":560,"evtId":30115,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbhjfw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734307199,"availabilityEnd":1734911999,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002631j\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":18},{"name":"The Women\u0027s Football Show","description":"Highlights from another weekend in the Women\u0027s Super League as Everton welcome Manchester City and Arsenal travel to Liverpool. [S] [HD]","startTime":1734306300,"duration":2400,"svcId":560,"evtId":30155,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbhkq7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734308816,"availabilityEnd":1736904366,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00263cv\u0026ui_id=4.0.0"},"seriesNo":13},{"name":"The Graham Norton Show","description":"Graham\u0027s guests are Daniel Craig, Jesse Eisenberg, Kieran Culkin, Nicola Coughlan and FLO. Contains strong language. [S] [HD]","startTime":1734308700,"duration":3000,"svcId":560,"evtId":30156,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbw8zs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734132707,"availabilityEnd":1771716240,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x7t\u0026ui_id=4.0.0"},"seriesNo":32,"episodeNo":11},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1734311700,"duration":300,"svcId":560,"evtId":30090,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734312141,"availabilityEnd":1734920479,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00260q5\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1734312000,"duration":16800,"svcId":560,"evtId":30091,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":259}]},{"channelid":700,"offset":0,"event":[{"name":"Countryfile","description":"Matt Baker and Margherita Taylor are visiting Romney Marsh in Kent. [S] [HD]","startTime":1734245400,"duration":3300,"svcId":700,"evtId":21502,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9dqhf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733681972,"availabilityEnd":1765217972,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x9m\u0026ui_id=4.0.0"}},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1734248700,"duration":4500,"svcId":700,"evtId":21503,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734253215,"availabilityEnd":1734339615,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002614h\u0026ui_id=4.0.0"}},{"name":"Landward","description":"26\/26. Dougie takes a winter walk in Glen Affric to look back at highlights from 2024. And the winner of the BBC Scotland Local Food Hero Award is revealed. [S] [HD]","startTime":1734253200,"duration":1800,"svcId":700,"evtId":21504,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9x2qb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734037199,"availabilityEnd":1765573199,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025zsy\u0026ui_id=4.0.0"},"seriesNo":20,"episodeNo":26},{"name":"Weatherman Walking","description":"7\/8. Battling the elements, Derek crosses the River Twrch across the Old Twrch aqueduct and heads up to the Black Mountains, where the views are breathtaking. [S] [HD]","startTime":1734255000,"duration":1800,"svcId":700,"evtId":21505,"image":"\/ms\/img\/epg\/rb\/fec6-p0hqdn2m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713204004,"availabilityEnd":1744740004,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yjqc\u0026ui_id=4.0.0"},"episodeNo":7},{"name":"Saturday Kitchen Best Bites:...","description":"...Christmas Special. More festive recipes from Tom Parker Bowles, Donna Hay, Paul A. Young and Georgina Hayden. [S] [HD]","startTime":1734256800,"duration":5400,"svcId":700,"evtId":21541,"image":"\/ms\/img\/epg\/rb\/ae0c-p0476l29.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734262200,"availabilityEnd":1765798200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002632r\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Nigella: At My Table","description":"1\/6. Nigella Lawson makes food we can all bring to our own tables. For a relaxed get together around the table, Nigella rustles up a gloriously simple chicken and pea traybake. [S,AD] [HD]","startTime":1734262200,"duration":1800,"svcId":700,"evtId":21506,"image":"\/ms\/img\/epg\/rb\/ae0c-p05kv81x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1591862400,"availabilityEnd":1970467200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b09d981q\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Nigel Slater\u0027s Simple Suppers","description":"Food writer Nigel Slater creates simple yet delicious meals. In this episode, he demonstrates how to make bountiful feasts with apparently few ingredients. [S] [HD]","startTime":1734264000,"duration":900,"svcId":700,"evtId":21507,"image":"\/ms\/img\/epg\/rb\/fec6-p09kb50v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734264903,"availabilityEnd":1736856903,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01s0rqy\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"MOTD Live: Women\u0027s Super...","description":"...League: Everton v Manchester City. Coverage from the WSL as Everton take on Manchester City. [S] [HD]","startTime":1734264900,"duration":8700,"svcId":700,"evtId":21542,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7cc8x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734273615,"availabilityEnd":1736865615,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002632t\u0026ui_id=4.0.0"}},{"name":"Summer Holiday","description":"1960s film musical. Don and his friends persuade their employer to lend them a London bus for their summer holiday. [1963] [S] [HD]","startTime":1734273600,"duration":6300,"svcId":700,"evtId":21543,"image":"\/ms\/img\/epg\/rb\/fec6-p08tqcxv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734279898,"availabilityEnd":1736871898,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000ng7f\u0026ui_id=4.0.0"}},{"name":"Flog It!","description":"22\/60. This episode of the antiques series comes from Longleat in Wiltshire, home to a safari park and Longleat House. Paul Martin is joined by Michael Baggott and Claire Rawle. [S] [HD]","startTime":1734279900,"duration":2400,"svcId":700,"evtId":21544,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734282344,"availabilityEnd":1736874344,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0441r4d\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":22},{"name":"The Best Exotic Marigold Hotel","description":"An assortment of ageing Brits seek to stretch finite finances and find independence by retiring to a hotel in India. Contains some strong language. [2011] [S,AD] [HD]","startTime":1734282300,"duration":6900,"svcId":700,"evtId":21545,"image":"\/ms\/img\/epg\/rb\/fec6-p0bz9jc4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734289271,"availabilityEnd":1736881271,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0016dk8\u0026ui_id=4.0.0"}},{"name":"Celebrity Antiques Road Trip","description":"14\/20. The knowledge of antiques experts Angus Ashworth and Phil Serrell is put to the test, as their celebrity companions are University Challenge icons Eric Monkman and Bobby Seagull. [S] [HD]","startTime":1734289200,"duration":3600,"svcId":700,"evtId":21574,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlz716.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734292910,"availabilityEnd":1737061253,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001g695\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":14},{"name":"Ireland with Simon Reeve","description":"2\/2. Simon Reeve travels around Ireland. Starting at the spectacular Giant\u0027s Causeway in Northern Ireland, Simon travels down the east coast, ending in the Wicklow Mountains. [S,AD] [HD]","startTime":1734292800,"duration":3600,"svcId":700,"evtId":21575,"image":"\/ms\/img\/epg\/rb\/fec6-p038m49g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1542272400,"availabilityEnd":1810328400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b06rhqmg\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Inside Barlinnie","description":"3\/3. Violent offender John searches for a new start to try to beat his alcohol addiction. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1734296400,"duration":3600,"svcId":700,"evtId":21576,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jv2j0j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728363600,"availabilityEnd":1759960813,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023r1d\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Triangle of Sadness","description":"Carl and Yaya are invited for a luxury cruise with a set of super-rich passengers. Contains strong language and some scenes of a sexual nature. [2022] [S] [HD]","startTime":1734300000,"duration":8400,"svcId":700,"evtId":21577,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7r1jl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734308508,"availabilityEnd":1765844508,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002645p\u0026ui_id=4.0.0"}},{"name":"When Eight Bells Toll","description":"Naval secret service agent Philip Calvert is called in to investigate the disappearance of several gold bullion shipments. Contains some violent scenes. [1971] [S] [HD]","startTime":1734308400,"duration":5400,"svcId":700,"evtId":21578,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dgm8sc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734313965,"availabilityEnd":1736905965,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0016l79\u0026ui_id=4.0.0"}},{"name":"Question Time","description":"Fiona Bruce presents topical debate from Beckenham in South London. On the panel: Wes Streeting MP, Tom Tugendhat MP, Christine Jardine MP, Emma Dabiri and Piers Morgan. [S,SL] [HD]","startTime":1734313800,"duration":3600,"svcId":700,"evtId":21579,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":false,"seriesNo":2024},{"name":"Hope Street","description":"7\/8. As the team investigate a shooting and an attempted robbery, Marlene and Eve find out who\u0027s been torturing them. [S,AD,SL] [HD]","startTime":1734317400,"duration":2700,"svcId":700,"evtId":21580,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzf93k.jpg","hasTstv":false,"seriesNo":4,"episodeNo":7},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1734320100,"duration":9600,"svcId":700,"evtId":21509,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('387');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('50');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'ZFKfe4vSsBk', title: "Amad the HERO in huge derby comeback! | Man City 1-2 Man Utd | Premier League Highlights", label: "Amad the HERO in huge derby comeback! | Man City 1-2 Man Utd | Premier League Highlights by Sky Sports Premier League 679,005 views 4 hours ago 3 minutes, 14 seconds" },
{ id: 'jIvVbyHl8eA', title: "I Filled my ENTIRE House with Snow *don’t try this*", label: "I Filled my ENTIRE House with Snow *don’t try this* by The Royalty Family 1,051,395 views 5 hours ago 25 minutes" },
{ id: '8ggBYI-F2K0', title: "Running 1 Meter Every Day, But Every Day It Doubles", label: "Running 1 Meter Every Day, But Every Day It Doubles by WillNE 669,116 views 1 day ago 26 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Friends & Family Christmas (2023)">Friends & Family Christmas (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mustang (2015)">Mustang (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+When Harry Met Sally (1989)">When Harry Met Sally (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sans Soleil (1983)">Sans Soleil (1983)</a></li><li><a href="https://www.google.com/search?q=Films+-+Drop Dead Gorgeous (1999)">Drop Dead Gorgeous (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+Vrazda ing. Certa (1970)">Vrazda ing. Certa (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+Kes (1969)">Kes (1969)</a></li><li><a href="https://www.google.com/search?q=Films+-+Cries and Whispers (1972)">Cries and Whispers (1972)</a></li><li><a href="https://www.google.com/search?q=Films+-+Consent (2023)">Consent (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Falling (2014)">The Falling (2014)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>£231.64"},
{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Dec 13, 2024",
		"vs Day":      "Thu, Dec 12, 2024",
		"vs Week":     "Fri, Dec 06, 2024",
		"vs Month":    "Fri, Nov 15, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£232.38/share",
		'vs Day':      "+0.32%",
		'vs Week':     "+0.09%",
		'vs Month':    "+2.92%",
		'vs Year':     "+22.42%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '99.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 15 December and 16 December">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.994&p=3.099&r=0.532',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:09',
		Set:      '15:53',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>Someone described as cavalier shows no concern for important or serious matters. <em>Cavalier</em> also describes attitudes, manners, etc., that show the same lack of concern.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>