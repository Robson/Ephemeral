<!DOCTYPE html>
<html lang="en">
	<head>
		<title>18:33 19-Nov - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Met Office issues new yellow warning for more snow and ice</b><br/>Snow has fallen across parts of the UK with forecasters saying there is a risk of ice as temperatures drop overnight." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/clyd9xwe33no">Met Office issues new yellow warning for more snow and ice</a></li><li class="ttt" data-tt="<b>Getaway driver jailed for life over teens\' murders</b><br/>&quot;Weak and cowardly&quot; Antony Snook was part of the group that killed Mason Rist and Max Dixon, a court hears."><a href="https://www.bbc.com/news/articles/c5yg7lwe66yo">Getaway driver jailed for life over teens\' murders</a></li><li class="ttt" data-tt="<b>Warning retail job cuts ‘inevitable’ after Budget</b><br/>Retail firms have written to the chancellor to say they cannot manage rising costs and tax bills."><a href="https://www.bbc.com/news/articles/cp816jrnynyo">Warning retail job cuts ‘inevitable’ after Budget</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/clyd9xwe33no"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/5acb/live/a9ecc570-a691-11ef-bdf5-b7cb2fa86e10.jpg" class="ttt" data-tt="A woman walking two dogs across a snow-covered patch of grass. She wears a black coat and has a medium-sized dog either side of her. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump and Xi Jinping’s ‘loving’ relationship has soured - can they rebuild it?</b><br/>What their dynamic means for the future of US-China relations" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cdxvdqg8214o">Trump and Xi Jinping’s ‘loving’ relationship has soured - can they rebuild it?</a></li><li class="ttt" data-tt="<b>Trump to name Howard Lutnick for commerce secretary</b><br/>The department is a key player in boosting domestic manufacturing and the US-China tech war."><a href="https://www.bbc.com/news/articles/c9371zk1q6vo">Trump to name Howard Lutnick for commerce secretary</a></li><li class="ttt" data-tt="<b>Los Angeles to become an immigration  \'sanctuary\'</b><br/>California\'s biggest city is setting on a course to clash with President-elect Trump over immigration."><a href="https://www.bbc.com/news/articles/c4gx7rd4nj7o">Los Angeles to become an immigration  \'sanctuary\'</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cdxvdqg8214o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/5847/live/45f66150-a5d0-11ef-a4fe-a3e9a6c5d640.png" class="ttt" data-tt="Black and white headshots of Trump and Xi Jinping facing opposite each other, as though they are looking directly toward one another." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Ukraine fires US-supplied longer-range missiles into Russia, Moscow says</b><br/>Missiles targeted an ammunitions depot in Bryansk region, Moscow says, with Foreign Minister Lavrov saying the US wanted to escalate the conflict." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c0mzjm7knw7o">Ukraine fires US-supplied longer-range missiles into Russia, Moscow says</a></li><li class="ttt" data-tt="<b>Putin approves changes to Russia\'s nuclear doctrine</b><br/>He has rubber stamped changes that were first proposed in September."><a href="https://www.bbc.com/news/articles/cj4v0rey0jzo">Putin approves changes to Russia\'s nuclear doctrine</a></li><li class="ttt" data-tt="<b>Gisèle Pelicot condemns rape accused and says French society must change</b><br/>She has waived her right to anonymity so the entire trial can be heard in public."><a href="https://www.bbc.com/news/articles/c1lg2593l8lo">Gisèle Pelicot condemns rape accused and says French society must change</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c0mzjm7knw7o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/8733/live/50de1630-a693-11ef-a4fe-a3e9a6c5d640.png" class="ttt" data-tt="Army Tactical Missile Systems (Atacms) being launched" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Is there hope for Mercedes in 2025? And why does F1 go to Monaco?</b><br/>BBC F1 correspondent Andrew Benson answers your questions going into the Las Vegas Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cn8g905v04zo">Is there hope for Mercedes in 2025? And why does F1 go to Monaco?</a></li><li class="ttt" data-tt="<b>Canadian GP date moved to reduce carbon emissions</b><br/>The Canadian Grand Prix to be held in late May rather than early June from 2026 as part of Formula 1\'s attempts to reduce carbon emissions."><a href="https://www.bbc.com/sport/formula1/articles/cq8vwexe9yjo">Canadian GP date moved to reduce carbon emissions</a></li><li class="ttt" data-tt="<b>How to follow Las Vegas Grand Prix on the BBC</b><br/>All the key BBC coverage details for the Las Vegas Grand Prix at the Strip Circuit from 22-24 November."><a href="https://www.bbc.com/sport/formula1/articles/cwyg38jn9g3o">How to follow Las Vegas Grand Prix on the BBC</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cn8g905v04zo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/cfdb/live/97943050-a576-11ef-bdf5-b7cb2fa86e10.jpg" class="ttt" data-tt="A graphic image featuring the 2024 F1 drivers" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Instagram testing tool that resets all recommended posts</b><br/>Its reset feature would cleanse a user\'s feed of personalised content suggested by algorithm." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd6vpy8e6jvo">Instagram testing tool that resets all recommended posts</a></li><li class="ttt" data-tt="<b>Google reacts angrily to report it will have to sell Chrome</b><br/>It\'s reported the US government wants the world\'s most popular web browser to be sold off to address monopoly concerns."><a href="https://www.bbc.com/news/articles/cy4g193qezno">Google reacts angrily to report it will have to sell Chrome</a></li><li class="ttt" data-tt="<b>The Game Awards 2024: Astro Bot and Final Fantasy lead nominations</b><br/>The 3D platformer and role-playing game get seven nods each at the &quot;Oscars of Gaming&quot;."><a href="https://www.bbc.com/news/articles/c4gz67081zlo">The Game Awards 2024: Astro Bot and Final Fantasy lead nominations</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd6vpy8e6jvo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/72a8/live/411eedc0-a682-11ef-83da-07c3abd04f9b.jpg" class="ttt" data-tt="A young woman looks at her phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"18 Nov – 24 Nov","date":17319744E5,"ts":"Tue, 19","ds":"Tue, 19 Nov","icon":28,"desc":"Snow changing to rain. Overcast.","temp":3,"templow":-2,"cf":-1,"wind":8,"wd":330,"hum":87,"pc":83,"rain":2.8 ,"snow":44.4 },{"date":17320608E5,"ts":"Wed, 20","ds":"Wed, 20 Nov","icon":7,"desc":"Cloudy.","temp":3,"templow":-2,"cf":-2,"wind":8,"wd":290,"hum":81,"pc":0},{"date":17321472E5,"ts":"Thu, 21","ds":"Thu, 21 Nov","icon":4,"desc":"Breaks of sun late.","temp":2,"templow":-3,"cf":-1,"wind":6,"wd":270,"hum":82,"pc":5},{"date":17322336E5,"ts":"Fri, 22","ds":"Fri, 22 Nov","icon":29,"desc":"Snow showers early. Mostly cloudy.","temp":4,"templow":-2,"cf":-0,"wind":8,"wd":230,"hum":83,"pc":14,"snow":1},{"date":173232E7,"ts":"Sat, 23","ds":"Sat, 23 Nov","icon":33,"desc":"Rain showers. Overcast.","temp":13,"templow":-1,"cf":8,"wind":23,"wd":210,"hum":90,"pc":86,"rain":19.7 ,"snow":18},{"date":17324064E5,"ts":"Sun, 24","ds":"Sun, 24 Nov","icon":19,"desc":"Rain. Overcast.","temp":14,"templow":9,"cf":10,"wind":20,"wd":210,"hum":84,"pc":66,"rain":9.5 },{"hl":true,"hls":"25 Nov – 1 Dec","date":17324928E5,"ts":"Mon, 25","ds":"Mon, 25 Nov","icon":18,"desc":"Sprinkles early. Morning clouds.","temp":9,"templow":1,"cf":4,"wind":12,"wd":290,"hum":69,"pc":14,"rain":0.1 },{"date":17325792E5,"ts":"Tue, 26","ds":"Tue, 26 Nov","icon":33,"desc":"Showers late. Broken clouds.","temp":7,"templow":0,"cf":4,"wind":5,"wd":20,"hum":88,"pc":19,"rain":1.7 },{"date":17326656E5,"ts":"Wed, 27","ds":"Wed, 27 Nov","icon":1,"desc":"Sunny.","temp":6,"templow":2,"cf":3,"wind":8,"wd":10,"hum":78,"pc":6},{"date":1732752E6,"ts":"Thu, 28","ds":"Thu, 28 Nov","icon":18,"desc":"Sprinkles late. Cloudy.","temp":6,"templow":2,"cf":2,"wind":9,"wd":10,"hum":89,"pc":54,"rain":1.6 ,"snow":0.8 },{"date":17328384E5,"ts":"Fri, 29","ds":"Fri, 29 Nov","icon":18,"desc":"Sprinkles. Overcast.","temp":6,"templow":2,"cf":4,"wind":5,"wd":20,"hum":89,"pc":50,"rain":2.2 },{"date":17329248E5,"ts":"Sat, 30","ds":"Sat, 30 Nov","icon":18,"desc":"Sprinkles early. Breaks of sun late.","temp":8,"templow":5,"cf":6,"wind":6,"wd":0,"hum":90,"pc":50,"rain":0.3 },{"date":17330112E5,"ts":"Sun, 1","ds":"Sun, 1 Dec","icon":7,"desc":"Overcast.","temp":8,"templow":5,"cf":8,"wind":2,"wd":340,"hum":88,"pc":6},{"hl":true,"hls":"2 Dec – 8 Dec","date":17330976E5,"ts":"Mon, 2","ds":"Mon, 2 Dec","icon":7,"desc":"Cloudy.","temp":8,"templow":5,"cf":7,"wind":4,"wd":230,"hum":88,"pc":6},{"date":1733184E6,"ts":"Tue, 3","ds":"Tue, 3 Dec","icon":18,"desc":"Sprinkles late. Cloudy.","temp":9,"templow":5,"cf":6,"wind":10,"wd":190,"hum":92,"pc":51,"rain":0.8 }],"grid":{"temp":{"low":-3,"high":14,"range":17},"prec":{"high":47.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2411/ParallelClouds_Beletsky_960.jpg',
		Title:     'Undulatus Clouds over Las Campanas Observatory',
		LinkImage: 'https://apod.nasa.gov/apod/image/2411/ParallelClouds_Beletsky_1400.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241119.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Doolhofzwam_%28Daedalea_quercina%29_30-11-2022._%28d.j.b%29.jpg/400px-Doolhofzwam_%28Daedalea_quercina%29_30-11-2022._%28d.j.b%29.jpg',
		Title:    'Fomitopsis quercina',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Fomitopsis_quercina',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Fomitopsis_quercina" title="Fomitopsis quercina">Fomitopsis quercina</a></b></i> is a species of <a href="https://en.wikipedia.org/wiki/Mushroom" title="Mushroom">mushroom</a> in the order <a href="https://en.wikipedia.org/wiki/Polyporales" title="Polyporales">Polyporales</a>. Commonly known as the oak mazegill, among other names, its <a href="https://en.wikipedia.org/wiki/Botanical_name" title="Botanical name">specific epithet</a> refers to the <a href="https://en.wikipedia.org/wiki/Oak" title="Oak">oak</a> genus <i>Quercus</i>, upon which it frequently grows, causing a <a href="https://en.wikipedia.org/wiki/Wood-decay_fungus#Brown_rot" title="Wood-decay fungus">brown rot</a>. It is found in most of Europe, following the pattern of oak distribution, and has also been reported in northern Africa, North America, Asia and Australia. The mushroom features <a href="https://en.wikipedia.org/wiki/Germ_pore" title="Germ pore">pores</a> which form a maze-like appearance.  Though inedible, it can be used as a natural comb and has been the subject of chemical research. This <i>F.&#160;quercina</i> mushroom was photographed growing on a tree branch at De Famberhorst, a nature reserve in the town of <a href="https://en.wikipedia.org/wiki/Joure" title="Joure">Joure</a> in <a href="https://en.wikipedia.org/wiki/Friesland" title="Friesland">Friesland</a>, Netherlands. The photograph was <a href="https://en.wikipedia.org/wiki/Focus_stacking" title="Focus stacking">focus-stacked</a> from 21 separate images.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Famberhorst" title="User:Famberhorst">Dominicus Johannes Bergsma</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1731996000,"duration":12600,"svcId":560,"evtId":29308,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732008540,"availabilityEnd":1732094940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00254v4\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Gethin Jones and Helen Skelton chat to Laura Pomfret about the safest ways to shop, Dr Xand explains how to clear congestion, and sausages 3-ways with chef Briony May Williams. [S] [HD]","startTime":1732008600,"duration":4500,"svcId":560,"evtId":29309,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5jqbj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732013085,"availabilityEnd":1763549085,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00254v6\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":112},{"name":"Rip Off Britain","description":"22\/45. A 90-year-old is shocked by a \u00a317,000 ground rent bill on the flat he\u0027s owned for 50 years. Plus the online marketplace being abused by scammers. [S] [HD]","startTime":1732013100,"duration":2700,"svcId":560,"evtId":29363,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2d452.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732015783,"availabilityEnd":1763810960,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255yk\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":22},{"name":"Homes Under the Hammer","description":"7\/80. Tommy masks up as he investigates an odour filled townhouse in Windsor, and Dion has to do some exploring to find a hidden gem in the form of a three-bedroom bungalow in Wetherby. [S,AD] [HD]","startTime":1732015800,"duration":2700,"svcId":560,"evtId":29364,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcg50.jpg","hasTstv":false,"seriesNo":39,"episodeNo":7},{"name":"Bargain Hunt","description":"Eric Knowles and the teams head to Ardingly in West Sussex, where experts Kate Bliss and Gary Pe are on hand to help. Eric asks locals to guess what his mystery item was used for. [S,AD] [HD]","startTime":1732018500,"duration":2700,"svcId":560,"evtId":29310,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cxr3q7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732021199,"availabilityEnd":1734613199,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bv1h\u0026ui_id=4.0.0"},"seriesNo":62,"episodeNo":20},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1732021200,"duration":3600,"svcId":560,"evtId":29311,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":167},{"name":"Scam Interceptors","description":"12\/20. A giant scam call centre in Kolkata has convinced one woman they\u0027re from her bank and that she needs to follow their instructions to save her money. [S] [HD]","startTime":1732024800,"duration":1800,"svcId":560,"evtId":29404,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3s0yw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731909600,"availabilityEnd":1763445600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00252s0\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":12},{"name":"Expert Witness","description":"13\/15. A young boy is murdered, but his killer is not found. Thirty years on, a pollen expert finds crucial evidence. And a blood and fibre analyst helps find the killer of a shopworker. [S] [HD]","startTime":1732026600,"duration":1800,"svcId":560,"evtId":29365,"image":"\/ms\/img\/epg\/rb\/fec6-p0jzv4rm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730095200,"availabilityEnd":1761631200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gk4\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":13},{"name":"Escape to the Country","description":"18\/55. Denise Nurse helps three dogs and their two owners make their dream countryside escape from the busy port city of Southampton to beautiful Herefordshire. [S] [HD]","startTime":1732028400,"duration":2700,"svcId":560,"evtId":29405,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k4336y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732031127,"availabilityEnd":1763567127,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00256c6\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":18},{"name":"The Bidding Room","description":"12\/30. Nigel Havers presides as five sellers aim to get the best price for their items, including Murano glass fruit, a TV, a cocktail cabinet, a 1920s purse and a dentist\u0027s lamp. [S] [HD]","startTime":1732031100,"duration":2700,"svcId":560,"evtId":29314,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hnj5w5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1712849393,"availabilityEnd":1777044600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y4pt\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":12},{"name":"Antiques Road Trip","description":"12\/20. Roo Irvine motors along the roads of North Yorkshire with her rival, Mark Hill. In their second battle, Mark gets flustered over a very rare find. [S] [HD]","startTime":1732033800,"duration":2700,"svcId":560,"evtId":29366,"image":"\/ms\/img\/epg\/rb\/fec6-p0k3v5t6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731909600,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255yp\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":12},{"name":"Pointless","description":"40\/55. Alexander Armstrong is joined by co-host Sally Phillips for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1732036500,"duration":2700,"svcId":560,"evtId":29315,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h22w6x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1705600800,"availabilityEnd":1737136800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001vfqz\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":40},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1732039200,"duration":1800,"svcId":560,"evtId":29316,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732041090,"availabilityEnd":1732127490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00254vf\u0026ui_id=4.0.0"},"episodeNo":167},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1732041000,"duration":1800,"svcId":560,"evtId":29317,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732042695,"availabilityEnd":1732129095,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00254vh\u0026ui_id=4.0.0"}},{"name":"The One Show","description":"Outlander\u0027s Sam Heughan and Caitriona Balfe, and Michelle Visage, Mark Benton and Alexandra Mardell join Alex Jones and Anita Rani on the sofa. [S] [HD]","startTime":1732042800,"duration":1800,"svcId":560,"evtId":29367,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732044571,"availabilityEnd":1734636571,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00255yv\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Sharon and Stacey support Martin, Linda has questions for Elaine, and Lauren is struggling and seeks help. [S,AD] [HD]","startTime":1732044600,"duration":1800,"svcId":560,"evtId":29406,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k40n3q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00256cb\u0026ui_id=4.0.0"},"episodeNo":7016},{"name":"Paddy: The Ride of My Life","description":"Join Radio 2\u0027s Paddy McGuinness on his 300-mile, ultra-endurance cycle challenge for BBC Children in Need as he rides across the UK from Wrexham to Glasgow on a Chopper. [S] [HD]","startTime":1732046400,"duration":3600,"svcId":560,"evtId":29407,"image":"\/ms\/img\/epg\/rb\/fec6-p0k42658.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732050016,"availabilityEnd":1763586016,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00256cg\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"The Listeners","description":"1\/4. When Claire starts hearing an incessant rumbling sound, no-one seems able to help. Contains some strong language and some upsetting scenes. [S,AD] [HD]","startTime":1732050000,"duration":2700,"svcId":560,"evtId":29408,"image":"\/ms\/img\/epg\/rb\/fec6-p0k40nc2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1763532000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00255ff\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Cheaters","description":"1\/8. Josh is keen to move to the next level with Fola. But Fola wants to take things slowly. Contains strong language and some scenes of a sexual nature. [S,AD] [HD]","startTime":1732052700,"duration":900,"svcId":560,"evtId":29409,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k40nt2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1763532000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255dq\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1732053600,"duration":1800,"svcId":560,"evtId":29318,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732055570,"availabilityEnd":1732141970,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00254vk\u0026ui_id=4.0.0"},"episodeNo":167},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1732055400,"duration":600,"svcId":560,"evtId":29319,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732055850,"availabilityEnd":1732142250,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00254vm\u0026ui_id=4.0.0"}},{"name":"Cheaters","description":"2\/8. A familiar face returns to town. Josh tries to put things right with Fola but ends up making things worse. Contains some strong language and some scenes of a sexual nature. [S,AD] [HD]","startTime":1732056000,"duration":900,"svcId":560,"evtId":29410,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k40nvm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1763532000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255ds\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"Cheaters","description":"3\/8. Fola gets some exciting news but she isn\u0027t sure how to tell Josh. Josh does something bold in an attempt to give Fola space. Contains some strong language. [S,AD] [HD]","startTime":1732056900,"duration":900,"svcId":560,"evtId":29411,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k40nw2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731996000,"availabilityEnd":1763532000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255dw\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"The Good Liar","description":"Accomplished conman Roy Courtnay meets widow Betty McLeish on an online dating site. Contains very strong language, sexual violence and disturbing scenes. [2019] [S] [HD]","startTime":1732057800,"duration":6300,"svcId":560,"evtId":29368,"image":"\/ms\/img\/epg\/rb\/fec6-p0dlwppy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732064099,"availabilityEnd":1734656099,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gd2q\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1732064100,"duration":300,"svcId":560,"evtId":29320,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732064383,"availabilityEnd":1732669183,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00254vp\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1732064400,"duration":18000,"svcId":560,"evtId":29321,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":233}]},{"channelid":700,"offset":0,"event":[{"name":"Richard Osman\u0027s House of Games","description":"41\/100. Cheryl Baker, Chris Bavin, Axel Blake and Sophie Willan test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1731996000,"duration":1800,"svcId":700,"evtId":20898,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vhd7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731954600,"availabilityEnd":1764440983,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002574f\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":41},{"name":"Escape to the Country","description":"17\/55. Emotions are running high in the West Yorkshire countryside as Nicki Chapman helps a buyer from a Hertfordshire town find a new home in the beautiful county where she grew up. [S] [HD]","startTime":1731997800,"duration":2700,"svcId":700,"evtId":20899,"image":"\/ms\/img\/epg\/rb\/fec6-p0k4334r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731944727,"availabilityEnd":1763480727,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00256gd\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":17},{"name":"Antiques Road Trip","description":"11\/20. Flamboyant besties Roo Irvine and Mark Hill reunite to battle over attire and antiques at auction. Who will win this fast and furious race around Yorkshire? [S] [HD]","startTime":1732000500,"duration":2700,"svcId":700,"evtId":20900,"image":"\/ms\/img\/epg\/rb\/fec6-p0k3v5n5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731909600,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00255zr\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":11},{"name":"Wonders of Life","description":"1\/5. In the world\u0027s most volcanic region, south east Asia, Prof Brian Cox explores the thin line that separates the living from the dead, posing the enduring question: what is life? [S,AD,SL] [HD]","startTime":1732003200,"duration":3600,"svcId":700,"evtId":20901,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vrnf.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1732006800,"duration":11700,"svcId":700,"evtId":20902,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Farmers protest in Westminster over inheritance tax changes. [S] [HD]","startTime":1732018500,"duration":2700,"svcId":700,"evtId":20903,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732021235,"availabilityEnd":1734613235,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00257vl\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"37\/50. The quiz show where players must avoid Impossible answers to stay in the competition. 20 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1732021200,"duration":2700,"svcId":700,"evtId":20904,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732023925,"availabilityEnd":1734615925,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0008kfj\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":37},{"name":"The Tournament","description":"16\/30. Eight players do battle in the ultimate knockout quiz. Only one will be left standing at the end, but will they reach the Golden Run and double their money? Hosted by Alex Scott. [S] [HD]","startTime":1732023900,"duration":2700,"svcId":700,"evtId":20905,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d4rqyl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732026610,"availabilityEnd":1734618610,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001d0wk\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":16},{"name":"Beat the Pack","description":"7\/20. Jake Humphrey hosts the general knowledge quiz where contestants can win money if they can give a correct answer to a question before all their opponents in the Pack do. [S] [HD]","startTime":1732026600,"duration":2700,"svcId":700,"evtId":20906,"image":"\/ms\/img\/epg\/rb\/ae0c-p01l9d8p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732029279,"availabilityEnd":1734621279,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01r954j\u0026ui_id=4.0.0"},"episodeNo":7},{"name":"My Life at Christmas with Sally...","description":"...Phillips. 2\/3. Sally Phillips meets poet Lemn Sissay to discover what Christmas means to him. [S,AD] [HD]","startTime":1732029300,"duration":3600,"svcId":700,"evtId":20907,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dk98p7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732032868,"availabilityEnd":1734624868,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001g56p\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Snow Cats and Me","description":"2\/2. Gordon returns to Russia on an emotional journey rehabbing lynx back to the wild. With the birth of two kittens, he has got his hands full training them for life in the wilderness. [S,AD] [HD]","startTime":1732032900,"duration":3600,"svcId":700,"evtId":20908,"image":"\/ms\/img\/epg\/rb\/ae0c-p07xnwzq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732036483,"availabilityEnd":1734628483,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000crz6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Flog It!","description":"Paul Martin presents from Powderham Castle in Devon. Experts Claire Rawle and Mark Stacey look at several collections, including some steam train memorabilia. [S] [HD]","startTime":1732036500,"duration":2700,"svcId":700,"evtId":20909,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732039209,"availabilityEnd":1734631209,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b07f1dkt\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":47},{"name":"Richard Osman\u0027s House of Games","description":"42\/100. Cheryl Baker, Chris Bavin, Axel Blake and Sophie Willan test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1732039200,"duration":1800,"svcId":700,"evtId":20910,"image":"\/ms\/img\/epg\/rb\/fec6-p0k3vjdb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732041023,"availabilityEnd":1764440983,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00257vn\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":42},{"name":"Strictly - It Takes Two","description":"42\/60. Fleur East is back with more backstage gossip and behind-the-scenes action from the world of Strictly. And Choreography Corner takes a look back at the weekend\u0027s performances. [S] [HD]","startTime":1732041000,"duration":1800,"svcId":700,"evtId":20911,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5hgxp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732042818,"availabilityEnd":1765654335,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00257vq\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":42},{"name":"Between the Covers","description":"4\/6. Graham Norton, Cariad Lloyd, Jack Edwards and Meera Syal join Sara Cox to review the book club pick, Butter by Asako Yuzuki, and talk about their favourite books. [S] [HD]","startTime":1732042800,"duration":1800,"svcId":700,"evtId":20912,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vrzc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732044643,"availabilityEnd":1764790246,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00257vs\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":4},{"name":"Mary\u0027s Foolproof Dinners","description":"4\/6. Mary teaches Sue some foolproof recipes perfect for hosting and some new tennis skills. [S,AD] [HD]","startTime":1732044600,"duration":1800,"svcId":700,"evtId":20913,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vs4z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732046498,"availabilityEnd":1764792079,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00257vv\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Highland Cops","description":"4\/6. Officers in Kyle of Lochalsh conduct a search warrant on a flat of an elderly neighbour who they suspect is dealing Class A drugs. [S,AD] [HD]","startTime":1732046400,"duration":3600,"svcId":700,"evtId":20914,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2z7lb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731880813,"availabilityEnd":1764626235,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00257vx\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"QI XL","description":"5\/16. Sandi Toksvig presents a visual episode of QI with Maisie Adam, Jack Dee, Kiri Pritchard-McLean and Alan Davies. [S] [HD]","startTime":1732050000,"duration":2700,"svcId":700,"evtId":20915,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k3vs75.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732052860,"availabilityEnd":1771367369,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00257vz\u0026ui_id=4.0.0"},"seriesNo":23,"episodeNo":5},{"name":"Mel Giedroyc: Unforgivable","description":"5\/8. Mel Giedroyc and Lou Sanders are joined by Richard Ayoade, Sindhu Vee and Ed Gamble. Contains some strong language. [S] [HD]","startTime":1732052700,"duration":2700,"svcId":700,"evtId":20916,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy1z9y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729573200,"availabilityEnd":1761109200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247zt\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1732055400,"duration":1800,"svcId":700,"evtId":20917,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732057290,"availabilityEnd":1763593290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00257w1\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1732057200,"duration":300,"svcId":700,"evtId":20918,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732057526,"availabilityEnd":1732143926,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00257w3\u0026ui_id=4.0.0"}},{"name":"Have I Got News for You US","description":"9\/10. Roy Wood Jr and guests dissect the week\u0027s post-election news. Contains very strong language. [S] [HD]","startTime":1732057500,"duration":2400,"svcId":700,"evtId":20919,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5jvn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732032000,"availabilityEnd":1763568000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00257w5\u0026ui_id=4.0.0"},"episodeNo":9},{"name":"Ben Is Back","description":"A teenager in recovery unexpectedly returns to the family home for the holiday. Contains strong language and some upsetting scenes. [2018] [S] [HD]","startTime":1732059900,"duration":5700,"svcId":700,"evtId":20920,"image":"\/ms\/img\/epg\/rb\/fec6-p0dtdtcr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1732065697,"availabilityEnd":1734657697,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001hbmf\u0026ui_id=4.0.0"}},{"name":"MasterChef: The Professionals","description":"8\/21. Four more chefs are excited to start their MasterChef journey, which, in this episode, begins with two infamous challenges that will test their ability to cope with the pressure. [S,AD,SL] [HD]","startTime":1732065600,"duration":3600,"svcId":700,"evtId":20921,"image":"\/ms\/img\/epg\/rb\/fec6-p0k31d9l.jpg","hasTstv":false,"seriesNo":22,"episodeNo":8},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1732069200,"duration":13200,"svcId":700,"evtId":20922,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"How to Bury a Millionaire: Niles has to move in with Frasier after his divorce leaves him strapped for cash. (S6 Ep7)  [AD,S]","startTime":1731990600,"duration":1500,"svcId":1500,"evtId":51609,"image":"\/ms\/img\/epg\/rb\/5d52-775260.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Frasier","description":"The Seal Who Came to Dinner: While hosting a dinner party for The Gourmet Society at Maris\u0027s beach house, Frasier and Niles have to deal with a smelly, washed-up seal carcass. (S6 Ep8)  [AD,S]","startTime":1731992100,"duration":1500,"svcId":1500,"evtId":51610,"image":"\/ms\/img\/epg\/rb\/5d52-777823.l.png","hasTstv":false,"seriesNo":6,"episodeNo":8},{"name":"Frasier","description":"Roz, a Loan: Unemployed Roz is happy to hear that KACL might be rehiring everyone. (S6 Ep9)  [AD,S]","startTime":1731993600,"duration":1500,"svcId":1500,"evtId":51247,"image":"\/ms\/img\/epg\/rb\/5d52-780117.l.png","hasTstv":false,"seriesNo":6,"episodeNo":9},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Levi Roots joins Susie Dent in Dictionary Corner.  [S]","startTime":1731995100,"duration":2400,"svcId":1500,"evtId":51178,"image":"\/ms\/img\/epg\/rb\/5d52-10181864.l.png","hasTstv":false},{"name":"Cheers","description":"The Groom Wore Clearasil: Carla strongly objects when her 16-year-old son asks for permission to get married. So she begs Sam to tell him about the joys of bachelor life. (S4 Ep4\/26)  [S]","startTime":1731997500,"duration":1800,"svcId":1500,"evtId":51179,"image":"\/ms\/img\/epg\/rb\/5d52-244722.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Cheers","description":"Diane\u0027s Nightmare: Diane is haunted by bad dreams about Andy, the ex-con actor who tried to strangle her. Sam and Frasier offer reassurance but she\u0027s sure her life is in danger. (S4 Ep5\/26)  [S]","startTime":1731999300,"duration":1500,"svcId":1500,"evtId":51180,"image":"\/ms\/img\/epg\/rb\/5d52-246087.l.png","hasTstv":false,"seriesNo":4,"episodeNo":5},{"name":"Cheers","description":"I Will Gladly Pay You Tuesday: Diane entrusts Sam with a valuable book - signed by Ernest Hemingway - as security for the money he lent her to buy it. Will the volume be safe? (S4 Ep6\/26)  [S]","startTime":1732000800,"duration":1500,"svcId":1500,"evtId":51181,"image":"\/ms\/img\/epg\/rb\/5d52-248177.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"The King of Queens","description":"Affair Trade: When Doug receives seductive messages from a woman who had a fling with another Doug Heffernan in the Hamptons, he struggles to sort out the misunderstanding. (S9 Ep2\/13)  [AD,S]","startTime":1732002300,"duration":1500,"svcId":1500,"evtId":51182,"image":"\/ms\/img\/epg\/rb\/5d52-6571859.l.png","hasTstv":false,"seriesNo":9,"episodeNo":2},{"name":"The King of Queens","description":"Moxie Moron: When Doug and Deacon\u0027s boss is sent to rehab, Deacon takes over as supervisor, but things go bad when Doug decides he wants to join the management structure too. (S9 Ep3\/13)  [AD,S]","startTime":1732003800,"duration":1800,"svcId":1500,"evtId":51183,"image":"\/ms\/img\/epg\/rb\/5d52-6813206.l.png","hasTstv":false,"seriesNo":9,"episodeNo":3},{"name":"The King of Queens","description":"Major Disturbance: Without telling Carrie, Doug volunteers to look after Major while Deacon and Kelly take a weekend break. But his good-natured attempts to bond cause issues. (S9 Ep4\/13)  [AD,S]","startTime":1732005600,"duration":1800,"svcId":1500,"evtId":51572,"image":"\/ms\/img\/epg\/rb\/5d52-423154.l.png","hasTstv":false,"seriesNo":9,"episodeNo":4},{"name":"Frasier","description":"Burying a Grudge: Martin discovers that Artie, a former cop and friend-turned-foe, is suffering in a hospital bed, and thinks it might be time for a reconciliation. (S2 Ep10)  [AD,S]","startTime":1732007400,"duration":1800,"svcId":1500,"evtId":51573,"image":"\/ms\/img\/epg\/rb\/5d52-365488.l.png","hasTstv":false,"seriesNo":2,"episodeNo":10},{"name":"Frasier","description":"Seat of Power: Frasier and Niles realise that the plumbers who are repairing their toilet bullied them when they were all kids. (S2 Ep11)  [AD,S]","startTime":1732009200,"duration":1800,"svcId":1500,"evtId":51574,"image":"\/ms\/img\/epg\/rb\/5d52-367598.l.png","hasTstv":false,"seriesNo":2,"episodeNo":11},{"name":"Frasier","description":"Roz in the Doghouse: After injuring Roz\u0027s foot, Bulldog offers her a job as his producer. She\u0027s worried about his advances but accepts after falling out with Frasier. (S2 Ep12)  [AD,S]","startTime":1732011000,"duration":1800,"svcId":1500,"evtId":51575,"image":"\/ms\/img\/epg\/rb\/5d52-371228.l.png","hasTstv":false,"seriesNo":2,"episodeNo":12},{"name":"Frasier","description":"Retirement Is Murder: When Martin continues his 20-year obsession with solving a murder, Frasier steps in with his own theory: that the killer was a monkey. (S2 Ep13)  [AD,S]","startTime":1732012800,"duration":1800,"svcId":1500,"evtId":51576,"image":"\/ms\/img\/epg\/rb\/5d52-372922.l.png","hasTstv":false,"seriesNo":2,"episodeNo":13},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Best pals Colleen and Naomi bought Classic American in New York together, but their lack of experience is pushing their friendship to the edge. Can Gordon help? (S4 Ep2\/13)  [S]","startTime":1732014600,"duration":3300,"svcId":1500,"evtId":51189,"image":"\/ms\/img\/epg\/rb\/5d52-1209998.l.png","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1732017900,"duration":300,"svcId":1500,"evtId":51190,"image":"\/ms\/img\/epg\/rb\/5d52-10182085.l.png","hasTstv":false},{"name":"Undercover Boss USA","description":"Shawnon Bellah, chief operating officer of Nestl\u00e9 Toll House Caf\u00e9 by Chip, works undercover among her staff, learning about cookie decoration and the drive-thru experience. (S7 Ep2)  [S]","startTime":1732018200,"duration":3600,"svcId":1500,"evtId":51191,"image":"\/ms\/img\/epg\/rb\/5d52-2327275.l.png","hasTstv":false,"seriesNo":7,"episodeNo":2},{"name":"Find It, Fix It, Flog It","description":"In Maidenhead, Simon O\u0027Brien falls in love with an old ship\u0027s carpenter\u0027s chest, which he wants to gently restore, while Henry Cole renovates a miniature Tether car. (S4 Ep3)  [AD,S]","startTime":1732021800,"duration":3600,"svcId":1500,"evtId":51192,"image":"\/ms\/img\/epg\/rb\/5d52-3734323.l.png","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Levi Roots joins Susie Dent in Dictionary Corner.  [S]","startTime":1732025400,"duration":3000,"svcId":1500,"evtId":51193,"image":"\/ms\/img\/epg\/rb\/5d52-10182091.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Joanne and former bodybuilding champion Darren hope to find the perfect holiday home on Spain\u0027s eastern Costa del Sol. Can Jean Johansson find a strong enough contender for their \u00a3180k?  [S]","startTime":1732028400,"duration":3600,"svcId":1500,"evtId":51194,"image":"\/ms\/img\/epg\/rb\/5d52-414202823.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Lisa and Rob want to enjoy a slower pace of life in the countryside villages of Charente in southwest France. Jean Johansson shows them what their \u00a3150k can buy.  [S]","startTime":1732032000,"duration":3600,"svcId":1500,"evtId":51195,"image":"\/ms\/img\/epg\/rb\/5d52-394736755.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The new run continues. Visit two is to The Roade House (no, not that one) in Northamptonshire, where hosts Paul and Maxine boast a caf\u00e9 bar, yoga studio and hair salon.  [S]","startTime":1732035600,"duration":1800,"svcId":1500,"evtId":51196,"image":"\/ms\/img\/epg\/rb\/5d52-10182099.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"The owners of a holiday-village-turned-B\u0026B create a living space for themselves. A man\u0027s plans to save two villages in Umbria finally come to fruition. (S2 Ep22)  [S]","startTime":1732037400,"duration":3600,"svcId":1500,"evtId":51197,"image":"\/ms\/img\/epg\/rb\/5d52-8399874.l.png","hasTstv":false,"seriesNo":2,"episodeNo":22},{"name":"The Simpsons","description":"Homr: When Homer loses all the family\u0027s money with an unwise investment, he becomes a human guinea pig to earn some cash - and that\u0027s when he becomes extremely intelligent... (S12 Ep9\/21)  [AD,S]","startTime":1732041000,"duration":1800,"svcId":1500,"evtId":51198,"image":"\/ms\/img\/epg\/rb\/5d52-1124118.l.png","hasTstv":false,"seriesNo":12,"episodeNo":9},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1732042800,"duration":3300,"svcId":1500,"evtId":51199,"image":"\/ms\/img\/epg\/rb\/5d52-10182100.l.png","hasTstv":false},{"name":"New: The Political Slot","description":"The Labour Party: Calvin Bailey MBE, MP for Leyton and Wanstead, sets out the Labour government\u0027s plan to create homes for Britain\u0027s armed forces veterans.  [S]","startTime":1732046100,"duration":300,"svcId":1500,"evtId":51200,"image":"\/ms\/img\/epg\/rb\/5d52-10182101.l.png","hasTstv":false},{"name":"New: The Great British Bake Off","description":"It\u0027s the semi-final and the bakers show off their patisserie prowess with breakfast pastries and a classic-but-theatrical Technical. Who\u0027ll make final-worthy fruit entremets? (S15 Ep9\/10)  [AD,S]","startTime":1732046400,"duration":4500,"svcId":1500,"evtId":51201,"image":"\/ms\/img\/epg\/rb\/5d52-412974968.l.png","hasTstv":false,"seriesNo":15,"episodeNo":9},{"name":"New: Sue Perkins\u0027 Big Adventure...","description":"...Paris to Istanbul: In Salzburg, Sue becomes a yodelling YouTuber and does yoga with alpacas. In Vienna, she waltzes, goes hot rod racing, and eats the fattiest dumplings ever. (Ep3\/6)  [AD,S]","startTime":1732050900,"duration":3600,"svcId":1500,"evtId":51202,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Gogglebox","description":"The Goggleboxers watch Welcome to Wrexham, Love \u0026 Death, Animals Up Close with Bertie Gregory, Puzzling with Lucy Worsley, BBC News (escaped prisoner), and My Mum, Your Dad. (S22 Ep2)  [AD,S]","startTime":1732054500,"duration":3600,"svcId":1500,"evtId":51203,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":22,"episodeNo":2},{"name":"Gogglebox","description":"Strictly Come Dancing, Married at First Sight UK and Rivals are on this time. Plus Antiques Roadshow, Love Triangle Australia, Ambulance, Countdown and ITV News\u00a0(Trump). (S24 Ep10)  [AD,S,SL]","startTime":1732058100,"duration":3600,"svcId":1500,"evtId":51204,"image":"\/ms\/img\/epg\/rb\/5d52-10137247.l.png","hasTstv":false,"seriesNo":24,"episodeNo":10},{"name":"Taskmaster - The Final","description":"Our five weary contestants compete one last time, in a grand final featuring tiny chairs, giant eggs and a honking Alex Horne. But who\u0027ll lift the legendary Taskmaster trophy? (S18 Ep10\/10)  [AD,S,SL]","startTime":1732061700,"duration":3300,"svcId":1500,"evtId":51205,"image":"\/ms\/img\/epg\/rb\/5d52-10137240.l.png","hasTstv":false,"seriesNo":18,"episodeNo":10},{"name":"Everyone Else Burns","description":"Series finale of the comedy with Simon Bird. The wedding day arrives, but will the groom go through with it? Samson deals David a devastating blow; will Fiona fight for her man? (S2 Ep6\/6)  [AD,S,SL]","startTime":1732065000,"duration":1800,"svcId":1500,"evtId":51206,"image":"\/ms\/img\/epg\/rb\/5d52-10143571.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"The Last Leg","description":"Dara \u00d3 Briain and Janine Harouni join Adam Hills, Josh Widdicombe and Alex Brooker as the gang offer their satirical insight into the world\u0027s biggest current events. (S31 Ep4)  [S,SL]","startTime":1732066800,"duration":3300,"svcId":1500,"evtId":51207,"image":"\/ms\/img\/epg\/rb\/5d52-10143650.l.png","hasTstv":false,"seriesNo":31,"episodeNo":4},{"name":"Junior Taskmaster","description":"In heat two, our next five contestants cram biscuits through a sieve and launch planes from a great height. Does Rose Matafeo agree that Greggs is the most glamorous eatery in town? (Ep2\/8)  [AD,S,SL]","startTime":1732070100,"duration":3000,"svcId":1500,"evtId":51208,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"A Godwink Christmas: Second...","description":"...Chance, First Love: (2020) Romcom. At Christmas, single dad Pat moves back to his picture-postcard home town, then keeps bumping into his school sweetheart. Is a rekindling on the cards?  [S,SL]","startTime":1732073100,"duration":5400,"svcId":1500,"evtId":51209,"image":"\/ms\/img\/epg\/rb\/5d52-3833776.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('396');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('76');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('67');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'pzFDqF7iWdU', title: "FULL MATCH | Poland v Scotland  | 2024 UEFA Nations League | Scotland National Team", label: "FULL MATCH | Poland v Scotland  | 2024 UEFA Nations League | Scotland National Team by Scotland National Team 1,231,608 views Streamed 20 hours ago 1 hour, 40 minutes" },
{ id: 'Gi8HvEa74sY', title: "Poland 1-2 Scotland | Andy Robertson Scores Late Winner! | 2024 UEFA Nations League Highlights", label: "Poland 1-2 Scotland | Andy Robertson Scores Late Winner! | 2024 UEFA Nations League Highlights by Scotland National Team 891,421 views 17 hours ago 9 minutes, 18 seconds" },
{ id: 'mSpqIFcbEow', title: "skibidi toilet 77 (full episode)", label: "skibidi toilet 77 (full episode) by DaFuq!?Boom! 6,544,675 views 8 hours ago 24 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Les rendez-vous d\'Anna (1978)">Les rendez-vous d\'Anna (1978)</a></li><li><a href="https://www.google.com/search?q=Films+-+God\'s Creatures (2022)">God\'s Creatures (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Visit (1964)">The Visit (1964)</a></li><li><a href="https://www.google.com/search?q=Films+-+War and Peace (1965)">War and Peace (1965)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Outrun (2024)">The Outrun (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Monster (2023)">Monster (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Tideland (2005)">Tideland (2005)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dracula\'s Daughter (1936)">Dracula\'s Daughter (1936)</a></li><li><a href="https://www.google.com/search?q=Films+-+Woman of the Hour (2023)">Woman of the Hour (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Clemency (2019)">Clemency (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
{ number: 225.78, tooltip: "Fri, Nov 08, 2024<br/>£225.78"},
{ number: 224.64, tooltip: "Thu, Nov 07, 2024<br/>£224.64"},
{ number: 224.52, tooltip: "Wed, Nov 06, 2024<br/>£224.52"},
{ number: 219.40, tooltip: "Tue, Nov 05, 2024<br/>£219.40"},
{ number: 217.60, tooltip: "Mon, Nov 04, 2024<br/>£217.60"},
{ number: 217.96, tooltip: "Fri, Nov 01, 2024<br/>£217.96"},
{ number: 219.00, tooltip: "Thu, Oct 31, 2024<br/>£219.00"},
{ number: 219.52, tooltip: "Wed, Oct 30, 2024<br/>£219.52"},
{ number: 220.32, tooltip: "Tue, Oct 29, 2024<br/>£220.32"},
{ number: 220.65, tooltip: "Mon, Oct 28, 2024<br/>£220.65"},
{ number: 219.76, tooltip: "Fri, Oct 25, 2024<br/>£219.76"},
{ number: 220.46, tooltip: "Thu, Oct 24, 2024<br/>£220.46"},
{ number: 220.33, tooltip: "Wed, Oct 23, 2024<br/>£220.33"},
{ number: 221.57, tooltip: "Tue, Oct 22, 2024<br/>£221.57"},
{ number: 221.85, tooltip: "Mon, Oct 21, 2024<br/>£221.85"},
].reverse();

	var vanguardDates = {
		"Latest":      "Mon, Nov 18, 2024",
		"vs Day":      "Fri, Nov 15, 2024",
		"vs Week":     "Mon, Nov 11, 2024",
		"vs Month":    "Mon, Oct 21, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£226.33/share",
		'vs Day':      "+0.24%",
		'vs Week':     "-0.32%",
		'vs Month':    "+2.02%",
		'vs Year':     "+22.21%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '81.1',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 19 November and 20 November">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.811&p=3.662&r=0.582',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:34',
		Set:      '16:08',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Moot</em> typically describes something that is no longer important or worth discussing. It can also describe something that is argued about but not possible for people to prove.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>