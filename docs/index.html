<!DOCTYPE html>
<html lang="en">
	<head>
		<title>23:02 1-Jan - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Homes flooded in Greater Manchester as storms hit New Year\'s Day</b><br/>A major incident is declared in Greater Manchester after flooding left people trapped in their homes." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvgm5rkrp25o">Homes flooded in Greater Manchester as storms hit New Year\'s Day</a></li><li class="ttt" data-tt="<b>CCTV shows how burglar carried out £10m jewellery heist</b><br/>The BBC has obtained exclusive footage of a burglary targeting a socialite\'s north London mansion."><a href="https://www.bbc.com/news/articles/c1d31pdzg04o">CCTV shows how burglar carried out £10m jewellery heist</a></li><li class="ttt" data-tt="<b>Police seek 19 people after Glasgow football chaos</b><br/>The force releases images of people they want to speak to about football fan disorder in Glasgow."><a href="https://www.bbc.com/news/articles/c0kvm8pxn66o">Police seek 19 people after Glasgow football chaos</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvgm5rkrp25o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/a173/live/97307e80-c83e-11ef-94cb-5f844ceb9e30.jpg" class="ttt" data-tt="Aerial shot showing flooded suburban street in Manchester" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>New Orleans attacker did not act alone, FBI believes</b><br/>The FBI says it is investigating the attack, which killed 10 and injured dozens, as an &quot;act of terrorism&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crl378x8nnjo">New Orleans attacker did not act alone, FBI believes</a></li><li class="ttt" data-tt="<b>Elon Musk changes his name to Kekius Maximus on X</b><br/>The world\'s richest man sparks speculation after changing his name and using a picture of Pepe the Frog."><a href="https://www.bbc.com/news/articles/cy53vz1qpx1o">Elon Musk changes his name to Kekius Maximus on X</a></li><li class="ttt" data-tt="<b>Police identify woman set on fire in deadly New York City attack</b><br/>Authorities identified Debrina Kawam, 57, of New Jersey as the victim of the 22 December attack."><a href="https://www.bbc.com/news/articles/cr56jlpr2zqo">Police identify woman set on fire in deadly New York City attack</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crl378x8nnjo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/57cb/live/8ae4bb30-c88b-11ef-b36e-314f4deee7bf.jpg" class="ttt" data-tt="FBI officers on the scene of Bourbon Street." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>New Orleans attacker did not act alone, FBI believes</b><br/>The FBI says it is investigating the attack, which killed 10 and injured dozens, as an &quot;act of terrorism&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crl378x8nnjo">New Orleans attacker did not act alone, FBI believes</a></li><li class="ttt" data-tt="<b>What we know about the New Orleans attacker</b><br/>The man who drove into a large crowd in the French Quarter was identified as Shamsud Din Jabbar, a US citizen and Army veteran."><a href="https://www.bbc.com/news/articles/c205ek63433o">What we know about the New Orleans attacker</a></li><li class="ttt" data-tt="<b>One killed as cybertruck explodes at Trump Las Vegas hotel</b><br/>The driver was killed and seven people were injured in the explosion, police said without naming any suspects."><a href="https://www.bbc.com/news/articles/cz7qd97eyp0o">One killed as cybertruck explodes at Trump Las Vegas hotel</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crl378x8nnjo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/57cb/live/8ae4bb30-c88b-11ef-b36e-314f4deee7bf.jpg" class="ttt" data-tt="FBI officers on the scene of Bourbon Street." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Wins, drama and race debuts - take the 2024 F1 quiz</b><br/>There was plenty of excitement and drama during the 2024 Formula 1 season, so take the quiz to see how much you remember." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c9q7ywy1337o">Wins, drama and race debuts - take the 2024 F1 quiz</a></li><li class="ttt" data-tt="<b>\'Innovation in every sense - that\'s what F1 is\'</b><br/>Formula 1 travels the globe to create a spectacle of cars going around in circles burning fuel. But what is it doing in terms of global sustainability?"><a href="https://www.bbc.com/sport/formula1/articles/clykgdz974xo">\'Innovation in every sense - that\'s what F1 is\'</a></li><li class="ttt" data-tt="<b>Frenchman Hadjar gets final F1 seat for 2025</b><br/>Frenchman Isack Hadjar is promoted to Red Bull\'s second team to race alongside Japanese Yuki Tsunoda during the 2025 Formula 1 season."><a href="https://www.bbc.com/sport/formula1/articles/crmnxweg781o">Frenchman Hadjar gets final F1 seat for 2025</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c9q7ywy1337o"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/dc7a/live/a6b8b5a0-bc60-11ef-bd12-f1aa6a99e677.jpg" class="ttt" data-tt="Pierre Gasly and Esteban Ocon celebrate their podium places in Brazil" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>30 years ago Tomorrow\'s World predicted 2025 - how did it do?</b><br/>From space junk gel to hologram surgery, the team had lots of intriguing predictions. Which, if any, came true?" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cjdn10yk0k1o">30 years ago Tomorrow\'s World predicted 2025 - how did it do?</a></li><li class="ttt" data-tt="<b>Crypto fugitive Do Kwon extradited to US over $40bn crash</b><br/>US authorities allege he was responsible for the collapse of two coins, prompting a massive crypto sell-off."><a href="https://www.bbc.com/news/articles/cwy30n29qx5o">Crypto fugitive Do Kwon extradited to US over $40bn crash</a></li><li class="ttt" data-tt="<b>What we know about US visas Trump supporters are clashing over</b><br/>A row has erupted over a long-standing US visa programme, We looked into the figures behind the scheme."><a href="https://www.bbc.com/news/articles/ckg87n2ml11o">What we know about US visas Trump supporters are clashing over</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cjdn10yk0k1o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/4552/live/b71e5210-bef4-11ef-b59e-49d4e30dab91.jpg" class="ttt" data-tt="A man and a woman, with the man wearing sunglasses" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"30 Dec – 5 Jan","date":1735776E6,"ts":"Thu, 2","ds":"Thu, 2 Jan","icon":29,"desc":"Light snow early. Decreasing cloudiness.","temp":4,"templow":-2,"cf":-1,"wind":7,"wd":330,"hum":80,"pc":39,"rain":0.4 ,"snow":2},{"date":17358624E5,"ts":"Fri, 3","ds":"Fri, 3 Jan","icon":4,"desc":"Afternoon clouds.","temp":4,"templow":-2,"cf":-1,"wind":8,"wd":290,"hum":85,"pc":0},{"date":17359488E5,"ts":"Sat, 4","ds":"Sat, 4 Jan","icon":28,"desc":"Icy mix late. Overcast.","temp":3,"templow":-2,"cf":-2,"wind":6,"wd":120,"hum":90,"pc":60,"rain":2.1 ,"snow":57.6 },{"date":17360352E5,"ts":"Sun, 5","ds":"Sun, 5 Jan","icon":19,"desc":"Rain. Overcast.","temp":7,"templow":2,"cf":3,"wind":12,"wd":60,"hum":97,"pc":73,"rain":11.2 },{"hl":true,"hls":"6 Jan – 12 Jan","date":17361216E5,"ts":"Mon, 6","ds":"Mon, 6 Jan","icon":28,"desc":"Rain changing to snow. Overcast.","temp":4,"templow":1,"cf":-1,"wind":6,"wd":60,"hum":92,"pc":77,"rain":15.7 ,"snow":67.5 },{"date":1736208E6,"ts":"Tue, 7","ds":"Tue, 7 Jan","icon":7,"desc":"Overcast.","temp":1,"templow":-4,"cf":-4,"wind":7,"wd":300,"hum":95,"pc":43,"snow":3.4 },{"date":17362944E5,"ts":"Wed, 8","ds":"Wed, 8 Jan","icon":2,"desc":"Scattered clouds.","temp":0,"templow":-7,"cf":-5,"wind":4,"wd":260,"hum":98,"pc":2},{"date":17363808E5,"ts":"Thu, 9","ds":"Thu, 9 Jan","icon":4,"desc":"Afternoon clouds.","temp":2,"templow":-7,"cf":-1,"wind":4,"wd":250,"hum":93,"pc":6},{"date":17364672E5,"ts":"Fri, 10","ds":"Fri, 10 Jan","icon":28,"desc":"Snow changing to rain. Overcast.","temp":2,"templow":-2,"cf":-2,"wind":13,"wd":120,"hum":99,"pc":56,"rain":2.1 ,"snow":21.6 },{"date":17365536E5,"ts":"Sat, 11","ds":"Sat, 11 Jan","icon":29,"desc":"Light snow early. Morning clouds.","temp":3,"templow":1,"cf":1,"wind":4,"wd":110,"hum":98,"pc":51,"rain":0.3 ,"snow":3},{"date":173664E7,"ts":"Sun, 12","ds":"Sun, 12 Jan","icon":4,"desc":"Increasing cloudiness.","temp":4,"templow":0,"cf":1,"wind":7,"wd":140,"hum":92,"pc":4},{"hl":true,"hls":"13 Jan – 19 Jan","date":17367264E5,"ts":"Mon, 13","ds":"Mon, 13 Jan","icon":28,"desc":"Snow changing to rain. Overcast.","temp":4,"templow":0,"cf":0,"wind":8,"wd":150,"hum":99,"pc":58,"rain":1,"snow":13.5 },{"date":17368128E5,"ts":"Tue, 14","ds":"Tue, 14 Jan","icon":18,"desc":"Light rain. Overcast.","temp":6,"templow":1,"cf":3,"wind":6,"wd":190,"hum":100,"pc":64,"rain":4.3 ,"snow":15.1 },{"date":17368992E5,"ts":"Wed, 15","ds":"Wed, 15 Jan","icon":18,"desc":"Sprinkles. Cloudy.","temp":9,"templow":4,"cf":3,"wind":18,"wd":230,"hum":95,"pc":53,"rain":0.7 },{"date":17369856E5,"ts":"Thu, 16","ds":"Thu, 16 Jan","icon":18,"desc":"Light rain. Cloudy.","temp":11,"templow":4,"cf":8,"wind":12,"wd":300,"hum":87,"pc":62,"rain":3.4 }],"grid":{"temp":{"low":-7,"high":11,"range":18},"prec":{"high":83.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2501/AlphaCen_Cantrell_960.jpg',
		Title:     'Alpha Centauri: The Closest Star System',
		LinkImage: 'https://apod.nasa.gov/apod/image/2501/AlphaCen_Cantrell_3429.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap250101.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Earthrise_over_Compton_crater_-LRO_full_res_-_edit1.jpg/400px-Earthrise_over_Compton_crater_-LRO_full_res_-_edit1.jpg',
		Title:    'Earth',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Earth',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Earth" title="Earth">Earth</a></b> is the third <a href="https://en.wikipedia.org/wiki/Planet" title="Planet">planet</a> from the <a href="https://en.wikipedia.org/wiki/Sun" title="Sun">Sun</a> and the only <a href="https://en.wikipedia.org/wiki/Astronomical_object" title="Astronomical object">astronomical object</a> known to harbor <a href="https://en.wikipedia.org/wiki/Life" title="Life">life</a>. It is the densest planet in the <a href="https://en.wikipedia.org/wiki/Solar_System" title="Solar System">Solar System</a> and the largest and most massive of its four <a href="https://en.wikipedia.org/wiki/Terrestrial_planet" title="Terrestrial planet">rocky planets</a>. About 29 percent of Earth\'s surface is <a href="https://en.wikipedia.org/wiki/Land#History_of_land_on_Earth" title="Land">land</a>, with the remaining 71 percent <a href="https://en.wikipedia.org/wiki/Water_distribution_on_Earth" title="Water distribution on Earth">covered with water</a> and much of <a href="https://en.wikipedia.org/wiki/Polar_regions_of_Earth" title="Polar regions of Earth">Earth\'s polar regions</a> covered in <a href="https://en.wikipedia.org/wiki/Ice" title="Ice">ice</a>. Earth\'s interior is active with <a href="https://en.wikipedia.org/wiki/Earth%27s_inner_core" title="Earth&#39;s inner core">a solid-iron inner core</a>, <a href="https://en.wikipedia.org/wiki/Earth%27s_outer_core" title="Earth&#39;s outer core">a liquid outer core</a> that generates <a href="https://en.wikipedia.org/wiki/Earth%27s_magnetic_field" title="Earth&#39;s magnetic field">Earth\'s magnetic field</a>, and a convective <a href="https://en.wikipedia.org/wiki/Mantle_(geology)" title="Mantle (geology)">mantle</a> that drives <a href="https://en.wikipedia.org/wiki/Plate_tectonics" title="Plate tectonics">plate tectonics</a>. Earth formed <a href="https://en.wikipedia.org/wiki/Age_of_Earth" title="Age of Earth">more than 4.5&#160;billion years ago</a>. Within the first billion years of <a href="https://en.wikipedia.org/wiki/History_of_Earth" title="History of Earth">Earth\'s history</a>, <a href="https://en.wikipedia.org/wiki/Abiogenesis" title="Abiogenesis">life appeared in the oceans</a> and began to affect <a href="https://en.wikipedia.org/wiki/Atmosphere_of_Earth" title="Atmosphere of Earth">Earth\'s atmosphere</a> and surface. Since then, the combination of Earth\'s distance from the Sun, its physical properties and <a href="https://en.wikipedia.org/wiki/Geological_history_of_Earth" title="Geological history of Earth">its geological history</a> have allowed life to <a href="https://en.wikipedia.org/wiki/Evolution" title="Evolution">evolve</a> and thrive, including <a href="https://en.wikipedia.org/wiki/World_population" title="World population">more than 8&#160;billion humans</a> as of 2024. Earth is orbited by one permanent natural satellite, the <a href="https://en.wikipedia.org/wiki/Moon" title="Moon">Moon</a>, which <a href="https://en.wikipedia.org/wiki/Orbit_of_the_Moon" title="Orbit of the Moon">orbits Earth</a> at a radius of 384,400&#160;km (238,900&#160;mi) and is roughly a quarter as wide as Earth. This photograph of Earth straddling the lunar horizon was taken in 2015 by <a href="https://en.wikipedia.org/wiki/NASA" title="NASA">NASA</a>\'s <a href="https://en.wikipedia.org/wiki/Lunar_Reconnaissance_Orbiter" title="Lunar Reconnaissance Orbiter">Lunar Reconnaissance Orbiter</a> while located 134&#160;km (83&#160;mi) above the crater <a href="https://en.wikipedia.org/wiki/Compton_(crater)" title="Compton (crater)">Compton</a>, visible in the foreground. To capture the image, the spacecraft had to be rolled 67 degrees to its side, and slewed with the direction of travel to maximize the width of the lunar horizon, while traveling more than 1600&#160;m/s (3600&#160;mph) relative to the surface.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/NASA" title="NASA">NASA</a> / <a href="https://en.wikipedia.org/wiki/Goddard_Space_Flight_Center" title="Goddard Space Flight Center">Goddard Space Flight Center</a> / <a href="https://en.wikipedia.org/wiki/Arizona_State_University" title="Arizona State University">Arizona State University</a>; edited by <a href="https://en.wikipedia.org/wiki/User:Bammesk" title="User:Bammesk">Bammesk</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1735711200,"duration":10800,"svcId":560,"evtId":30246,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":false},{"name":"The Croods: A New Age","description":"Fighting Stone Age family the Croods crash into the civilised sanctuary of the Bettermans. [2020] [S] [HD]","startTime":1735722000,"duration":5400,"svcId":560,"evtId":30247,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gy7d2s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735727388,"availabilityEnd":1738319388,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tw4m\u0026ui_id=4.0.0"}},{"name":"Finding Dory","description":"When Dory suddenly remembers her parents, it triggers a voyage across the ocean to find them, accompanied by Marlin and Nemo. [2016] [S,AD] [HD]","startTime":1735727400,"duration":5400,"svcId":560,"evtId":30248,"image":"\/ms\/img\/epg\/rb\/ae0c-p07yhbmq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735732775,"availabilityEnd":1738324775,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000cslz\u0026ui_id=4.0.0"}},{"name":"Penguins: Meet the Family","description":"A unique celebration of one of Earth\u0027s most iconic birds, featuring all 18 species in footage from New Zealand, Cape Town, the Galapagos Islands and Antarctica. [S,AD] [HD]","startTime":1735732800,"duration":3600,"svcId":560,"evtId":30249,"image":"\/ms\/img\/epg\/rb\/fec6-p090j0b6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735736403,"availabilityEnd":1738328403,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000qqsj\u0026ui_id=4.0.0"}},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1735736400,"duration":1800,"svcId":560,"evtId":30250,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735737720,"availabilityEnd":1735824120,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026f82\u0026ui_id=4.0.0"},"episodeNo":198},{"name":"Tabby McTat","description":"An animated special for all the family about Tabby McTat, based on the picture book written by Julia Donaldson and illustrated by Axel Scheffler. [S,AD] [HD]","startTime":1735738200,"duration":1500,"svcId":560,"evtId":30252,"image":"\/ms\/img\/epg\/rb\/fec6-p0gytbw9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735106400,"availabilityEnd":1892008740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tvvw\u0026ui_id=4.0.0"}},{"name":"Wallace \u0026 Gromit: Vengeance...","description":"...Most Fowl. Wallace invents a \u0027smart gnome\u0027 that has a mind of its own - or does it? [2024] [S,AD] [HD]","startTime":1735739700,"duration":4800,"svcId":560,"evtId":30253,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kdz9r9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735155027,"availabilityEnd":1766691027,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0022179\u0026ui_id=4.0.0"}},{"name":"Mary Poppins","description":"Musical comedy. London banker George Banks\u0027s search for the perfect nanny for his two naughty children brings the magical Mary Poppins (Julie Andrews) into their lives. [1964] [S,AD] [HD]","startTime":1735744500,"duration":8100,"svcId":560,"evtId":30254,"image":"\/ms\/img\/epg\/rb\/fec6-p0b3d957.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735752595,"availabilityEnd":1738344595,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b007bs5v\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1735752600,"duration":1200,"svcId":560,"evtId":30255,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735753800,"availabilityEnd":1735840200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026f86\u0026ui_id=4.0.0"},"episodeNo":198},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1735753800,"duration":600,"svcId":560,"evtId":30257,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735754280,"availabilityEnd":1735840680,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026f88\u0026ui_id=4.0.0"},"episodeNo":276},{"name":"Gladiators: Celebrity Special","description":"Bradley and Barney Walsh host a special edition of the iconic series which sees celebrities Rob Beckett, Joel Dommett, Louise Minchin and Ellie Taylor take on the Gladiators. [S,AD] [HD]","startTime":1735754400,"duration":3600,"svcId":560,"evtId":30259,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbljlk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735758071,"availabilityEnd":1774806540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026f8b\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Gavin \u0026 Stacey: A Fond Farewell","description":"From a little-known show to a sitcom that captured the nation\u0027s heart - James Corden, Ruth Jones, cast and crew share their memories as we say goodbye to Barry and Billericay. [S,AD] [HD]","startTime":1735758000,"duration":3600,"svcId":560,"evtId":30261,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kdscwh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735761548,"availabilityEnd":2051294400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0026d9p\u0026ui_id=4.0.0"},"episodeNo":9},{"name":"The Traitors","description":"1\/12. A group of strangers play the ultimate game of detection, back-stabbing and trust. [S,AD] [HD]","startTime":1735761600,"duration":3600,"svcId":560,"evtId":30263,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kfslgg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735765386,"availabilityEnd":1895464740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025ydk\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":1},{"name":"SAS Rogue Heroes","description":"1\/6. With a new mission and the threat of disbandment facing the SAS, an ally is found with a familiar name. Contains very strong language, some violence and some upsetting scenes. [S,AD] [HD]","startTime":1735765200,"duration":3600,"svcId":560,"evtId":30265,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbtn9p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735711200,"availabilityEnd":1893477600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025ydc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"EastEnders","description":"The Square prepares for a big event, and Freddie unknowingly stirs up trouble. [S,AD] [HD]","startTime":1735768800,"duration":1800,"svcId":560,"evtId":30267,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kfyt6j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735770621,"availabilityEnd":1806469200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026f8f\u0026ui_id=4.0.0"},"episodeNo":7042},{"name":"Mrs Brown\u0027s Boys New Year\u0027s...","description":"...Special. 2\/2. Agnes turns her spare room into a B\u0026B, but there\u0027s an escaped dangerous criminal on the loose in Finglas - what could possibly go wrong? Contains some strong language. [S,AD] [HD]","startTime":1735770600,"duration":1800,"svcId":560,"evtId":30269,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbs83n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735772427,"availabilityEnd":1767308427,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026f8h\u0026ui_id=4.0.0"},"seriesNo":21,"episodeNo":2},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1735772400,"duration":1200,"svcId":560,"evtId":30271,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735773735,"availabilityEnd":1735860135,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026f8l\u0026ui_id=4.0.0"},"episodeNo":198},{"name":"Michael McIntyre\u0027s 25th Year...","description":"...Stand-Up Special. Michael McIntyre celebrates 25 years of stand-up comedy with a special recording of Macnificent, his latest worldwide sold-out show. [S] [HD]","startTime":1735773600,"duration":3300,"svcId":560,"evtId":30273,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8bxwj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1734212042,"availabilityEnd":1765748042,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00263fz\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1735776900,"duration":300,"svcId":560,"evtId":30275,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735777139,"availabilityEnd":1736386320,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026f8n\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1735777200,"duration":20400,"svcId":560,"evtId":30277,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":276}]},{"channelid":700,"offset":0,"event":[{"name":"40 Hidden Music Treasures at...","description":"...the BBC. Expect the unexpected on this journey through the BBC\u0027s magical music archives, a Top 40 with a difference. [S] [HD]","startTime":1735695600,"duration":9000,"svcId":700,"evtId":21949,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jwyrnh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728769932,"availabilityEnd":1760305932,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00240wr\u0026ui_id=4.0.0"}},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1735704600,"duration":6900,"svcId":700,"evtId":21950,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false},{"name":"Stories of Us","description":"6\/8. Ashley meets the people opening up the countryside to those who can\u0027t otherwise visit. [S] [HD]","startTime":1735711500,"duration":3600,"svcId":700,"evtId":21712,"image":"\/ms\/img\/epg\/rb\/fec6-p0kbb8x5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735715267,"availabilityEnd":1738307267,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000mfgy\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"The Repair Shop: Christmas Special","description":"The team repairs five festive items, including a 100-year-old projector that\u0027s part of a family\u0027s Christmas Eve tradition, and two revived puffins bring joy to a group of children. [S,AD,SL] [HD]","startTime":1735715100,"duration":3600,"svcId":700,"evtId":21892,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb1frs.jpg","hasTstv":false,"episodeNo":24},{"name":"Between the Covers","description":"4\/6. Sara is joined by comedians Ed Byrne, Suzi Ruffell and Ahir Shah, as well as author and actor Andi Osho, to share their favourite books and review the book club choices. [S] [HD]","startTime":1735718700,"duration":1800,"svcId":700,"evtId":21893,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gsqv4x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733943600,"availabilityEnd":1765432740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001sx7k\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":4},{"name":"Top Hat","description":"Classic Astaire and Rogers musical. An American in London falls for a girl who flees to Venice because she thinks he is already married. Songs include Cheek to Cheek and Top Hat. [1935] [S] [HD]","startTime":1735720500,"duration":6000,"svcId":700,"evtId":21894,"image":"\/ms\/img\/epg\/rb\/ae0c-p08cf089.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1589788800,"availabilityEnd":2177398800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0074r4k\u0026ui_id=4.0.0"}},{"name":"New Year\u0027s Day Concert Live...","description":"...from Vienna 2025. Live from Vienna, Petroc Trelawny presents a concert marking a year of celebration commemorating the 200th anniversary of Johann Strauss II\u0027s birth. [S] [HD]","startTime":1735726500,"duration":9000,"svcId":700,"evtId":21895,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kcd57n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735735555,"availabilityEnd":1767271555,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026dd0\u0026ui_id=4.0.0"}},{"name":"Bargain Hunt","description":"Today\u0027s show comes to you from the Southwell Racecourse Antiques Fair in Nottinghamshire. Presenter Eric Knowles and experts Gary Pe and David Harper help to guide the way. [S] [HD]","startTime":1735735500,"duration":1800,"svcId":700,"evtId":21896,"image":"\/ms\/img\/epg\/rb\/ae0c-p065x7z6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735737366,"availabilityEnd":1738329366,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001s096\u0026ui_id=4.0.0"},"seriesNo":53},{"name":"The Searchers","description":"Believing the Comanche have abducted his niece, embittered Ethan sets out to save her. [1956] [S] [HD]","startTime":1735737300,"duration":6900,"svcId":700,"evtId":21897,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b0k64y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735744274,"availabilityEnd":1738336274,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000n7c3\u0026ui_id=4.0.0"}},{"name":"The Man Who Would Be King","description":"Colourful, historical epic in which two British soldiers (Sean Connery and Michael Caine) in colonial India venture to uncharted realms in search of wealth and power. [S] [HD]","startTime":1735744200,"duration":7500,"svcId":700,"evtId":21898,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k5s4km.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735751754,"availabilityEnd":1738343754,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b00j275m\u0026ui_id=4.0.0"}},{"name":"Expedition Killer Whale","description":"A team of scientists and filmmakers heads to Antarctica to study the most sophisticated hunts in the animal kingdom - killer whales making waves to wash seals off floating ice. [S,AD] [HD]","startTime":1735751700,"duration":3600,"svcId":700,"evtId":21899,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k95cbs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735239648,"availabilityEnd":1766775648,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026dd3\u0026ui_id=4.0.0"}},{"name":"Flog It!","description":"27\/60. At Glemham Hall in Suffolk, James Lewis uncovers a copy of a Raphael painting saved by a refugee from Hitler\u0027s Germany, and David Fletcher spots a rare flintlock pistol. [S] [HD]","startTime":1735755300,"duration":2700,"svcId":700,"evtId":21900,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735757989,"availabilityEnd":1738349989,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00031xw\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":27},{"name":"Richard Osman\u0027s Festive House...","description":"...of Games. 8\/10. Desiree Burch, Gareth Malone, Jennie McAlpine and Jon Richardson test their general knowledge skills for a special festive show in Richard Osman\u0027s Festive House of Games. [S] [HD]","startTime":1735758000,"duration":1800,"svcId":700,"evtId":21901,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb1xkt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735759799,"availabilityEnd":1767468616,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026dd5\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":8},{"name":"Celebrity Mastermind","description":"8\/14. Clive Myrie asks the questions as Bill Fellows, Ruby Bhogal, Tori Allen-Martin and Matt Forde go under the spotlight in the celebrity version of the classic quiz. [S] [HD]","startTime":1735759800,"duration":1800,"svcId":700,"evtId":21902,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbd9zd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735761620,"availabilityEnd":1769543941,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026dd7\u0026ui_id=4.0.0"},"seriesNo":19,"episodeNo":8},{"name":"Only Connect: Sounds Special","description":"7\/8. Two teams from previous series return, but there\u0027s a twist to the format. [S] [HD]","startTime":1735761600,"duration":1800,"svcId":700,"evtId":21903,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb9z1t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735763451,"availabilityEnd":1767385817,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026dd9\u0026ui_id=4.0.0"},"seriesNo":34,"episodeNo":7},{"name":"Christmas University Challenge","description":"8\/10. It\u0027s the first semi-final, and two of the highest-scoring winning teams from the heats return to play again. Amol Rajan asks the questions. [S] [HD]","startTime":1735763400,"duration":1800,"svcId":700,"evtId":21904,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9dlbx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735765282,"availabilityEnd":1767474048,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026ddc\u0026ui_id=4.0.0"},"seriesNo":2028,"episodeNo":8},{"name":"The Traitors: Uncloaked","description":"1\/12. Ed Gamble unpacks all the drama from the first episode of the new series of The Traitors, going inside the castle with exclusive access to the banished and murdered. [S,AD] [HD]","startTime":1735765200,"duration":1800,"svcId":700,"evtId":21905,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kfslkw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735767090,"availabilityEnd":1895464740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026ddf\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"Inside No 9: The 12 Days of...","description":"...Christine. 2\/6. Christine brings a new man back to her flat from a party, and her life starts to unravel. Contains some strong language. [S,AD] [HD]","startTime":1735767000,"duration":1800,"svcId":700,"evtId":21906,"image":"\/ms\/img\/epg\/rb\/ae0c-p04xn9k1.jpg","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"The Untouchables","description":"A federal agent forms a small, hand-picked team to bring down Chicago gangster Al Capone. Contains strong language and some violent scenes. [1987] [S] [HD]","startTime":1735768800,"duration":6900,"svcId":700,"evtId":21907,"image":"\/ms\/img\/epg\/rb\/ae0c-p090829n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735775805,"availabilityEnd":1738367805,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qdxk\u0026ui_id=4.0.0"}},{"name":"La La Land","description":"Award-winning musical. An aspiring actress and a dedicated jazz musician fall in love in modern-day Los Angeles. Starring Emma Stone and Ryan Gosling. Contains some strong language. [S,AD] [HD]","startTime":1735775700,"duration":7200,"svcId":700,"evtId":21908,"image":"\/ms\/img\/epg\/rb\/ae0c-p07k2z7y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735782922,"availabilityEnd":1738374922,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000309g\u0026ui_id=4.0.0"}},{"name":"From Roger Moore with Love","description":"Friends, family and co-stars share memories of legendary British icon Roger Moore. Contains some strong language. [S,AD,SL] [HD]","startTime":1735782900,"duration":4800,"svcId":700,"evtId":21909,"image":"\/ms\/img\/epg\/rb\/fec6-p0kdzmk3.jpg","hasTstv":false},{"name":"Clive Myrie\u0027s Caribbean Treasures","description":"4\/6. Clive takes a morning swim with racehorses in Barbados, builds water rafts in a Cuban forest, and then in Jamaica, he heads to the Blue Mountains to find some very special coffee. [S,SL] [HD]","startTime":1735787700,"duration":3600,"svcId":700,"evtId":21910,"image":"\/ms\/img\/epg\/rb\/fec6-p0k5tzxw.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

console.log('Error in backlog module: Sorry, we couldn’t find C:\Users\Robson\Google Drive\#MessyFolders\Everything\Everything.xlsb. Is it possible that it was moved, renamed or deleted?');

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'mGFLlEALh8U', title: "Yorkshire Pudding Tricks No One Talks About", label: "Yorkshire Pudding Tricks No One Talks About by Ben Goshawk 583,708 views 3 weeks ago 11 minutes, 48 seconds" },
{ id: 'sgKy2nBxY3Q', title: "How I Make Incredible Braised Red Cabbage", label: "How I Make Incredible Braised Red Cabbage by Ben Goshawk 153,483 views 2 weeks ago 6 minutes, 27 seconds" },
{ id: 'meHfrktmvIo', title: "3 Simple Tricks To Improve Your Roasted Carrots", label: "3 Simple Tricks To Improve Your Roasted Carrots by Ben Goshawk 220,981 views 2 weeks ago 8 minutes, 3 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in media module: Sorry, we couldn’t find C:\Users\Robson\Google Drive\#MessyFolders\Everything\Everything.xlsb. Is it possible that it was moved, renamed or deleted?');

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 227.21, tooltip: "Tue, Dec 31, 2024<br/>£227.21"},
{ number: 228.01, tooltip: "Mon, Dec 30, 2024<br/>£228.01"},
{ number: 228.76, tooltip: "Fri, Dec 27, 2024<br/>£228.76"},
{ number: 230.58, tooltip: "Tue, Dec 24, 2024<br/>£230.58"},
{ number: 229.20, tooltip: "Mon, Dec 23, 2024<br/>£229.20"},
{ number: 227.51, tooltip: "Fri, Dec 20, 2024<br/>£227.51"},
{ number: 226.11, tooltip: "Thu, Dec 19, 2024<br/>£226.11"},
{ number: 225.27, tooltip: "Wed, Dec 18, 2024<br/>£225.27"},
{ number: 229.87, tooltip: "Tue, Dec 17, 2024<br/>£229.87"},
{ number: 231.35, tooltip: "Mon, Dec 16, 2024<br/>£231.35"},
{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>£231.64"},
{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>£230.42"},
{ number: 230.46, tooltip: "Mon, Dec 09, 2024<br/>£230.46"},
{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Dec 31, 2024",
		"vs Day":      "Mon, Dec 30, 2024",
		"vs Week":     "Fri, Dec 20, 2024",
		"vs Month":    "Mon, Dec 02, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£227.21/share",
		'vs Day':      "-0.35%",
		'vs Week':     "-0.13%",
		'vs Month':    "-2.10%",
		'vs Year':     "+17.98%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '4.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-crescent.html" title="Waxing Crescent on the night between 1 January and 2 January">Waxing Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.049&p=5.521&r=5.389',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:15',
		Set:      '16:04',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To rejuvenate a person, parts of the body, etc., is to make them feel young, healthy, or energetic again. To rejuvenate something abstract, such as an economy or career, is to give it new strength or energy.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>