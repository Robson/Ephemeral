<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:44 10-May - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Briton pleads guilty in US to 2020 Twitter hack</b><br/>It was probably the most high-profile hack in social media history, hitting dozens of famous accounts." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65540901?at_medium=RSS&amp;at_campaign=KARANGA">Briton pleads guilty in US to 2020 Twitter hack</a></li><li class="ttt" data-tt="<b>Jermaine Cools: Teenager detained for murder of boy, 14</b><br/>Marques Walker is ordered to serve a minimum of 19 years for killing Jermaine Cools."><a href="https://www.bbc.co.uk/news/uk-england-london-65531483?at_medium=RSS&amp;at_campaign=KARANGA">Jermaine Cools: Teenager detained for murder of boy, 14</a></li><li class="ttt" data-tt="<b>Met chief Mark Rowley defends officers over Coronation arrests</b><br/>Sir Mark Rowley said it was &quot;unfortunate&quot; those who were arrested were unable to protest, but he supported officers."><a href="https://www.bbc.co.uk/news/uk-65537069?at_medium=RSS&amp;at_campaign=KARANGA">Met chief Mark Rowley defends officers over Coronation arrests</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65540901?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/12A00/production/_128688267_2733fa46-ee9d-4308-be8e-aaa392708a2b.jpg" class="ttt" data-tt="A photo illustration shows a range of celebrities - Kim Kardashian, Joe Biden, Elon Musk, Barack Obama, Kanye West, and Jeff Bezos - arrayed around a shattered glass image with the Twitter logo at its centre" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>E Jean Carroll: Jury finds Trump sexually abused writer in NY department store</b><br/>It is the first time Mr Trump has been found legally responsible for a sexual assault." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65531098?at_medium=RSS&amp;at_campaign=KARANGA">E Jean Carroll: Jury finds Trump sexually abused writer in NY department store</a></li><li class="ttt" data-tt="<b>Texas mall shooting: \'Neo-Nazi\' Texas gunman opened fire at random - police</b><br/>Despite his extremist beliefs, the suspect opened fire with no regard for their race or sex, police say."><a href="https://www.bbc.co.uk/news/world-us-canada-65540412?at_medium=RSS&amp;at_campaign=KARANGA">Texas mall shooting: \'Neo-Nazi\' Texas gunman opened fire at random - police</a></li><li class="ttt" data-tt="<b>Briton pleads guilty in US to 2020 Twitter hack</b><br/>It was probably the most high-profile hack in social media history, hitting dozens of famous accounts."><a href="https://www.bbc.co.uk/news/technology-65540901?at_medium=RSS&amp;at_campaign=KARANGA">Briton pleads guilty in US to 2020 Twitter hack</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65531098?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/070D/production/_129650810_gettyimages-1253352897.jpg" class="ttt" data-tt="Ms Carroll smiled to reporters as she left the courthouse" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>E Jean Carroll: Jury finds Trump sexually abused writer in NY department store</b><br/>It is the first time Mr Trump has been found legally responsible for a sexual assault." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65531098?at_medium=RSS&amp;at_campaign=KARANGA">E Jean Carroll: Jury finds Trump sexually abused writer in NY department store</a></li><li class="ttt" data-tt="<b>Briton pleads guilty in US to 2020 Twitter hack</b><br/>It was probably the most high-profile hack in social media history, hitting dozens of famous accounts."><a href="https://www.bbc.co.uk/news/technology-65540901?at_medium=RSS&amp;at_campaign=KARANGA">Briton pleads guilty in US to 2020 Twitter hack</a></li><li class="ttt" data-tt="<b>Russia\'s future rests on Ukraine war, Putin tells Victory Day parade</b><br/>The defiant president praises his troops as Russia\'s military might is displayed in Moscow\'s Red Square."><a href="https://www.bbc.co.uk/news/world-europe-65532088?at_medium=RSS&amp;at_campaign=KARANGA">Russia\'s future rests on Ukraine war, Putin tells Victory Day parade</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65531098?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/070D/production/_129650810_gettyimages-1253352897.jpg" class="ttt" data-tt="Ms Carroll smiled to reporters as she left the courthouse" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Charles Leclerc says Ferrari \'struggling like crazy\' with car</b><br/>Ferrari driver Charles Leclerc says it is &quot;incredibly difficult to be on the limit&quot; with the team\'s car after a disappointing Miami GP." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65527601?at_medium=RSS&amp;at_campaign=KARANGA">Charles Leclerc says Ferrari \'struggling like crazy\' with car</a></li><li class="ttt" data-tt="<b>Miami Grand Prix: Max Verstappen\'s statement win underlines superiority over Sergio Perez</b><br/>Max Verstappen\'s victory in the Miami was an emphatic statement of his superiority over Red Bull team-mate Sergio Perez, writes Andrew Benson."><a href="https://www.bbc.co.uk/sport/formula1/65522015?at_medium=RSS&amp;at_campaign=KARANGA">Miami Grand Prix: Max Verstappen\'s statement win underlines superiority ov...</a></li><li class="ttt" data-tt="<b>Miami Grand Prix: Max Verstappen wins from ninth on grid to extend championship lead</b><br/>Red Bull\'s Max Verstappen carves through the field to win the Miami Grand Prix from ninth on the grid."><a href="https://www.bbc.co.uk/sport/formula1/65521789?at_medium=RSS&amp;at_campaign=KARANGA">Miami Grand Prix: Max Verstappen wins from ninth on grid to extend champion...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65527601?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/C597/production/_129638505_leclerc.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Briton pleads guilty in US to 2020 Twitter hack</b><br/>It was probably the most high-profile hack in social media history, hitting dozens of famous accounts." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65540901?at_medium=RSS&amp;at_campaign=KARANGA">Briton pleads guilty in US to 2020 Twitter hack</a></li><li class="ttt" data-tt="<b>Children\'s commissioner: Pornography affecting 8-year-olds\' behaviour</b><br/>Schools need to improve education and parents to set boundaries, the children\'s commissioner says."><a href="https://www.bbc.co.uk/news/technology-65534354?at_medium=RSS&amp;at_campaign=KARANGA">Children\'s commissioner: Pornography affecting 8-year-olds\' behaviour</a></li><li class="ttt" data-tt="<b>Twitter plans to remove and archive inactive accounts</b><br/>Chief executive Elon Musk said the move was important to make more Twitter usernames available."><a href="https://www.bbc.co.uk/news/technology-65533014?at_medium=RSS&amp;at_campaign=KARANGA">Twitter plans to remove and archive inactive accounts</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65540901?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/12A00/production/_128688267_2733fa46-ee9d-4308-be8e-aaa392708a2b.jpg" class="ttt" data-tt="A photo illustration shows a range of celebrities - Kim Kardashian, Joe Biden, Elon Musk, Barack Obama, Kanye West, and Jeff Bezos - arrayed around a shattered glass image with the Twitter logo at its centre" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"8 May – 14 May","date":16836768E5,"ts":"Wed, 10","ds":"Wed, 10 May","icon":33,"desc":"Showers late. Mostly cloudy.","temp":15,"templow":7,"cf":14,"wind":11,"wd":270,"hum":67,"pc":23,"rain":2},{"date":16837632E5,"ts":"Thu, 11","ds":"Thu, 11 May","icon":21,"desc":"A few tstorms. Partly cloudy.","temp":14,"templow":7,"cf":14,"wind":4,"wd":340,"hum":72,"pc":78,"rain":4.3 },{"date":16838496E5,"ts":"Fri, 12","ds":"Fri, 12 May","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":14,"templow":7,"cf":12,"wind":12,"wd":20,"hum":80,"pc":57,"rain":1.5 },{"date":1683936E6,"ts":"Sat, 13","ds":"Sat, 13 May","icon":7,"desc":"Cloudy.","temp":17,"templow":9,"cf":16,"wind":7,"wd":10,"hum":75,"pc":52,"rain":0.7 },{"date":16840224E5,"ts":"Sun, 14","ds":"Sun, 14 May","icon":33,"desc":"Passing showers. Overcast.","temp":16,"templow":10,"cf":16,"wind":9,"wd":250,"hum":76,"pc":58,"rain":5.3 },{"hl":true,"hls":"15 May – 21 May","date":16841088E5,"ts":"Mon, 15","ds":"Mon, 15 May","icon":33,"desc":"Passing showers. Overcast.","temp":10,"templow":7,"cf":6,"wind":19,"wd":350,"hum":86,"pc":64,"rain":5.7 },{"date":16841952E5,"ts":"Tue, 16","ds":"Tue, 16 May","icon":4,"desc":"Partly cloudy.","temp":12,"templow":6,"cf":9,"wind":13,"wd":20,"hum":68,"pc":50,"rain":0.1 },{"date":16842816E5,"ts":"Wed, 17","ds":"Wed, 17 May","icon":4,"desc":"Breaks of sun late.","temp":14,"templow":6,"cf":12,"wind":14,"wd":0,"hum":56,"pc":6},{"date":1684368E6,"ts":"Thu, 18","ds":"Thu, 18 May","icon":4,"desc":"Afternoon clouds.","temp":15,"templow":6,"cf":14,"wind":8,"wd":10,"hum":52,"pc":5},{"date":16844544E5,"ts":"Fri, 19","ds":"Fri, 19 May","icon":21,"desc":"Isolated tstorms. Breaks of sun late.","temp":14,"templow":7,"cf":12,"wind":14,"wd":340,"hum":69,"pc":47,"rain":0.8 },{"date":16845408E5,"ts":"Sat, 20","ds":"Sat, 20 May","icon":19,"desc":"Rain. Overcast.","temp":12,"templow":8,"cf":9,"wind":11,"wd":50,"hum":90,"pc":71,"rain":8.3 },{"date":16846272E5,"ts":"Sun, 21","ds":"Sun, 21 May","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":13,"templow":6,"cf":10,"wind":11,"wd":0,"hum":92,"pc":43,"rain":0.9 },{"hl":true,"hls":"22 May – 28 May","date":16847136E5,"ts":"Mon, 22","ds":"Mon, 22 May","icon":18,"desc":"Sprinkles early. Cloudy.","temp":14,"templow":7,"cf":12,"wind":11,"wd":310,"hum":87,"pc":47,"rain":0.5 },{"date":16848E8,"ts":"Tue, 23","ds":"Tue, 23 May","icon":6,"desc":"Mostly cloudy.","temp":14,"templow":7,"cf":12,"wind":10,"wd":270,"hum":57,"pc":6},{"date":16848864E5,"ts":"Wed, 24","ds":"Wed, 24 May","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":15,"templow":8,"cf":14,"wind":5,"wd":320,"hum":67,"pc":50,"rain":0.7 }],"grid":{"temp":{"low":6,"high":17,"range":11},"prec":{"high":8.3},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2305/ColorsShadows_Pace_960.jpg',
		Title:     'Shadows of Earth',
		LinkImage: 'https://apod.nasa.gov/apod/image/2305/ColorsShadows_Pace_1280.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230509.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/President%27s_Summer_home%2C_Rio_Negro_Palace%2C_Petr%C3%B3polis%2C_Rio_de_Janeiro.jpg/550px-President%27s_Summer_home%2C_Rio_Negro_Palace%2C_Petr%C3%B3polis%2C_Rio_de_Janeiro.jpg',
		Title:    'Palácio Rio Negro',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Pal%C3%A1cio_Rio_Negro',
		Description: '    The <b><a href="/wiki/Pal%C3%A1cio_Rio_Negro" title="Palácio Rio Negro">Palácio Rio Negro</a></b> is a palace in <a href="/wiki/Petr%C3%B3polis" title="Petrópolis">Petrópolis</a> in the state of <a href="/wiki/Rio_de_Janeiro_(state)" title="Rio de Janeiro (state)">Rio de Janeiro</a>, Brazil. One of the official residences of the <a href="/wiki/President_of_Brazil" title="President of Brazil">president of Brazil</a>, it is used mainly as a country retreat. The palace was designed by the Italian architect Antonio Jannuzzi in 1889 and built in the same year as a summer residence for Manuel Gomes de Carvalho, Baron of Rio Negro. He moved to Paris in 1894, leaving the building empty, and in February&#160;1896 the palace and adjacent buildings were sold to the state of Rio de Janeiro to serve as the official residence of the state governor. It was then acquired by the <a href="/wiki/Federal_government_of_Brazil" title="Federal government of Brazil">federal government of Brazil</a> in 1903, becoming the official presidential summer residence. This photograph depicts the façade of the Palácio Rio Negro in 2015.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:Wilfredor" title="User:Wilfredor">Wilfredor</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1683687300,"duration":10200,"svcId":700,"evtId":6712,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Bargain Hunt","description":"Charlie Ross presents today\u0027s show from Shepton Mallet in Somerset. Experts Colin Young and Kate Bliss help the Reds and Blues as they shop for antiques to sell for a profit. [S,AD] [HD]","startTime":1683697500,"duration":2700,"svcId":700,"evtId":6734,"image":"\/ms\/img\/epg\/rb\/8df1-p0fkzhs3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1683547200,"availabilityEnd":1715083200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ltb4\u0026ui_id=4.0.0"},"seriesNo":64},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"7\/15. Clive makes a wriggly catch on a fishing expedition across Europe\u0027s biggest volcanic lake and discovers how scientists are fighting to save an ancient citadel from destruction. [S] [HD]","startTime":1683700200,"duration":1800,"svcId":700,"evtId":6735,"image":"\/ms\/img\/epg\/rb\/8df1-p0fk2hk4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682962225,"availabilityEnd":1840815000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdrp67\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"24\/7 Pet Hospital","description":"9\/10. A puppy needs help swallowing, while another pup has broken his leg falling off a bed. And a new scanning technique helps check if a labradoodle is cancer-free. [S,AD,SL] [HD]","startTime":1683702000,"duration":1800,"svcId":700,"evtId":6736,"image":"\/ms\/img\/epg\/rb\/8df1-p0f1lcjw.jpg","hasTstv":false,"seriesNo":1,"episodeNo":9},{"name":"Take a Hike","description":"14\/15. Te fourth walk is hosted by fitness fanatic Zara, who takes the group up, and down, the Great Orme. Will her adventure-packed hike put her one step ahead? [S,SL] [HD]","startTime":1683703800,"duration":1800,"svcId":700,"evtId":6737,"image":"\/ms\/img\/epg\/rb\/8df1-p0dvxv8b.jpg","hasTstv":false,"seriesNo":2,"episodeNo":14},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1683705600,"duration":7200,"svcId":700,"evtId":6738,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false,"episodeNo":28},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1683712800,"duration":900,"svcId":700,"evtId":6739,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1683713700,"duration":6300,"svcId":700,"evtId":6740,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Impossible","description":"13\/20. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1683720000,"duration":2700,"svcId":700,"evtId":6741,"image":"\/ms\/img\/epg\/rb\/8df1-p06q68c1.jpg","hasTstv":false,"seriesNo":5,"episodeNo":13},{"name":"Eggheads","description":"Jeremy Vine hosts the show where every day a new team of challengers take on probably the greatest quiz team in Britain. [S] [HD]","startTime":1683722700,"duration":1800,"svcId":700,"evtId":6742,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":20,"episodeNo":79},{"name":"My Million Pound Menu","description":"4\/6. Restaurant concepts seek investment to launch their brand. Fred Sirieix welcomes a soul food-inspired takeaway and a vegan Thai grab-and-go idea. [S,AD] [HD]","startTime":1683724500,"duration":3600,"svcId":700,"evtId":6743,"image":"\/ms\/img\/epg\/rb\/8df1-p068r85h.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Wonders of the Universe","description":"Professor Brian Cox explores the laws of the universe. In this episode, he seeks to answer the biggest questions of all - what are we and where do we come from? [S,AD] [HD]","startTime":1683728100,"duration":3600,"svcId":700,"evtId":6744,"image":"\/ms\/img\/epg\/rb\/8df1-p08s46n7.jpg","hasTstv":false,"episodeNo":2},{"name":"The Great British Sewing Bee","description":"8\/10. The quarter-finalists go back to the 1930s to make women\u0027s sailor trousers. They also turn men\u0027s shirts into 1930s blouses and fit glamorous bias-cut evening gowns. [S,AD] [HD]","startTime":1683731700,"duration":3600,"svcId":700,"evtId":6745,"image":"\/ms\/img\/epg\/rb\/8df1-p0ccjrd5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1657070192,"availabilityEnd":1688606192,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0018bf6\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":8},{"name":"Flog It!","description":"10\/60. Antiques series. Paul Martin is joined by experts Mark Stacey and Philip Serrell at Stockport Town Hall in Greater Manchester. Philip spies a collection of war diaries. [S] [HD]","startTime":1683735300,"duration":2700,"svcId":700,"evtId":6746,"image":"\/ms\/img\/epg\/rb\/8df1-p0fl5r2h.jpg","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"Richard Osman\u0027s House of Games","description":"53\/140. Sean Fletcher, Louise Minchin, Chris Washington and Kimberly Wyatt test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1683738000,"duration":1800,"svcId":700,"evtId":6747,"image":"\/ms\/img\/epg\/rb\/8df1-p09z6wjz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1635355800,"availabilityEnd":1666891800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00110zr\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":53},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"8\/15. Getting off the tourist track, Clive tries his hand at Italy\u0027s fastest growing sport, stays in the city\u0027s most unusual hotel, and gives an ancient Roman art form a personal spin. [S] [HD]","startTime":1683739800,"duration":1800,"svcId":700,"evtId":6748,"image":"\/ms\/img\/epg\/rb\/8df1-p0fk2kg7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682962225,"availabilityEnd":1840815000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdrpw6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":8},{"name":"Hairy Bikers\u0027 Mediterranean...","description":"...Adventure. 5\/6. The bikers are visiting two of the Balearic Islands, Minorca and Majorca, where they cook cuttlefish stew and squid salad with mayonnaise and roasted pork with tumbet. [S,AD] [HD]","startTime":1683741600,"duration":3600,"svcId":700,"evtId":6749,"image":"\/ms\/img\/epg\/rb\/8df1-p05wwc62.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1655960400,"availabilityEnd":1971579600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b09qmtvc\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Banjo - Designing the Hebrides","description":"5\/6. The Isle of Mull Rugby Club hire Banjo to redesign their bar. But with little knowledge of the game, how will Banjo\u0027s adventurous design go down with the club? [S,AD] [HD]","startTime":1683745200,"duration":1800,"svcId":700,"evtId":6750,"image":"\/ms\/img\/epg\/rb\/8df1-p0fctzkz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681102800,"availabilityEnd":1712698284,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fcdwl9\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Wales\u0027 Home of the Year","description":"5\/6. The judges visit the south west where they must choose between an Edwardian townhouse, a countryside watermill and a cottage overlooking a Norman castle. [S] [HD]","startTime":1683747000,"duration":1800,"svcId":700,"evtId":6751,"image":"\/ms\/img\/epg\/rb\/8df1-p0cy2cqm.jpg","hasTstv":false,"episodeNo":5},{"name":"Turkey: Empire of Erdogan","description":"2\/2. Erdogan faces a military coup and responds with a brutal crackdown on dissent, taking control of the military and judiciary to become the most powerful president of modern Turkey. [S,AD] [HD]","startTime":1683748800,"duration":3600,"svcId":700,"evtId":6752,"image":"\/ms\/img\/epg\/rb\/8df1-p0fl5klk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1683608400,"availabilityEnd":1715230800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0d9cglx\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Detectorists","description":"4\/6. Lance is obsessed with finding the thief that stole his gold. Contains some strong language. [S,AD] [HD]","startTime":1683752400,"duration":1800,"svcId":700,"evtId":6753,"image":"\/ms\/img\/epg\/rb\/8df1-p05nvncb.jpg","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1683754200,"duration":2400,"svcId":700,"evtId":6754,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1683756600,"duration":300,"svcId":700,"evtId":6755,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Red Joan","description":"Octogenarian Joan Stanley is arrested and accused of having worked as a Soviet spy. Contains some scenes of a sexual nature. [2019] [S] [HD]","startTime":1683756900,"duration":5700,"svcId":700,"evtId":6821,"image":"\/ms\/img\/epg\/rb\/8df1-p09c8bxp.jpg","hasTstv":false},{"name":"Saving Lives in Leeds","description":"6\/8. Surgeon Kostas Papagiannopoulos must investigate a suspicious growth on a patient\u0027s lung. Contains graphic medical scenes. [S,AD,SL] [HD]","startTime":1683762600,"duration":3600,"svcId":700,"evtId":6758,"image":"\/ms\/img\/epg\/rb\/8df1-p0fcf18q.jpg","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Iolo\u0027s Borderlands","description":"1\/4. Iolo Williams explores Monmouthshire. He looks for a rare bee on the Gwent Levels and finds fallow deer in the Wye Valley, as well as a heavily-camouflaged bird near Abergavenny. [S,AD,SL] [HD]","startTime":1683766200,"duration":1800,"svcId":700,"evtId":6759,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Gordon Ramsay\u0027s Future Food Stars","description":"5\/8. Gordon Ramsay tasks his contenders to scale 40-foot-tall trees to collect pines to infuse into Michelin-starred millefeuille. Who will step up? Contains some strong language. [S,AD,SL] [HD]","startTime":1683768000,"duration":3600,"svcId":700,"evtId":6757,"image":"\/ms\/img\/epg\/rb\/8df1-p0fhrg9n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682629200,"availabilityEnd":1716584438,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001ldcd\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1683771600,"duration":11400,"svcId":700,"evtId":6760,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":""}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('362');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('12');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('20');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('62');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('2');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'scNmYjoR-qM', title: "Adipurush (Official Trailer) Hindi | Prabhas | Saif Ali Khan | Kriti Sanon | Om Raut | Bhushan Kumar", label: "Adipurush (Official Trailer) Hindi | Prabhas | Saif Ali Khan | Kriti Sanon | Om Raut | Bhushan Kumar by T-Series 15 hours ago 3 minutes, 19 seconds 38,608,844 views" },
{ id: '4ASgFcZhbIY', title: "The Drink Off VS Jack Whitehall", label: "The Drink Off VS Jack Whitehall by Stephen Tries 1 day ago 22 minutes 390,865 views" },
{ id: '7TwxV5w9GkE', title: "MEG 2: THE TRENCH - OFFICIAL TRAILER", label: "MEG 2: THE TRENCH - OFFICIAL TRAILER by Warner Bros. Pictures 1 day ago 2 minutes, 52 seconds 8,940,276 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/EmiliaRomagna.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Emilia_Romagna_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>21 May</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Knives Out (2019)">Knives Out (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li><li><a href="https://www.google.com/search?q=Games+-+Firewatch">Firewatch</a></li><li><a href="https://www.google.com/search?q=Games+-+Sniper Elite 4">Sniper Elite 4</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S1)">Downton Abbey (S1)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "05 May 2023 -  11 May 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/63953/libianca/'>libianca</a>", Title: "<a href='https://www.officialcharts.com/search/singles/people/'>PEOPLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/416HTM1LzFL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/51369/lewis-capaldi/'>lewis capaldi</a>", Title: "<a href='https://www.officialcharts.com/search/singles/wish-you-the-best/'>WISH YOU THE BEST</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/316-f167OmL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 172.44, tooltip: "Fri, May 05, 2023<br/>£172.44"},
{ number: 170.62, tooltip: "Thu, May 04, 2023<br/>£170.62"},
{ number: 171.92, tooltip: "Wed, May 03, 2023<br/>£171.92"},
{ number: 173.27, tooltip: "Tue, May 02, 2023<br/>£173.27"},
{ number: 173.62, tooltip: "Fri, Apr 28, 2023<br/>£173.62"},
{ number: 173.72, tooltip: "Thu, Apr 27, 2023<br/>£173.72"},
{ number: 171.70, tooltip: "Wed, Apr 26, 2023<br/>£171.70"},
{ number: 173.13, tooltip: "Tue, Apr 25, 2023<br/>£173.13"},
{ number: 174.57, tooltip: "Mon, Apr 24, 2023<br/>£174.57"},
{ number: 175.30, tooltip: "Fri, Apr 21, 2023<br/>£175.30"},
{ number: 174.67, tooltip: "Thu, Apr 20, 2023<br/>£174.67"},
{ number: 175.34, tooltip: "Wed, Apr 19, 2023<br/>£175.34"},
{ number: 176.00, tooltip: "Tue, Apr 18, 2023<br/>£176.00"},
{ number: 176.51, tooltip: "Mon, Apr 17, 2023<br/>£176.51"},
{ number: 175.17, tooltip: "Fri, Apr 14, 2023<br/>£175.17"},
{ number: 174.39, tooltip: "Thu, Apr 13, 2023<br/>£174.39"},
{ number: 173.11, tooltip: "Wed, Apr 12, 2023<br/>£173.11"},
{ number: 173.80, tooltip: "Tue, Apr 11, 2023<br/>£173.80"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, May 05, 2023",
		"vs Day":      "Thu, May 04, 2023",
		"vs Week":     "Thu, Apr 27, 2023",
		"vs Month":    "Tue, Apr 11, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£172.44/share",
		'vs Day':      "+1.07%",
		'vs Week':     "-0.74%",
		'vs Month':    "-0.78%",
		'vs Year':     "+3.57%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '78.5',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 9 May and 10 May">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.785&p=3.678&r=0.464',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:19',
		Set:      '20:46',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Unctuous</em> is a formal word used to describe someone who speaks and behaves in a way that is meant to seem friendly and polite but that is unpleasant because it is obviously not sincere. It can also mean “fatty,” “oily,” and “smooth and greasy in texture or appearance.”</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23Eurovision2023">#Eurovision2023</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23RMAMCI">#RMAMCI</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Madrid">Madrid</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Finland">Finland</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Vini">Vini</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22E.+Jean+Carroll%22">E. Jean Carroll</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22George+Santos%22">George Santos</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Donald+Trump%22">Donald Trump</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Vini">Vini</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Madrid">Madrid</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>