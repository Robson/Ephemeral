<!DOCTYPE html>
<html lang="en">
	<head>
		<title>22:35 11-Jan - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Reeves defends China visit and hails £600m boost to UK</b><br/>The chancellor has been criticised for making the trip while the government is under pressure from rising borrowing costs." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cqx9jggw9ndo">Reeves defends China visit and hails £600m boost to UK</a></li><li class="ttt" data-tt="<b>Search for missing Aberdeen sisters widens to coast</b><br/>Relatives in Hungary urged people not to spread &quot;unfounded rumours&quot; about the  disappearance of Eliza and Henrietta Huszti ."><a href="https://www.bbc.com/news/articles/ckgnj56d1j3o">Search for missing Aberdeen sisters widens to coast</a></li><li class="ttt" data-tt="<b>Lynx dies after being captured in Cairngorms</b><br/>Four of the wild cats have been captured in recent days, after they were illegally released into the Highlands."><a href="https://www.bbc.com/news/articles/cvge40jv4gjo">Lynx dies after being captured in Cairngorms</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cqx9jggw9ndo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/a384/live/2091bfc0-cff3-11ef-87df-d575b9a434a4.jpg" class="ttt" data-tt="UK Chancellor Rachel Reeves dressed in a black jacket and red shirt standing in front of a backdrop of two flags representing China and the UK" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>\'I have nothing to go back to\' - LA fires heartbreak</b><br/>Lucy Sherriff had covered fires before for the BBC - this time one reduced her own home to ash." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c0eweel5zg3o">\'I have nothing to go back to\' - LA fires heartbreak</a></li><li class="ttt" data-tt="<b>Hundreds of California prison inmates fight wildfires - and stigma</b><br/>Critics say using incarcerated men and women to fight fires is cheap labour, but supporters say it is rehabilitative."><a href="https://www.bbc.com/news/articles/c3rwdjwglx2o">Hundreds of California prison inmates fight wildfires - and stigma</a></li><li class="ttt" data-tt="<b>Trump avoids prison or fine in hush-money case sentencing</b><br/>Donald Trump will still take office as the first US president with a felony conviction."><a href="https://www.bbc.com/news/articles/czjdjk1dpplo">Trump avoids prison or fine in hush-money case sentencing</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c0eweel5zg3o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/1194/live/3e5039b0-cecc-11ef-87df-d575b9a434a4.jpg" class="ttt" data-tt="A young women in glasses wearing a mask to protect herself from smoke" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>\'My father should die in prison\', daughter of Dominique Pelicot tells BBC</b><br/>Caroline Darian has become a vocal advocate for victims of sexual violence in the wake of her mother\'s trial." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c2egdp4egl7o">\'My father should die in prison\', daughter of Dominique Pelicot tells BBC</a></li><li class="ttt" data-tt="<b>Dozens injured after Strasbourg tram collision</b><br/>Two trams collide at the French city\'s main train station, a prefecture spokesperson says."><a href="https://www.bbc.com/news/articles/c15z34gjlndo">Dozens injured after Strasbourg tram collision</a></li><li class="ttt" data-tt="<b>Ukraine says it captured two injured North Korean soldiers in Russia</b><br/>President Zelensky says the two men are receiving &quot;necessary medical assistance&quot;."><a href="https://www.bbc.com/news/articles/cjdek713d0xo">Ukraine says it captured two injured North Korean soldiers in Russia</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c2egdp4egl7o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/ced0/live/4f9de350-d03b-11ef-9fd6-0be88a764111.jpg" class="ttt" data-tt="Caroline Darian" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Cowell named Aston Martin team principal</b><br/>Aston Martin\'s new Formula 1 boss Andy Cowell will take on the role of team principal in addition to his position as chief executive officer." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cx2j87dyxwvo">Cowell named Aston Martin team principal</a></li><li class="ttt" data-tt="<b>Colapinto joins Alpine as reserve after Williams release</b><br/>Argentine Franco Colapinto is to be Alpine\'s reserve driver this season after signing a multi-year deal to join the team from Williams."><a href="https://www.bbc.com/sport/formula1/articles/c24n489ny5go">Colapinto joins Alpine as reserve after Williams release</a></li><li class="ttt" data-tt="<b>General Motors sets up new engine company</b><br/>US car company General Motors sets up a new engine company as it gears up for its prospective entry into Formula 1."><a href="https://www.bbc.com/sport/formula1/articles/c0lgl5302z5o">General Motors sets up new engine company</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cx2j87dyxwvo"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/11c5/live/e33b2c50-cf3f-11ef-bfd1-09b4aca181de.jpg" class="ttt" data-tt="Aston Martin chief executive officer Andy Cowell" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>US top court leans towards TikTok ban over security concerns</b><br/>The platform with nearly 170 million American users is challenging a law that would see it banned in the US in a matter of days." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cz9g91gn5ddo">US top court leans towards TikTok ban over security concerns</a></li><li class="ttt" data-tt="<b>Meta and Amazon axe diversity initiatives joining US corporate rollback</b><br/>The companies are among the latest major corporations to alter their diversity programmes since Trump\'s re-election."><a href="https://www.bbc.com/news/articles/cgmy7xpw3pyo">Meta and Amazon axe diversity initiatives joining US corporate rollback</a></li><li class="ttt" data-tt="<b>Politics content to be pushed on all Instagram and Threads users</b><br/>Users will no longer be able to opt out of political content from people they do not follow."><a href="https://www.bbc.com/news/articles/clyjyd0297go">Politics content to be pushed on all Instagram and Threads users</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cz9g91gn5ddo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/f0cc/live/336758c0-cf7c-11ef-8c55-530f22da55eb.jpg" class="ttt" data-tt="Two women holding up phones outside the Supreme Court in Washington DC." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"6 Jan – 12 Jan","date":173664E7,"ts":"Sun, 12","ds":"Sun, 12 Jan","icon":7,"desc":"Cloudy.","temp":5,"templow":-1,"cf":2,"wind":7,"wd":180,"hum":84,"pc":0},{"hl":true,"hls":"13 Jan – 19 Jan","date":17367264E5,"ts":"Mon, 13","ds":"Mon, 13 Jan","icon":7,"desc":"Overcast.","temp":6,"templow":1,"cf":2,"wind":11,"wd":210,"hum":82,"pc":2},{"date":17368128E5,"ts":"Tue, 14","ds":"Tue, 14 Jan","icon":18,"desc":"Sprinkles early. Overcast.","temp":10,"templow":4,"cf":8,"wind":7,"wd":250,"hum":90,"pc":15,"rain":0.4 },{"date":17368992E5,"ts":"Wed, 15","ds":"Wed, 15 Jan","icon":4,"desc":"Morning clouds.","temp":11,"templow":5,"cf":10,"wind":1,"wd":270,"hum":88,"pc":0},{"date":17369856E5,"ts":"Thu, 16","ds":"Thu, 16 Jan","icon":1,"desc":"Sunny.","temp":10,"templow":0,"cf":8,"wind":3,"wd":160,"hum":86,"pc":0},{"date":1737072E6,"ts":"Fri, 17","ds":"Fri, 17 Jan","icon":1,"desc":"Sunny.","temp":7,"templow":0,"cf":4,"wind":7,"wd":160,"hum":85,"pc":0},{"date":17371584E5,"ts":"Sat, 18","ds":"Sat, 18 Jan","icon":1,"desc":"Sunny.","temp":6,"templow":0,"cf":3,"wind":9,"wd":130,"hum":83,"pc":0},{"date":17372448E5,"ts":"Sun, 19","ds":"Sun, 19 Jan","icon":18,"desc":"Sprinkles early. Cloudy.","temp":7,"templow":0,"cf":5,"wind":8,"wd":150,"hum":98,"pc":44,"rain":0.3 },{"hl":true,"hls":"20 Jan – 26 Jan","date":17373312E5,"ts":"Mon, 20","ds":"Mon, 20 Jan","icon":18,"desc":"Sprinkles early. Overcast.","temp":8,"templow":4,"cf":7,"wind":5,"wd":160,"hum":95,"pc":58,"rain":0.8 },{"date":17374176E5,"ts":"Tue, 21","ds":"Tue, 21 Jan","icon":7,"desc":"Overcast.","temp":9,"templow":6,"cf":9,"wind":3,"wd":300,"hum":85,"pc":6},{"date":1737504E6,"ts":"Wed, 22","ds":"Wed, 22 Jan","icon":19,"desc":"Rain. Overcast.","temp":9,"templow":6,"cf":6,"wind":12,"wd":150,"hum":96,"pc":75,"rain":9.2 },{"date":17375904E5,"ts":"Thu, 23","ds":"Thu, 23 Jan","icon":18,"desc":"Sprinkles. Overcast.","temp":9,"templow":6,"cf":6,"wind":19,"wd":170,"hum":90,"pc":54,"rain":2.1 },{"date":17376768E5,"ts":"Fri, 24","ds":"Fri, 24 Jan","icon":7,"desc":"Overcast.","temp":9,"templow":5,"cf":8,"wind":4,"wd":70,"hum":77,"pc":6},{"date":17377632E5,"ts":"Sat, 25","ds":"Sat, 25 Jan","icon":18,"desc":"Sprinkles late. Overcast.","temp":9,"templow":4,"cf":4,"wind":10,"wd":40,"hum":73,"pc":57,"rain":0.6 },{"date":17378496E5,"ts":"Sun, 26","ds":"Sun, 26 Jan","icon":33,"desc":"Rain showers. Overcast.","temp":7,"templow":4,"cf":2,"wind":20,"wd":160,"hum":94,"pc":86,"rain":18.7 }],"grid":{"temp":{"low":-1,"high":11,"range":12},"prec":{"high":18.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2501/PlanetsMoonSilvestriCraterCaptionLD600v1.jpg',
		Title:     'An Evening Sky Full of Planets',
		LinkImage: 'https://apod.nasa.gov/apod/image/2501/PlanetsMoonSilvestriCraterCaptionLD.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap250111.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/5/59/SQM_GE_289A_Boxcab_Carmelita_-_Reverso.jpg/500px-SQM_GE_289A_Boxcab_Carmelita_-_Reverso.jpg',
		Title:    'Tocopilla railway',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Tocopilla_railway',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Tocopilla_railway" title="Tocopilla railway">Tocopilla railway</a></b> was a <a href="https://en.wikipedia.org/wiki/Mountain_railway" title="Mountain railway">mountain railway</a> built to serve the <a href="https://en.wikipedia.org/wiki/Sodium_nitrate" title="Sodium nitrate">sodium nitrate</a> mines in the Toco area of the <a href="https://en.wikipedia.org/wiki/Antofagasta_Region" title="Antofagasta Region">Antofagasta Region</a> in Chile. With a <a href="https://en.wikipedia.org/wiki/3_ft_6_in_gauge_railways" title="3 ft 6 in gauge railways">gauge of 3&#160;ft 6&#160;in</a> (1,067&#160;mm), it ran from the port of <a href="https://en.wikipedia.org/wiki/Tocopilla" title="Tocopilla">Tocopilla</a> on the Pacific coast up to a height of 4,902 feet (1,494 metres), with gradients up to 1 in 24. The railway was built by a joint-stock company founded in <a href="https://en.wikipedia.org/wiki/London" title="London">London</a> and was designed by William Stirling of <a href="https://en.wikipedia.org/wiki/Lima" title="Lima">Lima</a>, with a detailed description of the initial operation of the railway published by his brother Robert in 1900. The line was electrified in the mid-1920s and expanded in 1930 with the addition of lines serving new areas of mining. It continued operating into the 21st century, but was forced to close in 2015 when flash flooding caused numerous washouts on the electrified section of the railroad. With the declining prospects for nitrate, it was not economical for the line to be repaired. This photograph taken in 2013 shows a <a href="https://en.wikipedia.org/wiki/Boxcab" title="Boxcab">boxcab</a> on the Tocopilla railway, leading a train down towards the coast.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Kabelleger" title="User:Kabelleger">David Gubler</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1736575200,"duration":14400,"svcId":560,"evtId":30691,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736589605,"availabilityEnd":1736676005,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x89\u0026ui_id=4.0.0"}},{"name":"Saturday Kitchen Live","description":"Matt Tebbutt is joined by chefs Gennaro Contaldo and Rukmini Iyer, and by special guest Emilia Fox. Drinks expert Helen McGinn picks the wines to go with the studio dishes. [S] [HD]","startTime":1736589600,"duration":5400,"svcId":560,"evtId":30841,"image":"\/ms\/img\/epg\/rb\/ae0c-p08zkqzw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736595000,"availabilityEnd":1768131000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026ywk\u0026ui_id=4.0.0"}},{"name":"Football Focus","description":"Alex Scott and guests look ahead to the weekend\u0027s football, including Sunday\u0027s blockbuster FA Cup third-round clash between Arsenal and Manchester United. [S] [HD]","startTime":1736595000,"duration":2700,"svcId":560,"evtId":30798,"image":"\/ms\/img\/epg\/rb\/fec6-p0jfx2gp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736639940,"availabilityEnd":1737244740,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026y76\u0026ui_id=4.0.0"}},{"name":"Homes Under the Hammer","description":"23\/80. Featuring a large shop and maisonette in Hornsey in London, an end terrace in Coventry and two maisonettes in Folkestone. [S,AD] [HD]","startTime":1736597700,"duration":2700,"svcId":560,"evtId":30692,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch5k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736600344,"availabilityEnd":1739192344,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0018bhh\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":23},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1736600400,"duration":600,"svcId":560,"evtId":30693,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736601120,"availabilityEnd":1736687520,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8c\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1736601000,"duration":300,"svcId":560,"evtId":30694,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736601345,"availabilityEnd":1736687745,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8f\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"Bargain Hunt","description":"Charlie Ross is in Northamptonshire with experts Thomas Forrester and Stephanie Connell, and the teams. Charlie also makes an illuminating stained glass discovery. [S,AD] [HD]","startTime":1736601300,"duration":2700,"svcId":560,"evtId":30695,"image":"\/ms\/img\/epg\/rb\/ae0c-p09pdh41.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736604087,"availabilityEnd":1739196087,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000y2v6\u0026ui_id=4.0.0"},"seriesNo":59},{"name":"Money for Nothing","description":"11\/20. Sarah risks getting her fingers burnt trying to turn candles into cash and opts for multicoloured carrot designs to save the day! [S] [HD]","startTime":1736604000,"duration":1800,"svcId":560,"evtId":30696,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hsk50w.jpg","hasTstv":false,"seriesNo":18,"episodeNo":11},{"name":"Missing Link","description":"Seeking a discovery to make his mark, a Victorian adventurer in the northwest of America instead encounters a creature that needs his help. [2019] [S,AD] [HD]","startTime":1736605800,"duration":5400,"svcId":560,"evtId":30799,"image":"\/ms\/img\/epg\/rb\/ae0c-p09jh15m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736611199,"availabilityEnd":1739203199,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000wp54\u0026ui_id=4.0.0"}},{"name":"Final Score","description":"Jason Mohammad presents all the latest scores, results and reaction from the day\u0027s football fixtures, with the FA Cup third round taking centre stage. [S] [HD]","startTime":1736611200,"duration":4200,"svcId":560,"evtId":30800,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g71c5s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736615475,"availabilityEnd":1737220275,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026y78\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1736615400,"duration":600,"svcId":560,"evtId":30697,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736616075,"availabilityEnd":1736702475,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8j\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1736616000,"duration":300,"svcId":560,"evtId":30698,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736616380,"availabilityEnd":1736702780,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8l\u0026ui_id=4.0.0"},"episodeNo":286},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1736616300,"duration":300,"svcId":560,"evtId":30699,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736616575,"availabilityEnd":1736702975,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8n\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"MOTD Live: Manchester City v...","description":"...Salford City. Live coverage as League Two Salford City aim to cause a massive upset against reigning Premier League champions Manchester City in the FA Cup third round. [S] [HD]","startTime":1736616600,"duration":8400,"svcId":560,"evtId":30801,"image":"\/ms\/img\/epg\/rb\/ae0c-p09xgrj8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736625015,"availabilityEnd":1739217015,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026y7b\u0026ui_id=4.0.0"},"seriesNo":17},{"name":"The Weakest Link","description":"7\/14. The celebrity contestants in this episode are Mel B, Eamonn Holmes, Shobna Gulati, Denis Lawson, Arielle Free, Briony May Williams, Nick Pickard and Rob Bent. [S] [HD]","startTime":1736625000,"duration":2700,"svcId":560,"evtId":30842,"image":"\/ms\/img\/epg\/rb\/ae0c-p0js79vx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736627740,"availabilityEnd":1775415247,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026ywm\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":7},{"name":"Pointless Celebrities","description":"The celebrities aiming to lift the Pointless trophy are Rosie Jones, Suzi Ruffell, Anjli Mohindra, Meera Syal, Kye Whyte, Dan Powell, Mark Stacey and Catherine Southon. [S] [HD]","startTime":1736627700,"duration":2700,"svcId":560,"evtId":30843,"image":"\/ms\/img\/epg\/rb\/ae0c-p0955xrz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736630450,"availabilityEnd":1768166450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026ywp\u0026ui_id=4.0.0"},"seriesNo":17},{"name":"Casualty","description":"3\/11. As Indie faces the ultimate horror on her first paramedic shift, Faith is worried she will lose all that she loves. Will Jodie realise which boundaries she should not cross? [S,AD] [HD]","startTime":1736630400,"duration":3000,"svcId":560,"evtId":30844,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbkr1v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736575200,"availabilityEnd":1901163600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026ywr\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":3},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1736633400,"duration":900,"svcId":560,"evtId":30700,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736634390,"availabilityEnd":1736720790,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8q\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1736634300,"duration":300,"svcId":560,"evtId":30701,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736634585,"availabilityEnd":1736720985,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8s\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"MOTD: FA Cup Highlights","description":"Watch all the goals, drama and reaction from football\u0027s oldest cup competition as Premier League giants lock horns with lower league underdogs. [S] [HD]","startTime":1736634600,"duration":5400,"svcId":560,"evtId":30802,"image":"\/ms\/img\/epg\/rb\/ae0c-p09xgrj8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736640030,"availabilityEnd":1739264400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026y7d\u0026ui_id=4.0.0"},"seriesNo":17},{"name":"The Hurt Locker","description":"Powerful Oscar-winning drama about a US military unit in Iraq. Contains very strong language and some upsetting scenes. [2008] [S,AD] [HD]","startTime":1736640000,"duration":7500,"svcId":560,"evtId":30803,"image":"\/ms\/img\/epg\/rb\/ae0c-p07tdx1v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736647537,"availabilityEnd":1739239537,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000bhgw\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1736647500,"duration":300,"svcId":560,"evtId":30702,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736647825,"availabilityEnd":1737256195,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026x8v\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1736647800,"duration":13800,"svcId":560,"evtId":30703,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":286}]},{"channelid":700,"offset":0,"event":[{"name":"Hey Duggee","description":"The Perfume Badge. The Squirrels make their very own perfumes with accompanying advertisements to show how their perfumes are uniquely theirs. [S,AD] [HD]","startTime":1736576700,"duration":600,"svcId":700,"evtId":22119,"image":"\/ms\/img\/epg\/rb\/fec6-p09twdlh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1630737770,"availabilityEnd":1788145200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p09tds9f\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":50},{"name":"Go Jetters","description":"Maasai Mara National Park, Kenya. Animated adventure comedy series. The team roars into action as Glitch tries to take a selfie with a lion in the Maasai Mara. [S] [HD]","startTime":1736577300,"duration":600,"svcId":700,"evtId":22120,"image":"\/ms\/img\/epg\/rb\/fec6-p04s8cbp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1572346740,"availabilityEnd":1793073600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b08g6r5p\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":46},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Girl\u0027s Secret Fear. Girl is the only one of her siblings who has absolutely no fear of anything - that is until she is introduced to the horrors of pizza dough! [S] [HD]","startTime":1736577900,"duration":900,"svcId":700,"evtId":22121,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzdhn7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730692800,"availabilityEnd":1888372800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024q0v\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":44},{"name":"Monster Loving Maniacs","description":"The Mirror of Souls - Part II. The three new vampires must confront Arthur\u0027s nemesis, Victor Van Helsing. [S] [HD]","startTime":1736578800,"duration":600,"svcId":700,"evtId":22122,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fqdmzs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685934000,"availabilityEnd":1807239600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fpx6l8\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":39},{"name":"Pok\u00e9mon Horizons: The Series","description":"The SOS Is from Tandemaus? Liko, Mollie and their Pok\u00e9mon set out to save a Tandemaus pair separated by a storm. [S,AD] [HD]","startTime":1736579400,"duration":1200,"svcId":700,"evtId":22123,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7sbr6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721617200,"availabilityEnd":1796011200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002158s\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":38},{"name":"Grizzy and the Lemmings: World...","description":"...Tour. Cosy Nest. Grizzy and the Lemmings are victims of inexplicable thefts. [S] [HD]","startTime":1736580600,"duration":600,"svcId":700,"evtId":22124,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0yywy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733934742,"availabilityEnd":1739607054,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zyg0\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":3},{"name":"Cooking Buddies","description":"The Ultimate Burger. Join Buddy, Conker and Alex as they glide through making burgers and onto the ice rink. [S] [HD]","startTime":1736581200,"duration":1200,"svcId":700,"evtId":22125,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9r1ly.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721838600,"availabilityEnd":1844305200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021djx\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"BMX All Stars","description":"BMX World Championships. Danny-Jake and Kai head to Glasgow for the biggest race there is - can they make their countries and club proud and go all the way? [S,AD] [HD]","startTime":1736582400,"duration":1500,"svcId":700,"evtId":22126,"image":"\/ms\/img\/epg\/rb\/fec6-p0j8212w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721962800,"availabilityEnd":1913425200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002103c\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":10},{"name":"Blue Peter: Joel in Japan","description":"Joel in Japan. Joel takes a trip to Tokyo to go behind the scenes at the world-famous Pok\u00e9mon studios. He also tries sumo wrestling, visits a robot caf\u00e9 and attempts to make sushi. [S] [HD]","startTime":1736583900,"duration":1500,"svcId":700,"evtId":22127,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h60km3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736528400,"availabilityEnd":1741714200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026r85\u0026ui_id=4.0.0"},"episodeNo":41},{"name":"Newsround","description":"11\/01\/2025. Topical news magazine for children. [S] [HD]","startTime":1736585400,"duration":600,"svcId":700,"evtId":22128,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzmxhv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736586018,"availabilityEnd":1736672418,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026xd1\u0026ui_id=4.0.0"}},{"name":"Monty Don\u0027s British Gardens","description":"1\/5. Monty Don travels from the north west coast of Scotland to the north east coast of England, from historic reconstructions to modern reinventions. [S,AD] [HD]","startTime":1736586000,"duration":3600,"svcId":700,"evtId":22129,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kgh5y4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736488800,"availabilityEnd":1768024800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026rfg\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"This Wild Life","description":"9\/10. Series following a family who moved to Kenya to run a safari camp. Cheeky monkeys are taking over the camp. Frank and David set off to help a bull elephant. [S] [HD]","startTime":1736589600,"duration":1800,"svcId":700,"evtId":22130,"image":"\/ms\/img\/epg\/rb\/ae0c-p0338c2x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736591455,"availabilityEnd":1739183455,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06fnk3k\u0026ui_id=4.0.0"},"episodeNo":9},{"name":"Animal Babies: First Year on Earth","description":"1\/3. How animal babies get to grips with their new family and the challenges of the environment that surrounds them. [S,AD] [HD]","startTime":1736591400,"duration":3600,"svcId":700,"evtId":22131,"image":"\/ms\/img\/epg\/rb\/ae0c-p07jjcgd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736595060,"availabilityEnd":1739187060,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00072mr\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Simply Nigella","description":"2\/7. Nigella introduces us to her favourite recipes for sharing with family and friends. [S,AD] [HD]","startTime":1736595000,"duration":1800,"svcId":700,"evtId":22132,"image":"\/ms\/img\/epg\/rb\/ae0c-p0370hq3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1591862400,"availabilityEnd":1970467200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b06p16kx\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Raymond Blanc\u0027s Kitchen Secrets","description":"1\/8. Raymond Blanc creates four mouthwatering recipes: the simplest mousse, a rich chocolate delice, a fondant with a melting middle, and his signature dessert - caf\u00e9 cr\u00e8me. [S,AD] [HD]","startTime":1736596800,"duration":1800,"svcId":700,"evtId":22133,"image":"\/ms\/img\/epg\/rb\/ae0c-p01gnyr1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736598680,"availabilityEnd":1739190680,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00qzh52\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"The Diary of Anne Frank (1959)","description":"Oscar-winning adaptation of the famous true story. German-occupied Amsterdam, 1942. Young teen Anne details how, to escape persecution, the Franks take refuge with another family. [1959] [S] [HD]","startTime":1736598600,"duration":9900,"svcId":700,"evtId":22189,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f08cl2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736608591,"availabilityEnd":1739200591,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b03ttcq8\u0026ui_id=4.0.0"}},{"name":"Spectacled Bears - Shadows of...","description":"...the Forest. 15\/15. Stephen Fry reveals the little known habits of the spectacled bear - the inspiration behind the famous children\u0027s character Paddington Bear. [S,AD]","startTime":1736608500,"duration":3000,"svcId":700,"evtId":22134,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fv9mcg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736611594,"availabilityEnd":1739203594,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00b9fbd\u0026ui_id=4.0.0"},"seriesNo":28,"episodeNo":15},{"name":"The Wonder of Animals","description":"11\/12. Chris Packham reveals the variety of ways in which snakes use their bodies not just to slither, but to climb, fly and swim, and explores how they use their senses to hunt. [S,AD] [HD]","startTime":1736611500,"duration":1800,"svcId":700,"evtId":22135,"image":"\/ms\/img\/epg\/rb\/ae0c-p028qfqs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736613300,"availabilityEnd":1739205300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b04m9r3s\u0026ui_id=4.0.0"},"episodeNo":11},{"name":"Flog It!","description":"The venue for today\u0027s Flog It! is Stockport Town Hall. Paul Martin finds out about the tunnels below the town hall which were used as air raid shelters in World War II. [S] [HD]","startTime":1736613300,"duration":3600,"svcId":700,"evtId":22136,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736616885,"availabilityEnd":1739208885,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000qdxh\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":15},{"name":"Hidden Treasures of the...","description":"...National Trust. 2\/6. The portraits of two high-society women give up their secrets. [S,AD] [HD]","startTime":1736616900,"duration":3600,"svcId":700,"evtId":22137,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvl2jp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715317200,"availabilityEnd":1809925140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001yzxc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"Pride and Prejudice","description":"Romantic drama. Worried about what is to become of her five unmarried daughters, Mrs Bennet believes she may found an answer when a wealthy bachelor becomes their neighbour. [2005] [S,AD] [HD]","startTime":1736620500,"duration":7200,"svcId":700,"evtId":22190,"image":"\/ms\/img\/epg\/rb\/fec6-p09qmb8d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736627700,"availabilityEnd":1739219700,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000yh1q\u0026ui_id=4.0.0"}},{"name":"Rod Stewart at the BBC","description":"Compilation of Rod Stewart\u0027s performances at the BBC. Includes The Faces performing Stay with Me, plus solo hits such as Sailing, You\u0027re in My Heart and Do Ya Think I\u0027m Sexy? [S]","startTime":1736627700,"duration":3600,"svcId":700,"evtId":22237,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dtm19v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736631320,"availabilityEnd":1739223320,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b03m81n5\u0026ui_id=4.0.0"}},{"name":"Rod Stewart at the BBC: Volume 2","description":"Another dive into the TV archives for some of Rod Stewart\u0027s more recent appearances and some rarely seen BBC performances of his biggest hits from over the years. [S] [HD]","startTime":1736631300,"duration":3600,"svcId":700,"evtId":22238,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ds272m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736634935,"availabilityEnd":1739226935,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001h099\u0026ui_id=4.0.0"}},{"name":"Rod Stewart: Radio 2 in Concert","description":"Rod Stewart performs live for Radio 2 In Concert at the BBC Radio Theatre. [S]","startTime":1736634900,"duration":3600,"svcId":700,"evtId":22239,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f02fqx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736638540,"availabilityEnd":1739230540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026zx9\u0026ui_id=4.0.0"}},{"name":"Imagine: Rod Stewart: Can\u0027t...","description":"...Stop Me Now. imagine... examines Sir Rod Stewart\u0027s entertaining career across five musical decades. Contains some strong language. [S] [HD]","startTime":1736638500,"duration":5100,"svcId":700,"evtId":22240,"image":"\/ms\/img\/epg\/rb\/ae0c-p042vjy9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736643608,"availabilityEnd":1739235608,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b07n40v3\u0026ui_id=4.0.0"},"seriesNo":41,"episodeNo":4},{"name":"Rod Stewart Live at Hyde Park","description":"A selection of hits from Rod\u0027s back catalogue, including Gasoline Alley, Angel, In a Broken Dream, The Killing of Georgie, Ooh La La, I Was Only Joking, and Rollin\u0027 and Tumblin\u0027. [S] [HD]","startTime":1736643600,"duration":3600,"svcId":700,"evtId":22241,"image":"\/ms\/img\/epg\/rb\/ae0c-p08q3kdp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736647258,"availabilityEnd":1739239258,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06pf5dw\u0026ui_id=4.0.0"}},{"name":"The Old Grey Whistle Test:...","description":"...Rod\u0027s Christmas Concert. The Old Grey Whistle Test presents Rod\u0027s Christmas Concert, a 1976 programme featuring The Rod Stewart Group performing from the stage at Olympia, London. [S]","startTime":1736647200,"duration":3900,"svcId":700,"evtId":22242,"image":"\/ms\/img\/epg\/rb\/fec6-p0dtmlnx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736651153,"availabilityEnd":1739243153,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b036yy04\u0026ui_id=4.0.0"}},{"name":"Call the Midwife","description":"1\/8. The team support a pregnant teenage girl whose family believe in an immaculate conception. [S,AD,SL] [HD]","startTime":1736651100,"duration":3600,"svcId":700,"evtId":22243,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kfxtjh.jpg","hasTstv":false,"seriesNo":29,"episodeNo":1}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	//row = table
	//	.append('tr');
	//row
	//	.append('td')
	//	.text("Films:");
	//row
	//	.append('td')
	//	.text('{{COUNT_FILMS}}');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('19');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'u7EQAsiu6pQ', title: "HIGHLIGHTS | Controversial corner helps Villa fight back | Aston Villa v West Ham - FA Cup 24/25", label: "HIGHLIGHTS | Controversial corner helps Villa fight back | Aston Villa v West Ham - FA Cup 24/25 by ITV Sport 283,787 views 23 hours ago 4 minutes, 54 seconds" },
{ id: 'sonyqbOGi5w', title: "Aston Villa v West Ham United | Key Moments | Third Round | Emirates FA Cup 2024-25", label: "Aston Villa v West Ham United | Key Moments | Third Round | Emirates FA Cup 2024-25 by The Emirates FA Cup 831,905 views 1 day ago 2 minutes, 46 seconds" },
{ id: '8_P-lBmHDxs', title: "Kate McKinnon Breaking People on SNL for 5 Minutes Straight", label: "Kate McKinnon Breaking People on SNL for 5 Minutes Straight by PopMojo 1,029,139 views 23 hours ago 4 minutes, 52 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in media module: The message filter indicated that the application is busy. (0x8001010A (RPC_E_SERVERCALL_RETRYLATER))');

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 230.49, tooltip: "Fri, Jan 10, 2025<br/>£230.49"},
{ number: 232.30, tooltip: "Thu, Jan 09, 2025<br/>£232.30"},
{ number: 231.69, tooltip: "Wed, Jan 08, 2025<br/>£231.69"},
{ number: 229.23, tooltip: "Tue, Jan 07, 2025<br/>£229.23"},
{ number: 230.47, tooltip: "Mon, Jan 06, 2025<br/>£230.47"},
{ number: 231.00, tooltip: "Fri, Jan 03, 2025<br/>£231.00"},
{ number: 229.62, tooltip: "Thu, Jan 02, 2025<br/>£229.62"},
{ number: 227.21, tooltip: "Tue, Dec 31, 2024<br/>£227.21"},
{ number: 228.01, tooltip: "Mon, Dec 30, 2024<br/>£228.01"},
{ number: 228.76, tooltip: "Fri, Dec 27, 2024<br/>£228.76"},
{ number: 230.58, tooltip: "Tue, Dec 24, 2024<br/>£230.58"},
{ number: 229.20, tooltip: "Mon, Dec 23, 2024<br/>£229.20"},
{ number: 227.51, tooltip: "Fri, Dec 20, 2024<br/>£227.51"},
{ number: 226.11, tooltip: "Thu, Dec 19, 2024<br/>£226.11"},
{ number: 225.27, tooltip: "Wed, Dec 18, 2024<br/>£225.27"},
{ number: 229.87, tooltip: "Tue, Dec 17, 2024<br/>£229.87"},
{ number: 231.35, tooltip: "Mon, Dec 16, 2024<br/>£231.35"},
{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>£231.64"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jan 10, 2025",
		"vs Day":      "Thu, Jan 09, 2025",
		"vs Week":     "Fri, Jan 03, 2025",
		"vs Month":    "Thu, Dec 12, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£230.49/share",
		'vs Day':      "-0.78%",
		'vs Week':     "-0.22%",
		'vs Month':    "-0.50%",
		'vs Year':     "+20.64%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '95.0',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 11 January and 12 January">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.950&p=0.084&r=6.186',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:11',
		Set:      '16:17',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To cozen someone is to deceive, win over, or induce them to do something by coaxing or trickery.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>