<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:43 2-May - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Sudan: Final UK evacuation flights depart</b><br/>The two &quot;exceptional&quot; evacuation flights had taken off from Port Sudan earlier on Monday evening." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-65452057?at_medium=RSS&amp;at_campaign=KARANGA">Sudan: Final UK evacuation flights depart</a></li><li class="ttt" data-tt="<b>King Charles Coronation: What will he wear for the ceremony?</b><br/>The King will wear layers of glittering garments, some of which were created for George V."><a href="https://www.bbc.co.uk/news/uk-65448709?at_medium=RSS&amp;at_campaign=KARANGA">King Charles Coronation: What will he wear for the ceremony?</a></li><li class="ttt" data-tt="<b>Tributes paid to man stabbed near Bodmin nightclub</b><br/>Five other people have since been released from hospital, with two recovering from surgery."><a href="https://www.bbc.co.uk/news/uk-england-cornwall-65449416?at_medium=RSS&amp;at_campaign=KARANGA">Tributes paid to man stabbed near Bodmin nightclub</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-65452057?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0EF2/production/_129562830_capture.png" class="ttt" data-tt="Port Sudan" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Texas shooting: Suspect had been deported four times</b><br/>Police have announced a reward of $80,000 for information leading to the suspect\'s arrest." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65447378?at_medium=RSS&amp;at_campaign=KARANGA">Texas shooting: Suspect had been deported four times</a></li><li class="ttt" data-tt="<b>Debt ceiling: Janet Yellen warns US could hit debt ceiling by 1 June</b><br/>The Treasury Secretary has warned of &quot;serious harm&quot; to the economy if it hits the debt ceiling."><a href="https://www.bbc.co.uk/news/world-us-canada-65452444?at_medium=RSS&amp;at_campaign=KARANGA">Debt ceiling: Janet Yellen warns US could hit debt ceiling by 1 June</a></li><li class="ttt" data-tt="<b>Trump rape accuser E Jean Carroll says her generation stayed quiet about assault</b><br/>E Jean Carroll says she did not report the rape because she is a &quot;member of the silent generation&quot;."><a href="https://www.bbc.co.uk/news/world-us-canada-65418706?at_medium=RSS&amp;at_campaign=KARANGA">Trump rape accuser E Jean Carroll says her generation stayed quiet about assault</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65447378?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/127AF/production/_129559657_gettyimages-1252358205.jpg" class="ttt" data-tt="Officials speak at a press conference" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Ukraine war: More than 20,000 Russian fighters dead in Bakhmut, US says</b><br/>Russia has suffered more than 100,000 causalities in the battle for Bakhmut, the White House says." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-65451487?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine war: More than 20,000 Russian fighters dead in Bakhmut, US says</a></li><li class="ttt" data-tt="<b>Sudan crisis: \'Fighter jets are roaring over my home in Omdurman\'</b><br/>Thousands of people have left Sudan\'s capital but the situation is getting worse for those left behind."><a href="https://www.bbc.co.uk/news/world-africa-65448685?at_medium=RSS&amp;at_campaign=KARANGA">Sudan crisis: \'Fighter jets are roaring over my home in Omdurman\'</a></li><li class="ttt" data-tt="<b>Stranded with passports locked in Western embassies</b><br/>Sudanese citizens say they can\'t escape because their passports are inside closed European embassies."><a href="https://www.bbc.co.uk/news/world-65449341?at_medium=RSS&amp;at_campaign=KARANGA">Stranded with passports locked in Western embassies</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-65451487?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/DDFA/production/_129562865_mediaitem129562861.jpg" class="ttt" data-tt="A Ukrainian soldier of an artillery unit fires towards Russian positions outside Bakhmut on November 8, 2022" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Azerbaijan Grand Prix: Toto Wolff warning after \'boring\' Baku race</b><br/>Mercedes team principal Toto Wolff says the Azerbaijan Grand Prix was &quot;boring&quot; and Formula 1 needs look at what to do about it." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65450202?at_medium=RSS&amp;at_campaign=KARANGA">Azerbaijan Grand Prix: Toto Wolff warning after \'boring\' Baku race</a></li><li class="ttt" data-tt="<b>Azerbaijan Grand Prix: Sergio Perez closes on Max Verstappen in F1 title race with victory</b><br/>Sergio Perez drives a consummate race with help from the safety car to beat Red Bull team-mate Max Verstappen and win the Azerbaijan Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/65441394?at_medium=RSS&amp;at_campaign=KARANGA">Azerbaijan Grand Prix: Sergio Perez closes on Max Verstappen in F1 title ra...</a></li><li class="ttt" data-tt="<b>Azerbaijan GP analysis: George Russell rejects Max Verstappen\'s criticism</b><br/>A defiant George Russell rejects Max Verstappen\'s criticisms after the pair collide at the start of the Azerbaijan Grand Prix sprint race."><a href="https://www.bbc.co.uk/sport/formula1/65435587?at_medium=RSS&amp;at_campaign=KARANGA">Azerbaijan GP analysis: George Russell rejects Max Verstappen\'s criticism</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65450202?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/547A/production/_129562612_gettyimages-1252429619-1.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>UK chip giant Arm files for blockbuster US share listing</b><br/>In a blow to the London stock market, the firm said in March that it would not list shares in the UK." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/business-65445428?at_medium=RSS&amp;at_campaign=KARANGA">UK chip giant Arm files for blockbuster US share listing</a></li><li class="ttt" data-tt="<b>ChatGPT accessible again in Italy</b><br/>The chatbot was banned in Italy at the start of April over privacy concerns."><a href="https://www.bbc.co.uk/news/technology-65431914?at_medium=RSS&amp;at_campaign=KARANGA">ChatGPT accessible again in Italy</a></li><li class="ttt" data-tt="<b>Pings signal closure of NHS Covid-19 app</b><br/>The tracing app for England and Wales was downloaded around 30 million times."><a href="https://www.bbc.co.uk/news/technology-65435326?at_medium=RSS&amp;at_campaign=KARANGA">Pings signal closure of NHS Covid-19 app</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/business-65445428?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/13BD5/production/_113835808_armchip.jpg" class="ttt" data-tt="ARM montage" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"1 May – 7 May","date":16829856E5,"ts":"Tue, 2","ds":"Tue, 2 May","icon":7,"desc":"Overcast.","temp":14,"templow":8,"cf":13,"wind":6,"wd":120,"hum":63,"pc":22,"rain":0.1 },{"date":1683072E6,"ts":"Wed, 3","ds":"Wed, 3 May","icon":7,"desc":"Overcast.","temp":15,"templow":4,"cf":14,"wind":13,"wd":100,"hum":53,"pc":3},{"date":16831584E5,"ts":"Thu, 4","ds":"Thu, 4 May","icon":7,"desc":"Overcast.","temp":16,"templow":7,"cf":16,"wind":17,"wd":110,"hum":60,"pc":16,"rain":0.1 },{"date":16832448E5,"ts":"Fri, 5","ds":"Fri, 5 May","icon":33,"desc":"Passing showers. Overcast.","temp":17,"templow":11,"cf":16,"wind":13,"wd":210,"hum":66,"pc":56,"rain":6.7 },{"date":16833312E5,"ts":"Sat, 6","ds":"Sat, 6 May","icon":21,"desc":"Isolated tstorms. Overcast.","temp":15,"templow":9,"cf":14,"wind":11,"wd":200,"hum":75,"pc":54,"rain":3.5 },{"date":16834176E5,"ts":"Sun, 7","ds":"Sun, 7 May","icon":21,"desc":"Isolated tstorms. Overcast.","temp":14,"templow":8,"cf":13,"wind":10,"wd":200,"hum":78,"pc":46,"rain":4},{"hl":true,"hls":"8 May – 14 May","date":1683504E6,"ts":"Mon, 8","ds":"Mon, 8 May","icon":33,"desc":"Passing showers. Overcast.","temp":16,"templow":9,"cf":16,"wind":9,"wd":170,"hum":61,"pc":20,"rain":1.1 },{"date":16835904E5,"ts":"Tue, 9","ds":"Tue, 9 May","icon":33,"desc":"Passing showers. Cloudy.","temp":15,"templow":9,"cf":14,"wind":5,"wd":180,"hum":94,"pc":57,"rain":6.8 },{"date":16836768E5,"ts":"Wed, 10","ds":"Wed, 10 May","icon":21,"desc":"Isolated tstorms. Overcast.","temp":14,"templow":9,"cf":14,"wind":2,"wd":100,"hum":87,"pc":65,"rain":3.7 },{"date":16837632E5,"ts":"Thu, 11","ds":"Thu, 11 May","icon":33,"desc":"Passing showers. Overcast.","temp":13,"templow":9,"cf":11,"wind":15,"wd":50,"hum":91,"pc":62,"rain":1.5 },{"date":16838496E5,"ts":"Fri, 12","ds":"Fri, 12 May","icon":4,"desc":"Morning clouds.","temp":14,"templow":8,"cf":11,"wind":12,"wd":60,"hum":61,"pc":6},{"date":1683936E6,"ts":"Sat, 13","ds":"Sat, 13 May","icon":4,"desc":"Increasing cloudiness.","temp":14,"templow":8,"cf":12,"wind":8,"wd":40,"hum":76,"pc":43,"rain":0.3 },{"date":16840224E5,"ts":"Sun, 14","ds":"Sun, 14 May","icon":7,"desc":"Overcast.","temp":14,"templow":8,"cf":12,"wind":8,"wd":40,"hum":68,"pc":40,"rain":0.1 },{"hl":true,"hls":"15 May – 21 May","date":16841088E5,"ts":"Mon, 15","ds":"Mon, 15 May","icon":6,"desc":"Broken clouds.","temp":14,"templow":8,"cf":12,"wind":7,"wd":20,"hum":72,"pc":56,"rain":0.6 },{"date":16841952E5,"ts":"Tue, 16","ds":"Tue, 16 May","icon":7,"desc":"Overcast.","temp":14,"templow":8,"cf":12,"wind":9,"wd":30,"hum":72,"pc":48,"rain":0.6 }],"grid":{"temp":{"low":4,"high":17,"range":13},"prec":{"high":6.8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2305/CarNorth_Taylor_960.jpg',
		Title:     'Carina Nebula North',
		LinkImage: 'https://apod.nasa.gov/apod/image/2305/CarNorth_Taylor_6179.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230501.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/04/Mobius-Arch-Looking-East-By-Mr.-Ross.jpeg',
		Title:    'Mobius Arch Looking East By Mr. Ross',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-ross-stone-22/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/2/25/RAF_Tornado_GR4_MOD_45155233.jpg/350px-RAF_Tornado_GR4_MOD_45155233.jpg',
		Title:    'Panavia Tornado',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Panavia_Tornado',
		Description: '    The <b><a href="/wiki/Panavia_Tornado" title="Panavia Tornado">Panavia Tornado</a></b> is a family of twin-engine <a href="/wiki/Multirole_combat_aircraft" title="Multirole combat aircraft">multirole combat aircraft</a>, jointly developed and manufactured by Italy, the United Kingdom and West Germany. There are three primary Tornado variants: the Tornado IDS <a href="/wiki/Fighter-bomber" title="Fighter-bomber">fighter-bomber</a>, the Tornado ECR <a href="/wiki/Suppression_of_Enemy_Air_Defenses" title="Suppression of Enemy Air Defenses">suppression of enemy air defences</a> aircraft and the <a href="/wiki/Panavia_Tornado_ADV" title="Panavia Tornado ADV">Tornado ADV</a> <a href="/wiki/Interceptor_aircraft" title="Interceptor aircraft">interceptor aircraft</a>. Developed by <a href="/wiki/Panavia_Aircraft_GmbH" title="Panavia Aircraft GmbH">Panavia Aircraft</a>, it made its first flight in 1974 and entered service in 1979–80. The Tornado is used in active service by the <a href="/wiki/German_Air_Force" title="German Air Force">German Air Force</a>, the <a href="/wiki/Italian_Air_Force" title="Italian Air Force">Italian Air Force</a>, the <a href="/wiki/Royal_Saudi_Air_Force" title="Royal Saudi Air Force">Royal Saudi Air Force</a> and was also used by the <a href="/wiki/Royal_Air_Force" title="Royal Air Force">Royal Air Force</a> (RAF) until 2019. This RAF Tornado GR4 was photographed in a training sortie over <a href="/wiki/North_West_England" title="North West England">North West England</a> in 2012.<small style="display: block; margin-top: 0.8em;">Photograph credit: Mike Jones</small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1682996400,"duration":9300,"svcId":700,"evtId":6550,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Dr Xand\u0027s Con or Cure","description":"9\/15. The deadly effects of diet pills. Is breakfast really the most important meal? Can a poo transplant really help your gut health? And busting the myth that local honey helps hay fever. [S] [HD]","startTime":1683005700,"duration":2700,"svcId":700,"evtId":6517,"image":"\/ms\/img\/epg\/rb\/8df1-p0fhcgm6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682588711,"availabilityEnd":1714297488,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ld99\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":9},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"1\/15. Clive explores the ancient subterranean city where people have lived underground for millennia and meets the Scotsman who swapped office life for olive farming. [S] [HD]","startTime":1683008400,"duration":1800,"svcId":700,"evtId":6519,"image":"\/ms\/img\/epg\/rb\/8df1-p0fjx0t4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682962225,"availabilityEnd":1840815000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdr9qm\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Coast to Coast Food Festival","description":"5\/20. Edith Bowman and Colin Murray explore the Glasgow Foodies\u0027 Festival, where they discover the secrets to the best egg fried rice with chef Jimmy Lee and how to spot \u0027fake\u0027 vanilla. [S,SL] [HD]","startTime":1683010200,"duration":1800,"svcId":700,"evtId":6521,"image":"\/ms\/img\/epg\/rb\/8df1-p0f7nqqg.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Coastal Defenders","description":"5\/8. A mooring structure has brought the Isle of Wight ferries to a standstill. [S,AD,SL] [HD]","startTime":1683012000,"duration":1800,"svcId":700,"evtId":6523,"image":"\/ms\/img\/epg\/rb\/8df1-p0f6bctw.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Lifeline","description":"Sara Cox presents an appeal for Re-engage, a charity that provides life-enhancing social connections for the elderly to help them combat feelings of isolation and loneliness. [S] [HD]","startTime":1683013800,"duration":600,"svcId":700,"evtId":6525,"image":"\/ms\/img\/epg\/rb\/8df1-p0fhq572.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682860542,"availabilityEnd":1684674942,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001lll0\u0026ui_id=4.0.0"}},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1683014400,"duration":7200,"svcId":700,"evtId":6527,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1683021600,"duration":4500,"svcId":700,"evtId":6529,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1683026100,"duration":2700,"svcId":700,"evtId":6531,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Impossible","description":"7\/20. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1683028800,"duration":2700,"svcId":700,"evtId":6533,"image":"\/ms\/img\/epg\/rb\/8df1-p06q68c1.jpg","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"Eggheads","description":"Jeremy Vine hosts a general knowledge quiz featuring the greatest quiz team in Britain. [S] [HD]","startTime":1683031500,"duration":1800,"svcId":700,"evtId":6535,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":20,"episodeNo":74},{"name":"Million Pound Menu","description":"1\/6. 12 restaurant concepts seek investment to launch their brand. Fred Sirieix meets British fine-dining concept Epoch and Scottish street-food trader ShrimpWreck. [S,AD] [HD]","startTime":1683033300,"duration":3600,"svcId":700,"evtId":6537,"image":"\/ms\/img\/epg\/rb\/8df1-p07klckn.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Atlantic: The Wildest Ocean on...","description":"...Earth. 1\/3. Documentary about the Atlantic Ocean. In the North Atlantic, massive whale pods, giant turtles and monstrous jellyfish ride the Gulf Stream, a huge ocean current. [S,AD] [HD]","startTime":1683036900,"duration":3600,"svcId":700,"evtId":6539,"image":"\/ms\/img\/epg\/rb\/8df1-p02xyk21.jpg","hasTstv":false,"episodeNo":1},{"name":"The Great British Sewing Bee","description":"2\/10. The sewers make a pair of high-top trainers for Sports Week. They also create daywear from old netball kits, and they fit a sports jacket inspired by their sporting hero. [S,AD] [HD]","startTime":1683040500,"duration":3600,"svcId":700,"evtId":6541,"image":"\/ms\/img\/epg\/rb\/8df1-p0c37lgy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1653439898,"availabilityEnd":1688606192,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00171f1\u0026ui_id=4.0.0"},"seriesNo":12,"episodeNo":2},{"name":"Flog It!","description":"44\/60. Paul Martin is at Boconnoc House deep in the Cornish countryside, where he participates in a traditional Cornish gig race. [S] [HD]","startTime":1683044100,"duration":2700,"svcId":700,"evtId":6543,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":16,"episodeNo":44},{"name":"Richard Osman\u0027s House of Games","description":"42\/140. Matt Edmondson, Sabrina Grant, Andy Hamilton and Kirsty Wark test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1683046800,"duration":1800,"svcId":700,"evtId":6545,"image":"\/ms\/img\/epg\/rb\/8df1-p09xz8td.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1634059800,"availabilityEnd":1665595800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0010kx2\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":42},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"2\/15. In Sicily, Clive joins geologists working on Mount Etna to predict its next big eruption and heads to Modica to learn how to make an ancient recipe  chocolate bar. [S] [HD]","startTime":1683048600,"duration":1800,"svcId":700,"evtId":6547,"image":"\/ms\/img\/epg\/rb\/8df1-p0fk1gwj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682962225,"availabilityEnd":1840815000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fdrc8t\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Hairy Bikers\u0027 Mediterranean...","description":"...Adventure. 1\/6. The Bikers go in search of authentic flavours of Italy, from simple, local ingredients to spicy n\u0027duja pate and some of the best gelato to be found. [S,AD] [HD]","startTime":1683050400,"duration":3600,"svcId":700,"evtId":6549,"image":"\/ms\/img\/epg\/rb\/8df1-p05s6w3h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1655960400,"availabilityEnd":1971579600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b09lb55q\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"New: Inside the Factory","description":"Gregg Wallace explores the Ambrosia factory in Lifton, Devon, to reveal how it makes up to 360,000 rice puddings every single day. [S,AD] [HD]","startTime":1683054000,"duration":3600,"svcId":700,"evtId":6551,"image":"\/ms\/img\/epg\/rb\/8df1-p0fk9r8b.jpg","hasTstv":false,"seriesNo":10},{"name":"Highland Cops","description":"5\/6. Officers on Skye are tipped off about a resident suspected of possessing an illegal weapon, and dangerous winds in Harris cause a road traffic incident. [S,AD] [HD]","startTime":1683057600,"duration":3600,"svcId":700,"evtId":6552,"image":"\/ms\/img\/epg\/rb\/8df1-p0fhrhch.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682888508,"availabilityEnd":1714424508,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001llrh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Colin from Accounts","description":"4\/8. Ash and Gordon\u0027s awkward sexual encounter causes them to drift apart. Contains strong language and adult humour. [S,AD] [HD]","startTime":1683061200,"duration":1800,"svcId":700,"evtId":6553,"image":"\/ms\/img\/epg\/rb\/8df1-p0fdrj2v.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681189200,"availabilityEnd":1775861940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f297c6\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Mark Urban. [S] [HD]","startTime":1683063000,"duration":2400,"svcId":700,"evtId":6554,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1683065400,"duration":300,"svcId":700,"evtId":6555,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Shadowlands","description":"Romantic drama. CS Lewis, Oxford don and well-known children\u0027s author, appears to be content with his quiet academic life until he meets the forthright American poet Joy Gresham. [1993] [S] [HD]","startTime":1683065700,"duration":7500,"svcId":700,"evtId":6556,"image":"\/ms\/img\/epg\/rb\/8df1-p09090cn.jpg","hasTstv":false},{"name":"Pilgrimage: The Road through...","description":"...Portugal. 2\/3. With less than a week to go, the pilgrims decide to speed up their journey. [S,AD,SL] [HD]","startTime":1683073200,"duration":3600,"svcId":700,"evtId":6557,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false,"seriesNo":5,"episodeNo":2},{"name":"MasterChef","description":"4\/24. Nine home cooks recreate their Family Favourite dish for a place in the next round. [S,AD,SL] [HD]","startTime":1683076800,"duration":3600,"svcId":700,"evtId":6558,"image":"\/ms\/img\/epg\/rb\/8df1-p0fg11pg.jpg","hasTstv":false,"seriesNo":20,"episodeNo":4},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1683080400,"duration":12300,"svcId":700,"evtId":6559,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"George Clarke\u0027s Amazing Spaces","description":"George meets a man who plans to make a barn out of discarded windows and old driftwood, and a novice builder who\u0027s creating a retirement home in a minivan for her and her cat. (S9 Ep8)  [AD,S,SL]","startTime":1682995200,"duration":3000,"svcId":1500,"evtId":24798,"image":"\/ms\/img\/epg\/rb\/5d52-4016430.l.png","hasTstv":false,"seriesNo":9,"episodeNo":8},{"name":"Grand Designs","description":"Architectural designer Lincoln Miles and his wife, artist Lisa Traxler, take on a very ambitious bungalow conversion on the Isle of Wight, hoping it will blend into the unspoilt woodland.  [AD,S,SL]","startTime":1682998200,"duration":3300,"svcId":1500,"evtId":24800,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebs to the test with tough craft challenges. Susan Calman and Mark Dolan take on the art of flower arranging. Jeremy Edwards and Terri Dwyer create chocolate roses.  [S]","startTime":1683001500,"duration":900,"svcId":1500,"evtId":20077,"image":"\/ms\/img\/epg\/rb\/5d52-412881760.l.png","hasTstv":false},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: Brilliant Builds: Kirstie Allsopp and Phil Spencer look back on Sarah and Ian Renard\u0027s two-bed rural renovation in Brixworth that didn\u0027t compromise on character.  [AD,S]","startTime":1683002400,"duration":1500,"svcId":1500,"evtId":24799,"image":"\/ms\/img\/epg\/rb\/5d52-415365616.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Gabby Logan joins Susie Dent in Dictionary Corner.  [S]","startTime":1683003900,"duration":2400,"svcId":1500,"evtId":24288,"image":"\/ms\/img\/epg\/rb\/5d52-7529057.l.png","hasTstv":false},{"name":"Cheers","description":"Young Dr Weinstein: After Diane boasts to everyone about her forthcoming evening out at Boston\u0027s most exclusive restaurant, Sam decides to bring her down a peg or two. (S5 Ep7\/26)  [S]","startTime":1683006300,"duration":1500,"svcId":1500,"evtId":24289,"image":"\/ms\/img\/epg\/rb\/5d52-381402.l.png","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"Cheers","description":"Knights of the Scimitar: Cliff persuades Norm to join his lodge, but Norm isn\u0027t keen when he learns what it entails. Sam thinks Diane has invented a suitor to make him jealous. (S5 Ep8\/26)  [S]","startTime":1683007800,"duration":1500,"svcId":1500,"evtId":24290,"image":"\/ms\/img\/epg\/rb\/5d52-383494.l.png","hasTstv":false,"seriesNo":5,"episodeNo":8},{"name":"The King of Queens","description":"Queasy Rider: Doug gets a motorbike against Carrie\u0027s wishes, so she takes up smoking to get her revenge. (S2 Ep1\/25)  [AD,S]","startTime":1683009300,"duration":1500,"svcId":1500,"evtId":24291,"image":"\/ms\/img\/epg\/rb\/5d52-952927.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"The King of Queens","description":"Female Problems: Doug gets jealous when Carrie and their new neighbour hit it off. (S2 Ep2\/25)  [AD,S]","startTime":1683010800,"duration":1500,"svcId":1500,"evtId":24292,"image":"\/ms\/img\/epg\/rb\/5d52-952929.l.png","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Frasier","description":"Docu.Drama: Frasier can\u0027t narrate Roz\u0027s ambitious space documentary, so she turns to legendary space hero and US senator John Glenn. (S8 Ep15)  [AD,S]","startTime":1683012300,"duration":1800,"svcId":1500,"evtId":24293,"image":"\/ms\/img\/epg\/rb\/5d52-1166935.l.png","hasTstv":false,"seriesNo":8,"episodeNo":16},{"name":"Frasier","description":"It Takes Two to Tangle: Frasier and Niles desperately search for a wealthy patron to lend support to the failing prep school they both attended. (S8 Ep16)  [AD,S]","startTime":1683014100,"duration":1800,"svcId":1500,"evtId":24294,"image":"\/ms\/img\/epg\/rb\/5d52-1175811.l.png","hasTstv":false,"seriesNo":8,"episodeNo":17},{"name":"Frasier","description":"Forgotten But Not Gone: Frasier resigns from his beloved wine club to avoid a conflict of interest when he begins a new radio show about wine. (S8 Ep17)  [AD,S]","startTime":1683015900,"duration":1800,"svcId":1500,"evtId":24295,"image":"\/ms\/img\/epg\/rb\/5d52-1183312.l.png","hasTstv":false,"seriesNo":8,"episodeNo":18},{"name":"Find It, Fix It, Flog It","description":"Henry Cole and Simon O\u0027Brien revamp and repurpose hidden treasures, to make money for their owners. In Surrey, they meet petrolhead Graham, who collects Kawasaki motorbikes. (S5 Ep7)  [AD,S]","startTime":1683017700,"duration":3600,"svcId":1500,"evtId":24296,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"Couples Come Dine with Me","description":"In Glasgow, Melanie and David\u0027s Celtic-fusion food takes on the two Kennys\u0027 Mexican menu, and Ami and Stuart\u0027s Scottish cuisine, in a week featuring bagpipes and an awkward confrontation.  [S]","startTime":1683021300,"duration":3600,"svcId":1500,"evtId":24297,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":22},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1683024900,"duration":300,"svcId":1500,"evtId":24298,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Live: Steph\u0027s Packed Lunch","description":"Steph McGovern presents her live lunchtime show featuring celebrity guests, fantastic food and the best entertainment, lifestyle and consumer stories making the headlines.  [S]","startTime":1683025200,"duration":7800,"svcId":1500,"evtId":24299,"image":"\/ms\/img\/epg\/rb\/5d52-7555716.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Cheryl Baker joins Susie Dent in Dictionary Corner.  [S]","startTime":1683033000,"duration":3000,"svcId":1500,"evtId":24300,"image":"\/ms\/img\/epg\/rb\/5d52-7555721.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"On the Costa del Sol, Andrew and Shani Hamilton help Michael and Cierwen find a beachfront apartment, while the Rodriguez family hope to make a dream a reality on the Costa Blanca. (S5 Ep9)  [S]","startTime":1683036000,"duration":3600,"svcId":1500,"evtId":24301,"image":"\/ms\/img\/epg\/rb\/5d52-5801089.l.png","hasTstv":false,"seriesNo":5,"episodeNo":9},{"name":"A Place in the Sun","description":"Pauline and Chris dream of owning a bolthole in the beautiful coastal town of Peyia in western Cyprus. Can Jasmine Harman find them the perfect holiday home for \u00a380k?  [S]","startTime":1683039600,"duration":3600,"svcId":1500,"evtId":24302,"image":"\/ms\/img\/epg\/rb\/5d52-7554694.l.png","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"Help! We Bought a Village","description":"Francesca and Carl welcome guests to their hamlet-turned-holiday-complex in Italy. Two other brave Brits rescue a row of cottages from decades of overgrowth. (Ep2\/20)  [S]","startTime":1683043200,"duration":3600,"svcId":1500,"evtId":24303,"image":"\/ms\/img\/epg\/rb\/5d52-6236187.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"The Simpsons","description":"The Monkey Suit: Ned is horrified by an evolution exhibition and asks Reverend Lovejoy to promote creationism. So Lisa arranges secret evolution classes... (S17 Ep21\/22)  [AD,S]","startTime":1683046800,"duration":1800,"svcId":1500,"evtId":24304,"image":"\/ms\/img\/epg\/rb\/5d52-6024374.l.png","hasTstv":false,"seriesNo":17,"episodeNo":21},{"name":"Hollyoaks","description":"Peri deals with the consequences of yesterday\u0027s outburst. Elsewhere, desperate times call for drastic measures when it comes to saving the market, but how far will Cindy, Grace and Zara go?  [AD,S]","startTime":1683048600,"duration":1800,"svcId":1500,"evtId":24305,"image":"\/ms\/img\/epg\/rb\/5d52-7555733.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1683050400,"duration":3600,"svcId":1500,"evtId":24306,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: Naked Education","description":"Yinka Bokinni and Dr Alex George discuss the pros and cons of cosmetic surgery, while the Naked Brigade help Zoe embrace her body after a lifetime of disordered eating. (Ep5\/6)  [AD,S]","startTime":1683054000,"duration":3600,"svcId":1500,"evtId":24307,"image":"\/ms\/img\/epg\/rb\/5d52-7555756.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"New: Celebrity Hunted","description":"With just 48 hours to go, four of the celebs are still on the run. With heart-stopping close calls, a motorway chase and a foot race, the series ends on an adrenaline-fuelled high. (S5 Ep6)  [AD,S]","startTime":1683057600,"duration":3600,"svcId":1500,"evtId":24308,"image":"\/ms\/img\/epg\/rb\/5d52-7554700.l.png","hasTstv":false,"seriesNo":5,"episodeNo":6},{"name":"Gogglebox","description":"On the box this time: I\u0027m a Celebrity... South Africa, Married at First Sight Australia, Obsession, Britain\u0027s Got Talent, ITV News (government phone alarm) and more. (S21 Ep10)  [AD,S]","startTime":1683061200,"duration":3900,"svcId":1500,"evtId":20027,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":21,"episodeNo":10},{"name":"Gogglebox","description":"Britain\u0027s sharpest armchair critics have been watching The Masked Singer, Trigger Point, Pam \u0026 Tommy, First Dates: Valentine\u0027s, Mary Beard\u0027s Forgotten Art, and Dragons\u0027 Den. (S19 Ep1)  [AD,S,SL]","startTime":1683065100,"duration":3600,"svcId":1500,"evtId":20028,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":18,"episodeNo":1},{"name":"Taskmaster","description":"Frankie Boyle impresses with his falsetto. Kiell Smith-Bynoe wows everyone with his spoon retrieval abilities. And Mae Martin fakes their way into Alex Horne\u0027s wallet. (S15 Ep5\/10)  [AD,S,SL]","startTime":1683068700,"duration":3600,"svcId":1500,"evtId":24919,"image":"\/ms\/img\/epg\/rb\/5d52-7527699.l.png","hasTstv":false,"seriesNo":15,"episodeNo":5},{"name":"Late Night Lycett","description":"Joe Lycett presents a fun, frenetic finale of his late-night entertainment show, live from Birmingham, with guests Richard E Grant, Rosie Jones and Katherine Ryan. (Ep5)  [S]","startTime":1683072300,"duration":3300,"svcId":1500,"evtId":20029,"image":"\/ms\/img\/epg\/rb\/5d52-7529108.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"The Curse","description":"The 1980s-set crime comedy returns. While Mick languishes in prison, Albert, Tash and Sidney have escaped to start a new life on the Costa del Crime. (S2 Ep1\/6)  [AD,S,SL]","startTime":1683075600,"duration":1800,"svcId":1500,"evtId":24313,"image":"\/ms\/img\/epg\/rb\/5d52-7528775.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"The Curse","description":"Tash and Albert receive some unexpected visitors who threaten to upend everything they\u0027ve built in Spain. (S2 Ep2\/6)  [AD,S,SL]","startTime":1683077400,"duration":1800,"svcId":1500,"evtId":24765,"image":"\/ms\/img\/epg\/rb\/5d52-7528975.l.png","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon\u0027s in Norwalk, Ohio, for the first of two visits to the Mill Street Bistro, where the owner claims that he has the best menu between New York and LA but the diners disagree. (S6 Ep10)  [S,SL]","startTime":1683079200,"duration":3000,"svcId":1500,"evtId":20030,"image":"\/ms\/img\/epg\/rb\/5d52-385263325.l.png","hasTstv":false,"seriesNo":5,"episodeNo":11},{"name":"Jamie\u0027s One-Pan Wonders","description":"Jamie Oliver shows us how to make a foolproof traybaked salmon, super-easy tomato fritters, and roasted rolled pork with a risotto that are both cooked in the same casserole pan. (Ep3)  [AD,S]","startTime":1683082200,"duration":1500,"svcId":1500,"evtId":24768,"image":"\/ms\/img\/epg\/rb\/5d52-6399062.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"George Clarke\u0027s National Trust...","description":"...Unlocked: George visits the meticulously crafted country retreat Standen, in West Sussex, and discovers a masterpiece of Gothic Revival architecture at Tyntesfield in Somerset. (Ep4\/6)  [AD,S,SL]","startTime":1683083700,"duration":3300,"svcId":1500,"evtId":24766,"image":"\/ms\/img\/epg\/rb\/5d52-384296248.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('362');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('13');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('65');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('39');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'ibSB6WeK1HE', title: "SIDEMEN VISIT WORLD’S WEIRDEST RESTAURANTS", label: "SIDEMEN VISIT WORLD’S WEIRDEST RESTAURANTS by Sidemen 1 day ago 1 hour, 8 minutes 3,873,527 views" },
{ id: 'ILtk_pcM1vY', title: "WILD SCENES 🤯 Seven-goal thriller settled at death!  | Liverpool 4-3 Tottenham | EPL Highlights", label: "WILD SCENES 🤯 Seven-goal thriller settled at death!  | Liverpool 4-3 Tottenham | EPL Highlights by Sky Sports Premier League 1 day ago 3 minutes, 6 seconds 2,025,883 views" },
{ id: 'ycSMLK8INSY', title: "LIVE NBA Playoffs! | Golden State Warriors @ Sacramento Kings 🏀 | Game 7", label: "LIVE NBA Playoffs! | Golden State Warriors @ Sacramento Kings 🏀 | Game 7 by Sky Sports Streamed 1 day ago 2 hours, 50 minutes 235,049 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Miami.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Miami_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>7 May</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Knives Out (2019)">Knives Out (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li><li><a href="https://www.google.com/search?q=Games+-+Firewatch">Firewatch</a></li><li><a href="https://www.google.com/search?q=Games+-+Sniper Elite 4">Sniper Elite 4</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S1)">Downton Abbey (S1)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "28 April 2023 -  04 May 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/51369/lewis-capaldi/'>lewis capaldi</a>", Title: "<a href='https://www.officialcharts.com/search/singles/wish-you-the-best/'>WISH YOU THE BEST</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/316-f167OmL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/63953/libianca/'>libianca</a>", Title: "<a href='https://www.officialcharts.com/search/singles/people/'>PEOPLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/416HTM1LzFL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 173.62, tooltip: "Fri, Apr 28, 2023<br/>£173.62"},
{ number: 173.72, tooltip: "Thu, Apr 27, 2023<br/>£173.72"},
{ number: 171.70, tooltip: "Wed, Apr 26, 2023<br/>£171.70"},
{ number: 173.13, tooltip: "Tue, Apr 25, 2023<br/>£173.13"},
{ number: 174.57, tooltip: "Mon, Apr 24, 2023<br/>£174.57"},
{ number: 175.30, tooltip: "Fri, Apr 21, 2023<br/>£175.30"},
{ number: 174.67, tooltip: "Thu, Apr 20, 2023<br/>£174.67"},
{ number: 175.34, tooltip: "Wed, Apr 19, 2023<br/>£175.34"},
{ number: 176.00, tooltip: "Tue, Apr 18, 2023<br/>£176.00"},
{ number: 176.51, tooltip: "Mon, Apr 17, 2023<br/>£176.51"},
{ number: 175.17, tooltip: "Fri, Apr 14, 2023<br/>£175.17"},
{ number: 174.39, tooltip: "Thu, Apr 13, 2023<br/>£174.39"},
{ number: 173.11, tooltip: "Wed, Apr 12, 2023<br/>£173.11"},
{ number: 173.80, tooltip: "Tue, Apr 11, 2023<br/>£173.80"},
{ number: 172.94, tooltip: "Thu, Apr 06, 2023<br/>£172.94"},
{ number: 172.37, tooltip: "Wed, Apr 05, 2023<br/>£172.37"},
{ number: 172.27, tooltip: "Tue, Apr 04, 2023<br/>£172.27"},
{ number: 174.37, tooltip: "Mon, Apr 03, 2023<br/>£174.37"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Apr 28, 2023",
		"vs Day":      "Thu, Apr 27, 2023",
		"vs Week":     "Fri, Apr 21, 2023",
		"vs Month":    "Mon, Apr 03, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£173.62/share",
		'vs Day':      "-0.06%",
		'vs Week':     "-0.96%",
		'vs Month':    "-0.43%",
		'vs Year':     "+1.48%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '85.6',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 1 May and 2 May">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.856&p=0.024&r=6.229',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:34',
		Set:      '20:33',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Beltane</em> refers to the Celtic May Day festival.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23MetGala">#MetGala</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23LEIEVE">#LEIEVE</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Luca+Brecel%22">Luca Brecel</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Everton">Everton</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Iwobi">Iwobi</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23MetGala">#MetGala</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23WeAreOn">#WeAreOn</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Karl+Lagerfeld%22">Karl Lagerfeld</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Halle">Halle</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Chanel">Chanel</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>