<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:37 23-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Fifa Women\'s World Cup: England beat Haiti but given tough test in opener</b><br/>England win their opening match of the Women\'s World Cup against Haiti but are given a stern test against the tournament debutants." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/football/66265569?at_medium=RSS&amp;at_campaign=KARANGA">Fifa Women\'s World Cup: England beat Haiti but given tough test in opener</a></li><li class="ttt" data-tt="<b>Uxbridge: Keir Starmer says Labour must learn lessons of by-election defeat</b><br/>&quot;Still a long way to go,&quot; Labour leader says, after losing by-election dominated by climate policy."><a href="https://www.bbc.co.uk/news/uk-66277211?at_medium=RSS&amp;at_campaign=KARANGA">Uxbridge: Keir Starmer says Labour must learn lessons of by-election defeat</a></li><li class="ttt" data-tt="<b>Merthyr Tydfil: Ffos-y-Fran mine accused of licence breach</b><br/>Ffos-y-Fran produces two-thirds of the UK\'s coal and was supposed to close in September."><a href="https://www.bbc.co.uk/news/uk-wales-66270624?at_medium=RSS&amp;at_campaign=KARANGA">Merthyr Tydfil: Ffos-y-Fran mine accused of licence breach</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/football/66265569?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/3514/production/_130488531_0823ddce5f0f119e3c2a2043989bfb4a09ff0ea4.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump Mar-a-Lago classified files case: Judge sets 20 May trial date</b><br/>A judge rejects Mr Trump\'s bid to have the case delayed until after next year\'s White House election." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66272153?at_medium=RSS&amp;at_campaign=KARANGA">Trump Mar-a-Lago classified files case: Judge sets 20 May trial date</a></li><li class="ttt" data-tt="<b>Nebraska teen jailed for illegal disposal of her aborted foetus</b><br/>The Nebraska woman pleaded guilty to to illegally concealing human remains after she had an abortion."><a href="https://www.bbc.co.uk/news/world-us-canada-66271537?at_medium=RSS&amp;at_campaign=KARANGA">Nebraska teen jailed for illegal disposal of her aborted foetus</a></li><li class="ttt" data-tt="<b>Senator releases FBI source\'s claim of Biden bribes from Ukraine</b><br/>The FBI deemed the informant &quot;highly credible&quot;, but top Republicans concede the claim is unverified."><a href="https://www.bbc.co.uk/news/world-us-canada-66272217?at_medium=RSS&amp;at_campaign=KARANGA">Senator releases FBI source\'s claim of Biden bribes from Ukraine</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66272153?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/62FA/production/_130483352_gettyimages-1526632903.jpg" class="ttt" data-tt="Former President Donald Trump" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Greece fires: Thousands flee homes and hotels on Rhodes as fires spread</b><br/>Greece\'s deputy fire chief says the island\'s fires are the most difficult his service is now facing." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-66279520?at_medium=RSS&amp;at_campaign=KARANGA">Greece fires: Thousands flee homes and hotels on Rhodes as fires spread</a></li><li class="ttt" data-tt="<b>Wagner mutiny: Junior commander reveals his role in the challenge to Putin</b><br/>A junior commander says lower-ranking mercenaries had no idea what was happening during the rebellion."><a href="https://www.bbc.co.uk/news/world-europe-66247915?at_medium=RSS&amp;at_campaign=KARANGA">Wagner mutiny: Junior commander reveals his role in the challenge to Putin</a></li><li class="ttt" data-tt="<b>Cambodia election: Polls open in vote with no credible opposition</b><br/>Voters going to the ballots say they are certain Hun Sen\'s ruling party will sweep all seats again."><a href="https://www.bbc.co.uk/news/world-asia-66264726?at_medium=RSS&amp;at_campaign=KARANGA">Cambodia election: Polls open in vote with no credible opposition</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-66279520?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/E54A/production/_130489685_mediaitem130489684.jpg" class="ttt" data-tt="Fire in the sky above a building in Rhodes" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Hungarian Grand Prix: Lewis Hamilton beats Max Verstappen to take his first pole since 2021</b><br/>Lewis Hamilton beats Max Verstappen in Hungarian Grand Prix qualifying to take his first pole position since the penultimate race of the 2021 season." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66278958?at_medium=RSS&amp;at_campaign=KARANGA">Hungarian Grand Prix: Lewis Hamilton beats Max Verstappen to take his first...</a></li><li class="ttt" data-tt="<b>F1 Hungarian Grand Prix 2023 practice, qualifying and race start times</b><br/>The 2023 Formula 1 season heads to the Hungaroring for the Hungarian Grand Prix - listen to BBC radio commentary and follow live text updates."><a href="https://www.bbc.co.uk/sport/formula1/66082301?at_medium=RSS&amp;at_campaign=KARANGA">F1 Hungarian Grand Prix 2023 practice, qualifying and race start times</a></li><li class="ttt" data-tt="<b>Hungarian Grand Prix: Lewis Hamilton unhappy with his Mercedes as Charles Leclerc fastest</b><br/>Lewis Hamilton says his Mercedes felt &quot;at its worst&quot; as he set the 16th-fastest time in Friday practice at the Hungarian Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/66272977?at_medium=RSS&amp;at_campaign=KARANGA">Hungarian Grand Prix: Lewis Hamilton unhappy with his Mercedes as Charles L...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66278958?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/17515/production/_130490559_hamilton_celeb_reuters2.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Seven AI companies agree to safeguards in the US</b><br/>White House says it\'s a \'critical step\' towards the responsible development of the technology." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66271429?at_medium=RSS&amp;at_campaign=KARANGA">Seven AI companies agree to safeguards in the US</a></li><li class="ttt" data-tt="<b>Warcraft fans trick AI article bot with Glorbo hoax</b><br/>The game\'s Reddit community was buzzing with excitement about a new feature... that doesn\'t exist."><a href="https://www.bbc.co.uk/news/newsbeat-66266344?at_medium=RSS&amp;at_campaign=KARANGA">Warcraft fans trick AI article bot with Glorbo hoax</a></li><li class="ttt" data-tt="<b>AI will \'lead to more games being made and more jobs\'</b><br/>Games have been using forms of AI for years, but what does the industry think of the latest tech?"><a href="https://www.bbc.co.uk/news/entertainment-arts-66058906?at_medium=RSS&amp;at_campaign=KARANGA">AI will \'lead to more games being made and more jobs\'</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66271429?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/45A4/production/_130482871_gettyimages-1527996138.jpg" class="ttt" data-tt="Joe Biden" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"17 Jul – 23 Jul","date":16900704E5,"ts":"Sun, 23","ds":"Sun, 23 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":21,"templow":15,"cf":21,"wind":14,"wd":240,"hum":69,"pc":70,"rain":6},{"hl":true,"hls":"24 Jul – 30 Jul","date":16901568E5,"ts":"Mon, 24","ds":"Mon, 24 Jul","icon":33,"desc":"Rain showers. Overcast.","temp":17,"templow":12,"cf":16,"wind":10,"wd":340,"hum":73,"pc":73,"rain":7.9 },{"date":16902432E5,"ts":"Tue, 25","ds":"Tue, 25 Jul","icon":18,"desc":"Sprinkles late. Cloudy.","temp":18,"templow":10,"cf":18,"wind":8,"wd":290,"hum":56,"pc":46,"rain":1.4 },{"date":16903296E5,"ts":"Wed, 26","ds":"Wed, 26 Jul","icon":33,"desc":"Showers late. Increasing cloudiness.","temp":19,"templow":9,"cf":19,"wind":10,"wd":210,"hum":68,"pc":55,"rain":2.6 },{"date":1690416E6,"ts":"Thu, 27","ds":"Thu, 27 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":15,"cf":21,"wind":15,"wd":210,"hum":83,"pc":71,"rain":8},{"date":16905024E5,"ts":"Fri, 28","ds":"Fri, 28 Jul","icon":7,"desc":"Cloudy.","temp":20,"templow":14,"cf":20,"wind":15,"wd":250,"hum":54,"pc":18,"rain":0.2 },{"date":16905888E5,"ts":"Sat, 29","ds":"Sat, 29 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":20,"templow":12,"cf":20,"wind":14,"wd":230,"hum":64,"pc":14,"rain":0.2 },{"date":16906752E5,"ts":"Sun, 30","ds":"Sun, 30 Jul","icon":33,"desc":"Passing showers. Cloudy.","temp":20,"templow":13,"cf":20,"wind":10,"wd":260,"hum":67,"pc":53,"rain":2.9 },{"hl":true,"hls":"31 Jul – 6 Aug","date":16907616E5,"ts":"Mon, 31","ds":"Mon, 31 Jul","icon":33,"desc":"Showers early. Overcast.","temp":21,"templow":14,"cf":24,"wind":17,"wd":240,"hum":66,"pc":53,"rain":1.4 },{"date":1690848E6,"ts":"Tue, 1","ds":"Tue, 1 Aug","icon":33,"desc":"Showers late. Broken clouds.","temp":22,"templow":14,"cf":25,"wind":11,"wd":270,"hum":44,"pc":53,"rain":1.6 },{"date":16909344E5,"ts":"Wed, 2","ds":"Wed, 2 Aug","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":22,"templow":15,"cf":23,"wind":15,"wd":230,"hum":71,"pc":59,"rain":2.4 },{"date":16910208E5,"ts":"Thu, 3","ds":"Thu, 3 Aug","icon":21,"desc":"Isolated tstorms. Overcast.","temp":21,"templow":15,"cf":21,"wind":8,"wd":0,"hum":87,"pc":58,"rain":3.5 },{"date":16911072E5,"ts":"Fri, 4","ds":"Fri, 4 Aug","icon":18,"desc":"Light rain early. Broken clouds.","temp":20,"templow":15,"cf":20,"wind":8,"wd":320,"hum":50,"pc":63,"rain":4},{"date":16911936E5,"ts":"Sat, 5","ds":"Sat, 5 Aug","icon":6,"desc":"Mostly cloudy.","temp":20,"templow":15,"cf":20,"wind":8,"wd":280,"hum":46,"pc":5},{"date":169128E7,"ts":"Sun, 6","ds":"Sun, 6 Aug","icon":33,"desc":"Showers late. Cloudy.","temp":19,"templow":13,"cf":19,"wind":9,"wd":210,"hum":52,"pc":47,"rain":1.3 }],"grid":{"temp":{"low":9,"high":22,"range":13},"prec":{"high":8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2307/AldrinVisorCrop_Apollo11_1080.jpg',
		Title:     'Apollo 11: Armstrong\'s Lunar Selfie',
		LinkImage: 'https://apod.nasa.gov/apod/image/2307/AldrinVisor_Apollo11_4096.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230722.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Scarlet_Robin_female_-_Blackheath.jpg/350px-Scarlet_Robin_female_-_Blackheath.jpg',
		Title:    'Scarlet robin',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Scarlet_robin',
		Description: '    The <b><a href="/wiki/Scarlet_robin" title="Scarlet robin">scarlet robin</a></b> (<i>Petroica boodang</i>)  is a red-breasted <a href="/wiki/Passerine" title="Passerine">passerine</a> bird in the <i>Petroicidae</i> family (the <a href="/wiki/Australasian_robin" title="Australasian robin">Australasian robins</a>). The species is found on continental Australia and its offshore islands, including Tasmania. With a length of 12 to 13.5 cm and a mass between 12 and 14 g, the male scarlet robin is black on the head, back and tail, and has a white belly and scarlet breast, with black and white wings. The female matches the male in pattern, but is duller, with brown plumage instead of black and a much more washed-out red on the breast. The scarlet robin feeds on arthropods, such as insects and spiders, adjusting its foraging behaviour seasonally – it feeds mostly on the ground during the winter, but during the summer and spring prey is more commonly snatched from bark and foliage. It is a territorial and monogamous species and defends its nesting territories both from others of the same species and from pairs of the related <a href="/wiki/Flame_robin" title="Flame robin">flame robin</a>. This female scarlet robin was photographed in <a href="/wiki/Blackheath,_New_South_Wales" title="Blackheath, New South Wales">Blackheath, New South Wales</a>, Australia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:JJ_Harrison" title="User:JJ Harrison">JJ Harrison</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1690077600,"duration":9900,"svcId":700,"evtId":8621,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"MOTD Live: Sweden v South Africa","description":"Alex Scott is joined by Rachel Brown-Finnis and Jonas Eidevall for the first game in Group G, between Sweden and South Africa in Wellington. Commentary from Conor McNamara and Sue Smith. [S] [HD]","startTime":1690087500,"duration":900,"svcId":700,"evtId":8622,"image":"\/ms\/img\/epg\/rb\/8df1-p0g1vbr0.jpg","hasTstv":false},{"name":"MOTD Live: Sweden v South Africa","description":"Alex Scott is joined by Rachel Brown-Finnis and Jonas Eidevall for the first game in Group G, between Sweden and South Africa in Wellington. Commentary from Conor McNamara and Sue Smith. [S] [HD]","startTime":1690088400,"duration":7200,"svcId":700,"evtId":8580,"image":"\/ms\/img\/epg\/rb\/8df1-p0g1vbr0.jpg","hasTstv":false},{"name":"The A to Z of TV Gardening","description":"22\/28. Carol Kirkwood is exploring a subject that begins with the letter Q, as we take a rare and tranquil look at the gardens at Buckingham Palace, an oasis in the heart of the capital. [S]","startTime":1690095600,"duration":900,"svcId":700,"evtId":8581,"image":"\/ms\/img\/epg\/rb\/8df1-p08vr632.jpg","hasTstv":false,"seriesNo":2,"episodeNo":22},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1690096500,"duration":2700,"svcId":700,"evtId":8582,"image":"\/ms\/img\/epg\/rb\/8df1-p0fxfnwr.jpg","hasTstv":false},{"name":"Beechgrove Garden","description":"16\/26. Kirsty and Carole thin out the bamboo next to the pond and plant up a hanging basket full of herbs. [S] [HD]","startTime":1690099200,"duration":1800,"svcId":700,"evtId":8583,"image":"\/ms\/img\/epg\/rb\/8df1-p0g1dj52.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689881398,"availabilityEnd":2043032340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001nyvk\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":16},{"name":"Life in a Cottage Garden with...","description":"...Carol Klein. 1\/6. Series following a year in Carol Klein\u0027s garden at Glebe Cottage. In January and February, the frosts of a hard winter have not yet released their grip on the garden. [S,AD] [HD]","startTime":1690101000,"duration":1800,"svcId":700,"evtId":8584,"image":"\/ms\/img\/epg\/rb\/8df1-p092d332.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Saturday Kitchen Best Bites","description":"Matt Tebbutt takes a look back at some of his favourite recipes and best moments from Saturday Kitchen. [S] [HD]","startTime":1690102800,"duration":5400,"svcId":700,"evtId":8585,"image":"\/ms\/img\/epg\/rb\/8df1-p0476l29.jpg","hasTstv":false,"seriesNo":2023},{"name":"Pizza Boys","description":"2\/5. Pizza chefs Jez and Ieuz continue their adventure across Europe. In San Sebastian, they tour the city\u0027s best tabernas, sampling pintxos. Next Bordeaux which means one thing: wine! [S] [HD]","startTime":1690108200,"duration":1800,"svcId":700,"evtId":8586,"image":"\/ms\/img\/epg\/rb\/8df1-p096v8kf.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Cleopatra","description":"Historical epic about the life and times of the legendary Queen of the Nile, filmed as a dazzling spectacle starring Elizabeth Taylor and Richard Burton. [1963] [S] [HD]","startTime":1690110000,"duration":14100,"svcId":700,"evtId":8587,"image":"\/ms\/img\/epg\/rb\/8df1-p047vpym.jpg","hasTstv":false},{"name":"Flog It!","description":"Paul Martin presents from Wolverhampton Art Gallery, where he finds out about the life of one of the city\u0027s most famous sons, footballer Billy Wright. [S] [HD]","startTime":1690124100,"duration":2100,"svcId":700,"evtId":8588,"image":"\/ms\/img\/epg\/rb\/8df1-p04fmbxk.jpg","hasTstv":false,"seriesNo":15,"episodeNo":6},{"name":"Rugby League Challenge Cup:...","description":"...Wigan Warriors v Hull KR. Coverage from rugby league\u0027s most prestigious knockout tournament as defending champions Wigan take on a Hull KR side beaten in last year\u0027s semi-finals. [S] [HD]","startTime":1690126200,"duration":9000,"svcId":700,"evtId":8589,"image":"\/ms\/img\/epg\/rb\/8df1-p0g255vs.jpg","hasTstv":false,"seriesNo":2023},{"name":"Today at the Test: England v...","description":"...Australia. Highlights from the fifth day of the Fourth Test of the 2023 men\u0027s Ashes. [S] [HD]","startTime":1690135200,"duration":3600,"svcId":700,"evtId":8590,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv1s7r.jpg","hasTstv":false,"seriesNo":8},{"name":"Golf: The Open Highlights 2023","description":"Highlights of the final day\u0027s play at Royal Liverpool, with the world\u0027s best male golfers battling it out to lift the famous Claret Jug. [S] [HD]","startTime":1690138800,"duration":7200,"svcId":700,"evtId":8591,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0grdh.jpg","hasTstv":false,"seriesNo":2023},{"name":"Louis Theroux\u0027s Forbidden...","description":"...America: Rap\u0027s New Frontline. 2\/3. Louis Theroux heads to Florida to immerse himself in the world of rap. Contains strong language. [S,AD] [HD]","startTime":1690146000,"duration":3600,"svcId":700,"evtId":8592,"image":"\/ms\/img\/epg\/rb\/8df1-p0bppbtm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1646961470,"availabilityEnd":1740088800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014sd1\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. 2\/4. In Mongolia, Rom visits an energy centre in the middle of the desert. Contains some strong language. [S,AD] [HD]","startTime":1690149600,"duration":3600,"svcId":700,"evtId":8593,"image":"\/ms\/img\/epg\/rb\/8df1-p07j7s0q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1647324000,"availabilityEnd":1710482340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0007f0p\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":2},{"name":"Couples Therapy","description":"10\/18. Four new couples begin sessions with Dr Orna Guralnik. Contains some strong language. [S] [HD]","startTime":1690153200,"duration":1800,"svcId":700,"evtId":8594,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0qwkz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689829200,"availabilityEnd":1752987600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fvkf3g\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":10},{"name":"Couples Therapy","description":"11\/18. Christine\u0027s childhood PTSD surfaces. Josh\u0027s sexual frustration boils over. Contains very strong language. [S] [HD]","startTime":1690155000,"duration":1800,"svcId":700,"evtId":8595,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0qxt3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689829200,"availabilityEnd":1752987600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fvkfm0\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":11},{"name":"Joe Swash: Teens in Care","description":"Documentary that follows Joe Swash as he explores the stories of teens in care over the age of 16, the largest-growing cohort in both child protection and care. [S,AD,SL] [HD]","startTime":1690156800,"duration":3600,"svcId":700,"evtId":8596,"image":"\/ms\/img\/epg\/rb\/8df1-p0fysw6f.jpg","hasTstv":false},{"name":"Garden Rescue","description":"3\/35. Charlie and Chris are in Hereford to create a low\/no-carbon garden for Eleanor, Rob and their two children. [S,SL] [HD]","startTime":1690160400,"duration":2700,"svcId":700,"evtId":8597,"image":"\/ms\/img\/epg\/rb\/8df1-p0frd5cn.jpg","hasTstv":false,"seriesNo":8,"episodeNo":3},{"name":"Money for Nothing","description":"2\/20. Upcycling aficionado Jacqui Joseph is in Beaconsfield, scouring the recycling centre for items that can be given a new lease of life rather than ending up in the skips. [S,SL] [HD]","startTime":1690163100,"duration":2700,"svcId":700,"evtId":8598,"image":"\/ms\/img\/epg\/rb\/8df1-p0fm7nh2.jpg","hasTstv":false,"seriesNo":14,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1690165800,"duration":10800,"svcId":700,"evtId":8599,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Hollyoaks Omnibus","description":"John Paul is injured during a homophobic attack at The Loft. Cindy is hospitalised as she struggles with her mental health. And Yazz lashes out as her and Tom\u0027s marriage is under strain.  [AD,S,SL]","startTime":1690079700,"duration":7800,"svcId":1500,"evtId":30525,"image":"\/ms\/img\/epg\/rb\/5d52-7898231.l.png","hasTstv":false},{"name":"Beat the Chef","description":"Andi Oliver hosts, as home cook Abbi Simms takes on chef Hrishikesh Desai with her sweet potato gnocchi. But can she master chef\u0027s posh pie to earn her crust and scoop the prize? (S2 Ep7)  [S]","startTime":1690087500,"duration":1500,"svcId":1500,"evtId":31290,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":7},{"name":"Cheers","description":"An Old-Fashioned Wedding Part 2: Woody and Kelly put on a brave face as their big day is hit by disasters involving the guests, the priest, the kitchen staff and the cake. (S10 Ep26\/26)  [S]","startTime":1690089000,"duration":1500,"svcId":1500,"evtId":30777,"image":"\/ms\/img\/epg\/rb\/5d52-610106.l.png","hasTstv":false,"seriesNo":10,"episodeNo":26},{"name":"Cheers","description":"The Little Match Girl: Rebecca accidentally sets fire to the bar with a discarded cigarette end. Plagued by guilt, she lies to Sam, telling him that faulty wiring is to blame. (S11 Ep1\/28)  [S]","startTime":1690090500,"duration":1500,"svcId":1500,"evtId":30778,"image":"\/ms\/img\/epg\/rb\/5d52-142858.l.png","hasTstv":false,"seriesNo":11,"episodeNo":1},{"name":"Cheers","description":"The Beer Is Always Greener: While Cheers is being redecorated, Norm, Cliff and the regulars are seduced by another bar. Is Woody and Kelly\u0027s marriage on the rocks? (S11 Ep2\/28)  [S]","startTime":1690092000,"duration":1800,"svcId":1500,"evtId":30779,"image":"\/ms\/img\/epg\/rb\/5d52-144765.l.png","hasTstv":false,"seriesNo":11,"episodeNo":2},{"name":"The King of Queens","description":"Shear Torture: Carrie is suspicious about Doug\u0027s frequent visits to the hairdresser. (S8 Ep6\/23)  [AD,S]","startTime":1690093800,"duration":1800,"svcId":1500,"evtId":31331,"image":"\/ms\/img\/epg\/rb\/5d52-386529426.l.png","hasTstv":false,"seriesNo":8,"episodeNo":6},{"name":"The King of Queens","description":"Inn Escapable: Doug and Carrie pay a stressful visit to a bed and breakfast. Arthur has a romantic dilemma. (S8 Ep7\/23)  [AD,S]","startTime":1690095600,"duration":1800,"svcId":1500,"evtId":30781,"image":"\/ms\/img\/epg\/rb\/5d52-386531668.l.png","hasTstv":false,"seriesNo":8,"episodeNo":7},{"name":"Bake Off: The Professionals","description":"It\u0027s chocolate week. The four remaining teams create chocolate-domed figurines, totally-nuts desserts, and archaeology-themed chocolate bars. (S6 Ep3\/10)  [AD,S]","startTime":1690097400,"duration":3600,"svcId":1500,"evtId":30780,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":6,"episodeNo":3},{"name":"Live: Sunday Brunch","description":"Andi Osho talks about her new book. Jaime Winstone chats about the horror play 2:22. Plus: comedy legend Nigel Planer, musician Cian Ducrot, Andrew Mensah and live music from Teddy Swims. [S,W]","startTime":1690101000,"duration":10800,"svcId":1500,"evtId":30782,"image":"\/ms\/img\/epg\/rb\/5d52-7898284.l.png","hasTstv":false},{"name":"The Simpsons","description":"New Kids on the Blecch: After cheating in the Springfield Marathon, Bart is rescued from an angry mob by a record producer and is recruited for a new boy band. (S12 Ep14\/21)  [AD,S]","startTime":1690111800,"duration":1800,"svcId":1500,"evtId":30784,"image":"\/ms\/img\/epg\/rb\/5d52-1187744.l.png","hasTstv":false,"seriesNo":12,"episodeNo":14},{"name":"The Simpsons","description":"Simpson Safari: The Simpsons win a holiday to Africa. But when Homer enrages a hippo, the trip soon becomes a dangerous adventure... (S12 Ep17\/21)  [AD,S]","startTime":1690113600,"duration":1800,"svcId":1500,"evtId":30785,"image":"\/ms\/img\/epg\/rb\/5d52-1233927.l.png","hasTstv":false,"seriesNo":12,"episodeNo":17},{"name":"The Simpsons","description":"I\u0027m Goin\u0027 to Praiseland: Ned opens a Christian amusement park. At first, the tame religious attractions are unpopular. But then visitors start to have visions... (S12 Ep19)  [AD,S]","startTime":1690115400,"duration":1500,"svcId":1500,"evtId":30786,"image":"\/ms\/img\/epg\/rb\/5d52-1266654.l.png","hasTstv":false,"seriesNo":12,"episodeNo":19},{"name":"The Simpsons","description":"Hungry Hungry Homer: Homer goes on hunger strike when he discovers that the Springfield Isotopes baseball team are planning to move to Albuquerque. (S12 Ep15\/21)  [AD,S]","startTime":1690116900,"duration":1800,"svcId":1500,"evtId":30787,"image":"\/ms\/img\/epg\/rb\/5d52-1202267.l.png","hasTstv":false,"seriesNo":12,"episodeNo":15},{"name":"Madagascar: Escape 2 Africa","description":"(2008) Animated family sequel. Alex the lion and friends end up stranded in continental Africa, where they learn some harsh lessons. With the voices of Ben Stiller and Chris Rock.  [AD,S]","startTime":1690118700,"duration":6300,"svcId":1500,"evtId":30788,"image":"\/ms\/img\/epg\/rb\/5d52-29919437.l.png","hasTstv":false},{"name":"The Secret Life of the Zoo","description":"Golden poison frog Pablo has lost interest in his partner Maria, so bad boy El Loco is brought in to shake things up. Baby porcupine Marion faces the meerkat mob. Plus: chimps. (S4 Ep8\/10)  [AD,S]","startTime":1690125000,"duration":2700,"svcId":1500,"evtId":30789,"image":"\/ms\/img\/epg\/rb\/5d52-7898313.l.png","hasTstv":false},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: In Surrey, Abi and her daughter Maddy\u0027s Victorian cottage isn\u0027t working for them. Will Phil\u0027s fabulous houses win them over, or could Kirstie\u0027s renovation clinch it? (S7 Ep8)  [AD,S]","startTime":1690127700,"duration":3900,"svcId":1500,"evtId":31210,"image":"\/ms\/img\/epg\/rb\/5d52-5431394.l.png","hasTstv":false,"seriesNo":7,"episodeNo":8},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1690131600,"duration":1800,"svcId":1500,"evtId":30790,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"F1 Hungarian GP Highlights","description":"Max Verstappen will start favourite as he goes for his sixth straight victory. But can Lando Norris build on his fantastic second at Silverstone last time out? Lee McKenzie presents.  [S]","startTime":1690133400,"duration":9000,"svcId":1500,"evtId":30791,"image":"\/ms\/img\/epg\/rb\/5d52-7898322.l.png","hasTstv":false},{"name":"New: Our Guy in Colombia","description":"Guy Martin explores Colombia at street level to find out what makes the country tick. After experiencing kidnap, torture and getting shot, he tries to buy some drugs in Medellin. (Ep1\/2)  [AD,S]","startTime":1690142400,"duration":3600,"svcId":1500,"evtId":30792,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Celebrity Gogglebox","description":"Hitting the sofa for Too Hot to Handle, Only Connect, 90 Day Fianc\u00e9 UK and Smile are Denise van Outen, Mo Gilligan, Paul Sinha, Scott Mills, Judi Love and Lucy Beaumont. (S5 Ep6)  [AD,S]","startTime":1690146000,"duration":3600,"svcId":1500,"evtId":30793,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":5,"episodeNo":6},{"name":"New: Queer as Folk US","description":"Babylon: US reimagining of the 1999 Channel 4 drama. A group of friends\u0027 lives are transformed by a shooting at a gay nightclub in New Orleans. (Ep1\/8)  [AD,S]","startTime":1690149600,"duration":4200,"svcId":1500,"evtId":30794,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Queer as Folk US","description":"Blocked: The gang struggle to regain a sense of normality. Julian moves in with Brodie and a deeply hurt Noah. Mingus\u0027 crush grows, and Shar and Ruthie host a sip and see party. (Ep2\/8)  [AD,S]","startTime":1690153800,"duration":3000,"svcId":1500,"evtId":30795,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"The Girl in the Spider\u0027s Web","description":"(2018) Adults-only crime-thriller. Claire Foy stars as Stieg Larsson\u0027s Lisbeth Salander, who is hired to recover nuclear code from the NSA. Strong language and violence\/upsetting scenes.  [AD,S]","startTime":1690156800,"duration":6900,"svcId":1500,"evtId":30796,"image":"\/ms\/img\/epg\/rb\/5d52-3024267.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"West Midlands. The first host, teaching assistant Sunita, plans to stimulate her guests\u0027 taste buds with an authentic Punjabi feast full of big portions and bold flavours. (Ep1\/5)  [AD,S]","startTime":1690163700,"duration":1500,"svcId":1500,"evtId":30798,"image":"\/ms\/img\/epg\/rb\/5d52-3872094.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"West Midlands. Half-Egyptian property investor Liz treats her guests to a taste of the Middle East, on a night featuring startling revelations and high-energy entertainment. (Ep2\/5)  [AD,S]","startTime":1690165200,"duration":1500,"svcId":1500,"evtId":30799,"image":"\/ms\/img\/epg\/rb\/5d52-3872416.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"West Midlands. On a fun-filled night, model George asks his guests to come dressed as his favourite word - fabulous - and serves up a mixture of Greek, Caribbean and Italian food. (Ep3\/5)  [AD,S]","startTime":1690166700,"duration":1500,"svcId":1500,"evtId":30800,"image":"\/ms\/img\/epg\/rb\/5d52-3872826.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"West Midlands. Social worker Tutsi serves up Zimbabwean and English dishes, and there\u0027s a very mixed reaction to the surprise worm course. But one guest is harbouring a grudge... (Ep4\/5)  [AD,S]","startTime":1690168200,"duration":1500,"svcId":1500,"evtId":30801,"image":"\/ms\/img\/epg\/rb\/5d52-3874302.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"West Midlands. Dark horse Digby plans an evening of fine dining. But his biggest challenge may be keeping the peace between his guests... (Ep5\/5)  [AD,S]","startTime":1690169700,"duration":1500,"svcId":1500,"evtId":30802,"image":"\/ms\/img\/epg\/rb\/5d52-3874413.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('50');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('96');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'cfX1QlfxTBI', title: "The Drake \u0026 Central Cee \&quot;On The Radar\&quot; Freestyle", label: "The Drake \u0026 Central Cee \&quot;On The Radar\&quot; Freestyle by On The Radar Radio 1 day ago 4 minutes, 54 seconds 3,017,540 views" },
{ id: '7GqFWaC6C68', title: "HIGHLIGHTS from Lionel Messi’s Inter Miami debut vs. Cruz Azul | ESPN FC", label: "HIGHLIGHTS from Lionel Messi’s Inter Miami debut vs. Cruz Azul | ESPN FC by ESPN FC 21 hours ago 4 minutes, 5 seconds 3,339,876 views" },
{ id: 'Fe7XoPrUFIA', title: "ONE PIECE | Official Trailer | Netflix", label: "ONE PIECE | Official Trailer | Netflix by Netflix 22 hours ago 3 minutes, 8 seconds 3,709,727 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Belgium.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Belgian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>30 July</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Rear Window (1954)">Rear Window (1954)</a></li><li><a href="https://www.google.com/search?q=Films+-+Heavenly Creatures (1994)">Heavenly Creatures (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Us (2019)">Us (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Card Shark (2022)">Card Shark (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert (2020)">Command & Conquer: Red Alert (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs (2021)">100 Hidden Frogs (2021)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2014, S5)">Downton Abbey (2014, S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2013, S4)">Downton Abbey (2013, S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2012, S3)">Downton Abbey (2012, S3)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 181.75, tooltip: "Fri, Jul 21, 2023<br/>£181.75"},
{ number: 181.77, tooltip: "Thu, Jul 20, 2023<br/>£181.77"},
{ number: 182.34, tooltip: "Wed, Jul 19, 2023<br/>£182.34"},
{ number: 179.33, tooltip: "Tue, Jul 18, 2023<br/>£179.33"},
{ number: 178.30, tooltip: "Mon, Jul 17, 2023<br/>£178.30"},
{ number: 177.60, tooltip: "Fri, Jul 14, 2023<br/>£177.60"},
{ number: 177.74, tooltip: "Thu, Jul 13, 2023<br/>£177.74"},
{ number: 177.34, tooltip: "Wed, Jul 12, 2023<br/>£177.34"},
{ number: 176.65, tooltip: "Tue, Jul 11, 2023<br/>£176.65"},
{ number: 176.27, tooltip: "Mon, Jul 10, 2023<br/>£176.27"},
{ number: 175.67, tooltip: "Fri, Jul 07, 2023<br/>£175.67"},
{ number: 177.33, tooltip: "Thu, Jul 06, 2023<br/>£177.33"},
{ number: 179.30, tooltip: "Wed, Jul 05, 2023<br/>£179.30"},
{ number: 179.97, tooltip: "Tue, Jul 04, 2023<br/>£179.97"},
{ number: 180.41, tooltip: "Mon, Jul 03, 2023<br/>£180.41"},
{ number: 179.41, tooltip: "Fri, Jun 30, 2023<br/>£179.41"},
{ number: 179.00, tooltip: "Thu, Jun 29, 2023<br/>£179.00"},
{ number: 178.60, tooltip: "Wed, Jun 28, 2023<br/>£178.60"},
{ number: 176.52, tooltip: "Tue, Jun 27, 2023<br/>£176.52"},
{ number: 175.48, tooltip: "Mon, Jun 26, 2023<br/>£175.48"},
{ number: 175.84, tooltip: "Fri, Jun 23, 2023<br/>£175.84"},
{ number: 177.15, tooltip: "Thu, Jun 22, 2023<br/>£177.15"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 21, 2023",
		"vs Day":      "Thu, Jul 20, 2023",
		"vs Week":     "Fri, Jul 14, 2023",
		"vs Month":    "Thu, Jun 22, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£181.75/share",
		'vs Day':      "-0.01%",
		'vs Week':     "+2.34%",
		'vs Month':    "+2.60%",
		'vs Year':     "+7.39%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '22.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-crescent.html" title="Waxing Crescent on the night between 22 July and 23 July">Waxing Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.229&p=6.061&r=6.068',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:12',
		Set:      '21:11',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Illustrious</em> describes a person or deed that is highly admired and respected.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Coutts">Coutts</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Edwin">Edwin</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23NUFC">#NUFC</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23DanWoottonExposed">#DanWoottonExposed</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23WAshes">#WAshes</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22Jack+Smith%22">Jack Smith</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23SkylosFairLaunch">#SkylosFairLaunch</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23TrumpIndictment">#TrumpIndictment</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23ProtectMyFreedomToVote">#ProtectMyFreedomToVote</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Subway">Subway</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>