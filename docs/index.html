<!DOCTYPE html>
<html lang="en">
	<head>
		<title>10:40 4-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Nigel Farage calls for \'zero\' net migration as Tories pledge new visa cap</b><br/>The Conservatives plan an annual vote on visa numbers - but Home Secretary James Cleverly won\'t commit to a specific target." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/live/uk-politics-69088663">Nigel Farage calls for \'zero\' net migration as Tories pledge new visa cap</a></li><li class="ttt" data-tt="<b>Lib Dems pledge free personal care for adults</b><br/>The party wants to tackle the shortage of workers by introducing a carer\'s minimum wage, at £2 above the standard."><a href="https://www.bbc.com/news/articles/cjmmww3ne8wo">Lib Dems pledge free personal care for adults</a></li><li class="ttt" data-tt="<b>Abandoned baby Elsa is third newborn to be deserted by same parents</b><br/>DNA tests have confirmed all three infants found in east London are full siblings, the BBC can report."><a href="https://www.bbc.com/news/articles/c5115e7k2eno">Abandoned baby Elsa is third newborn to be deserted by same parents</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/live/uk-politics-69088663"><img src="https://m.files.bbci.co.uk/modules/bbc-morph-news-waf-page-meta/5.3.0/bbc_news_logo.png"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Biden walks difficult tightrope as son\'s gun trial begins</b><br/>The president has &quot;boundless love&quot; for his son but Hunter\'s problems are being aired at a politically sensitive time." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cjmmw8g217zo">Biden walks difficult tightrope as son\'s gun trial begins</a></li><li class="ttt" data-tt="<b>The billionaires rallying behind Trump after his conviction</b><br/>The Trump campaign has seen upticks in fundraising during pivotal moments of his legal battles."><a href="https://www.bbc.com/news/articles/ckvvlv3lewxo">The billionaires rallying behind Trump after his conviction</a></li><li class="ttt" data-tt="<b>White House expected to unveil sweeping immigration order</b><br/>Immigration is a top issue for many voters, and a possible threat to Biden\'s reelection chances."><a href="https://www.bbc.com/news/articles/c7227y6nqzmo">White House expected to unveil sweeping immigration order</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cjmmw8g217zo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3271/live/98cfad30-2206-11ef-a13a-0b8c563da930.jpg" class="ttt" data-tt="Joe and Hunter Biden seen together in April 2024" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Modi hopes for India election landslide fading, early trends suggest</b><br/>PM Narendra Modi\'s party leads in early counting but the opposition is doing better than expected." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/live/world-asia-india-69072275">Modi hopes for India election landslide fading, early trends suggest</a></li><li class="ttt" data-tt="<b>Gaza ceasefire plan turns into deadly game of survival</b><br/>The plan outlined by President Biden could end the war, but both sides want to get their way."><a href="https://www.bbc.com/news/articles/c6ppn8nyv1do">Gaza ceasefire plan turns into deadly game of survival</a></li><li class="ttt" data-tt="<b>British bank accused of helping to fund terrorists</b><br/>Standard Chartered carried out billions of dollars of transactions for terrorist funders, US court papers claim."><a href="https://www.bbc.com/news/articles/cd11j09q2llo">British bank accused of helping to fund terrorists</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/live/world-asia-india-69072275"><img src="https://m.files.bbci.co.uk/modules/bbc-morph-news-waf-page-meta/5.3.0/bbc_news_logo.png"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>F1 Q&A: Who will be future world champions?</b><br/>BBC Sport F1 correspondent Andrew Benson answers your questions before the Canadian Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/crgg4zjrkpdo">F1 Q&A: Who will be future world champions?</a></li><li class="ttt" data-tt="<b>Ocon to split with Alpine at end of season</b><br/>Esteban Ocon is to leave Alpine at the end of the year after five seasons with the French team."><a href="https://www.bbc.com/sport/formula1/articles/c511lx5yqq6o">Ocon to split with Alpine at end of season</a></li><li class="ttt" data-tt="<b>Canadian GP race times, weather & BBC coverage</b><br/>Round nine of the 2024 Formula 1 season heads to Circuit Gilles Villeneuve for the Canadian Grand Prix - how to follow on the BBC."><a href="https://www.bbc.com/sport/formula1/articles/c9998zd1yexo">Canadian GP race times, weather & BBC coverage</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/crgg4zjrkpdo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/fbe1/live/abfb8210-21c7-11ef-baa7-25d483663b8e.jpg" class="ttt" data-tt="All of the F1 drivers line up for the new season" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Donald Trump joins TikTok despite previously wanting ban</b><br/>The former president joins the current US leader in using the platform despite backing concerns." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cyjj08vvz43o">Donald Trump joins TikTok despite previously wanting ban</a></li><li class="ttt" data-tt="<b>MrBeast overtakes T-Series for most YouTube subscribers</b><br/>Jimmy Donaldson, already the most-subscribed individual on the platform, has claimed another title."><a href="https://www.bbc.com/news/articles/c8440yxd92xo">MrBeast overtakes T-Series for most YouTube subscribers</a></li><li class="ttt" data-tt="<b>Epoch Times CFO charged in $67m money-laundering plot</b><br/>CFO Bill Guan allegedly led a team at the news outlet that was behind a global money laundering scheme."><a href="https://www.bbc.com/news/articles/cg66xe59zyeo">Epoch Times CFO charged in $67m money-laundering plot</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cyjj08vvz43o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/7bf6/live/a3aaf6c0-219c-11ef-a52c-c331d140cb33.jpg" class="ttt" data-tt="Former US President Donald Trump attending a mixed martial arts event" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"3 Jun – 9 Jun","date":17174592E5,"ts":"Tue, 4","ds":"Tue, 4 Jun","icon":33,"desc":"Light showers. Cloudy.","temp":17,"templow":6,"cf":13,"wind":13,"wd":240,"hum":85,"pc":68,"rain":4.2 },{"date":17175456E5,"ts":"Wed, 5","ds":"Wed, 5 Jun","icon":18,"desc":"Sprinkles. Afternoon clouds.","temp":13,"templow":5,"cf":11,"wind":10,"wd":260,"hum":57,"pc":38,"rain":1.2 },{"date":1717632E6,"ts":"Thu, 6","ds":"Thu, 6 Jun","icon":18,"desc":"Sprinkles. Cloudy.","temp":14,"templow":5,"cf":12,"wind":10,"wd":250,"hum":56,"pc":40,"rain":1},{"date":17177184E5,"ts":"Fri, 7","ds":"Fri, 7 Jun","icon":18,"desc":"Sprinkles. Broken clouds.","temp":16,"templow":5,"cf":13,"wind":14,"wd":250,"hum":62,"pc":52,"rain":1.4 },{"date":17178048E5,"ts":"Sat, 8","ds":"Sat, 8 Jun","icon":18,"desc":"Sprinkles late. Partly cloudy.","temp":15,"templow":7,"cf":14,"wind":10,"wd":310,"hum":57,"pc":24,"rain":0.8 },{"date":17178912E5,"ts":"Sun, 9","ds":"Sun, 9 Jun","icon":18,"desc":"Sprinkles. Partly cloudy.","temp":16,"templow":6,"cf":14,"wind":15,"wd":310,"hum":63,"pc":44,"rain":1.3 },{"hl":true,"hls":"10 Jun – 16 Jun","date":17179776E5,"ts":"Mon, 10","ds":"Mon, 10 Jun","icon":6,"desc":"Broken clouds.","temp":15,"templow":7,"cf":12,"wind":13,"wd":300,"hum":77,"pc":2},{"date":1718064E6,"ts":"Tue, 11","ds":"Tue, 11 Jun","icon":18,"desc":"Sprinkles late. Partly cloudy.","temp":17,"templow":8,"cf":16,"wind":5,"wd":340,"hum":61,"pc":39,"rain":0.3 },{"date":17181504E5,"ts":"Wed, 12","ds":"Wed, 12 Jun","icon":4,"desc":"Afternoon clouds.","temp":18,"templow":10,"cf":18,"wind":3,"wd":250,"hum":60,"pc":5},{"date":17182368E5,"ts":"Thu, 13","ds":"Thu, 13 Jun","icon":6,"desc":"Broken clouds.","temp":20,"templow":11,"cf":19,"wind":2,"wd":160,"hum":60,"pc":5},{"date":17183232E5,"ts":"Fri, 14","ds":"Fri, 14 Jun","icon":33,"desc":"Passing showers. Cloudy.","temp":20,"templow":11,"cf":20,"wind":6,"wd":220,"hum":63,"pc":45,"rain":0.9 },{"date":17184096E5,"ts":"Sat, 15","ds":"Sat, 15 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":20,"templow":12,"cf":20,"wind":9,"wd":340,"hum":62,"pc":58,"rain":0.5 },{"date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":21,"desc":"Isolated tstorms late. Overcast.","temp":20,"templow":12,"cf":19,"wind":9,"wd":240,"hum":72,"pc":39,"rain":0.6 },{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":19,"templow":12,"cf":18,"wind":13,"wd":220,"hum":74,"pc":50,"rain":0.8 },{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":21,"desc":"Isolated tstorms. Breaks of sun late.","temp":18,"templow":12,"cf":18,"wind":11,"wd":170,"hum":83,"pc":52,"rain":3.8 }],"grid":{"temp":{"low":5,"high":20,"range":15},"prec":{"high":4.2},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/Comet12P_Ligustri_960.jpg',
		Title:     'Comet Pons-Brooks Develops Opposing Tails',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/Comet12P_Ligustri_1601.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240604.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Edward_Duncan_-_The_Explosion_of_the_United_States_Steam_Frigate_Missouri.jpg/500px-Edward_Duncan_-_The_Explosion_of_the_United_States_Steam_Frigate_Missouri.jpg',
		Title:    'HMS Malabar (1818)',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/HMS_Malabar_(1818)',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/HMS_Malabar_(1818)" title="HMS Malabar (1818)">HMS&#160;<i>Malabar</i></a></b> was a 74-gun <a href="https://en.wikipedia.org/wiki/Ship_of_the_line" title="Ship of the line">ship of the line</a> of the <a href="https://en.wikipedia.org/wiki/Royal_Navy" title="Royal Navy">Royal Navy</a>, launched in 1818 at <a href="https://en.wikipedia.org/wiki/Bombay_Dockyard" title="Bombay Dockyard">Bombay Dockyard</a>. In 1838, <i>Malabar</i> ran aground off <a href="https://en.wikipedia.org/wiki/Prince_Edward_Island" title="Prince Edward Island">Prince Edward Island</a> in British North America and was damaged, with the loss of two crew members. She was refloated later that year and towed into <a href="https://en.wikipedia.org/wiki/Trois-Rivi%C3%A8res" title="Trois-Rivières">Three Rivers</a> in <a href="https://en.wikipedia.org/wiki/Lower_Canada" title="Lower Canada">Lower Canada</a>. In August&#160;1843, <i>Malabar</i>, under the command of <a href="https://en.wikipedia.org/wiki/George_Sartorius" title="George Sartorius">Sir George Sartorius</a>, assisted in fighting a fire that destroyed the <a href="https://en.wikipedia.org/wiki/United_States_Navy" title="United States Navy">United States Navy</a> sidewheel frigate <a href="https://en.wikipedia.org/wiki/USS_Missouri_(1841)" title="USS Missouri (1841)">USS&#160;<i>Missouri</i></a> at <a href="https://en.wikipedia.org/wiki/Gibraltar" title="Gibraltar">Gibraltar</a>, taking aboard about 200 of that ship\'s survivors. <i>Malabar</i> was converted to a <a href="https://en.wikipedia.org/wiki/Hulk_(ship_type)" title="Hulk (ship type)">hulk</a> in 1848, eventually becoming a coal hulk, and was renamed <i>Myrtle</i> in 1883. The hulk was sold out of the navy in 1905. This <a href="https://en.wikipedia.org/wiki/Lithography" title="Lithography">lithograph</a> from around 1843 shows the crew of <i>Malabar</i> watching as <i>Missouri</i> explodes and burns in the distance.<small style="display: block; margin-top: 0.8em;">Lithograph credit: <a href="https://en.wikipedia.org/wiki/Thomas_Goldsworthy_Dutton" title="Thomas Goldsworthy Dutton">Thomas Goldsworthy Dutton</a>, after <a href="https://en.wikipedia.org/wiki/Edward_Duncan" title="Edward Duncan">Edward Duncan</a> and <a href="https://en.wikipedia.org/wiki/George_Pechell_Mends" title="George Pechell Mends">George Pechell Mends</a>; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1717477200,"duration":12600,"svcId":560,"evtId":24956,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717488000,"availabilityEnd":1717576200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwz9\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain","description":"12\/15. The team tackle more bad practice, including debunking the claims of a slimming pill magazine that says you\u0027ll lose a stone in a week. [S] [HD]","startTime":1717489800,"duration":2700,"svcId":560,"evtId":25043,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0whh7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717492466,"availabilityEnd":1749287720,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy1f\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":12},{"name":"Moment of Proof","description":"14\/15. A car hidden deep within a scrapper\u0027s yard unlocks the riddle of a suspected gangland shooting, and police secure the UK\u0027s first conviction for modern day slavery at a car wash. [S] [HD]","startTime":1717492500,"duration":1800,"svcId":560,"evtId":24957,"image":"\/ms\/img\/epg\/rb\/fec6-p0fbk4hr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1711445400,"availabilityEnd":1742968740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f4fw6h\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":14},{"name":"Expert Witness","description":"12\/15. Blood spatter analysis helps identify the killer of a body found in a suitcase, and an expert helps in a serious case of financial fraud that cost some victims their life savings. [S,AD] [HD]","startTime":1717494300,"duration":1800,"svcId":560,"evtId":24958,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ddftjs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717496080,"availabilityEnd":1720088080,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0dcdd2c\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":12},{"name":"Homes Under the Hammer","description":"10\/30. Martin falls in love with a large London house with a million-pound-plus guide price. Dion is on familiar ground at a two-bedroom mid-terrace in Stoke. [S] [HD]","startTime":1717496100,"duration":3600,"svcId":560,"evtId":25018,"image":"\/ms\/img\/epg\/rb\/fec6-p0j0z9br.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717499683,"availabilityEnd":1749035683,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxj0\u0026ui_id=4.0.0"},"seriesNo":40,"episodeNo":10},{"name":"Bargain Hunt","description":"Christina Trevanion and the teams are in Shropshire with experts Kate Bliss and Richard Madley. Christina learns how tough school could be for Victorian children. [S,AD] [HD]","startTime":1717499700,"duration":2700,"svcId":560,"evtId":24959,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cqk7g3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717502368,"availabilityEnd":1720094368,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001b0nk\u0026ui_id=4.0.0"},"seriesNo":62},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news and weather, plus a comprehensive round-up from your part of the UK. [S] [HD]","startTime":1717502400,"duration":3600,"svcId":560,"evtId":25314,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false},{"name":"Doctors","description":"Paige and Kirsty\u0027s late-night work is interrupted when a struggling young couple crash into The Mill. [S,AD] [HD]","startTime":1717506000,"duration":1800,"svcId":560,"evtId":25019,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0rxwg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717507788,"availabilityEnd":1749043788,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxj2\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":226},{"name":"Clean It, Fix It","description":"11\/15. The team have one day to help a mother reclaim space in her daughter\u0027s bedroom and playroom and turn the loft space into a usable storage solution. [S] [HD]","startTime":1717507800,"duration":1800,"svcId":560,"evtId":25020,"image":"\/ms\/img\/epg\/rb\/fec6-p0b5tycj.jpg","hasTstv":false,"seriesNo":1,"episodeNo":11},{"name":"Escape to the Country","description":"35\/55. Cheshire may be a world away from Miami, where today\u0027s couple are moving from, but to them, it\u0027s a county that feels like home. Alistair Appleton is on hand to help them settle in. [S] [HD]","startTime":1717509600,"duration":2700,"svcId":560,"evtId":24960,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f8pv8x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717512268,"availabilityEnd":1720104268,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001kbbr\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":35},{"name":"Garden Rescue","description":"11\/35. Charlie takes on Lee to create a family-friendly garden in Redditch. [S] [HD]","startTime":1717512300,"duration":2700,"svcId":560,"evtId":24961,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fsrjzj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686583802,"availabilityEnd":1720106960,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mwql\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":11},{"name":"New: The Finish Line","description":"22\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1717515000,"duration":2700,"svcId":560,"evtId":25021,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0w9n4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717517708,"availabilityEnd":1752596014,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxj4\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":22},{"name":"Pointless","description":"33\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1717517700,"duration":2700,"svcId":560,"evtId":24962,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g2n1yg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1690909200,"availabilityEnd":1722445200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001p9m3\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":33},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1717520400,"duration":1800,"svcId":560,"evtId":24963,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717522230,"availabilityEnd":1717608630,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzc\u0026ui_id=4.0.0"},"episodeNo":47},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717522200,"duration":1500,"svcId":560,"evtId":24964,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717523805,"availabilityEnd":1717610205,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzf\u0026ui_id=4.0.0"},"episodeNo":65},{"name":"Party Election Broadcast by the...","description":"...Labour Party. A party election broadcast by the Labour Party for the general election. [S] [HD]","startTime":1717523700,"duration":300,"svcId":560,"evtId":25317,"image":"\/ms\/img\/epg\/rb\/fec6-p09c8xg1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717524190,"availabilityEnd":1720133940,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020b6v\u0026ui_id=4.0.0"}},{"name":"The One Show","description":"Alex Jones and Jermaine Jenas bring you the stories that matter from across the country. [S] [HD]","startTime":1717524000,"duration":1800,"svcId":560,"evtId":25022,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717525875,"availabilityEnd":1720117875,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zxj6\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"George is a man in demand, Eve makes her feelings known, and Reiss starts job hunting. [S,AD] [HD]","startTime":1717525800,"duration":1800,"svcId":560,"evtId":25045,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0wzbc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717477200,"availabilityEnd":1749063653,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy1k\u0026ui_id=4.0.0"},"episodeNo":6920},{"name":"Sort Your Life Out with Stacey...","description":"...Solomon. 4\/6. Stacey Solomon and her team help Cherelle and Tony transform their chaotic two-bed home through a radical space-saving reorganisation. [S,AD] [HD]","startTime":1717527600,"duration":3600,"svcId":560,"evtId":25046,"image":"\/ms\/img\/epg\/rb\/fec6-p0b3769c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1670617800,"availabilityEnd":1733723940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0011w0q\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"The Great British Sewing Bee","description":"3\/10. It\u0027s Week 3 of The Great British Sewing Bee, and it\u0027s Holiday Week. [S,AD] [HD]","startTime":1717531200,"duration":3600,"svcId":560,"evtId":25047,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0zftn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717534799,"availabilityEnd":1753390683,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy1m\u0026ui_id=4.0.0"},"seriesNo":16,"episodeNo":3},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1717534800,"duration":1800,"svcId":560,"evtId":24965,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717536690,"availabilityEnd":1717623090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzh\u0026ui_id=4.0.0"},"episodeNo":47},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717536600,"duration":600,"svcId":560,"evtId":24966,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717537050,"availabilityEnd":1717623450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzk\u0026ui_id=4.0.0"},"episodeNo":56},{"name":"Tokyo Vice","description":"7\/10. Jake heads home to Missouri. Contains some strong language and some violent scenes. [S,AD] [HD]","startTime":1717537200,"duration":3300,"svcId":560,"evtId":25048,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hx5rfb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715662800,"availabilityEnd":1747262508,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z73p\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"Tokyo Vice","description":"8\/10. With time running out, Katagiri has lost the best lead he had. Contains very strong language and prolonged violent scenes. [S,AD] [HD]","startTime":1717540500,"duration":3300,"svcId":560,"evtId":25049,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hx5rhq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715662800,"availabilityEnd":1747262508,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z73r\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":8},{"name":"The Repair Shop","description":"5\/25. A poignant reminder of the Aids crisis that killed so many young men in the 80s as Sonnaz helps Leigh honour his partner, Greg, who was lost. [S,AD] [HD]","startTime":1717543800,"duration":3600,"svcId":560,"evtId":25050,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzj10j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717012789,"availabilityEnd":1875988800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zq74\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":5},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1717547400,"duration":300,"svcId":560,"evtId":24967,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717547793,"availabilityEnd":1718152593,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zwzm\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1717547700,"duration":15900,"svcId":560,"evtId":24968,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":65}]},{"channelid":700,"offset":0,"event":[{"name":"Garden Rescue Revisited","description":"15\/35. Charlie goes back to discover that a formal garden she designed and built five years ago has grown into something completely different. [S] [HD]","startTime":1717479900,"duration":2700,"svcId":700,"evtId":16708,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j010fl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717169409,"availabilityEnd":1748705409,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zqq4\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":15},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"3\/15. Clive heads to the busy Coronation Market, nestled in Downtown Kingston. He tries out his Jamaican patois, grabs some great street food and he hits the best reggae club in town. [S] [HD]","startTime":1717482600,"duration":1800,"svcId":700,"evtId":16709,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzrb8l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpmv\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Race Across the World","description":"1\/9. In a frenetic race across the world, travellers can choose any route they like - but no flights or phones are allowed. On the trip of a lifetime, which pair will finish first? [S,AD,SL] [HD]","startTime":1717484400,"duration":3600,"svcId":700,"evtId":16710,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hnj61g.jpg","hasTstv":false,"seriesNo":4,"episodeNo":1},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1717488000,"duration":11700,"svcId":700,"evtId":16711,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1717499700,"duration":2700,"svcId":700,"evtId":16712,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717502401,"availabilityEnd":1720094401,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz05\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"22\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 20 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1717502400,"duration":2700,"svcId":700,"evtId":16713,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717505096,"availabilityEnd":1720097096,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000pk00\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":22},{"name":"Mastermind","description":"22\/31. Clive Myrie hosts the classic quiz where contenders take the famous black chair. Subjects are Madonna, the ER character Doug Ross, the rivers of Yorkshire and the NHL. [S] [HD]","startTime":1717505100,"duration":1800,"svcId":700,"evtId":16714,"image":"\/ms\/img\/epg\/rb\/ae0c-p0blypqb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014bjg\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":22},{"name":"Great Coastal Railway Journeys","description":"22\/25. Michael Portillo continues his south Wales coastal railway journey in Barry Island. [S,AD] [HD]","startTime":1717506900,"duration":1800,"svcId":700,"evtId":16715,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bppfcd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717508688,"availabilityEnd":1720100688,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0014t6x\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":22},{"name":"Five Bedrooms","description":"7\/8. Reluctant Harry straddles the hens\u0027 shindig and bucks\u0027 bash. Ben reels from a discovery, and Liz considers consequences. [S,AD] [HD]","startTime":1717508700,"duration":2700,"svcId":700,"evtId":16716,"image":"\/ms\/img\/epg\/rb\/ae0c-p0c8tq6d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689759502,"availabilityEnd":1720933140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0017xxp\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":7},{"name":"The Farmers\u0027 Country Showdown","description":"17\/20. Beekeepers Debbie and Chris collect honey from their hives, while fruit and vegetable farmers Paul and Jackie gather their bumper crops for the Winchester Farmers\u0027 Market. [S] [HD]","startTime":1717511400,"duration":2700,"svcId":700,"evtId":16717,"image":"\/ms\/img\/epg\/rb\/fec6-p094kpmj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717514124,"availabilityEnd":1720106124,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000rq6q\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":17},{"name":"Ocean Giants","description":"1\/3. Series about whales and dolphins. Explore the ocean\u0027s largest creatures - humpback whales, 200-ton feeding blue whales and southern right whales with one-ton testicles. [S,AD] [HD]","startTime":1717514100,"duration":3600,"svcId":700,"evtId":16718,"image":"\/ms\/img\/epg\/rb\/ae0c-p09kfhgf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717517717,"availabilityEnd":1720109717,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b013q50m\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Flog It!","description":"In Kent, Claire Rawle and Thomas Plant unearth unique antiques and collectibles that tell fascinating stories of the past. Paul Martin visits a hop garden. [S] [HD]","startTime":1717517700,"duration":2700,"svcId":700,"evtId":16719,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717520382,"availabilityEnd":1720112382,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b053rkvf\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":16},{"name":"Richard Osman\u0027s House of Games","description":"67\/100. Ashley John-Baptiste, Simon Rimmer, Claire Sweeney and Esme Young test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1717520400,"duration":1800,"svcId":700,"evtId":16720,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dklbnf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717522213,"availabilityEnd":1720114213,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fyg7\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":67},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"6\/15. Clive takes on a potential Olympic champion in the boxing ring, gets under the bonnet of a classic Chevy and bangs the drum for Cuban music. [S] [HD]","startTime":1717522200,"duration":1800,"svcId":700,"evtId":16721,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzrhkn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpn0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Your Garden Made Perfect","description":"2\/6. Two garden designers use virtual reality to transform tired gardens into idyllic wonderlands. Meanwhile, a small-spaces expert brings perfection to tiny plots. [S] [HD]","startTime":1717524000,"duration":3600,"svcId":700,"evtId":16722,"image":"\/ms\/img\/epg\/rb\/fec6-p09616qb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717527660,"availabilityEnd":1720119660,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000s66m\u0026ui_id=4.0.0"},"episodeNo":2},{"name":"Springwatch","description":"6\/12. A celebration of the wildlife heroes who dedicate their time to nature. Iolo searches for the elusive dormouse, and Megan is on the lookout for pied flycatchers. [S] [HD]","startTime":1717527600,"duration":3600,"svcId":700,"evtId":16723,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzvh6j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717531305,"availabilityEnd":1749844875,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz07\u0026ui_id=4.0.0"},"seriesNo":36,"episodeNo":6},{"name":"D-Day: The Unheard Tapes","description":"3\/3. Allied and German soldiers wake up the day after D-Day to face the Battle of Normandy. Contains scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1717531200,"duration":3600,"svcId":700,"evtId":16724,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j150sl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717304400,"availabilityEnd":1748840400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y65y\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Meet the Richardsons","description":"3\/6. Lucy goes out on the town in London with TV\u0027s Alan Carr. It gets very messy. Contains strong language and adult humour. [S,AD] [HD]","startTime":1717534800,"duration":1800,"svcId":700,"evtId":16725,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hy3ktf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716267600,"availabilityEnd":1747803600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z7x4\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1717536600,"duration":1800,"svcId":700,"evtId":16726,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j101sb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717538520,"availabilityEnd":1749074520,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz09\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1717538400,"duration":300,"svcId":700,"evtId":16727,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717538725,"availabilityEnd":1717625125,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zz0c\u0026ui_id=4.0.0"}},{"name":"Colette","description":"Colette is persuaded to write up her semi-autobiographical tales which, published under her husband\u0027s name, become a sensation. Contains some scenes of a sexual nature. [2019] [S] [HD]","startTime":1717538700,"duration":6300,"svcId":700,"evtId":16728,"image":"\/ms\/img\/epg\/rb\/ae0c-p09bn67r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717544985,"availabilityEnd":1720136985,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000tqjg\u0026ui_id=4.0.0"}},{"name":"Hidden Treasures of the...","description":"...National Trust. 4\/6. A showstopping clock needs restarting, and a 1920s house frozen in time is under threat. [S,AD,SL] [HD]","startTime":1717545000,"duration":3600,"svcId":700,"evtId":16729,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvl9mr.jpg","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"Great British Railway Journeys","description":"7\/15. At the home of Scottish football, Glasgow\u0027s Hampden Park stadium, Michael admires the oldest football trophy in the world and hears how the \u0027passing game\u0027 was born there. [S,AD,SL] [HD]","startTime":1717548600,"duration":1800,"svcId":700,"evtId":16730,"image":"\/ms\/img\/epg\/rb\/fec6-p0hkcglm.jpg","hasTstv":false,"seriesNo":15,"episodeNo":7},{"name":"David \u0026 Jay\u0027s Touring Toolshed","description":"7\/15. David Jason and Jay Blades have a surprise visitor as Tony Hancock\u0027s teddy bear arrives in need of TLC. And will they be able to help a model plane enthusiast take to the skies? [S,AD,SL] [HD]","startTime":1717550400,"duration":1800,"svcId":700,"evtId":16731,"image":"\/ms\/img\/epg\/rb\/fec6-p0h58b2s.jpg","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"Lifeline","description":"Gyles Brandreth presents an appeal on behalf of Rainbow Trust Children\u0027s Charity. [S,AD,SL] [HD]","startTime":1717552200,"duration":600,"svcId":700,"evtId":16732,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hyn7xh.jpg","hasTstv":false},{"name":"The Outlaws","description":"1\/5. Rani\u0027s shocking return throws the outlaws back into the heart of a crime. Contains some strong language and adult humour. [S,AD,SL] [HD]","startTime":1717552800,"duration":3600,"svcId":700,"evtId":16817,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzjcsl.jpg","hasTstv":false,"seriesNo":3,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1717556400,"duration":9000,"svcId":700,"evtId":16733,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717476600,"duration":2400,"svcId":1500,"evtId":29877,"image":"\/ms\/img\/epg\/rb\/5d52-9483496.l.png","hasTstv":false},{"name":"3rd Rock from the Sun","description":"Dick Solomon\u0027s Day Off: When Nina says she\u0027s unwell and won\u0027t be in the office the next day, Mary explains the concept of \u0027sick days\u0027 to Dick, who takes advantage of the idea. (S5 Ep20)  [AD,S]","startTime":1717479000,"duration":1500,"svcId":1500,"evtId":25041,"image":"\/ms\/img\/epg\/rb\/5d52-939348.l.png","hasTstv":false,"seriesNo":5,"episodeNo":20},{"name":"3rd Rock from the Sun","description":"The Big Giant Head Returns Again (Part 1\/2): Sally wrongly assumes Alissa is planning to dump Tommy. When the Big Giant Head and Vicki turn up, it\u0027s clear the honeymoon\u0027s over. (S5 Ep21)  [AD,S]","startTime":1717480500,"duration":1500,"svcId":1500,"evtId":25042,"image":"\/ms\/img\/epg\/rb\/5d52-944349.l.png","hasTstv":false,"seriesNo":5,"episodeNo":21},{"name":"3rd Rock from the Sun","description":"The Big Giant Head Returns Again (Part 2\/2): Series five finale. Dick struggles with the news that the Big Giant Head is his father. Vicki pretends to be friendly to Janice. (S5 Ep22)  [AD,S]","startTime":1717482000,"duration":1500,"svcId":1500,"evtId":25043,"image":"\/ms\/img\/epg\/rb\/5d52-1143325.l.png","hasTstv":false,"seriesNo":5,"episodeNo":22},{"name":"Everybody Loves Raymond","description":"Robert\u0027s Wedding (Part 1\/2): Robert is suspicious of Peter\u0027s attempts to bury the hatchet, prompting him to ask Ray to watch him. (S7 Ep24)  [AD,S]","startTime":1717483500,"duration":1500,"svcId":1500,"evtId":29881,"image":"\/ms\/img\/epg\/rb\/5d52-4906941.l.png","hasTstv":false,"seriesNo":7,"episodeNo":24},{"name":"Everybody Loves Raymond","description":"Robert\u0027s Wedding (Part 2\/2): Robert and Amy exchange vows in a wedding ceremony that has the Barone family tradition written all over it. (S7 Ep25)  [AD,S]","startTime":1717485000,"duration":1800,"svcId":1500,"evtId":29882,"image":"\/ms\/img\/epg\/rb\/5d52-5215784.l.png","hasTstv":false,"seriesNo":7,"episodeNo":25},{"name":"Everybody Loves Raymond","description":"Fun with Debra: Debra convinces Ray that he should allow her to join him on the golf course after she realises they don\u0027t have fun together any more. (S8 Ep1)  [AD,S]","startTime":1717486800,"duration":1800,"svcId":1500,"evtId":29883,"image":"\/ms\/img\/epg\/rb\/5d52-5217003.l.png","hasTstv":false,"seriesNo":8,"episodeNo":1},{"name":"Everybody Loves Raymond","description":"Thank You Notes: Marie tries to get the upper hand in her relationship with her new daughter-in-law when Amy and Robert return from their honeymoon. (S8 Ep2)  [AD,S]","startTime":1717488600,"duration":1800,"svcId":1500,"evtId":29884,"image":"\/ms\/img\/epg\/rb\/5d52-5222464.l.png","hasTstv":false,"seriesNo":8,"episodeNo":2},{"name":"Frasier","description":"Frasier Has Spokane: When Frasier\u0027s radio programme is syndicated in Spokane, it replaces a local broadcaster\u0027s show, enraging his callers. (S9 Ep22)  [AD,S]","startTime":1717490400,"duration":1800,"svcId":1500,"evtId":29885,"image":"\/ms\/img\/epg\/rb\/5d52-1627789.l.png","hasTstv":false,"seriesNo":9,"episodeNo":22},{"name":"Frasier","description":"The Guilt Trippers: A birthday party held in Daphne\u0027s honour sets in motion some rather surprising and unexpected events. (S9 Ep23)  [AD,S]","startTime":1717492200,"duration":1800,"svcId":1500,"evtId":29886,"image":"\/ms\/img\/epg\/rb\/5d52-1634128.l.png","hasTstv":false,"seriesNo":9,"episodeNo":23},{"name":"Frasier","description":"Moons Over Seattle: Niles finally convinces Daphne\u0027s hard-drinking father in England to return to her harpy-like mother in Seattle. (S9 Ep24)  [AD,S]","startTime":1717494000,"duration":1800,"svcId":1500,"evtId":29887,"image":"\/ms\/img\/epg\/rb\/5d52-1634150.l.png","hasTstv":false,"seriesNo":9,"episodeNo":24},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay revisits four restaurants he tried to help: the Spanish Pavillion in New Jersey, and Kingston Caf\u00e9, La Frite and Capri in California. Have they followed his advice? (S5 Ep17)  [S]","startTime":1717495800,"duration":3300,"svcId":1500,"evtId":25201,"image":"\/ms\/img\/epg\/rb\/5d52-395892185.l.png","hasTstv":false,"seriesNo":4,"episodeNo":11},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1717499100,"duration":300,"svcId":1500,"evtId":29889,"image":"\/ms\/img\/epg\/rb\/5d52-9487021.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Boston, Gordon Ramsay tries to help La Galleria 33, run by sisters Rita and Lisa, who blame the restaurant\u0027s failures on everything from the weather to the tablecloths. (S6 Ep1)  [S]","startTime":1717499400,"duration":3600,"svcId":1500,"evtId":29890,"image":"\/ms\/img\/epg\/rb\/5d52-382582953.l.png","hasTstv":false,"seriesNo":5,"episodeNo":1},{"name":"Car S.O.S","description":"Datsun 240z: Tim Shaw and Fuzz Townshend are in West Sussex to rescue an iconic 1970s motor, a mighty Datsun 240z, which has been languishing in a retired GP\u0027s garage for years. (S4 Ep2\/10)  [AD,S]","startTime":1717503000,"duration":3600,"svcId":1500,"evtId":29891,"image":"\/ms\/img\/epg\/rb\/5d52-208723764.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717506600,"duration":3000,"svcId":1500,"evtId":29892,"image":"\/ms\/img\/epg\/rb\/5d52-9487039.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Antonia and Ross love the beautiful island of Ibiza. Having holidayed there many times, they now want their own holiday home. Can Lucy Alexander deliver their dream?  [S]","startTime":1717509600,"duration":3600,"svcId":1500,"evtId":29893,"image":"\/ms\/img\/epg\/rb\/5d52-393390582.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Lizzie and Paul love the seaside town of Paphos on the west coast of Cyprus. Can Ben Hillman find them the perfect place with plenty of space for their \u00a3125k?  [S]","startTime":1717513200,"duration":3600,"svcId":1500,"evtId":29894,"image":"\/ms\/img\/epg\/rb\/5d52-413821948.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"The new series continues. In Almer\u00eda, the Garners are with Manjit and Zaffar, who have a criteria clash. In Alicante, the Rodriguez sisters help Dave and Paula escape the rat race. (S7 Ep2)  [S]","startTime":1717516800,"duration":3600,"svcId":1500,"evtId":29895,"image":"\/ms\/img\/epg\/rb\/5d52-9486930.l.png","hasTstv":false,"seriesNo":7,"episodeNo":2},{"name":"Four in a Bed","description":"The new run continues. In the Lake District, Julie and Sarah plan to give the B\u0026Bers a touch of luxury. The view from breakfast is beautiful - until a sausage causes a problem.  [S]","startTime":1717520400,"duration":1800,"svcId":1500,"evtId":29896,"image":"\/ms\/img\/epg\/rb\/5d52-9487088.l.png","hasTstv":false},{"name":"The Simpsons","description":"Little Big Mom: When Marge breaks her leg in a skiing accident, Lisa takes over running the Simpson household and Homer and Bart end up moving to a leper colony in Hawaii. (S11 Ep10\/22)  [AD,S]","startTime":1717522200,"duration":1800,"svcId":1500,"evtId":29897,"image":"\/ms\/img\/epg\/rb\/5d52-387150234.l.png","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1717524000,"duration":3600,"svcId":1500,"evtId":29898,"image":"\/ms\/img\/epg\/rb\/5d52-9487090.l.png","hasTstv":false},{"name":"New: Emergency Helicopter Medics","description":"In East Anglia, a seriously ill dialysis patient desperately needs fluids. And on Canvey Island, the medics take over the breathing of a motorcyclist who\u0027s bleeding from his ear. (S5 Ep3)  [AD,S]","startTime":1717527600,"duration":3600,"svcId":1500,"evtId":29899,"image":"\/ms\/img\/epg\/rb\/5d52-9486910.l.png","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"New: 24 Hours in Police Custody...","description":"...The Devil\u0027s Chain: The gripping inside story of a brutal machete and gun attack on a Luton doorstep, a gold chain, and a struggle against the odds to identify the attackers.  [AD,S]","startTime":1717531200,"duration":3600,"svcId":1500,"evtId":29900,"image":"\/ms\/img\/epg\/rb\/5d52-8198169.l.png","hasTstv":false},{"name":"New: Queenie","description":"The Prodigal Granddaughter Returns: Sharp, honest, funny drama based on Candice Carty-Williams\u0027 novel. Queenie is shell-shocked when her boyfriend Tom tells her they need a break. (Ep1\/8)  [AD,S]","startTime":1717534800,"duration":2100,"svcId":1500,"evtId":29901,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Queenie","description":"Clean Break Queenie: Drama. Queenie puts on a brave face as she moves into her new house share, but when she realises that Tom isn\u0027t coming back, she tries to numb her loneliness. (Ep2\/8)  [AD,S]","startTime":1717536900,"duration":2100,"svcId":1500,"evtId":29902,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"New: The Rest Is Politics:...","description":"...Election Special: Alastair Campbell and Rory Stewart discuss a recent poll that looks particularly damning for the Tories, and look at both Sunak and Starmer\u0027s latest pledges. (Ep2) [S,W]","startTime":1717539000,"duration":3600,"svcId":1500,"evtId":25511,"image":"\/ms\/img\/epg\/rb\/5d52-politic.genre.l.png","hasTstv":false},{"name":"Sky Coppers","description":"The Drone Unit is airborne again hunting crime from above. Some kids have started fires on an allotment. And a burglar is tracked breaking into a rival drug gang\u0027s house. (Ep4)  [AD,S]","startTime":1717542600,"duration":3300,"svcId":1500,"evtId":25512,"image":"\/ms\/img\/epg\/rb\/5d52-7928798.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Taskmaster - The Final","description":"It\u0027s the grand final! But before a new champion gets the honour of clutching Greg Davies\u0027 gilded bonce to their proud chest, Nick Mohammed makes a magical prediction... (S17 Ep10\/10)  [AD,S,SL]","startTime":1717545900,"duration":3300,"svcId":1500,"evtId":25513,"image":"\/ms\/img\/epg\/rb\/5d52-9458298.l.png","hasTstv":false,"seriesNo":17,"episodeNo":10},{"name":"Ramsay\u0027s 24 Hours to Hell and Back","description":"Gordon Ramsay transforms Shanty on 19th, an iconic restaurant in the West End theatre district of Allentown, Pennsylvania, into a bright and airy contemporary bistro. (S2 Ep2)  [AD,S,SL]","startTime":1717549200,"duration":3000,"svcId":1500,"evtId":29906,"image":"\/ms\/img\/epg\/rb\/5d52-3167768.l.png","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"The Watermelon Woman","description":"(1996) Seminal romantic comedy-drama. An aspiring Black lesbian filmmaker decides to make a film about an unknown Black actress. Strong, offensive language\/sex\/drugs.  [S]","startTime":1717552200,"duration":5100,"svcId":1500,"evtId":29907,"image":"\/ms\/img\/epg\/rb\/5d52-49889.l.png","hasTstv":false},{"name":"Iris Prize Best British Shorts","description":"Betty \u0026 Jean: Betty waits for her true love, Jean, who she broke up with in the 60s because she wasn\u0027t brave enough to be with a woman. Selected for the esteemed LGBT+ film festival award.  [AD,S]","startTime":1717557300,"duration":600,"svcId":1500,"evtId":25295,"image":"\/ms\/img\/epg\/rb\/5d52-9487110.l.png","hasTstv":false},{"name":"Britain\u0027s Most Luxurious Hotels","description":"An insight into the Corinthia: an opulent London hotel frequented by A-listers whose every desire must be fulfilled. Will a princess and her pooch be satisfied customers? (Ep2\/3)  [AD,S,SL]","startTime":1717557900,"duration":3300,"svcId":1500,"evtId":25294,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('199');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('125');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('16');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'x8X4dckmAYM', title: "SIDEMEN $1,000,000 REALITY SHOW: INSIDE EP. 2", label: "SIDEMEN $1,000,000 REALITY SHOW: INSIDE EP. 2 by MoreSidemen 1,864,862 views 15 hours ago 1 hour, 2 minutes" },
{ id: 'pDfdwqpu06c', title: "England vs Bosnia-Herzegovina (3-0) | Palmer \u0026 Trent Star In Win | Match Highlights", label: "England vs Bosnia-Herzegovina (3-0) | Palmer \u0026 Trent Star In Win | Match Highlights by Channel 4 Sport 684,160 views 12 hours ago 8 minutes, 51 seconds" },
{ id: 'GMotS92jiWs', title: "VENOM: THE LAST DANCE – Official Trailer (HD)", label: "VENOM: THE LAST DANCE – Official Trailer (HD) by Sony Pictures Entertainment 14,636,961 views 20 hours ago 3 minutes, 15 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in f1 module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jojo Rabbit (2019)">Jojo Rabbit (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Days (2023)">Perfect Days (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S2, 2021)">In My Skin (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1, 2018)">In My Skin (S1, 2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S2, 2019)">Fleabag (S2, 2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1, 2016)">Fleabag (S1, 2016)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S3, 2024)">Clarkson\'s Farm (S3, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Feel Good (S2, 2021)">Feel Good (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Feel Good (S1, 2020)">Feel Good (S1, 2020)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
{ number: 210.12, tooltip: "Mon, May 13, 2024<br/>£210.12"},
{ number: 210.82, tooltip: "Fri, May 10, 2024<br/>£210.82"},
{ number: 210.11, tooltip: "Thu, May 09, 2024<br/>£210.11"},
{ number: 209.55, tooltip: "Wed, May 08, 2024<br/>£209.55"},
{ number: 208.97, tooltip: "Tue, May 07, 2024<br/>£208.97"},
].reverse();

	var vanguardDates = {
		"Latest":      "Mon, Jun 03, 2024",
		"vs Day":      "Fri, May 31, 2024",
		"vs Week":     "Fri, May 24, 2024",
		"vs Month":    "Tue, May 07, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£208.43/share",
		'vs Day':      "+0.08%",
		'vs Week':     "-0.51%",
		'vs Month':    "-0.26%",
		'vs Year':     "+16.90%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '5.8',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 4 June and 5 June">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.058&p=3.058&r=6.132',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:48',
		Set:      '21:21',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Meliorism</em> refers to the belief that the world tends to improve and that humans can aid its betterment.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23loveIsland">#loveIsland</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Clacton">Clacton</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Farage">Farage</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Joey+Essex%22">Joey Essex</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Reform">Reform</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23ElectionResults">#ElectionResults</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23WWERaw">#WWERaw</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Nitish">Nitish</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Modi">Modi</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Hated">Hated</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>