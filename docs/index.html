<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:37 17-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Plan to crack down on \'rip-off\' university degrees</b><br/>University courses will have to limit student numbers if they do not lead to highly-skilled jobs." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-politics-66216005?at_medium=RSS&amp;at_campaign=KARANGA">Plan to crack down on \'rip-off\' university degrees</a></li><li class="ttt" data-tt="<b>Fuel retailers urged to back government price sharing scheme</b><br/>The energy secretary is asking supermarkets and petrol stations to publish prices to aid competition."><a href="https://www.bbc.co.uk/news/business-66214934?at_medium=RSS&amp;at_campaign=KARANGA">Fuel retailers urged to back government price sharing scheme</a></li><li class="ttt" data-tt="<b>Lucy Spraggan: X Factor \'like abusive relationship\'</b><br/>The singer tells the BBC she wants to build better support for contestants on reality TV shows."><a href="https://www.bbc.co.uk/news/entertainment-arts-66190895?at_medium=RSS&amp;at_campaign=KARANGA">Lucy Spraggan: X Factor \'like abusive relationship\'</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-politics-66216005?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/E8CD/production/_111079595_students12.jpg" class="ttt" data-tt="Two female and a male student sitting in a lecture hall, looking forward and taking notes" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Extreme heat intensifies across south-west US</b><br/>More than a dozen states are under warnings with the brutal conditions showing no sign of abating." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66218321?at_medium=RSS&amp;at_campaign=KARANGA">Extreme heat intensifies across south-west US</a></li><li class="ttt" data-tt="<b>Canada wildfires: Second firefighter dies amid record blazes</b><br/>The unnamed firefighter died from injuries sustained working in the Northwest Territories on Saturday."><a href="https://www.bbc.co.uk/news/world-us-canada-66218679?at_medium=RSS&amp;at_campaign=KARANGA">Canada wildfires: Second firefighter dies amid record blazes</a></li><li class="ttt" data-tt="<b>Twitter loses nearly half advertising revenue since Elon Musk takeover</b><br/>Elon Musk confirms the firm has a heavy debt load and income in June was not what had been expected."><a href="https://www.bbc.co.uk/news/business-66217641?at_medium=RSS&amp;at_campaign=KARANGA">Twitter loses nearly half advertising revenue since Elon Musk takeover</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66218321?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10D73/production/_130397986_1c9ece7b810a01b9f2a389039c9f590aa21c21730_404_4032_22681000x563.jpg" class="ttt" data-tt="A sign in California&#x27;s Death Valley reads &quot;Caution! Extreme heat danger&quot;" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Iran\'s morality police to resume headscarf patrols</b><br/>The controversial police unit enforces Iran\'s strict dress code and has been accused of brutality." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-middle-east-66218318?at_medium=RSS&amp;at_campaign=KARANGA">Iran\'s morality police to resume headscarf patrols</a></li><li class="ttt" data-tt="<b>Canada wildfires: Second firefighter dies amid record blazes</b><br/>The unnamed firefighter died from injuries sustained working in the Northwest Territories on Saturday."><a href="https://www.bbc.co.uk/news/world-us-canada-66218679?at_medium=RSS&amp;at_campaign=KARANGA">Canada wildfires: Second firefighter dies amid record blazes</a></li><li class="ttt" data-tt="<b>Extreme heat intensifies across south-west US</b><br/>More than a dozen states are under warnings with the brutal conditions showing no sign of abating."><a href="https://www.bbc.co.uk/news/world-us-canada-66218321?at_medium=RSS&amp;at_campaign=KARANGA">Extreme heat intensifies across south-west US</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-middle-east-66218318?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/482F/production/_130397481_reuters20084c3ff5f385ca748abf4bc0b28abffcc4bb7d2fb4.jpg" class="ttt" data-tt="Morality police officer questions Iranian woman (file photo)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Daniel Ricciardo: Australian replaces Nyck de Vries at Alpha Tauri in F1 return</b><br/>Daniel Ricciardo makes a surprising return to Formula One after joining Red Bull\'s junior team Alpha Tauri for the rest of the season." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66169108?at_medium=RSS&amp;at_campaign=KARANGA">Daniel Ricciardo: Australian replaces Nyck de Vries at Alpha Tauri in F1 return</a></li><li class="ttt" data-tt="<b>British Grand Prix: Max Verstappen beats Lando Norris to victory</b><br/>Max Verstappen cruises to victory in the British Grand Prix for his sixth win in a row and a record-equalling 11th consecutive triumph for Red Bull."><a href="https://www.bbc.co.uk/sport/formula1/66148503?at_medium=RSS&amp;at_campaign=KARANGA">British Grand Prix: Max Verstappen beats Lando Norris to victory</a></li><li class="ttt" data-tt="<b>British Grand Prix: Brad Pitt at Silverstone filming Formula 1-inspired movie</b><br/>Brad Pitt begins filming at Silverstone for a new Formula 1-inspired movie."><a href="https://www.bbc.co.uk/sport/formula1/66142472?at_medium=RSS&amp;at_campaign=KARANGA">British Grand Prix: Brad Pitt at Silverstone filming Formula 1-inspired movie</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66169108?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/0979/production/_130352420_gettyimages-1515489815-1.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Call of Duty battle over after Sony deal with Microsoft</b><br/>Sony agrees deal with tech giant to keep franchise on PlayStation as Activision buyout moves step closer." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66217632?at_medium=RSS&amp;at_campaign=KARANGA">Call of Duty battle over after Sony deal with Microsoft</a></li><li class="ttt" data-tt="<b>Twitter loses nearly half advertising revenue since Elon Musk takeover</b><br/>Elon Musk confirms the firm has a heavy debt load and income in June was not what had been expected."><a href="https://www.bbc.co.uk/news/business-66217641?at_medium=RSS&amp;at_campaign=KARANGA">Twitter loses nearly half advertising revenue since Elon Musk takeover</a></li><li class="ttt" data-tt="<b>Anger and fear after popular diabetes app breaks</b><br/>The manufacturers of a popular diabetes app have removed it from the App Store after it broke."><a href="https://www.bbc.co.uk/news/technology-66203549?at_medium=RSS&amp;at_campaign=KARANGA">Anger and fear after popular diabetes app breaks</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66217632?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/54B5/production/_127958612_ghost_branded.png" class="ttt" data-tt="Image of character from Call of Duty Modern Warfare II" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"17 Jul – 23 Jul","date":1689552E6,"ts":"Mon, 17","ds":"Mon, 17 Jul","icon":33,"desc":"Passing showers. Afternoon clouds.","temp":19,"templow":11,"cf":18,"wind":13,"wd":260,"hum":61,"pc":39,"rain":0.7 },{"date":16896384E5,"ts":"Tue, 18","ds":"Tue, 18 Jul","icon":18,"desc":"Sprinkles late. Overcast.","temp":18,"templow":11,"cf":18,"wind":5,"wd":240,"hum":62,"pc":55,"rain":1.7 },{"date":16897248E5,"ts":"Wed, 19","ds":"Wed, 19 Jul","icon":33,"desc":"Passing showers. Cloudy.","temp":19,"templow":11,"cf":19,"wind":13,"wd":310,"hum":67,"pc":45,"rain":3},{"date":16898112E5,"ts":"Thu, 20","ds":"Thu, 20 Jul","icon":33,"desc":"Showers late. Mostly cloudy.","temp":19,"templow":9,"cf":19,"wind":8,"wd":310,"hum":60,"pc":42,"rain":1.8 },{"date":16898976E5,"ts":"Fri, 21","ds":"Fri, 21 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":19,"templow":9,"cf":19,"wind":7,"wd":240,"hum":56,"pc":22,"rain":0.7 },{"date":1689984E6,"ts":"Sat, 22","ds":"Sat, 22 Jul","icon":33,"desc":"Showers late. Overcast.","temp":16,"templow":12,"cf":16,"wind":11,"wd":200,"hum":70,"pc":38,"rain":2.7 },{"date":16900704E5,"ts":"Sun, 23","ds":"Sun, 23 Jul","icon":21,"desc":"A few tstorms. Overcast.","temp":20,"templow":13,"cf":20,"wind":15,"wd":210,"hum":82,"pc":56,"rain":8},{"hl":true,"hls":"24 Jul – 30 Jul","date":16901568E5,"ts":"Mon, 24","ds":"Mon, 24 Jul","icon":33,"desc":"Passing showers. Morning clouds.","temp":19,"templow":14,"cf":19,"wind":18,"wd":220,"hum":63,"pc":59,"rain":2.1 },{"date":16902432E5,"ts":"Tue, 25","ds":"Tue, 25 Jul","icon":21,"desc":"Isolated tstorms. Morning clouds.","temp":19,"templow":12,"cf":19,"wind":14,"wd":220,"hum":50,"pc":58,"rain":0.7 },{"date":16903296E5,"ts":"Wed, 26","ds":"Wed, 26 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":20,"templow":11,"cf":20,"wind":15,"wd":290,"hum":61,"pc":58,"rain":1.6 },{"date":1690416E6,"ts":"Thu, 27","ds":"Thu, 27 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":22,"templow":12,"cf":18,"wind":9,"wd":210,"hum":52,"pc":44,"rain":0.3 },{"date":16905024E5,"ts":"Fri, 28","ds":"Fri, 28 Jul","icon":33,"desc":"Rain showers. Cloudy.","temp":22,"templow":12,"cf":18,"wind":6,"wd":30,"hum":97,"pc":74,"rain":12.1 },{"date":16905888E5,"ts":"Sat, 29","ds":"Sat, 29 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":24,"templow":12,"cf":18,"wind":4,"wd":200,"hum":51,"pc":50,"rain":0.8 },{"date":16906752E5,"ts":"Sun, 30","ds":"Sun, 30 Jul","icon":21,"desc":"A few tstorms. Broken clouds.","temp":24,"templow":12,"cf":19,"wind":3,"wd":150,"hum":71,"pc":97,"rain":5.1 },{"hl":true,"hls":"31 Jul – 6 Aug","date":16907616E5,"ts":"Mon, 31","ds":"Mon, 31 Jul","icon":4,"desc":"Partly cloudy.","temp":21,"templow":12,"cf":20,"wind":10,"wd":300,"hum":55,"pc":5}],"grid":{"temp":{"low":9,"high":24,"range":15},"prec":{"high":12.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2307/MeteorMountain_Roemmelt_960.jpg',
		Title:     'Meteor and Milky Way over the Alps',
		LinkImage: 'https://apod.nasa.gov/apod/image/2307/MeteorMountain_Roemmelt_1371.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230716.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/B-2_Spirit_Dyess_AFB_Air_Show_2018.jpg/400px-B-2_Spirit_Dyess_AFB_Air_Show_2018.jpg',
		Title:    'Northrop Grumman B-2 Spirit',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Northrop_Grumman_B-2_Spirit',
		Description: '    The <b><a href="/wiki/Northrop_Grumman_B-2_Spirit" title="Northrop Grumman B-2 Spirit">Northrop Grumman B-2 Spirit</a></b> is an American heavy strategic <a href="/wiki/Bomber" title="Bomber">bomber</a> featuring low-observable <a href="/wiki/Stealth_technology" title="Stealth technology">stealth technology</a> designed to penetrate dense anti-aircraft defenses. A subsonic <a href="/wiki/Flying_wing" title="Flying wing">flying wing</a> with a crew of two, the plane was designed by Northrop, later <a href="/wiki/Northrop_Grumman" title="Northrop Grumman">Northrop Grumman</a>, and produced from 1987 to 2000. With the ability to drop both <a href="/wiki/Conventional_weapon" title="Conventional weapon">conventional</a> and <a href="/wiki/Thermonuclear_weapon" title="Thermonuclear weapon">thermonuclear weapons</a>, there are twenty <span class="nowrap">B-2</span> Spirits in service with the <a href="/wiki/United_States_Air_Force" title="United States Air Force">United States Air Force</a>, one having been destroyed in <a href="/wiki/2008_Andersen_Air_Force_Base_B-2_accident" title="2008 Andersen Air Force Base B-2 accident">a 2008 crash</a> at Andersen Air Force Base. This <span class="nowrap">B-2</span> Spirit was photographed in flight at an air show at <a href="/wiki/Dyess_Air_Force_Base" title="Dyess Air Force Base">Dyess Air Force Base</a>, Texas, in 2018.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:Balon_Greyjoy" title="User:Balon Greyjoy">Balon Greyjoy</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1689561900,"duration":10800,"svcId":700,"evtId":8455,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Beechgrove Garden","description":"15\/26. Scott and Calum harvest the garlic varieties planted last November, and George has the latest from his garden in Joppa. [S] [HD]","startTime":1689572700,"duration":1800,"svcId":700,"evtId":8408,"image":"\/ms\/img\/epg\/rb\/8df1-p0g07yjj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689276601,"availabilityEnd":2043032340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001nrj9\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":15},{"name":"Bargain Hunt","description":"Natasha Raskin Sharp presents this episode from Shepton Mallet in Somerset, with experts John Cameron and Stephanie Connell. [S,AD] [HD]","startTime":1689574500,"duration":2700,"svcId":700,"evtId":8409,"image":"\/ms\/img\/epg\/rb\/8df1-p0fxy46j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689336000,"availabilityEnd":1720872000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nqf5\u0026ui_id=4.0.0"},"seriesNo":65},{"name":"Clive Myrie\u0027s Italian Road Trip","description":"3\/15. Clive travels to the heart of Sicily to cook lunch in a community kitchen set up by Jamie Oliver\u0027s former restaurant manager and spends the night in a 700-year-old mansion. [S,SL] [HD]","startTime":1689577200,"duration":1800,"svcId":700,"evtId":8410,"image":"\/ms\/img\/epg\/rb\/8df1-p0fk1j2m.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Great British Railway Journeys","description":"3\/15. Greater Manchester\u0027s Metrolink tram delivers Michael to the former cotton town of Oldham. He heads across to Wakefield and the striking postwar sculptures of Barbara Hepworth. [S,AD,SL] [HD]","startTime":1689579000,"duration":1800,"svcId":700,"evtId":8411,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvgv30.jpg","hasTstv":false,"seriesNo":14,"episodeNo":3},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1689580800,"duration":7200,"svcId":700,"evtId":8412,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1689588000,"duration":4500,"svcId":700,"evtId":8413,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1689592500,"duration":2700,"svcId":700,"evtId":8414,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Impossible","description":"21\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1689595200,"duration":2700,"svcId":700,"evtId":8415,"image":"\/ms\/img\/epg\/rb\/8df1-p04lwpn2.jpg","hasTstv":false,"seriesNo":6,"episodeNo":21},{"name":"Mastermind","description":"1\/31. John Humphrys presents the first heat of the series. The specialist subjects are The Levellers, Julie Andrews, Black Books and Isabella of Castile. [S] [HD]","startTime":1689597900,"duration":1800,"svcId":700,"evtId":8416,"image":"\/ms\/img\/epg\/rb\/8df1-p08sfc35.jpg","hasTstv":false,"seriesNo":2020,"episodeNo":1},{"name":"Great British Menu","description":"In the first heat, Ben Marks\u0027s dish takes inspiration from The Beatles track Glass Onion, while Paul Walsh opts for a delicate fish and fregola dish inspired by The Kinks. [S] [HD]","startTime":1689599700,"duration":3600,"svcId":700,"evtId":8417,"image":"\/ms\/img\/epg\/rb\/8df1-p07k0h23.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1553115600,"availabilityEnd":1589058000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0003g9h\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":1},{"name":"Home Is Where the Art Is","description":"6\/15. Nick Knowles challenges three artists to create a piece for buyers who want to commemorate the day they won the National Lottery. [S] [HD]","startTime":1689603300,"duration":1800,"svcId":700,"evtId":8418,"image":"\/ms\/img\/epg\/rb\/8df1-p08k32tg.jpg","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"The Wonder of Animals","description":"1\/12. Chris Packham explores what makes animal groups successful. He looks at how the penguin\u0027s legs, wings and body shape have allowed it to adapt to a range of environments. [S,AD] [HD]","startTime":1689605100,"duration":1800,"svcId":700,"evtId":8419,"image":"\/ms\/img\/epg\/rb\/8df1-p0249pnm.jpg","hasTstv":false,"episodeNo":1},{"name":"Made in Great Britain","description":"The makers experience Sheffield\u0027s transformation into an industrial powerhouse known as \u0027Steel City\u0027, famous throughout the world for making high-quality steel and cutlery. [S,AD] [HD]","startTime":1689606900,"duration":3600,"svcId":700,"evtId":8420,"image":"\/ms\/img\/epg\/rb\/8df1-p06p5j0z.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Flog It!","description":"37\/60. Today Flog It! comes from Glemham Hall in Suffolk. Paul Martin visits nearby Framlingham Castle, from where Mary Tudor marched on London in 1553. [S] [HD]","startTime":1689610500,"duration":2700,"svcId":700,"evtId":8421,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":16,"episodeNo":37},{"name":"Richard Osman\u0027s House of Games","description":"91\/140. Former winners Angela Barnes, Kemah Bob, Ade Edmondson and Beattie Edmondson test their general knowledge skills on this week\u0027s Champions edition of the quiz. [S] [HD]","startTime":1689613200,"duration":1800,"svcId":700,"evtId":8422,"image":"\/ms\/img\/epg\/rb\/8df1-p0bpqbnt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1645468200,"availabilityEnd":1677004200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014t42\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":91},{"name":"Great British Railway Journeys","description":"11\/15. Michael Portillo explores the postwar Britain of his youth on a railway journey from the Midlands to the West Country, beginning in the city of Derby. [S,AD] [HD]","startTime":1689615000,"duration":1800,"svcId":700,"evtId":8423,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0pys8.jpg","hasTstv":false,"seriesNo":14,"episodeNo":11},{"name":"The Secret Genius of Modern...","description":"...Life: Bank Card. 1\/6. Hannah Fry takes a look at the bank card, the digital key to accessing cash. [S,AD] [HD]","startTime":1689616800,"duration":3600,"svcId":700,"evtId":8424,"image":"\/ms\/img\/epg\/rb\/8df1-p0ddctlx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1669693097,"availabilityEnd":1765778340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001f1td\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Only Connect","description":"1\/28. Victoria Coren Mitchell returns to the quiz where knowledge only gets you so far. In the opening heat, three keen cribbage players face a team of Arsenal supporters. [S] [HD]","startTime":1689620400,"duration":1800,"svcId":700,"evtId":8425,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0npwv.jpg","hasTstv":false,"seriesNo":31,"episodeNo":1},{"name":"University Challenge","description":"1\/37. In the opening heat, Trinity College, Cambridge, face the University of Manchester for a place in the second round. Amol Rajan asks the questions. [S] [HD]","startTime":1689622200,"duration":1800,"svcId":700,"evtId":8426,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0ntwx.jpg","hasTstv":false,"seriesNo":2025,"episodeNo":1},{"name":"Earth","description":"1\/5. Chris Packham explores one of the darkest periods in Earth\u0027s history: the worst mass extinction the planet has ever seen, when as much as 90% of all species died. [S,AD] [HD]","startTime":1689624000,"duration":3600,"svcId":700,"evtId":8427,"image":"\/ms\/img\/epg\/rb\/8df1-p0g07vc0.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"The Two Ronnies Sketchbook","description":"The Two Ronnies delve into the backstage stories behind classic comedy moments as they reveal memories from their impressive careers. Including the \u0027fork handles\u0027 sketch. [S]","startTime":1689627600,"duration":1800,"svcId":700,"evtId":8428,"image":"\/ms\/img\/epg\/rb\/8df1-p0g0phcm.jpg","hasTstv":false,"episodeNo":6},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1689629400,"duration":2400,"svcId":700,"evtId":8429,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1689631800,"duration":300,"svcId":700,"evtId":8430,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"The World\u0027s War: Forgotten...","description":"...Soldiers of Empire: Martial Races. 1\/2. David Olusoga reveals stories of the Indian, African and Asian troops who fought... Contains some scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1689632100,"duration":3600,"svcId":700,"evtId":8564,"image":"\/ms\/img\/epg\/rb\/8df1-p08sshl2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1684040400,"availabilityEnd":1722834000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b04d526s\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Moon","description":"Psychological thriller about a lunar miner nearing the end of his three-year mission. Contains very strong language. [2009] [S,AD] [HD]","startTime":1689635700,"duration":5700,"svcId":700,"evtId":8432,"image":"\/ms\/img\/epg\/rb\/8df1-p0cdnn3z.jpg","hasTstv":false},{"name":"Countryfile","description":"The team visit Spalding, the historic hub of Britain\u0027s bulb and flower farming industry, to learn how a new generation of farmers is shaping the future of the UK\u0027s flower industry. [S,SL] [HD]","startTime":1689641400,"duration":3300,"svcId":700,"evtId":8433,"image":"\/ms\/img\/epg\/rb\/8df1-p0fzzwkf.jpg","hasTstv":false},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1689644700,"duration":14400,"svcId":700,"evtId":8434,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Blackpool and Preston. On the first night, student and bartender Rachel\u0027s American diner-themed menu confuses her guests. But they all agree that her hosting rocks. (Ep1\/5)  [S]","startTime":1689561300,"duration":1800,"svcId":1500,"evtId":30278,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Blackpool and Preston. Lady of leisure Jill, who\u0027s dined at The Ivy three times, plans to impress with her Italian menu and language skills. And Bernard has the group in hysterics. (Ep2\/5)  [S]","startTime":1689563100,"duration":1500,"svcId":1500,"evtId":30279,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Blackpool and Preston. Flight attendant Mark plans to give his guests a taste of the high life with duck, venison and gin jelly cake. (Ep3\/5)  [S]","startTime":1689564600,"duration":1500,"svcId":1500,"evtId":30280,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Blackpool and Preston. Parole officer Bernard serves up a combination of Northern Soul and tasty grub. But there\u0027s a walk-out during the main course. (Ep4\/5)  [S]","startTime":1689566100,"duration":1500,"svcId":1500,"evtId":30281,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Blackpool and Preston. Health assistant Lisa is banking on her no-faff menu to bag her the prize. But tempers flare as some home truths are delivered. (Ep5\/5)  [S]","startTime":1689567600,"duration":1800,"svcId":1500,"evtId":30282,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Beat the Chef","description":"Talented amateur cook Lulu Marodeen takes on professional chef Mark Sargeant in a battle of the bananas. Will Lulu\u0027s soggy pastry leave her chances in shreds? Andi Oliver hosts. (S2 Ep5)  [S]","startTime":1689569400,"duration":1500,"svcId":1500,"evtId":30677,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":5},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Rory Bremner joins Susie Dent in Dictionary Corner.  [S]","startTime":1689570900,"duration":2400,"svcId":1500,"evtId":30455,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Cheers","description":"One Hugs, the Other Doesn\u0027t: A performance by children\u0027s entertainer Nanny Gee in honour of Frederick\u0027s second birthday helps to shed some light on Frasier\u0027s romantic past. (S10 Ep16\/26)  [S]","startTime":1689573300,"duration":1500,"svcId":1500,"evtId":30456,"image":"\/ms\/img\/epg\/rb\/5d52-73431.l.png","hasTstv":false,"seriesNo":10,"episodeNo":16},{"name":"Cheers","description":"A Diminished Rebecca with a Suspended Cliff: Woody\u0027s cousin Russell, a talented pianist, arrives in town. Rebecca hires him to play at the bar, but he falls in love with her. (S10 Ep17\/26)  [S]","startTime":1689574800,"duration":1500,"svcId":1500,"evtId":30457,"image":"\/ms\/img\/epg\/rb\/5d52-74978.l.png","hasTstv":false,"seriesNo":10,"episodeNo":17},{"name":"Everybody Loves Raymond","description":"Ray\u0027s Ring: Ray loses his wedding ring and is propositioned by an attractive woman at the airport. When Debra finds out what happened, she pretends to be single too... (S6 Ep4)  [AD,S]","startTime":1689576300,"duration":1500,"svcId":1500,"evtId":30458,"image":"\/ms\/img\/epg\/rb\/5d52-190382.l.png","hasTstv":false,"seriesNo":6,"episodeNo":4},{"name":"Everybody Loves Raymond","description":"Frank Goes Downstairs: After hurting themselves during a tryst, Ray and Debra say they fell down the stairs. But when Frank gets hurt doing some DIY, they begin to feel guilty. (S6 Ep6)  [AD,S]","startTime":1689577800,"duration":1500,"svcId":1500,"evtId":30459,"image":"\/ms\/img\/epg\/rb\/5d52-1583654.l.png","hasTstv":false,"seriesNo":6,"episodeNo":6},{"name":"Everybody Loves Raymond","description":"Jealous Robert: Debra and Marie\u0027s good intentions backfire when they try to drive Robert back into Amy\u0027s arms - and find out that Amy and Gianni are hitting it off. (S6 Ep7)  [AD,S]","startTime":1689579300,"duration":1800,"svcId":1500,"evtId":30460,"image":"\/ms\/img\/epg\/rb\/5d52-1583705.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Frasier","description":"Perspectives on Christmas: Martin, Daphne, Niles and Roz each describe the tedious holiday season from their own differing perspectives. (S5 Ep9)  [AD,S]","startTime":1689581100,"duration":1800,"svcId":1500,"evtId":30461,"image":"\/ms\/img\/epg\/rb\/5d52-656776.l.png","hasTstv":false,"seriesNo":5,"episodeNo":9},{"name":"Frasier","description":"Where Every Bloke Knows Your Name: The Fox and Whistle is Frasier\u0027s new local, which is no fun for Daphne, who uses the pub as an escape from life\u0027s stresses. (S5 Ep10)  [AD,S]","startTime":1689582900,"duration":2100,"svcId":1500,"evtId":30462,"image":"\/ms\/img\/epg\/rb\/5d52-659464.l.png","hasTstv":false,"seriesNo":5,"episodeNo":10},{"name":"Frasier","description":"Ain\u0027t Nobody\u0027s Business If I Do: When Daphne finds an engagement ring in Martin\u0027s underwear drawer, Niles hires a detective to investigate Sherry\u0027s past. (S5 Ep11)  [AD,S]","startTime":1689585000,"duration":1800,"svcId":1500,"evtId":30463,"image":"\/ms\/img\/epg\/rb\/5d52-397999538.l.png","hasTstv":false,"seriesNo":5,"episodeNo":11},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay returns to Woodland Park in Colorado to conclude his attempt to help Italian restaurant Mangia Mangia. Can he work his magic on a menu that relies on a microwave? (S7 Ep4)  [S]","startTime":1689586800,"duration":3300,"svcId":1500,"evtId":30464,"image":"\/ms\/img\/epg\/rb\/5d52-384505062.l.png","hasTstv":false,"seriesNo":6,"episodeNo":6},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1689590100,"duration":300,"svcId":1500,"evtId":30465,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026B battle begins at Fountain Cottage in Northumberland. The B\u0026Bers have a barrel of laughs on a trip to a brewery. But pro chef Michael\u0027s breakfast leaves one guest with a bellyache.  [S]","startTime":1689590400,"duration":1800,"svcId":1500,"evtId":30466,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Visit two takes the B\u0026Bers to The Shuckburgh Arms in Northamptonshire, where everyone goes barmy for their converted barns. But one guest isn\u0027t buzzing about a broken fridge.  [S]","startTime":1689592200,"duration":1800,"svcId":1500,"evtId":30467,"image":"\/ms\/img\/epg\/rb\/5d52-7353106.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers are at Beachside Holidays in Great Yarmouth for the week\u0027s third visit, where the hosts take some flack for the lack of a welcome pack. At least the sea views are stunning.  [S]","startTime":1689594000,"duration":1800,"svcId":1500,"evtId":30468,"image":"\/ms\/img\/epg\/rb\/5d52-7353734.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The B\u0026Bers are down the rabbit hole for the week\u0027s final visit, at the Alice in Wonderland-themed Hatter\u0027s Hotel in Skegness. Will the hosts be grinning like Cheshire cats at feedback time?  [S]","startTime":1689595800,"duration":1800,"svcId":1500,"evtId":30469,"image":"\/ms\/img\/epg\/rb\/5d52-7353858.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s payment day, and the B\u0026Bers have more axes to grind than an... axe grinding shop? Anyway, after some dramatic discoveries, the payments are revealed and the winners announced.  [S]","startTime":1689597600,"duration":1800,"svcId":1500,"evtId":30470,"image":"\/ms\/img\/epg\/rb\/5d52-405374824.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Trevor Nelson joins Susie Dent in Dictionary Corner.  [S]","startTime":1689599400,"duration":3000,"svcId":1500,"evtId":30471,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Yvonne and Graham want a bolthole in the charming seaside town of Alvor on Portugal\u0027s Algarve. Can Ben Hillman find their perfect place, close to the harbour and the beach, for \u00a3135k?  [S]","startTime":1689602400,"duration":3600,"svcId":1500,"evtId":30472,"image":"\/ms\/img\/epg\/rb\/5d52-4207731.l.png","hasTstv":false},{"name":"Chateau DIY","description":"Philip and Janet push to complete a guest suite with creative upcycling and clever sewing. Tim and Krys turn their attention to the interior of their long-neglected chateau. (S3 Ep6)  [AD,S]","startTime":1689606000,"duration":3600,"svcId":1500,"evtId":30473,"image":"\/ms\/img\/epg\/rb\/5d52-6371688.l.png","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"Sun, Sea and Selling Houses","description":"In Almer\u00eda, the Garners hunt for a home with a breathtaking view for Paul and Breda. And in Alicante, can Charlotte rise to the occasion to find keen baker Peter a perfect place? (S6 Ep16)  [S]","startTime":1689609600,"duration":3600,"svcId":1500,"evtId":30474,"image":"\/ms\/img\/epg\/rb\/5d52-7875375.l.png","hasTstv":false,"seriesNo":6,"episodeNo":16},{"name":"The Simpsons","description":"It\u0027s a Mad, Mad, Mad, Mad Marge: Otto marries his girlfriend Becky (guest star Parker Posey), but, in true rock \u0027n\u0027 roll fashion, the marriage is over as soon as it has begun. (S11 Ep21\/22)  [AD,S]","startTime":1689613200,"duration":1800,"svcId":1500,"evtId":30475,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":11,"episodeNo":21},{"name":"Hollyoaks","description":"A new face causes Sienna more trouble than first expected. Cindy goes behind Tom\u0027s back. And things get on top of John Paul, who feels stuck in his life.  [AD,S]","startTime":1689615000,"duration":1800,"svcId":1500,"evtId":30476,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1689616800,"duration":3600,"svcId":1500,"evtId":30477,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: Supermarkets Unwrapped:...","description":"...Fruit \u0026 Veg Aisle: The team head down the fruit and veg aisle, getting all the inside info on summer veggies in winter, temperamental bananas, and how to waste less produce. (Ep3\/4)  [AD,S]","startTime":1689620400,"duration":1800,"svcId":1500,"evtId":30478,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: Brilliant Builds: Kirstie and Phil look back at Catherine and Nigel\u0027s dated, 70s-style bungalow in Larne, Northern Ireland. Was the addition of a garage a love-it game changer?  [AD,S]","startTime":1689622200,"duration":1800,"svcId":1500,"evtId":30479,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"New: 24 Hours in A\u0026E","description":"At Queen\u0027s in Nottingham, 87-year-old Joan has cut her head open after falling on a tram and 19-year-old Rose faces life-changing injuries after being thrown in the air by a car. (S31 Ep2)  [AD,S]","startTime":1689624000,"duration":3600,"svcId":1500,"evtId":30480,"image":"\/ms\/img\/epg\/rb\/5d52-7875310.l.png","hasTstv":false,"seriesNo":31,"episodeNo":2},{"name":"24 Hours in Police Custody:...","description":"...Black Widow: In Cambridgeshire, police hear a recording of a woman plotting to have her ex-husband killed - the start of a gripping investigation as officers race against time. (Ep1\/2)  [AD,S]","startTime":1689627600,"duration":3900,"svcId":1500,"evtId":30481,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Dr. Death","description":"The $?!\u0026 in the Bed: An assistant district attorney explores legal solutions with Dr Henderson and Dr Kirby, while Duntsch is recruited by a prestigious medical centre. (Ep5\/8)  [AD,S]","startTime":1689631500,"duration":3300,"svcId":1500,"evtId":30482,"image":"\/ms\/img\/epg\/rb\/5d52-crime.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon Ramsay travels the US to fix hopeless hotels, mediocre motels and just plain bad B\u0026Bs. This time, he\u0027s in Coeur d\u0027Alene, Idaho, to tackle the failing Roosevelt Inn. (S1 Ep1\/6)  [AD,S,SL]","startTime":1689634800,"duration":3000,"svcId":1500,"evtId":30483,"image":"\/ms\/img\/epg\/rb\/5d52-93473370.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Couples Come Dine with Me","description":"In south east London, Max and Janelle cook Caribbean cuisine inspired by Janelle\u0027s family. Michael and Laura relive their Ibizan wedding. David and Sammi serve a surprisingly simple menu.  [S,SL]","startTime":1689637800,"duration":3300,"svcId":1500,"evtId":30484,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":22},{"name":"The Dog House","description":"Champion Olympic cyclist Victoria Pendleton visits Wood Green, in search of a dog who she can co-parent with her mum. And lovebirds Shai and Orin meet Polo the lurcher. (S2 Ep8)  [AD,S,SL]","startTime":1689641100,"duration":3300,"svcId":1500,"evtId":30485,"image":"\/ms\/img\/epg\/rb\/5d52-406345627.l.png","hasTstv":false,"seriesNo":2,"episodeNo":8},{"name":"The Secret Life of the Zoo","description":"Chester Zoo\u0027s dominant lion is having a crisis of confidence. There\u0027s been a bloodbath among the vampire crabs. And Andean bear Bernie has been chucked out of the family paddock. (S10 Ep3)  [AD,S]","startTime":1689644400,"duration":3300,"svcId":1500,"evtId":30676,"image":"\/ms\/img\/epg\/rb\/5d52-nature.genre.l.png","hasTstv":false,"seriesNo":10,"episodeNo":3},{"name":"Grand Designs","description":"Kevin McCloud meets Kevin McCabe, an exponent of the ancient art of cob building, who wants to construct a castle entirely of mud. The huge scale of the task soon becomes clear.  [AD,S]","startTime":1689647700,"duration":3300,"svcId":1500,"evtId":30486,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false},{"name":"Location, Location, Location","description":"In York, Kirstie Allsopp and Phil Spencer help Tom and Timna find their first family home. And Rich and Kirsty want a house they can grow into after living it up in London. (S30 Ep1\/8)  [S]","startTime":1689651000,"duration":3300,"svcId":1500,"evtId":30487,"image":"\/ms\/img\/epg\/rb\/5d52-282946448.l.png","hasTstv":false,"seriesNo":30,"episodeNo":1}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('40');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('35');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '0XqcYddFA9s', title: "My Family Survives $1 vs $10,000 Amusement Park!", label: "My Family Survives $1 vs $10,000 Amusement Park! by The Anazala Family  23 hours ago 16 minutes 1,124,961 views" },
{ id: 'oobw6ZzuI0s', title: "Lee Westwood v Ian Poulter v Jimmy Bullard (It’s The Nuts!)", label: "Lee Westwood v Ian Poulter v Jimmy Bullard (It’s The Nuts!) by TUBES \u0026 ANGE GOLF LIFE 15 hours ago 51 minutes 150,213 views" },
{ id: 'CP82DAKzL1U', title: "LIVE | Declan Rice and Jurrien Timber join the squad at Arsenal Training Centre!", label: "LIVE | Declan Rice and Jurrien Timber join the squad at Arsenal Training Centre! by Arsenal 1 day ago 3 minutes 970,495 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Hungary.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Hungarian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>23 July</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Rear Window (1954)">Rear Window (1954)</a></li><li><a href="https://www.google.com/search?q=Films+-+Heavenly Creatures (1994)">Heavenly Creatures (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Us (2019)">Us (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Card Shark (2022)">Card Shark (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert (2020)">Command & Conquer: Red Alert (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs (2021)">100 Hidden Frogs (2021)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2014, S5)">Downton Abbey (2014, S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2013, S4)">Downton Abbey (2013, S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2012, S3)">Downton Abbey (2012, S3)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 177.60, tooltip: "Fri, Jul 14, 2023<br/>£177.60"},
{ number: 177.74, tooltip: "Thu, Jul 13, 2023<br/>£177.74"},
{ number: 177.34, tooltip: "Wed, Jul 12, 2023<br/>£177.34"},
{ number: 176.65, tooltip: "Tue, Jul 11, 2023<br/>£176.65"},
{ number: 176.27, tooltip: "Mon, Jul 10, 2023<br/>£176.27"},
{ number: 175.67, tooltip: "Fri, Jul 07, 2023<br/>£175.67"},
{ number: 177.33, tooltip: "Thu, Jul 06, 2023<br/>£177.33"},
{ number: 179.30, tooltip: "Wed, Jul 05, 2023<br/>£179.30"},
{ number: 179.97, tooltip: "Tue, Jul 04, 2023<br/>£179.97"},
{ number: 180.41, tooltip: "Mon, Jul 03, 2023<br/>£180.41"},
{ number: 179.41, tooltip: "Fri, Jun 30, 2023<br/>£179.41"},
{ number: 179.00, tooltip: "Thu, Jun 29, 2023<br/>£179.00"},
{ number: 178.60, tooltip: "Wed, Jun 28, 2023<br/>£178.60"},
{ number: 176.52, tooltip: "Tue, Jun 27, 2023<br/>£176.52"},
{ number: 175.48, tooltip: "Mon, Jun 26, 2023<br/>£175.48"},
{ number: 175.84, tooltip: "Fri, Jun 23, 2023<br/>£175.84"},
{ number: 177.15, tooltip: "Thu, Jun 22, 2023<br/>£177.15"},
{ number: 177.37, tooltip: "Wed, Jun 21, 2023<br/>£177.37"},
{ number: 178.07, tooltip: "Tue, Jun 20, 2023<br/>£178.07"},
{ number: 178.24, tooltip: "Mon, Jun 19, 2023<br/>£178.24"},
{ number: 178.58, tooltip: "Fri, Jun 16, 2023<br/>£178.58"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 14, 2023",
		"vs Day":      "Thu, Jul 13, 2023",
		"vs Week":     "Fri, Jul 07, 2023",
		"vs Month":    "Fri, Jun 16, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£177.60/share",
		'vs Day':      "-0.08%",
		'vs Week':     "+1.10%",
		'vs Month':    "-0.55%",
		'vs Year':     "+6.72%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '0.8',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 16 July and 17 July">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.008&p=3.763&r=0.127',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:04',
		Set:      '21:19',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Cogent</em> is a formal word that describes something that is very clear and easy for the mind to accept and believe, in other words “convincing.” </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23loveislandaftersun">#loveislandaftersun</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Ella+B%22">Ella B</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Onana">Onana</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Sanam">Sanam</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23Wimbledon">#Wimbledon</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23PEPEC">#PEPEC</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Dwight">Dwight</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23SaveTheFrogs">#SaveTheFrogs</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Peraza">Peraza</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Titans">Titans</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>