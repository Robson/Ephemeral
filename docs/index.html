<!DOCTYPE html>
<html lang="en">
	<head>
		<title>13:32 22-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Couple in crash that killed six people named</b><br/>The man and woman died in a car involved in a collision with a motorbike on Sunday afternoon." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cq5j95v5wklo">Couple in crash that killed six people named</a></li><li class="ttt" data-tt="<b>BT fined millions for failing to connect 999 calls</b><br/>The telecoms firm was found to be ill-prepared after an IT error affected &quot;life and death&quot; services."><a href="https://www.bbc.com/news/articles/cjr4zkq1kkwo">BT fined millions for failing to connect 999 calls</a></li><li class="ttt" data-tt="<b>Labour must deliver or risk populist rise, say cabinet ministers</b><br/>Rachel Reeves, David Lammy and Wes Streeting say Labour must restore faith in mainstream politics."><a href="https://www.bbc.com/news/articles/c72vjlgl4j8o">Labour must deliver or risk populist rise, say cabinet ministers</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cq5j95v5wklo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/73e5/live/412cc3d0-4824-11ef-96f1-1967de2994a3.jpg" class="ttt" data-tt="Man and woman hold three children who have their faces blurred" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>What Biden quitting means for Harris, the Democrats and Trump</b><br/>President Biden has upended the 2024  White House race for the Democrats. Here is what it means for Kamala Harris, his party and Trump." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cpwd8yzw45qo">What Biden quitting means for Harris, the Democrats and Trump</a></li><li class="ttt" data-tt="<b>Democrats hope to use crisis to transform election</b><br/>Savvy members of Mr Biden\'s party sensed an opportunity in his debate debacle, writes Sarah Smith."><a href="https://www.bbc.com/news/articles/cxe24mjez84o">Democrats hope to use crisis to transform election</a></li><li class="ttt" data-tt="<b>Isolating at a beach house, Biden gave aides one minute notice of exit</b><br/>Most of the president\'s senior aides found out about his decision to exit the race minutes before he publicly announced it."><a href="https://www.bbc.com/news/articles/c3gdzmdje5xo">Isolating at a beach house, Biden gave aides one minute notice of exit</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cpwd8yzw45qo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/7180/live/c6597240-47b8-11ef-96a8-e710c6bfc866.jpg" class="ttt" data-tt="Kamala Harris waves and smiles" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Democrats hope to use crisis to transform election</b><br/>Savvy members of Mr Biden\'s party sensed an opportunity in his debate debacle, writes Sarah Smith." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cxe24mjez84o">Democrats hope to use crisis to transform election</a></li><li class="ttt" data-tt="<b>Watch: How US President Joe Biden\'s bid for re-election came to an end</b><br/>US President Joe Biden has announced that he will end his candidacy for re-election"><a href="https://www.bbc.com/news/videos/cmm2r04jg4po">Watch: How US President Joe Biden\'s bid for re-election came to an end</a></li><li class="ttt" data-tt="<b>Biden has backed Harris. What happens next in US election?</b><br/>The path for a Democratic nominee is less than clear months before the election."><a href="https://www.bbc.com/news/articles/cq5xdq71drro">Biden has backed Harris. What happens next in US election?</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cxe24mjez84o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ea92/live/9b4343c0-47ee-11ef-b74c-bb483a802c97.jpg" class="ttt" data-tt="Joe Biden embraces Kamala Harris " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>\'I didn\'t give up the win. I lost it off the line\'</b><br/>Lando Norris agonised over whether to hand victory in the Hungarian Grand Prix back to McLaren team-mate Oscar Piastri but said it was the &quot;fair&quot; and &quot;honest&quot; thing to do." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cye03ylnnr0o">\'I didn\'t give up the win. I lost it off the line\'</a></li><li class="ttt" data-tt="<b>Red Bull need to do better - Verstappen</b><br/>Max Verstappen says Red Bull &quot;need to do a better job&quot; and that he sees no need to apologise for a series of bad-tempered radio messages during the Hungarian Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/ck5g3e6ex71o">Red Bull need to do better - Verstappen</a></li><li class="ttt" data-tt="<b>F1: Chequered Flag</b><br/>Harry and Marc look back at a cracking race in Hungary."><a href="https://www.bbc.co.uk/sounds/play/p0jcsp4b">F1: Chequered Flag</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cye03ylnnr0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/e69c/live/38ccc840-4782-11ef-b74b-5f98efd74680.jpg" class="ttt" data-tt="Lando Norris at the Hungarian Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>\'Significant number\' of devices fixed - CrowdStrike</b><br/>Cybersecurity firm behind global outage says it continues to focus on restoring all impacted computers." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cgl7e33n1d0o">\'Significant number\' of devices fixed - CrowdStrike</a></li><li class="ttt" data-tt="<b>Scam warning as fake emails and websites target users after outage</b><br/>Agencies in the UK and Australia are warning people to be vigilante to fake emails, calls and websites."><a href="https://www.bbc.com/news/articles/cq5xy12pynyo">Scam warning as fake emails and websites target users after outage</a></li><li class="ttt" data-tt="<b>IT working but delays possible after outage, says NHS</b><br/>NHS England says services are back online after the global IT outage, but there could still be disruption."><a href="https://www.bbc.com/news/articles/crge037gey3o">IT working but delays possible after outage, says NHS</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cgl7e33n1d0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/bb5b/live/363718b0-47c3-11ef-be99-e9774e2b4d6b.jpg" class="ttt" data-tt="Information screen informs train travellers of global IT outage. " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"22 Jul – 28 Jul","date":17216064E5,"ts":"Mon, 22","ds":"Mon, 22 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":22,"templow":13,"cf":24,"wind":11,"wd":240,"hum":61,"pc":44,"rain":1.4 },{"date":17216928E5,"ts":"Tue, 23","ds":"Tue, 23 Jul","icon":33,"desc":"Passing showers. Cloudy.","temp":22,"templow":14,"cf":24,"wind":6,"wd":30,"hum":62,"pc":41,"rain":2.1 },{"date":17217792E5,"ts":"Wed, 24","ds":"Wed, 24 Jul","icon":7,"desc":"Cloudy.","temp":24,"templow":14,"cf":25,"wind":11,"wd":220,"hum":56,"pc":3},{"date":17218656E5,"ts":"Thu, 25","ds":"Thu, 25 Jul","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":16,"cf":20,"wind":13,"wd":210,"hum":78,"pc":65,"rain":3.5 },{"date":1721952E6,"ts":"Fri, 26","ds":"Fri, 26 Jul","icon":33,"desc":"Showers late. Overcast.","temp":22,"templow":14,"cf":25,"wind":6,"wd":210,"hum":51,"pc":21,"rain":0.4 },{"date":17220384E5,"ts":"Sat, 27","ds":"Sat, 27 Jul","icon":33,"desc":"Showers late. Cloudy.","temp":19,"templow":11,"cf":19,"wind":6,"wd":240,"hum":58,"pc":24,"rain":0.7 },{"date":17221248E5,"ts":"Sun, 28","ds":"Sun, 28 Jul","icon":4,"desc":"Increasing cloudiness.","temp":22,"templow":10,"cf":25,"wind":8,"wd":210,"hum":50,"pc":2},{"hl":true,"hls":"29 Jul – 4 Aug","date":17222112E5,"ts":"Mon, 29","ds":"Mon, 29 Jul","icon":6,"desc":"Mostly cloudy.","temp":19,"templow":11,"cf":16,"wind":11,"wd":220,"hum":71,"pc":5},{"date":17222976E5,"ts":"Tue, 30","ds":"Tue, 30 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":20,"templow":14,"cf":19,"wind":10,"wd":230,"hum":69,"pc":42,"rain":0.4 },{"date":1722384E6,"ts":"Wed, 31","ds":"Wed, 31 Jul","icon":6,"desc":"Broken clouds.","temp":21,"templow":14,"cf":20,"wind":8,"wd":230,"hum":48,"pc":6},{"date":17224704E5,"ts":"Thu, 1","ds":"Thu, 1 Aug","icon":2,"desc":"Scattered clouds.","temp":23,"templow":13,"cf":25,"wind":10,"wd":240,"hum":50,"pc":6},{"date":17225568E5,"ts":"Fri, 2","ds":"Fri, 2 Aug","icon":1,"desc":"Sunny.","temp":23,"templow":14,"cf":25,"wind":10,"wd":230,"hum":43,"pc":5},{"date":17226432E5,"ts":"Sat, 3","ds":"Sat, 3 Aug","icon":21,"desc":"Isolated tstorms. Afternoon clouds.","temp":23,"templow":15,"cf":24,"wind":11,"wd":290,"hum":66,"pc":47,"rain":0.7 },{"date":17227296E5,"ts":"Sun, 4","ds":"Sun, 4 Aug","icon":4,"desc":"Afternoon clouds.","temp":23,"templow":13,"cf":25,"wind":8,"wd":340,"hum":45,"pc":6},{"hl":true,"hls":"5 Aug – 11 Aug","date":1722816E6,"ts":"Mon, 5","ds":"Mon, 5 Aug","icon":4,"desc":"Afternoon clouds.","temp":24,"templow":12,"cf":21,"wind":10,"wd":200,"hum":44,"pc":6}],"grid":{"temp":{"low":10,"high":24,"range":14},"prec":{"high":3.5},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/VeeChamaeleon_Lee_960.jpg',
		Title:     'Chamaeleon Dark Nebulas',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/VeeChamaeleon_Lee_6098.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240722.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Marabou_stork_%28Leptoptilos_crumenifer%29_in_flight_2.jpg/400px-Marabou_stork_%28Leptoptilos_crumenifer%29_in_flight_2.jpg',
		Title:    'Marabou stork',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Marabou_stork',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Marabou_stork" title="Marabou stork">marabou stork</a></b> (<i>Leptoptilos crumenifer</i>) is a wading <a href="https://en.wikipedia.org/wiki/Bird" title="Bird">bird</a> in the <a href="https://en.wikipedia.org/wiki/Stork" title="Stork">stork</a> family, Ciconiidae, native to <a href="https://en.wikipedia.org/wiki/Sub-Saharan_Africa" title="Sub-Saharan Africa">sub-Saharan Africa</a>. It is a large bird, with individuals reaching a height of 152 centimetres (4.99 feet) and a weight of 9 kilograms (20&#160;lb), and has the largest <a href="https://en.wikipedia.org/wiki/Wingspan" title="Wingspan">wingspan</a> of any land bird, with an average of 2.6 metres (8.5&#160;ft) and some recorded examples of up to 3.2 metres (10&#160;ft). The marabou stork breeds in Africa south of the Sahara. In East Africa, the birds interact with humans and breed in urban areas. In southern African countries, the birds breed mainly in less populated areas. This marabou stork in flight was photographed in the town of <a href="https://en.wikipedia.org/wiki/Batu_(town)" title="Batu (town)">Batu</a>, by <a href="https://en.wikipedia.org/wiki/Lake_Ziway" title="Lake Ziway">Lake Ziway</a>, Ethiopia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Charlesjsharp" title="User:Charlesjsharp">Charles J. Sharp</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1721624400,"duration":12600,"svcId":560,"evtId":26289,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721635200,"availabilityEnd":1721723400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c64\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain","description":"26\/40. How scammers were able to remotely control one woman\u0027s phone to log into her bank accounts and steal her life savings, all while she was asleep. [S] [HD]","startTime":1721637000,"duration":2700,"svcId":560,"evtId":26374,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h134zy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704195015,"availabilityEnd":1737458997,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001txd2\u0026ui_id=4.0.0"},"seriesNo":43,"episodeNo":26},{"name":"Expert Witness","description":"1\/15. When a dismembered body is discovered, police turn to a facial reconstruction expert to help identify the victim. [S] [HD]","startTime":1721639700,"duration":1800,"svcId":560,"evtId":26290,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g7htjf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692594000,"availabilityEnd":1724233509,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fw86zd\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"Close Calls: On Camera","description":"7\/20. A toddler stops breathing and dad has to perform CPR with help from a 999 call handler. [S] [HD]","startTime":1721641500,"duration":1800,"svcId":560,"evtId":26291,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fwltsp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721643299,"availabilityEnd":1724235299,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001njkw\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":7},{"name":"Homes Under the Hammer","description":"Terraced properties in Coventry, Folkestone and Maidstone are sold under the hammer. Dion, Martel and Tommy follow the developments. [S] [HD]","startTime":1721643300,"duration":3600,"svcId":560,"evtId":26292,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcg50.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721646888,"availabilityEnd":1724238888,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0013vym\u0026ui_id=4.0.0"},"seriesNo":35,"episodeNo":79},{"name":"Bargain Hunt","description":"Two teams of friends do battle for profits, while Charlie Ross visits a historic collection of human, horse and elephant armour in Leeds. [S] [HD]","startTime":1721646900,"duration":2700,"svcId":560,"evtId":26389,"image":"\/ms\/img\/epg\/rb\/fec6-p0jbs67t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721649600,"availabilityEnd":1753185600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021cx9\u0026ui_id=4.0.0"},"seriesNo":68},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1721649600,"duration":3600,"svcId":560,"evtId":26293,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":81},{"name":"Rick Stein\u0027s Cornwall","description":"6\/15. Rick visits a deer farm near Bodmin Moor, makes a stunning but simple Venison Wellington and, over a pint with comedian Jonny Cowling, defines the Cornish sense of humour. [S,AD] [HD]","startTime":1721653200,"duration":1800,"svcId":560,"evtId":26296,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f37ty1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1708799400,"availabilityEnd":1740376740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001jfrp\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":6},{"name":"Animal Park","description":"2\/15. When one of the park\u0027s pygmy goats unexpectedly goes into labour, it\u0027s a worrying time for the keepers. Meanwhile, Ben helps the keepers sex their young pancake tortoises. [S,AD] [HD]","startTime":1721655000,"duration":1800,"svcId":560,"evtId":26297,"image":"\/ms\/img\/epg\/rb\/ae0c-p09r8n9t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721656790,"availabilityEnd":1724248790,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000ypms\u0026ui_id=4.0.0"},"seriesNo":32,"episodeNo":2},{"name":"Escape to the Country","description":"53\/55. Briony May Williams helps a retired couple who live just outside Belfast move closer to their family by finding a home in Herefordshire. [S] [HD]","startTime":1721656800,"duration":2700,"svcId":560,"evtId":26375,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbx077.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721659485,"availabilityEnd":1753195485,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021ckr\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":53},{"name":"The Repair Shop","description":"10\/14. Jay Blades and the team restore a barber\u0027s chair, an Iranian musical instrument, a roulette machine and a carousel horse. [S,AD] [HD]","startTime":1721659500,"duration":2700,"svcId":560,"evtId":26298,"image":"\/ms\/img\/epg\/rb\/ae0c-p09z89c7.jpg","hasTstv":false,"seriesNo":13,"episodeNo":10},{"name":"The Finish Line","description":"5\/30. Roman Kemp hosts this quiz show with sidekick Sarah Greene - where contestants race on moving podiums across the studio floor to try to win \u00a35,000. [S] [HD]","startTime":1721662200,"duration":2700,"svcId":560,"evtId":26299,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g6zh4p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692980129,"availabilityEnd":1726935287,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pwbp\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Pointless","description":"52\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1721664900,"duration":2700,"svcId":560,"evtId":26300,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g5vrxl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693242000,"availabilityEnd":1724778000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001q27r\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":52},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1721667600,"duration":1800,"svcId":560,"evtId":26301,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721669490,"availabilityEnd":1721755890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c6d\u0026ui_id=4.0.0"},"episodeNo":81},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1721669400,"duration":1800,"svcId":560,"evtId":26302,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721671095,"availabilityEnd":1721757495,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c6g\u0026ui_id=4.0.0"},"episodeNo":113},{"name":"The One Show","description":"Will Young, Paapa Essiedu and Sharon Duncan-Brewster join Alex and Jermaine in the studio. [S] [HD]","startTime":1721671200,"duration":1800,"svcId":560,"evtId":26376,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721673046,"availabilityEnd":1724265046,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021ckt\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Reiss\u0027s life plunges into a downward spiral as his money troubles mount, Bernie\u0027s suspicions grow once more, and Kat and Alfie are still struggling with Tommy\u0027s behaviour. [S,AD] [HD]","startTime":1721673000,"duration":1800,"svcId":560,"evtId":26390,"image":"\/ms\/img\/epg\/rb\/fec6-p0jbxp76.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721624400,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021cxc\u0026ui_id=4.0.0"},"episodeNo":6947},{"name":"Labour in Power: Inside the New...","description":"...Government - Panorama. With access to key cabinet players, Laura Kuenssberg follows Labour\u0027s first days in office. [S] [HD]","startTime":1721674800,"duration":1800,"svcId":560,"evtId":26391,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jcjvfv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721676581,"availabilityEnd":1753212581,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021cxf\u0026ui_id=4.0.0"}},{"name":"Surviving the Post Office","description":"Actor Will Mellor travels across England to meet sub-postmasters trying to rebuild their lives after being accused of theft. Can they now start to recover? [S,AD] [HD]","startTime":1721676600,"duration":1800,"svcId":560,"evtId":26392,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbhrkp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721602860,"availabilityEnd":1753138860,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021cxh\u0026ui_id=4.0.0"}},{"name":"The Jetty","description":"4\/4. Suspended from duty, will Ember finally uncover the truth of what happened to Amy? Contains strong language, some sexual content and some upsetting scenes. [S,AD] [HD]","startTime":1721678400,"duration":3600,"svcId":560,"evtId":26393,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9yswc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721019600,"availabilityEnd":1752555600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020ysh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1721682000,"duration":1800,"svcId":560,"evtId":26303,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721683890,"availabilityEnd":1721770290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c6j\u0026ui_id=4.0.0"},"episodeNo":81},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1721683800,"duration":600,"svcId":560,"evtId":26304,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721684250,"availabilityEnd":1721770650,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c6l\u0026ui_id=4.0.0"},"episodeNo":97},{"name":"Ray Reardon: The Welsh Master","description":"From 2022, an intimate portrait of the life and career of snooker legend Ray Reardon as he reflects on the highs and lows of a remarkable career. [S] [HD]","startTime":1721684400,"duration":1800,"svcId":560,"evtId":26614,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvx42m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721686221,"availabilityEnd":1724278221,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00151yb\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"We Hunt Together","description":"5\/6. Haunted by visions from her past, Freddy makes a deadly confession. Contains some strong language, some violence and upsetting scenes. [S,AD] [HD]","startTime":1721686200,"duration":2700,"svcId":560,"evtId":26394,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7lnrv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1736316000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002062c\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"We Hunt Together","description":"6\/6. With the Birdman in their sights, Freddy, Jackson and Lola race to unmask the killer once and for all. Contains some strong language, some violence and upsetting scenes. [S,AD] [HD]","startTime":1721688900,"duration":2700,"svcId":560,"evtId":26395,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7lr4n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1736316000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002062f\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"The Weakest Link: Olympics Special","description":"An Olympic and Paralympic special. Athletes Greg Rutherford, Sally Gunnell, Pete Reed, Sam Quek, Tessa Sanderson, Will Bayley, Jade Jones and Rhona Martin compete for their charities. [S] [HD]","startTime":1721691600,"duration":2700,"svcId":560,"evtId":26396,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbkdrs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721503554,"availabilityEnd":1753039554,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021cxl\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1721694300,"duration":300,"svcId":560,"evtId":26305,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721694721,"availabilityEnd":1722299521,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021c6n\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1721694600,"duration":16200,"svcId":560,"evtId":26306,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":113}]},{"channelid":700,"offset":0,"event":[{"name":"Saturday Kitchen Best Bites","description":"Mouthwatering recipes from Bryn Williams, Hasan Semay, Cynthia Shanmugalingam and Philip Juma. Also, Rick Stein, Dame Mary Berry and Clive Myrie are out and about across the UK and abroad. [S] [HD]","startTime":1721626200,"duration":5400,"svcId":700,"evtId":17839,"image":"\/ms\/img\/epg\/rb\/ae0c-p0476l29.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721558752,"availabilityEnd":1753094752,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021dtx\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Rick Stein\u0027s Food Stories","description":"14\/15. In Leicester, Rick savours Indian high tea. Later, he cooks chicken tikka masala. [S,AD,SL] [HD]","startTime":1721631600,"duration":1800,"svcId":700,"evtId":17840,"image":"\/ms\/img\/epg\/rb\/fec6-p0h8cvq6.jpg","hasTstv":false,"seriesNo":1,"episodeNo":14},{"name":"Great Coastal Railway Journeys","description":"10\/20. Michael Portillo takes the train to the medieval walled town of Conwy on the last leg of his exploration of the shores of north Wales. [S,AD,SL] [HD]","startTime":1721633400,"duration":1800,"svcId":700,"evtId":17841,"image":"\/ms\/img\/epg\/rb\/fec6-p0hppsm6.jpg","hasTstv":false,"seriesNo":3,"episodeNo":10},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1721635200,"duration":11700,"svcId":700,"evtId":17842,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Joe Biden withdraws his bid for re-election as President. [S] [HD]","startTime":1721646900,"duration":2700,"svcId":700,"evtId":17843,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721649580,"availabilityEnd":1724241580,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021dv9\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"11\/30. Can players avoid giving Impossible answers and stay in the running for a \u00a310,000 jackpot? [S] [HD]","startTime":1721649600,"duration":2700,"svcId":700,"evtId":17844,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721652300,"availabilityEnd":1724244300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000tq61\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":11},{"name":"Make Me a Dealer","description":"2\/20. Paul Martin teaches people the tricks of the antiques trade. Today, he helps Derbyshire\u0027s David Stead and Laura Gray from Chichester. [S] [HD]","startTime":1721652300,"duration":2700,"svcId":700,"evtId":17845,"image":"\/ms\/img\/epg\/rb\/ae0c-p06qcmyr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721655045,"availabilityEnd":1724247045,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0brjl78\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"The Customer Is Always Right","description":"6\/15. Customers test and score a dry-wash shampoo, a measuring tool and a clamp to keep wheelie bin lids closed. [S] [HD]","startTime":1721655000,"duration":2700,"svcId":700,"evtId":17846,"image":"\/ms\/img\/epg\/rb\/ae0c-p08bcy18.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721657725,"availabilityEnd":1724249725,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000hr43\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":6},{"name":"Coastal Defenders","description":"6\/8. It\u0027s man versus mussel as the Coastal Defenders dive team clear shellfish from blocking a ship\u0027s pipes. [S,AD] [HD]","startTime":1721657700,"duration":1800,"svcId":700,"evtId":17847,"image":"\/ms\/img\/epg\/rb\/ae0c-p0f6k3kg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721659505,"availabilityEnd":1724251505,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001jw7p\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"B\u0026B by the Sea","description":"6\/15. Queen of the dance floor and Strictly Come Dancing head judge Shirley Ballas is kept on her toes by the B\u0026B team. From pig farming to pottery, Shirley takes it all in her stride. [S] [HD]","startTime":1721659500,"duration":1800,"svcId":700,"evtId":17848,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dgknwz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721661284,"availabilityEnd":1724253284,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fljt\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Cornwall: This Fishing Life","description":"6\/6. Change is on the horizon in Newlyn, Cornwall\u0027s biggest fishing port, as Brexit is coming. As the town prepares to navigate uncharted waters, the new harbour master is at the helm. [S,AD] [HD]","startTime":1721661300,"duration":3600,"svcId":700,"evtId":17849,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jbyvmg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721664894,"availabilityEnd":1724256894,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000fjsh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Flog It!","description":"Flog It! comes from Powderham Castle in Devon, which dates back to the 14th century. Antiques experts Claire Rawle is taken by a beautiful dove brooch. [S] [HD]","startTime":1721664900,"duration":2700,"svcId":700,"evtId":17850,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721667602,"availabilityEnd":1724259602,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b080bzvg\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":54},{"name":"Robson Green\u0027s Weekend Escapes","description":"6\/15. Dragons Den star Sara Davies takes Robson gorge-walking in Teesdale as the actor continues his mission to find new ways of spending time in the great outdoors. [S,AD] [HD]","startTime":1721667600,"duration":1800,"svcId":700,"evtId":17851,"image":"\/ms\/img\/epg\/rb\/fec6-p0dx65h0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721669415,"availabilityEnd":1724261415,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p0dp3475\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Great Continental Railway Journeys","description":"10\/10. Michael Portillo continues his journey from Stockholm to the Arctic Circle. On the way he decorates a Dala horse and learns how Sweden created a welfare state. [S,AD] [HD]","startTime":1721669400,"duration":1800,"svcId":700,"evtId":17852,"image":"\/ms\/img\/epg\/rb\/ae0c-p08q8xrq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721671200,"availabilityEnd":1724263200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000xhbx\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":10},{"name":"Today at the Test: England v...","description":"...West Indies. Day five highlights from the second Test between England and the West Indies at Trent Bridge, Nottingham. [S] [HD]","startTime":1721671200,"duration":3600,"svcId":700,"evtId":17853,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9tj88.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721674785,"availabilityEnd":1724266785,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021dvc\u0026ui_id=4.0.0"},"seriesNo":9},{"name":"The Battle to Beat Malaria","description":"The inside story, from lab to roll-out, of a game-changing vaccine from Oxford. [S,AD] [HD]","startTime":1721674800,"duration":3600,"svcId":700,"evtId":17854,"image":"\/ms\/img\/epg\/rb\/fec6-p0jbj2gd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721624400,"availabilityEnd":1879390740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0021dvf\u0026ui_id=4.0.0"}},{"name":"The Turkish Detective","description":"6\/8. With his family still growing, Ikmen decides it\u0027s time to grow up a bit and seek promotion. [S,AD] [HD]","startTime":1721678400,"duration":2700,"svcId":700,"evtId":17855,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7kbs2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720328400,"availabilityEnd":1811804340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zpfr\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"QI XS","description":"4\/6. A selection of classic clips from QI with travel in mind. [S] [HD]","startTime":1721681100,"duration":900,"svcId":700,"evtId":17856,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gz57my.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1684791190,"availabilityEnd":1759204736,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001m7y5\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"Spent","description":"3\/6. Mia uses a high-end hustle to keep a roof over her head and distracts herself with a date. Contains strong language. [S,AD] [HD]","startTime":1721682000,"duration":1800,"svcId":700,"evtId":17857,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7zzs7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1752010340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zprc\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1721683800,"duration":1800,"svcId":700,"evtId":17858,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721685690,"availabilityEnd":1753221690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021dvh\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1721685600,"duration":300,"svcId":700,"evtId":17859,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721685925,"availabilityEnd":1721772325,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021dvk\u0026ui_id=4.0.0"}},{"name":"The Apartheid Killer","description":"A security guard who became one of South Africa\u0027s most prolific mass murderers speaks. Contains some violence and upsetting scenes. [S,AD] [HD]","startTime":1721685900,"duration":4500,"svcId":700,"evtId":17860,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jchc7b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721602860,"availabilityEnd":1753138860,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021dvm\u0026ui_id=4.0.0"},"episodeNo":18},{"name":"Countryfile","description":"Charlotte Smith and Sean Fletcher are on Hengistbury Head in Dorset, where a large-scale engineering project is set to save huge swathes of this coastline from being lost to the sea. [S,SL] [HD]","startTime":1721690400,"duration":3300,"svcId":700,"evtId":17861,"image":"\/ms\/img\/epg\/rb\/fec6-p0jcv6v9.jpg","hasTstv":false},{"name":"The Bidding Room","description":"5\/30. Nigel Havers presides as five sellers aim to get the best price for their items, including a bard chair, a Bob Marley poster, WWI postcards, an antique golf caddy and a classic car. [S,SL] [HD]","startTime":1721693700,"duration":2700,"svcId":700,"evtId":17862,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hjny6j.jpg","hasTstv":false,"seriesNo":8,"episodeNo":5},{"name":"The Jetty","description":"2\/4. Reeling from her discovery about the past, Ember offers to help Riz investigate the Amy Knightly case in the hope of finding out what Riz knows. Contains very strong language. [S,AD,SL] [HD]","startTime":1721696400,"duration":3600,"svcId":700,"evtId":17863,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9yssd.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1721700000,"duration":12600,"svcId":700,"evtId":17864,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"The Babysitter: It\u0027s a battle of the Cranes as Frasier and Martin fall for the same girl - the boys\u0027 childhood babysitter. (S11 Ep4)  [AD,S]","startTime":1721622000,"duration":1500,"svcId":1500,"evtId":33105,"image":"\/ms\/img\/epg\/rb\/5d52-49515730.l.png","hasTstv":false,"seriesNo":11,"episodeNo":4},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Chris McCausland joins Susie Dent in Dictionary Corner.  [S]","startTime":1721623500,"duration":2400,"svcId":1500,"evtId":33240,"image":"\/ms\/img\/epg\/rb\/5d52-9673388.l.png","hasTstv":false},{"name":"Cheers","description":"From Beer to Eternity: Sam challenges rival bar Gary\u0027s Tavern to a bowling match, only to find the Cheers regulars are hopelessly bad at the sport. Can Woody step in to help? (S4 Ep9\/26)  [S]","startTime":1721625900,"duration":1500,"svcId":1500,"evtId":33241,"image":"\/ms\/img\/epg\/rb\/5d52-314755.l.png","hasTstv":false,"seriesNo":4,"episodeNo":9},{"name":"Cheers","description":"The Barstoolie: Cliff is thrilled to meet his long-lost father when he pays a visit to the bar with a message. Sam suspects that Diane intentionally sabotaged his latest date. (S4 Ep10\/26)  [S]","startTime":1721627400,"duration":1500,"svcId":1500,"evtId":33242,"image":"\/ms\/img\/epg\/rb\/5d52-316631.l.png","hasTstv":false,"seriesNo":4,"episodeNo":10},{"name":"Everybody Loves Raymond","description":"Raybert: Robert meets a beautiful woman who is a big fan of Ray\u0027s sports column, but when she mistakes him for Raymond, Robert doesn\u0027t set her straight. (S6 Ep10)  [AD,S]","startTime":1721628900,"duration":1500,"svcId":1500,"evtId":33243,"image":"\/ms\/img\/epg\/rb\/5d52-1598351.l.png","hasTstv":false,"seriesNo":6,"episodeNo":10},{"name":"Everybody Loves Raymond","description":"The Kicker: While enjoying a college football game, Frank catches a ball from a record-setting field goal. But when he refuses to give it back, he becomes a wanted man. (S6 Ep11)  [AD,S]","startTime":1721630400,"duration":1500,"svcId":1500,"evtId":33244,"image":"\/ms\/img\/epg\/rb\/5d52-1624686.l.png","hasTstv":false,"seriesNo":6,"episodeNo":11},{"name":"Everybody Loves Raymond","description":"Season\u0027s Greetings: Marie is jealous when she receives a letter from a relative saying how wonderful her life is. (S6 Ep12)  [AD,S]","startTime":1721631900,"duration":1800,"svcId":1500,"evtId":33245,"image":"\/ms\/img\/epg\/rb\/5d52-1621959.l.png","hasTstv":false,"seriesNo":6,"episodeNo":12},{"name":"Everybody Loves Raymond","description":"Tissues: When Debra grudgingly agrees to let Ray be more involved in the daily decision-making, he starts shopping for things that he wants. (S6 Ep13)  [AD,S]","startTime":1721633700,"duration":1800,"svcId":1500,"evtId":33246,"image":"\/ms\/img\/epg\/rb\/5d52-190390.l.png","hasTstv":false,"seriesNo":6,"episodeNo":13},{"name":"Frasier","description":"Party, Party: Frasier tries to hook up with an attractive lady, but there are several obstacles - a broken watch, car troubles and Martin\u0027s invitation to Chimps on Ice. (S5 Ep23)  [AD,S]","startTime":1721635500,"duration":1800,"svcId":1500,"evtId":33247,"image":"\/ms\/img\/epg\/rb\/5d52-690477.l.png","hasTstv":false,"seriesNo":5,"episodeNo":23},{"name":"Frasier","description":"Sweet Dreams: Frasier puts his job on the line by refusing to read out on air an advertisement for the radio station\u0027s new sponsor. (S5 Ep24)  [AD,S]","startTime":1721637300,"duration":1800,"svcId":1500,"evtId":33248,"image":"\/ms\/img\/epg\/rb\/5d52-692507.l.png","hasTstv":false,"seriesNo":5,"episodeNo":24},{"name":"Frasier","description":"Good Grief: Frasier\u0027s unemployment situation brings about various emotional responses, including denial, anger and depression. (S6 Ep1)  [AD,S]","startTime":1721639100,"duration":1800,"svcId":1500,"evtId":33249,"image":"\/ms\/img\/epg\/rb\/5d52-761247.l.png","hasTstv":false,"seriesNo":6,"episodeNo":1},{"name":"Frasier","description":"Frasier\u0027s Curse: Frasier worries about going to his high school reunion, because every time a reunion comes up, he has bad luck. (S6 Ep2)  [AD,S]","startTime":1721640900,"duration":1800,"svcId":1500,"evtId":33250,"image":"\/ms\/img\/epg\/rb\/5d52-762724.l.png","hasTstv":false,"seriesNo":6,"episodeNo":2},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, badminton player Rachel Choong gives us an insight into her life, her love for her sport, and what competing in Paris means to her.  [AD,S]","startTime":1721642700,"duration":300,"svcId":1500,"evtId":33251,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Undercover Boss USA","description":"YouTube star and internet sensation Bethany Mota adopts a disguise to go undercover and meet up-and-coming social media hopefuls who are trying to break through. (S9 Ep1)  [S]","startTime":1721643000,"duration":3300,"svcId":1500,"evtId":33252,"image":"\/ms\/img\/epg\/rb\/5d52-315242739.l.png","hasTstv":false,"seriesNo":9,"episodeNo":1},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1721646300,"duration":300,"svcId":1500,"evtId":33253,"image":"\/ms\/img\/epg\/rb\/5d52-9697704.l.png","hasTstv":false},{"name":"A New Life in the Sun","description":"The sky could be about to fall in at a cave house in Spain. A couple discover their French restaurant\u0027s fascinating past. Plus: DIY disasters in Bulgaria. (S9 Ep6)  [S]","startTime":1721646600,"duration":3600,"svcId":1500,"evtId":33254,"image":"\/ms\/img\/epg\/rb\/5d52-8723483.l.png","hasTstv":false,"seriesNo":9,"episodeNo":6},{"name":"Car S.O.S","description":"Rolls-Royce 1929 Doctors Coupe: The embodiment of a luxurious era - a 1929 Rolls-Royce Doctors Coupe - awaits Tim and Fuzz in Lincolnshire. (S9 Ep6)  [AD,S]","startTime":1721650200,"duration":3600,"svcId":1500,"evtId":33255,"image":"\/ms\/img\/epg\/rb\/5d52-4157764.l.png","hasTstv":false,"seriesNo":9,"episodeNo":5},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Katharine Merry joins Susie Dent in Dictionary Corner.  [S]","startTime":1721653800,"duration":3000,"svcId":1500,"evtId":33256,"image":"\/ms\/img\/epg\/rb\/5d52-9697710.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Ben Hillman shows Ian and Emily five jaw-dropping holiday villas for their budget of \u00a3440k, near the town of Pollen\u00e7a in eastern Mallorca. Are any of them the one?  [S]","startTime":1721656800,"duration":3600,"svcId":1500,"evtId":33257,"image":"\/ms\/img\/epg\/rb\/5d52-394616956.l.png","hasTstv":false},{"name":"The Great House Giveaway","description":"The show that gives two strangers a house, a budget and six months to renovate returns. In Llanymynech, Grant and Kelly take on a period terrace right next to a busy main road. (S5 Ep1)  [S]","startTime":1721660400,"duration":3600,"svcId":1500,"evtId":33258,"image":"\/ms\/img\/epg\/rb\/5d52-9697717.l.png","hasTstv":false,"seriesNo":5,"episodeNo":1},{"name":"A New Life in the Sun: Where...","description":"...Are They Now?: On the French Riviera, can a water sports company keep up with current trends? Chris and Klara try to get their Spanish bike rental business back on track. (S5 Ep15)  [S]","startTime":1721664000,"duration":3600,"svcId":1500,"evtId":33259,"image":"\/ms\/img\/epg\/rb\/5d52-7325238.l.png","hasTstv":false,"seriesNo":5,"episodeNo":15},{"name":"Come Dine with Me","description":"Swansea. Postal worker Rachel plans to deliver a first-class evening of nutritious home cooking, accompanied by yoga poses that even Gwyneth Paltrow would struggle with! (Ep1\/5)  [S]","startTime":1721667600,"duration":1800,"svcId":1500,"evtId":33260,"image":"\/ms\/img\/epg\/rb\/5d52-5586236.l.png","hasTstv":false},{"name":"The Simpsons","description":"Daddicus Finch: Lisa reads To Kill a Mockingbird and begins to observe wonderful similarities between Homer and Atticus Finch. (S30 Ep9\/23)  [AD,S]","startTime":1721669400,"duration":1800,"svcId":1500,"evtId":33261,"image":"\/ms\/img\/epg\/rb\/5d52-318625324.l.png","hasTstv":false,"seriesNo":30,"episodeNo":9},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1721671200,"duration":3300,"svcId":1500,"evtId":33262,"image":"\/ms\/img\/epg\/rb\/5d52-9697720.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, Boccia player Claire Taggart educates us about the game and why she thinks it\u0027s the most inclusive sport in the world.  [AD,S]","startTime":1721674500,"duration":300,"svcId":1500,"evtId":33263,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"New: Jamie: What to Eat This Week","description":"Jamie Oliver makes a tasty traybake with early-season tomatoes and potatoes; he heroes cucumber in a gnarly green gazpacho soup; and he whips up a sumptuous strawberry jam. (Ep2\/3)  [AD,S]","startTime":1721674800,"duration":3600,"svcId":1500,"evtId":33264,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"New: Sophie Morgan\u0027s Fight to Fly","description":"Sophie Morgan takes direct action to hold airlines to account for the shocking mistreatment of disabled flyers. Determined to inspire change, she visits the White House and Downing Street.  [AD,S]","startTime":1721678400,"duration":3600,"svcId":1500,"evtId":33265,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Celebrity Gogglebox","description":"A collection of best bits as assorted famous faces enjoy top TV, from Five Star Kitchen: Britain\u0027s Next Great Chef to The 1% Club, Hijack, Antiques Roadshow and The Yorkshire Vet. (S5 Ep7)  [AD,S]","startTime":1721682000,"duration":3900,"svcId":1500,"evtId":33266,"image":"\/ms\/img\/epg\/rb\/5d52-9697776.l.png","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"New: The Great","description":"Sweden: Catherine (Elle Fanning) must decide what to do about unrest in the regions but Velementov\u0027s in no state to help. Peter\u0027s (Nicholas Hoult) tormented by his father\u0027s legacy. (S3 Ep5)  [AD,S]","startTime":1721685900,"duration":3900,"svcId":1500,"evtId":33267,"image":"\/ms\/img\/epg\/rb\/5d52-9697803.l.png","hasTstv":false,"seriesNo":3,"episodeNo":5},{"name":"New: The Great","description":"Ice: Catherine (Elle Fanning) tries to persuade Peter (Nicholas Hoult) to come home. Hugo redoubles his attempts to regain his kingdom. Georgina continues to play her court games. (S3 Ep6)  [AD,S]","startTime":1721689800,"duration":3300,"svcId":1500,"evtId":33268,"image":"\/ms\/img\/epg\/rb\/5d52-9697806.l.png","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits the upmarket Cafe 36 in Chicago. Husband-and-wife team Terry and Carol are stuck in the past and their head chef\u0027s lax attitude is driving away customers. (S2 Ep10\/13)  [S,SL]","startTime":1721693100,"duration":3000,"svcId":1500,"evtId":33269,"image":"\/ms\/img\/epg\/rb\/5d52-760570.l.png","hasTstv":false,"seriesNo":1,"episodeNo":23},{"name":"The Simpsons","description":"Singin\u0027 in the Lane: Homer\u0027s bowling team get back together, but their friendship with their coach Moe is tested. (S29 Ep7\/21)  [AD,S]","startTime":1721696100,"duration":1500,"svcId":1500,"evtId":33270,"image":"\/ms\/img\/epg\/rb\/5d52-279133398.l.png","hasTstv":false,"seriesNo":29,"episodeNo":7},{"name":"The Simpsons","description":"The Serfsons: In a fantasy world, the peasant Simpsons struggle with Marge\u0027s mother\u0027s illness. And Lisa\u0027s magic powers lead to her capture. (S29 Ep1\/21)  [AD,S]","startTime":1721697600,"duration":1500,"svcId":1500,"evtId":33271,"image":"\/ms\/img\/epg\/rb\/5d52-275362088.l.png","hasTstv":false,"seriesNo":29,"episodeNo":1},{"name":"Becoming Elizabeth","description":"Either Learn or Be Silent: When Elizabeth sides with one sibling, the Lord Protector Somerset must try to keep the peace. Catherine\u0027s sworn enemy is released from the Tower. (Ep3\/8)  [AD,S,SL]","startTime":1721699100,"duration":3600,"svcId":1500,"evtId":33272,"image":"\/ms\/img\/epg\/rb\/5d52-7924544.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Grand Designs","description":"Can Leigh and Richard transform a derelict 17th-century Cornish flour mill, which is full of rotten timbers and riddled with structural cracks, into a warm, contemporary four-storey home?  [AD,S]","startTime":1721702700,"duration":3000,"svcId":1500,"evtId":33273,"image":"\/ms\/img\/epg\/rb\/5d52-4032701.l.png","hasTstv":false},{"name":"Kirstie\u0027s Fill Your House for Free","description":"Kirstie Allsopp and the team help first-time buyers Christine and Chris, who\u0027ve run out of money to decorate their Glasgow flat.  [S]","startTime":1721705700,"duration":1200,"svcId":1500,"evtId":33276,"image":"\/ms\/img\/epg\/rb\/5d52-399431424.l.png","hasTstv":false,"seriesNo":3,"episodeNo":12},{"name":"Frasier","description":"The Placeholder: Frasier feels like a gooseberry on a night out with Niles, Daphne, Martin and Ronee, so Roz convinces him to go on a date with her friend Ann. (S11 Ep5)  [AD,S]","startTime":1721706900,"duration":1500,"svcId":1500,"evtId":33274,"image":"\/ms\/img\/epg\/rb\/5d52-49559771.l.png","hasTstv":false,"seriesNo":11,"episodeNo":5}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('267');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('75');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('23');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'QZ1rhSnk-B0', title: "FIGHT HIGHLIGHTS | JAKE PAUL VS MIKE PERRY", label: "FIGHT HIGHLIGHTS | JAKE PAUL VS MIKE PERRY by DAZN Boxing 3,176,858 views 1 day ago 3 minutes" },
{ id: 'JCl3jTOUE84', title: "Amad \u0026 Hugill FIRE Home! 🚀 | Rangers 0-2 Man Utd | Highlights", label: "Amad \u0026 Hugill FIRE Home! 🚀 | Rangers 0-2 Man Utd | Highlights by Manchester United 1,270,518 views 21 hours ago 3 minutes, 23 seconds" },
{ id: 'eQfsnED4j8A', title: "Race Highlights | 2024 Hungarian Grand Prix", label: "Race Highlights | 2024 Hungarian Grand Prix by FORMULA 1 5,338,009 views 20 hours ago 8 minutes, 10 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Short Term 12 (2013)">Short Term 12 (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Casablanca (1942)">Casablanca (1942)</a></li><li><a href="https://www.google.com/search?q=Films+-+Come and See (1985)">Come and See (1985)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Miseducation of Cameron Post (2018)">The Miseducation of Cameron Post (2018)</a></li><li><a href="https://www.google.com/search?q=Films+-+Phantom Thread (2017)">Phantom Thread (2017)</a></li><li><a href="https://www.google.com/search?q=Films+-+Stand By Me (1986)">Stand By Me (1986)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Passion of Joan of Arc (1928)">The Passion of Joan of Arc (1928)</a></li><li><a href="https://www.google.com/search?q=Films+-+Host (2020)">Host (2020)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Gentlemen (2019)">The Gentlemen (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Petite Maman (2021)">Petite Maman (2021)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 211.93, tooltip: "Fri, Jul 19, 2024<br/>£211.93"},
{ number: 212.63, tooltip: "Thu, Jul 18, 2024<br/>£212.63"},
{ number: 213.73, tooltip: "Wed, Jul 17, 2024<br/>£213.73"},
{ number: 216.60, tooltip: "Tue, Jul 16, 2024<br/>£216.60"},
{ number: 215.12, tooltip: "Mon, Jul 15, 2024<br/>£215.12"},
{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
{ number: 213.51, tooltip: "Fri, Jun 28, 2024<br/>£213.51"},
{ number: 213.69, tooltip: "Thu, Jun 27, 2024<br/>£213.69"},
{ number: 214.04, tooltip: "Wed, Jun 26, 2024<br/>£214.04"},
{ number: 213.31, tooltip: "Tue, Jun 25, 2024<br/>£213.31"},
{ number: 212.57, tooltip: "Mon, Jun 24, 2024<br/>£212.57"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 19, 2024",
		"vs Day":      "Thu, Jul 18, 2024",
		"vs Week":     "Fri, Jul 12, 2024",
		"vs Month":    "Mon, Jun 24, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£211.93/share",
		'vs Day':      "-0.33%",
		'vs Week':     "-1.37%",
		'vs Month':    "-0.30%",
		'vs Year':     "+16.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '98.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 22 July and 23 July">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.982&p=2.882&r=5.774',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:12',
		Set:      '21:11',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Extenuate</em> is a formal word that is most often used to mean “to lessen the strength or effect of something, such as a risk.” In legal use, to extenuate a crime, offense, etc., is to lessen or to try to lessen its seriousness or extent by making partial excuses. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>