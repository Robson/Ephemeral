<!DOCTYPE html>
<html lang="en">
	<head>
		<title>21:19 8-Dec - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Starmer welcomes fall of Assad\'s \'barbaric regime\'</b><br/>The UK prime minister said it was &quot;early days&quot; when asked whether the government would engage with Syrian rebels." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cpq9l24ledpo">Starmer welcomes fall of Assad\'s \'barbaric regime\'</a></li><li class="ttt" data-tt="<b>Planning reforms will end development chaos, says Rayner</b><br/>Officials will be able to rubberstamp development plans without local authority permission under the changes."><a href="https://www.bbc.com/news/articles/c80vv9d4xzno">Planning reforms will end development chaos, says Rayner</a></li><li class="ttt" data-tt="<b>Thousands still without power as Storm Darragh warnings end</b><br/>While the storm has moved away from the UK, thousands of people are without power on Sunday."><a href="https://www.bbc.com/news/articles/c0lggrrj950o">Thousands still without power as Storm Darragh warnings end</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cpq9l24ledpo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6ae2/live/f7365340-b592-11ef-b897-0bca9b42570f.png" class="ttt" data-tt="Sir Keir Starmer, who has a grey &#x27;short back-and-sides&#x27; hairstyle and wears black-rimmed glasses, gestures with his hands as he speaks to the media after arriving in Abu Dhabi " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Biden says US hostage Austin Tice is alive in Syria</b><br/>&quot;We believe he\'s alive,&quot; said the president of one of the longest-held US captives. &quot;We think we can get him back.&quot;" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cp3zw1407w6o">Biden says US hostage Austin Tice is alive in Syria</a></li><li class="ttt" data-tt="<b>A $6.2m banana, a crypto empire and Trump\'s potential conflicts</b><br/>Trump\'s expanding business ventures have made it easier than ever for those hoping to influence US policy to steer money his way."><a href="https://www.bbc.com/news/articles/c4gzz5wdg41o">A $6.2m banana, a crypto empire and Trump\'s potential conflicts</a></li><li class="ttt" data-tt="<b>Killing of insurance CEO reveals simmering anger at US health system</b><br/>Long-standing frustrations were revealed online after a health insurance executive was shot and killed in New York City."><a href="https://www.bbc.com/news/articles/cm2eeeep0npo">Killing of insurance CEO reveals simmering anger at US health system</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cp3zw1407w6o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/4239/live/6ffde1d0-b5a7-11ef-bfe8-89642617b269.jpg" class="ttt" data-tt="Freelance journalist Austin Tice went missing in Syria in 2012 " style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>What just happened in Syria?</b><br/>Russia says Bashar al-Assad resigned as president and left Syria on Sunday, as rebels entered Damascus" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c99x0l1d432o">What just happened in Syria?</a></li><li class="ttt" data-tt="<b>HTS leader not only player in Syria\'s fast-changing future</b><br/>Bashar al-Assad\'s regime is gone, but it remains unclear what Syria\'s new order will eventually look like, writes Lyse Doucet."><a href="https://www.bbc.com/news/articles/c0kv582lpnro">HTS leader not only player in Syria\'s fast-changing future</a></li><li class="ttt" data-tt="<b>Ukrainian war dead reaches 43,000, Zelensky says in rare update</b><br/>The Ukrainian president also claimed that 198,000 Russian soldiers had been killed and 550,000 wounded."><a href="https://www.bbc.com/news/articles/c5yv75nydy3o">Ukrainian war dead reaches 43,000, Zelensky says in rare update</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c99x0l1d432o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0a7b/live/bb0f33f0-b533-11ef-99b7-2dce9d198bc0.jpg" class="ttt" data-tt="Syrian rebel fighters celebrate and hold up the Free Syria flag in Damascus after President Bashar al-Assad reportedly fled abroad (8 December 2024)" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>McLaren\'s \'perfect\' ending after being \'on the brink\'</b><br/>McLaren\'s first constructors\' championship since 1998 came after the team needed &quot;great resilience and great belief&quot; to return to the top of F1." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cy7kgg5lxeeo">McLaren\'s \'perfect\' ending after being \'on the brink\'</a></li><li class="ttt" data-tt="<b>Hamilton \'finished on a high\' with Mercedes</b><br/>Lewis Hamilton says he is happy his time with Mercedes &quot;finished on a high&quot; after &quot;a really turbulent year&quot;."><a href="https://www.bbc.com/sport/formula1/articles/cq8qkkzq2lgo">Hamilton \'finished on a high\' with Mercedes</a></li><li class="ttt" data-tt="<b>Norris wins to seal constructors\' title for McLaren</b><br/>Lando Norris secures McLaren\'s first Formula 1 constructors\' championship for 26 years with victory in the season-ending Abu Dhabi Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cx2vkyelj3vo">Norris wins to seal constructors\' title for McLaren</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cy7kgg5lxeeo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/e924/live/47a4cd90-b587-11ef-b897-0bca9b42570f.jpg" class="ttt" data-tt="Lando Norris celebrates with a McLaren mechanic after winning the Abu Dhabi Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>TikTok set to be banned in the US after losing appeal</b><br/>The app - which faces being banned in a matter of weeks - says it will now take its case to the Supreme Court." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c2ldnq5095xo">TikTok set to be banned in the US after losing appeal</a></li><li class="ttt" data-tt="<b>Online star Hawk Tuah girl faces crypto coin criticism</b><br/>Haliey Welch\'s &quot;Hawk&quot; digital coin shot up in price then lost 95% of its value just hours after it launched."><a href="https://www.bbc.com/news/articles/c89xvjkzzyvo">Online star Hawk Tuah girl faces crypto coin criticism</a></li><li class="ttt" data-tt="<b>What next for Bitcoin after bursting $100k barrier?</b><br/>The rapid increase in price has been attributed to Donald Trump\'s election victory - can it continue?"><a href="https://www.bbc.com/news/articles/cqjz04lv5q9o">What next for Bitcoin after bursting $100k barrier?</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c2ldnq5095xo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/d8a2/live/d8cb3550-b3ea-11ef-b4ee-7f3a9069a0a6.jpg" class="ttt" data-tt="Illustration shows the TikTok logo on a white background, with the American flag below it." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"2 Dec – 8 Dec","date":1733616E6,"ts":"Sun, 8","ds":"Sun, 8 Dec","icon":18,"desc":"Light rain. Overcast.","temp":7,"templow":5,"cf":1,"wind":24,"wd":0,"hum":91,"pc":67,"rain":4.2 },{"hl":true,"hls":"9 Dec – 15 Dec","date":17337024E5,"ts":"Mon, 9","ds":"Mon, 9 Dec","icon":18,"desc":"Sprinkles. Overcast.","temp":7,"templow":5,"cf":2,"wind":17,"wd":30,"hum":85,"pc":45,"rain":2},{"date":17337888E5,"ts":"Tue, 10","ds":"Tue, 10 Dec","icon":7,"desc":"Overcast.","temp":6,"templow":4,"cf":2,"wind":11,"wd":40,"hum":80,"pc":2},{"date":17338752E5,"ts":"Wed, 11","ds":"Wed, 11 Dec","icon":4,"desc":"Morning clouds.","temp":6,"templow":2,"cf":4,"wind":4,"wd":340,"hum":80,"pc":0},{"date":17339616E5,"ts":"Thu, 12","ds":"Thu, 12 Dec","icon":7,"desc":"Overcast.","temp":6,"templow":3,"cf":4,"wind":3,"wd":250,"hum":86,"pc":1},{"date":1734048E6,"ts":"Fri, 13","ds":"Fri, 13 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":6,"templow":4,"cf":4,"wind":5,"wd":260,"hum":85,"pc":19,"rain":1.5 },{"date":17341344E5,"ts":"Sat, 14","ds":"Sat, 14 Dec","icon":6,"desc":"Broken clouds.","temp":6,"templow":1,"cf":1,"wind":9,"wd":260,"hum":84,"pc":3},{"date":17342208E5,"ts":"Sun, 15","ds":"Sun, 15 Dec","icon":33,"desc":"Light showers. Overcast.","temp":11,"templow":1,"cf":2,"wind":18,"wd":270,"hum":84,"pc":55,"rain":3.1 },{"hl":true,"hls":"16 Dec – 22 Dec","date":17343072E5,"ts":"Mon, 16","ds":"Mon, 16 Dec","icon":18,"desc":"Sprinkles late. Broken clouds.","temp":8,"templow":4,"cf":2,"wind":27,"wd":260,"hum":67,"pc":53,"rain":1.1 },{"date":17343936E5,"ts":"Tue, 17","ds":"Tue, 17 Dec","icon":18,"desc":"Sprinkles. Breaks of sun late.","temp":6,"templow":4,"cf":2,"wind":15,"wd":280,"hum":74,"pc":55,"rain":0.4 },{"date":173448E7,"ts":"Wed, 18","ds":"Wed, 18 Dec","icon":19,"desc":"Rain. Overcast.","temp":7,"templow":3,"cf":4,"wind":12,"wd":170,"hum":98,"pc":74,"rain":9.4 },{"date":17345664E5,"ts":"Thu, 19","ds":"Thu, 19 Dec","icon":18,"desc":"Sprinkles late. Partly cloudy.","temp":7,"templow":4,"cf":1,"wind":26,"wd":280,"hum":65,"pc":49,"rain":0.7 },{"date":17346528E5,"ts":"Fri, 20","ds":"Fri, 20 Dec","icon":18,"desc":"Sprinkles. Scattered clouds.","temp":6,"templow":4,"cf":2,"wind":11,"wd":290,"hum":74,"pc":49,"rain":0.4 },{"date":17347392E5,"ts":"Sat, 21","ds":"Sat, 21 Dec","icon":18,"desc":"Sprinkles late. Overcast.","temp":8,"templow":4,"cf":4,"wind":21,"wd":220,"hum":80,"pc":48,"rain":0.6 },{"date":17348256E5,"ts":"Sun, 22","ds":"Sun, 22 Dec","icon":18,"desc":"Sprinkles. Morning clouds.","temp":8,"templow":4,"cf":5,"wind":13,"wd":270,"hum":71,"pc":59,"rain":2.1 }],"grid":{"temp":{"low":1,"high":11,"range":10},"prec":{"high":9.4},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2412/SaturnAurora_Hubble_960.jpg',
		Title:     'Aurora around Saturn\'s North Pole',
		LinkImage: 'https://apod.nasa.gov/apod/image/2412/SaturnAurora_Hubble_2215.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241208.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Jean_Ritchie_-_Appalachian_folk_singer%2C_1950.jpg/350px-Jean_Ritchie_-_Appalachian_folk_singer%2C_1950.jpg',
		Title:    'Jean Ritchie',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Jean_Ritchie',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Jean_Ritchie" title="Jean Ritchie">Jean Ritchie</a></b> (December&#160;8, 1922 – June&#160;1, 2015) was an American folk singer and songwriter who was known for playing the <a href="https://en.wikipedia.org/wiki/Appalachian_dulcimer" title="Appalachian dulcimer">Appalachian dulcimer</a>. Born to a family of folk singers in <a href="https://en.wikipedia.org/wiki/Viper,_Kentucky" title="Viper, Kentucky">Viper, Kentucky</a>, Ritchie was the youngest of fourteen siblings. As a child, her father Balis barred his children to play the dulcimer, but Ritchie defied his injunction and began playing it in secret. Thus, by the time her father began teaching her how to play, she was already accustomed to the instrument, and he labeled her as a "natural born musician". Ritchie popularized the dulcimer by playing it on many of her albums and writing tutorials, making her ultimately responsible for its revival, and earning her the nickname "Mother of Folk". This 1950 <a href="https://en.wikipedia.org/wiki/Associated_Press" title="Associated Press">Associated Press</a> photograph shows Ritchie playing the Appalachian dulcimer.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/Associated_Press" title="Associated Press">Associated Press</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1733637600,"duration":7200,"svcId":560,"evtId":29875,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":false},{"name":"Match of the Day","description":"Gary Lineker introduces the goals, drama and reaction from the day\u0027s Premier League fixtures. Manchester United host Nottingham Forest, while Manchester City travel to Crystal Palace. [S] [HD]","startTime":1733644800,"duration":3600,"svcId":560,"evtId":29971,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k994by.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733615940,"availabilityEnd":1734220740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x95\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":17},{"name":"Sunday with Laura Kuenssberg","description":"Laura Kuenssberg\u0027s guests include Angela Rayner MP, deputy prime minister, Richard Fuller MP, shadow chief secretary to the treasury and Emma Pinchbeck, CEO of the Climate Change Committee. [S] [HD]","startTime":1733648400,"duration":3600,"svcId":560,"evtId":29876,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cx8pct.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733652031,"availabilityEnd":1765188031,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txc\u0026ui_id=4.0.0"}},{"name":"Politics London","description":"The latest political news, interviews and debate. With guests Dawn Butler MP. [S] [HD]","startTime":1733652000,"duration":1800,"svcId":560,"evtId":29877,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrjn8h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733653730,"availabilityEnd":1736245730,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txf\u0026ui_id=4.0.0"}},{"name":"My Life at Christmas: Anita...","description":"...Rani Meets Rudolph Walker. 2\/3. Anita Rani meets actor Rudolph Walker, beloved as Patrick Trueman in EastEnders. [S,AD] [HD]","startTime":1733653800,"duration":3600,"svcId":560,"evtId":29972,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6s564.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733657400,"availabilityEnd":1765798220,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025x99\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Homes Under the Hammer","description":"80\/80. A Victorian house in Strood in Kent whose only loo was outside, a semi-detached house in Leeds and a damp top floor flat in Kilmarnock are all bought by property developers. [S,AD] [HD]","startTime":1733657400,"duration":3600,"svcId":560,"evtId":29878,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch2j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733661027,"availabilityEnd":1736253027,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001h9qt\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":80},{"name":"Bargain Hunt","description":"Christina Trevanion is in the north west of England with experts Gary Pe and David Harper. [S,AD] [HD]","startTime":1733661000,"duration":2400,"svcId":560,"evtId":29879,"image":"\/ms\/img\/epg\/rb\/ae0c-p0893xh4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733663401,"availabilityEnd":1736255401,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000hk36\u0026ui_id=4.0.0"},"seriesNo":55},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1733663400,"duration":600,"svcId":560,"evtId":29880,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733664000,"availabilityEnd":1733750400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txh\u0026ui_id=4.0.0"},"episodeNo":36},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1733664000,"duration":300,"svcId":560,"evtId":29881,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733664296,"availabilityEnd":1733750696,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txk\u0026ui_id=4.0.0"}},{"name":"Songs of Praise: Angels","description":"The Rev Kate Bottley explores the nature of some characters that are central to the Christmas story - the angels - and meets Christians with remarkable stories of modern-day angel encounters. [S] [HD]","startTime":1733664300,"duration":2100,"svcId":560,"evtId":29973,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k70zm7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733666392,"availabilityEnd":1765202392,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x9c\u0026ui_id=4.0.0"}},{"name":"Lifeline","description":"Dr Alex George presents an appeal on behalf of Anna Freud, a mental health charity that has been supporting children and young people for over 70 years. [S] [HD]","startTime":1733666400,"duration":600,"svcId":560,"evtId":29974,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k8b3jl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733667030,"availabilityEnd":1735481430,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025x9f\u0026ui_id=4.0.0"}},{"name":"Asia","description":"5\/7. How animals in Asia have developed extraordinary ways to survive in the human world. [S,AD] [HD]","startTime":1733667000,"duration":3600,"svcId":560,"evtId":29882,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k1gc58.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730613600,"availabilityEnd":1888380000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gcp\u0026ui_id=4.0.0"},"episodeNo":5},{"name":"Night at the Museum","description":"Action comedy. Looking for a regular job, Larry instead gets the most irregular role of night guard at a New York museum where the exhibits come to life after sunset. [2006] [S,AD] [HD]","startTime":1733670600,"duration":6000,"svcId":560,"evtId":29975,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k6vmfy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733673000,"availabilityEnd":1736268745,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025x9h\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1733676600,"duration":1200,"svcId":560,"evtId":29883,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733677755,"availabilityEnd":1733764155,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txm\u0026ui_id=4.0.0"},"episodeNo":36},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1733677800,"duration":300,"svcId":560,"evtId":29884,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733678100,"availabilityEnd":1733764500,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txp\u0026ui_id=4.0.0"},"episodeNo":252},{"name":"Weather","description":"The latest weather forecast. [S] [HD]","startTime":1733678100,"duration":300,"svcId":560,"evtId":29885,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733678346,"availabilityEnd":1733764746,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025txr\u0026ui_id=4.0.0"},"episodeNo":36},{"name":"Countryfile","description":"Matt Baker and Margherita Taylor are visiting Romney Marsh in Kent. [S] [HD]","startTime":1733678400,"duration":3600,"svcId":560,"evtId":29976,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9dqhf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733681972,"availabilityEnd":1765217972,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025x9m\u0026ui_id=4.0.0"}},{"name":"Asia","description":"6\/7. A look at the vast, hostile, arid lands in the heart of Asia - deserts and dry grasslands. [S,AD] [HD]","startTime":1733682000,"duration":3600,"svcId":560,"evtId":29977,"image":"\/ms\/img\/epg\/rb\/fec6-p0k1gc7z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1730613600,"availabilityEnd":1888380000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024gcs\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"Strictly Come Dancing: The Results","description":"The tension is high in the ballroom, with the glitterball now in touching distance. After 12 weeks of competition, who has done enough to earn a place in next week\u0027s grand final? [S,AD] [HD]","startTime":1733685600,"duration":2400,"svcId":560,"evtId":29978,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jqwjx1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733688095,"availabilityEnd":1765224095,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025x9p\u0026ui_id=4.0.0"},"seriesNo":25},{"name":"Antiques Roadshow","description":"The roadshow returns to Beaumaris Castle in Anglesey, north Wales, where finds include Faberg\u00e9 jewels, a Titanic mystery and works by local artist Charles Tunnicliffe. [S] [HD]","startTime":1733688000,"duration":3600,"svcId":560,"evtId":29979,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k77fgz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733691632,"availabilityEnd":1767643080,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025x9r\u0026ui_id=4.0.0"},"seriesNo":47,"episodeNo":13},{"name":"Wolf Hall: The Mirror and the...","description":"...Light. 5\/6. Cromwell\u0027s marital diplomacy brings the Rhenish princess Anne of Cleves to Henry\u0027s court. Contains some strong language. [S,AD] [HD]","startTime":1733691600,"duration":3600,"svcId":560,"evtId":29980,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k89mhn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733637600,"availabilityEnd":1765778400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025x9t\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"BBC News and Weather","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1733695200,"duration":1500,"svcId":560,"evtId":29886,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733696670,"availabilityEnd":1733783070,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025txt\u0026ui_id=4.0.0"},"episodeNo":36},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1733696700,"duration":300,"svcId":560,"evtId":29887,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733697000,"availabilityEnd":1733783400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025txw\u0026ui_id=4.0.0"},"episodeNo":216},{"name":"Match of the Day 2","description":"Highlights of the day\u0027s Premier League football, including two London derbies. [S] [HD]","startTime":1733697000,"duration":4500,"svcId":560,"evtId":29981,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k994dt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733702399,"availabilityEnd":1734307199,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025x9y\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":17},{"name":"The Women\u0027s Football Show","description":"Highlights from the 2024\/25 Women\u0027s Super League. [S] [HD]","startTime":1733701500,"duration":2700,"svcId":560,"evtId":30171,"image":"\/ms\/img\/epg\/rb\/fec6-p0k9cx1b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733704241,"availabilityEnd":1736296241,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026cbl\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":21},{"name":"The Impossible","description":"Thailand, Boxing Day 2004. A tsunami devastates the coast and separates members of a holidaying family of five. Contains some scenes which some viewers may find upsetting. [2012] [S,AD] [HD]","startTime":1733704200,"duration":6300,"svcId":560,"evtId":29982,"image":"\/ms\/img\/epg\/rb\/fec6-p0hc2tp2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733710441,"availabilityEnd":1736302441,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001wvgt\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1733710500,"duration":300,"svcId":560,"evtId":29888,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733710730,"availabilityEnd":1734318163,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0025txy\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1733710800,"duration":13200,"svcId":560,"evtId":29889,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":252}]},{"channelid":700,"offset":0,"event":[{"name":"Countryfile","description":"John Craven and Margherita Taylor explore Woodoaks Farm in Hertfordshire, where efforts are under way to restore nature\u0027s balance and reconnect people with farming. [S] [HD]","startTime":1733641200,"duration":3600,"svcId":700,"evtId":21333,"image":"\/ms\/img\/epg\/rb\/fec6-p0k7svmf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733077271,"availabilityEnd":1764613271,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025p11\u0026ui_id=4.0.0"}},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1733644800,"duration":3600,"svcId":700,"evtId":21334,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733648455,"availabilityEnd":1733734855,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025v91\u0026ui_id=4.0.0"}},{"name":"Landward","description":"25\/26. Dougie plays a round at Kingarrock golf course and meets the flock grazing its greens. Meanwhile, Arlene hears how inheritance tax reforms may threaten family farms in the future. [S] [HD]","startTime":1733648400,"duration":1800,"svcId":700,"evtId":21335,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k69604.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733432400,"availabilityEnd":1764968400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025tq0\u0026ui_id=4.0.0"},"seriesNo":20,"episodeNo":25},{"name":"Weatherman Walking","description":"6\/8. Derek takes in the stunning views from the Preseli Hills and visits a famous crash site of a World War II aircraft. [S] [HD]","startTime":1733650200,"duration":1800,"svcId":700,"evtId":21336,"image":"\/ms\/img\/epg\/rb\/fec6-p0hqdkzs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713204004,"availabilityEnd":1744740004,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yjqb\u0026ui_id=4.0.0"},"episodeNo":6},{"name":"Saturday Kitchen Best Bites:...","description":"...Christmas Special. A festive feast from Yotam Ottolenghi, Theo Randall, Sarit and Itamar, and Ravneet Gill. [S] [HD]","startTime":1733652000,"duration":5400,"svcId":700,"evtId":21373,"image":"\/ms\/img\/epg\/rb\/ae0c-p0476l29.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733657551,"availabilityEnd":1765193551,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wm6\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Mary Berry\u0027s Highland Christmas","description":"Dame Mary Berry travels to her mother\u0027s homeland of Scotland, where she\u0027s joined by friends Andy Murray, Iain Stirling and Emeli Sand\u00e9 to cook indulgent Christmas dishes. [S,AD] [HD]","startTime":1733657400,"duration":3600,"svcId":700,"evtId":21337,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gxhnf0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1702504800,"availabilityEnd":1736253754,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tchc\u0026ui_id=4.0.0"}},{"name":"Lorraine Pascale: How to Be a...","description":"...Better Cook. 5\/6. Lorraine Pascale shows how to create meals for friends and family. Lorraine creates a menu inspired by a student\u0027s Caribbean roots. [S,AD] [HD]","startTime":1733661000,"duration":1800,"svcId":700,"evtId":21338,"image":"\/ms\/img\/epg\/rb\/fec6-p027vdtt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1616652000,"availabilityEnd":1963807140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b04l2sw4\u0026ui_id=4.0.0"},"episodeNo":5},{"name":"The Cruel Sea","description":"Classic documentary-style account of the trials of a British warship during World War II. A captain is haunted by the loss of his past vessel and seeks revenge. [S]","startTime":1733662800,"duration":7500,"svcId":700,"evtId":21374,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b11zsq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733670411,"availabilityEnd":1736262411,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01fqfsn\u0026ui_id=4.0.0"}},{"name":"Ancient Invisible Cities: Athens","description":"2\/3. Michael Scott reveals the historical secrets of ancient Athens and tells the story of how this remarkable city created the world\u0027s first democracy 2,500 years ago. [S,AD] [HD]","startTime":1733670300,"duration":3600,"svcId":700,"evtId":21339,"image":"\/ms\/img\/epg\/rb\/ae0c-p06l4lh4.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"European Cross Country...","description":"...Championships 2024. Highlights from Antalya in Turkey, as the finest cross country runners on the continent face off for championship glory across the sand and mud of Dokuma Park. [S] [HD]","startTime":1733673900,"duration":3900,"svcId":700,"evtId":21375,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k7hflq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733677835,"availabilityEnd":1736269835,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0025wm8\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Eden: Untamed Planet","description":"6\/6. In southeast Alaska, there\u0027s an ice-bound Eden that harbours possibly the richest temperate rainforests of all. [S,AD] [HD]","startTime":1733677800,"duration":3000,"svcId":700,"evtId":21340,"image":"\/ms\/img\/epg\/rb\/ae0c-p0c4lx90.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1652036435,"availabilityEnd":1746745199,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0c1yb0k\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Flog It!","description":"In this episode, Flog It! comes from Ashridge House in Hertfordshire. The experts find interesting objects, and Paul Martin finds out about the work of famous local sculptor Sir Henry Moore. [S] [HD]","startTime":1733680800,"duration":3600,"svcId":700,"evtId":21398,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733684399,"availabilityEnd":1736276399,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000rqz3\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":19},{"name":"Celebrity Antiques Road Trip","description":"12\/20. TV quizzers Anne Hegerty and Shaun Wallace are on a chase to find profit making antiques. Experts James Braxton and Margie Cooper offer the wisdom in this competition. [S] [HD]","startTime":1733684400,"duration":3600,"svcId":700,"evtId":21400,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlz32c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733688036,"availabilityEnd":1736280036,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001g59x\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":12},{"name":"Ireland with Simon Reeve","description":"1\/2. Simon Reeve travels around the island of Ireland, beginning his journey in the south of Ireland, paramotoring with an Irish explorer. On the west coast, he does a spot of surfing. [S,AD] [HD]","startTime":1733688000,"duration":3600,"svcId":700,"evtId":21402,"image":"\/ms\/img\/epg\/rb\/fec6-p0gwf80v.jpg","hasTstv":false,"episodeNo":1},{"name":"Inside Barlinnie","description":"2\/3. Darren calls in the chaplain to help him with self-harm attempts and suicide. Contains very strong language and some upsetting scenes. [S,AD] [HD]","startTime":1733691600,"duration":3600,"svcId":700,"evtId":21403,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jv2hlw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1728363600,"availabilityEnd":1759960813,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023r18\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Bonnie and Clyde","description":"Clyde Barrow and Bonnie Parker achieve growing notoriety as they carry out a series of robberies with their gang in 1930s America. Contains some violent scenes. [1967] [S] [HD]","startTime":1733695200,"duration":6300,"svcId":700,"evtId":21376,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gzjwq9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733701664,"availabilityEnd":1736293664,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001tx9d\u0026ui_id=4.0.0"}},{"name":"A Christmas Carol","description":"Simon Callow\u0027s acclaimed one-man adaptation of the Charles Dickens classic for the small screen. Viewers can listen in stereo or binaural via headphones. [S] [HD]","startTime":1733701500,"duration":4500,"svcId":700,"evtId":21377,"image":"\/ms\/img\/epg\/rb\/ae0c-p06tjvm2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1733706048,"availabilityEnd":1736298048,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0001kwg\u0026ui_id=4.0.0"}},{"name":"Question Time","description":"Fiona Bruce presents an hour of topical debate from Lincoln. On the panel: Jacqui Smith, Kevin Hollinrake, Nigel Farage and Alastair Campbell. [S,SL] [HD]","startTime":1733706000,"duration":3600,"svcId":700,"evtId":21405,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k9dskp.jpg","hasTstv":false,"seriesNo":2024},{"name":"Hope Street","description":"6\/8. When heavily pregnant Nicole is rushed to hospital after a hit-and-run, Ryan is shocked to discover Brandi was driving the car that ran into her. [S,AD,SL] [HD]","startTime":1733709600,"duration":2700,"svcId":700,"evtId":21407,"image":"\/ms\/img\/epg\/rb\/fec6-p0jzf8zf.jpg","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1733712300,"duration":12600,"svcId":700,"evtId":21341,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('394');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('27');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'OflbPM8VI0w', title: "BREAKING! Dan ASHWORTH LEAVES Man Utd Job", label: "BREAKING! Dan ASHWORTH LEAVES Man Utd Job by The United Stand 313,769 views Streamed 10 hours ago 50 minutes" },
{ id: 'h4x96nlixQ4', title: "Syrian opposition says al-Assad ‘has fled’ country", label: "Syrian opposition says al-Assad ‘has fled’ country by Al Jazeera English 841,114 views 16 hours ago 11 minutes, 45 seconds" },
{ id: 'BHFOOj2dNz4', title: "DISGRACE! MAN UTD 2-3 FOREST GOLDBRIDGE MATCH REACTION", label: "DISGRACE! MAN UTD 2-3 FOREST GOLDBRIDGE MATCH REACTION by The United Stand 380,500 views Streamed 1 day ago 32 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Cries and Whispers (1972)">Cries and Whispers (1972)</a></li><li><a href="https://www.google.com/search?q=Films+-+Consent (2023)">Consent (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Falling (2014)">The Falling (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+Pandora\'s Box (1929)">Pandora\'s Box (1929)</a></li><li><a href="https://www.google.com/search?q=Films+-+Melancholia (2011)">Melancholia (2011)</a></li><li><a href="https://www.google.com/search?q=Films+-+Hive (2021)">Hive (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Fruit of Paradise (1970)">Fruit of Paradise (1970)</a></li><li><a href="https://www.google.com/search?q=Films+-+A Letter to Three Wives (1949)">A Letter to Three Wives (1949)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Diary of a Teenage Girl (2015)">The Diary of a Teenage Girl (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Umbrellas of Cherbourg (1964)">The Umbrellas of Cherbourg (1964)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 232.17, tooltip: "Fri, Dec 06, 2024<br/>£232.17"},
{ number: 231.52, tooltip: "Thu, Dec 05, 2024<br/>£231.52"},
{ number: 232.51, tooltip: "Wed, Dec 04, 2024<br/>£232.51"},
{ number: 232.38, tooltip: "Tue, Dec 03, 2024<br/>£232.38"},
{ number: 232.08, tooltip: "Mon, Dec 02, 2024<br/>£232.08"},
{ number: 230.09, tooltip: "Fri, Nov 29, 2024<br/>£230.09"},
{ number: 229.48, tooltip: "Thu, Nov 28, 2024<br/>£229.48"},
{ number: 229.52, tooltip: "Wed, Nov 27, 2024<br/>£229.52"},
{ number: 231.74, tooltip: "Tue, Nov 26, 2024<br/>£231.74"},
{ number: 231.78, tooltip: "Mon, Nov 25, 2024<br/>£231.78"},
{ number: 231.06, tooltip: "Fri, Nov 22, 2024<br/>£231.06"},
{ number: 228.47, tooltip: "Thu, Nov 21, 2024<br/>£228.47"},
{ number: 226.75, tooltip: "Wed, Nov 20, 2024<br/>£226.75"},
{ number: 226.87, tooltip: "Tue, Nov 19, 2024<br/>£226.87"},
{ number: 226.33, tooltip: "Mon, Nov 18, 2024<br/>£226.33"},
{ number: 225.78, tooltip: "Fri, Nov 15, 2024<br/>£225.78"},
{ number: 226.54, tooltip: "Thu, Nov 14, 2024<br/>£226.54"},
{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
{ number: 225.78, tooltip: "Fri, Nov 08, 2024<br/>£225.78"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Dec 06, 2024",
		"vs Day":      "Thu, Dec 05, 2024",
		"vs Week":     "Fri, Nov 29, 2024",
		"vs Month":    "Fri, Nov 08, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£232.17/share",
		'vs Day':      "+0.28%",
		'vs Week':     "+0.90%",
		'vs Month':    "+2.83%",
		'vs Year':     "+24.14%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '52.9',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/first-quarter.html" title="First Quarter on the night between 8 December and 9 December">First Quarter</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.529&p=5.397&r=5.425',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:02',
		Set:      '15:53',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To galvanize people is to cause them to be so excited or concerned about something that they are driven to action.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>