<!DOCTYPE html>
<html lang="en">
	<head>
		<title>22:11 6-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>New cabinet meets as Starmer government gets to work</b><br/>Today is the first full day in power for Labour after its landslide victory, which upended 14 years of Conservative rule." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cj50qevvqvno">New cabinet meets as Starmer government gets to work</a></li><li class="ttt" data-tt="<b>Watch: Starmer tells Cabinet \'we have a huge amount of work to do\'</b><br/>Starmer tells Cabinet \'we have a huge amount of work to do\'"><a href="https://www.bbc.com/news/videos/cw0ygnd5l1xo">Watch: Starmer tells Cabinet \'we have a huge amount of work to do\'</a></li><li class="ttt" data-tt="<b>Murray\'s Wimbledon career over as Raducanu pulls out of doubles</b><br/>Andy Murray\'s Wimbledon career is over after Emma Raducanu pulls out of their planned appearance in the mixed doubles."><a href="https://www.bbc.com/sport/tennis/articles/cz9x74erp37o">Murray\'s Wimbledon career over as Raducanu pulls out of doubles</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cj50qevvqvno"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/c4fe/live/7d370500-3b8d-11ef-a044-9d4367d5b599.jpg" class="ttt" data-tt="Keir Starmer addresses the cabinet in the Cabinet Room of No 10. They are sat around the iconic table, with papers, files and glasses of water laid out. Mr Starmer is sat next to Deputy PM Angela Raynor and Cabinet Secretary Simon Case" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Biden interview fails to quell Democrat fitness concerns</b><br/>Fifth Democratic member of Congress calls for him to quit re-election campaign, a day after after TV appearance." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c8971wl12r8o">Biden interview fails to quell Democrat fitness concerns</a></li><li class="ttt" data-tt="<b>\'I\'m worried\' - Democrats at Biden rally open to change</b><br/>Wisconsin Democrats tell the BBC they support the president but are willing to consider replacing him."><a href="https://www.bbc.com/news/articles/cger259q78zo">\'I\'m worried\' - Democrats at Biden rally open to change</a></li><li class="ttt" data-tt="<b>Only the \'Lord Almighty\' could convince me to quit - Biden</b><br/>The president dismisses suggestions he may end his re-election bid, as a fifth House Democrat calls on him to quit as the party\'s nominee."><a href="https://www.bbc.com/news/articles/cl5y8n5d09qo">Only the \'Lord Almighty\' could convince me to quit - Biden</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c8971wl12r8o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/e124/live/62b956b0-3bce-11ef-bbe0-29f79e992ddd.jpg" class="ttt" data-tt="Joe Biden" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Air strike on Gaza school kills at least 16 people</b><br/>The school, located in the Nuseirat refugee camp, was sheltering displaced people, Palestinian officials say." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c4ng04kpv2do">Air strike on Gaza school kills at least 16 people</a></li><li class="ttt" data-tt="<b>Biden interview fails to quell Democrat fitness concerns</b><br/>Fifth Democratic member of Congress calls for him to quit re-election campaign, a day after after TV appearance."><a href="https://www.bbc.com/news/articles/c8971wl12r8o">Biden interview fails to quell Democrat fitness concerns</a></li><li class="ttt" data-tt="<b>French far right seeks vote win but deadlock looms</b><br/>France votes in one of its most crucial elections in years, with the far right hoping for victory."><a href="https://www.bbc.com/news/articles/cw0ygnyxgnqo">French far right seeks vote win but deadlock looms</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c4ng04kpv2do"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/eb63/live/71aab230-3bbb-11ef-bdc5-41d7421c2adf.jpg" class="ttt" data-tt="Man and child in shock after Gaza blast" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>\'So much crowd energy\' - Russell relishes three-way Brit-fight</b><br/>George Russell says he and Mercedes team-mate Lewis Hamilton expect a “good fight” for victory in the British Grand Prix with Lando Norris and Max Verstappen." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c06kgy5p1dmo">\'So much crowd energy\' - Russell relishes three-way Brit-fight</a></li><li class="ttt" data-tt="<b>British top three as Russell takes pole at Silverstone</b><br/>George Russell leads a home one-two-three on the British Grand Prix grid from Mercedes team-mate Lewis Hamilton and McLaren’s Lando Norris."><a href="https://www.bbc.com/sport/formula1/articles/cz9x7rezzdno">British top three as Russell takes pole at Silverstone</a></li><li class="ttt" data-tt="<b>Red Bull lack respect, says McLaren boss Brown</b><br/>McLaren Racing chief executive officer Zak Brown accuses Red Bull of &quot;lacking respect&quot; for Formula 1 on a wide range of issues."><a href="https://www.bbc.com/sport/formula1/articles/cw9yd875ggno">Red Bull lack respect, says McLaren boss Brown</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c06kgy5p1dmo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/362a/live/6f002670-3bcd-11ef-a044-9d4367d5b599.jpg" class="ttt" data-tt="Lewis Hamilton and Gorge Russell" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Amazon at 30: What next for \'The Everything Company\'?</b><br/>Can Amazon sustain its rapid growth since 1994 - or will rivals or regulators cut it down to size?" style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cqv5l6vnvqjo">Amazon at 30: What next for \'The Everything Company\'?</a></li><li class="ttt" data-tt="<b>Samsung expects profits to jump by more than 1,400%</b><br/>The South Korean tech giant is benefiting from the AI  boom which has lifted the prices of advanced chips."><a href="https://www.bbc.com/news/articles/c25l0yyzjvno">Samsung expects profits to jump by more than 1,400%</a></li><li class="ttt" data-tt="<b>Etsy sex toy ban sparks seller outrage</b><br/>The platform says it\'s because of &quot;evolving&quot; industry standards but sellers say they feel &quot;betrayed.&quot;"><a href="https://www.bbc.com/news/articles/c725wr19lz1o">Etsy sex toy ban sparks seller outrage</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cqv5l6vnvqjo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f120/live/43b0a380-3ac6-11ef-8341-6dcaac9f55ad.jpg" class="ttt" data-tt="Amazon&#x27;s warehouse in Swansea, packed with items" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"1 Jul – 7 Jul","date":17203104E5,"ts":"Sun, 7","ds":"Sun, 7 Jul","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":17,"templow":9,"cf":16,"wind":9,"wd":230,"hum":65,"pc":58,"rain":2.5 },{"hl":true,"hls":"8 Jul – 14 Jul","date":17203968E5,"ts":"Mon, 8","ds":"Mon, 8 Jul","icon":33,"desc":"Showers late. Increasing cloudiness.","temp":19,"templow":8,"cf":18,"wind":7,"wd":170,"hum":56,"pc":40,"rain":1.2 },{"date":17204832E5,"ts":"Tue, 9","ds":"Tue, 9 Jul","icon":33,"desc":"Rain showers. Overcast.","temp":18,"templow":12,"cf":17,"wind":7,"wd":110,"hum":86,"pc":67,"rain":7.7 },{"date":17205696E5,"ts":"Wed, 10","ds":"Wed, 10 Jul","icon":21,"desc":"Isolated tstorms. Overcast.","temp":19,"templow":14,"cf":18,"wind":16,"wd":200,"hum":80,"pc":58,"rain":5.2 },{"date":1720656E6,"ts":"Thu, 11","ds":"Thu, 11 Jul","icon":18,"desc":"Drizzle. Overcast.","temp":17,"templow":11,"cf":16,"wind":10,"wd":320,"hum":77,"pc":49,"rain":1.9 },{"date":17207424E5,"ts":"Fri, 12","ds":"Fri, 12 Jul","icon":33,"desc":"Showers late. Afternoon clouds.","temp":19,"templow":10,"cf":19,"wind":9,"wd":310,"hum":58,"pc":17,"rain":0.3 },{"date":17208288E5,"ts":"Sat, 13","ds":"Sat, 13 Jul","icon":7,"desc":"Cloudy.","temp":21,"templow":10,"cf":20,"wind":7,"wd":200,"hum":65,"pc":3},{"date":17209152E5,"ts":"Sun, 14","ds":"Sun, 14 Jul","icon":6,"desc":"Broken clouds.","temp":20,"templow":12,"cf":20,"wind":16,"wd":220,"hum":64,"pc":51,"rain":0.1 },{"hl":true,"hls":"15 Jul – 21 Jul","date":17210016E5,"ts":"Mon, 15","ds":"Mon, 15 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":20,"templow":13,"cf":20,"wind":10,"wd":240,"hum":73,"pc":43,"rain":0.5 },{"date":1721088E6,"ts":"Tue, 16","ds":"Tue, 16 Jul","icon":6,"desc":"Broken clouds.","temp":22,"templow":13,"cf":25,"wind":8,"wd":230,"hum":57,"pc":6},{"date":17211744E5,"ts":"Wed, 17","ds":"Wed, 17 Jul","icon":2,"desc":"Mostly sunny.","temp":22,"templow":14,"cf":25,"wind":8,"wd":240,"hum":43,"pc":6},{"date":17212608E5,"ts":"Thu, 18","ds":"Thu, 18 Jul","icon":33,"desc":"Passing showers. Broken clouds.","temp":23,"templow":15,"cf":25,"wind":10,"wd":260,"hum":60,"pc":60,"rain":0.6 },{"date":17213472E5,"ts":"Fri, 19","ds":"Fri, 19 Jul","icon":6,"desc":"Broken clouds.","temp":22,"templow":15,"cf":25,"wind":8,"wd":40,"hum":57,"pc":6},{"date":17214336E5,"ts":"Sat, 20","ds":"Sat, 20 Jul","icon":2,"desc":"Scattered clouds.","temp":23,"templow":13,"cf":25,"wind":3,"wd":70,"hum":51,"pc":5},{"date":172152E7,"ts":"Sun, 21","ds":"Sun, 21 Jul","icon":1,"desc":"Sunny.","temp":23,"templow":14,"cf":25,"wind":7,"wd":0,"hum":48,"pc":5}],"grid":{"temp":{"low":8,"high":23,"range":15},"prec":{"high":7.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/NGC7789_difusco1024c.jpg',
		Title:     'NGC 7789: Caroline\'s Rose',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/NGC7789_difusco2048.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240706.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Grey-crowned_Babblers_1605.jpg/400px-Grey-crowned_Babblers_1605.jpg',
		Title:    'Grey-crowned babbler',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Grey-crowned_babbler',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Grey-crowned_babbler" title="Grey-crowned babbler">grey-crowned babbler</a></b> (<i>Pomatostomus temporalis</i>) is a species of bird in the family Pomatostomidae, the <a href="https://en.wikipedia.org/wiki/Australo-Papuan_babbler" title="Australo-Papuan babbler">Australo-Papuan babblers</a>. It is found in Australia, Indonesia, and Papua New Guinea. Its <a href="https://en.wikipedia.org/wiki/Habitat" title="Habitat">habitats</a> include subtropical, <a href="https://en.wikipedia.org/wiki/Tropical_and_subtropical_dry_broadleaf_forests" title="Tropical and subtropical dry broadleaf forests">tropical dry</a> and <a href="https://en.wikipedia.org/wiki/Tropical_and_subtropical_moist_broadleaf_forests" title="Tropical and subtropical moist broadleaf forests">tropical moist</a> lowland forests and shrublands as well as <a href="https://en.wikipedia.org/wiki/Savanna" title="Savanna">savanna</a>. This photograph shows a group of grey-crowned babblers in <a href="https://en.wikipedia.org/wiki/Binya,_New_South_Wales" title="Binya, New South Wales">Binya</a>, New South Wales, Australia.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:JJ_Harrison" title="User:JJ Harrison">John Harrison</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

console.log('Error in tv module: The remote server returned an error: (500) Internal Server Error.');

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('256');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('123');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('20');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'H58vbez_m4E', title: "Kendrick Lamar - Not Like Us", label: "Kendrick Lamar - Not Like Us by Kendrick Lamar 26,009,987 views 1 day ago 5 minutes, 55 seconds" },
{ id: 'pUXyD5uvDVM', title: "Highlights - Portugal vs France | Uefa Euro 2024 | BBC Sport", label: "Highlights - Portugal vs France | Uefa Euro 2024 | BBC Sport by BBC Sport 486,478 views 22 hours ago 5 minutes, 41 seconds" },
{ id: 'IFKogm-qjcg', title: "I Killed Every Mob with the MACE in 1.21 Minecraft Hardcore!", label: "I Killed Every Mob with the MACE in 1.21 Minecraft Hardcore! by LockDownLife 373,680 views 9 hours ago 39 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Perfect Blue (1997)">Perfect Blue (1997)</a></li><li><a href="https://www.google.com/search?q=Films+-+Close (2022)">Close (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+À Ma Soeur! (2001)">À Ma Soeur! (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Witch (2015)">The Witch (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Grandma (2015)">Grandma (2015)</a></li><li><a href="https://www.google.com/search?q=Films+-+Society of the Snow (2023)">Society of the Snow (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Swimming (2000)">Swimming (2000)</a></li><li><a href="https://www.google.com/search?q=Films+-+Tropico (2013)">Tropico (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Invisible Man (1933)">The Invisible Man (1933)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Fly (1986)">The Fly (1986)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Alma\'s Not Normal (S1, 2020)">Alma\'s Not Normal (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1-2, 2021-2024)">Float (S1-2, 2021-2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1-2, 2018-2021)">In My Skin (S1-2, 2018-2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1-2, 2016-2019)">Fleabag (S1-2, 2016-2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1-3, 2015-2017)">My Mad Fat Diary (S1-3, 2015-2017)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
{ number: 213.51, tooltip: "Fri, Jun 28, 2024<br/>£213.51"},
{ number: 213.69, tooltip: "Thu, Jun 27, 2024<br/>£213.69"},
{ number: 214.04, tooltip: "Wed, Jun 26, 2024<br/>£214.04"},
{ number: 213.31, tooltip: "Tue, Jun 25, 2024<br/>£213.31"},
{ number: 212.57, tooltip: "Mon, Jun 24, 2024<br/>£212.57"},
{ number: 213.43, tooltip: "Fri, Jun 21, 2024<br/>£213.43"},
{ number: 213.21, tooltip: "Thu, Jun 20, 2024<br/>£213.21"},
{ number: 212.98, tooltip: "Tue, Jun 18, 2024<br/>£212.98"},
{ number: 212.22, tooltip: "Mon, Jun 17, 2024<br/>£212.22"},
{ number: 211.68, tooltip: "Fri, Jun 14, 2024<br/>£211.68"},
{ number: 210.77, tooltip: "Thu, Jun 13, 2024<br/>£210.77"},
{ number: 210.23, tooltip: "Wed, Jun 12, 2024<br/>£210.23"},
{ number: 210.26, tooltip: "Tue, Jun 11, 2024<br/>£210.26"},
{ number: 210.47, tooltip: "Mon, Jun 10, 2024<br/>£210.47"},
{ number: 210.26, tooltip: "Fri, Jun 07, 2024<br/>£210.26"},
{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 05, 2024",
		"vs Day":      "Thu, Jul 04, 2024",
		"vs Week":     "Fri, Jun 28, 2024",
		"vs Month":    "Thu, Jun 06, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£214.73/share",
		'vs Day':      "0.00%",
		'vs Week':     "+0.57%",
		'vs Month':    "+2.20%",
		'vs Year':     "+22.23%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '1.1',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-crescent.html" title="Waxing Crescent on the night between 6 July and 7 July">Waxing Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.011&p=5.533&r=5.927',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:53',
		Set:      '21:28',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A mogul is a powerful and influential person. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>