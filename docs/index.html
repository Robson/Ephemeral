<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:38 30-Aug - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Nottinghamshire Police officer hit by train while helping man dies</b><br/>Sgt Graham Saville, 46, was attempting to help a distressed man on the tracks before he was struck." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-66619728?at_medium=RSS&amp;at_campaign=KARANGA">Nottinghamshire Police officer hit by train while helping man dies</a></li><li class="ttt" data-tt="<b>Cancelled flights: Air traffic disruption caused by flight data issue</b><br/>Passengers are warned to expect knock-on disruption in the days ahead after the Bank Holiday Monday issue."><a href="https://www.bbc.co.uk/news/uk-66644369?at_medium=RSS&amp;at_campaign=KARANGA">Cancelled flights: Air traffic disruption caused by flight data issue</a></li><li class="ttt" data-tt="<b>Close to 1m NHS appointments lost to strikes</b><br/>NHS bosses lament huge toll walkouts are having in England, warning true figure could be even higher."><a href="https://www.bbc.co.uk/news/health-66653017?at_medium=RSS&amp;at_campaign=KARANGA">Close to 1m NHS appointments lost to strikes</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-66619728?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/4267/production/_130899961_policeatbulpitlanelevelcrossingoffbarnbyroad.jpg" class="ttt" data-tt="Police scene" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Hurricane Idalia: Florida hunkers down for \'unprecedented\' storm</b><br/>Idalia is projected to hit part of the Gulf coast that has not seen such a major hurricane since the mid-1800s." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66641091?at_medium=RSS&amp;at_campaign=KARANGA">Hurricane Idalia: Florida hunkers down for \'unprecedented\' storm</a></li><li class="ttt" data-tt="<b>Are hurricanes in the US getting worse?</b><br/>Warming oceans have led to more powerful storms forming over the Atlantic in recent years."><a href="https://www.bbc.co.uk/news/world-us-canada-66484030?at_medium=RSS&amp;at_campaign=KARANGA">Are hurricanes in the US getting worse?</a></li><li class="ttt" data-tt="<b>Canadian \'poison seller\' Kenneth Law faces more charges</b><br/>Kenneth Law is alleged to have sent parcels containing poisonous substances to customers in 40 countries."><a href="https://www.bbc.co.uk/news/world-us-canada-66647447?at_medium=RSS&amp;at_campaign=KARANGA">Canadian \'poison seller\' Kenneth Law faces more charges</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66641091?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/23FD/production/_130931290_indexidalia.jpg" class="ttt" data-tt="Zaelys Loemys Robles-Rivera (L) and D&#x27;Angelo Gabriel Abreu-Suarez help their mother fill sandbags at the Helen S. Howarth Community Park ahead of the possible arrival of Hurricane Idalia on August 29, 2023 in Pinellas Park, Florida" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Ukraine war: \'Drone attack\' hits airport in northwest Russia city of Pskov</b><br/>An unconfirmed Russian media report says four transport planes have been damaged at Pskov airport." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-66654125?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine war: \'Drone attack\' hits airport in northwest Russia city of Pskov</a></li><li class="ttt" data-tt="<b>Prigozhin buried in private funeral - Wagner chief\'s press service</b><br/>The mercenary group boss, who led June\'s aborted armed rebellion, was killed in a plane crash last week."><a href="https://www.bbc.co.uk/news/world-europe-66649570?at_medium=RSS&amp;at_campaign=KARANGA">Prigozhin buried in private funeral - Wagner chief\'s press service</a></li><li class="ttt" data-tt="<b>Paul Whelan: US ex-marine seen in Russian labour camp video</b><br/>It is the first time that ex-US marine Paul Whelan is seen on video since his conviction in Russia."><a href="https://www.bbc.co.uk/news/world-europe-66645624?at_medium=RSS&amp;at_campaign=KARANGA">Paul Whelan: US ex-marine seen in Russian labour camp video</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-66654125?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6B8D/production/_130933572_mediaitem130933571.jpg" class="ttt" data-tt="Footage of attack" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Dutch Grand Prix: Max Verstappen survives losing lead to equal all-time consecutive wins record</b><br/>Red Bull\'s Max Verstappen survives losing the lead in early rain and a red flag for a late torrential downpour to take victory in a chaotic Dutch Grand Prix." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66633708?at_medium=RSS&amp;at_campaign=KARANGA">Dutch Grand Prix: Max Verstappen survives losing lead to equal all-time con...</a></li><li class="ttt" data-tt="<b>Daniel Ricciardo: Alpha Tauri driver will miss Italian Grand Prix because of broken hand</b><br/>Daniel Ricciardo will miss the Italian Grand Prix as a result of the broken hand he sustained in an accident at Zandvoort on Friday."><a href="https://www.bbc.co.uk/sport/formula1/66635746?at_medium=RSS&amp;at_campaign=KARANGA">Daniel Ricciardo: Alpha Tauri driver will miss Italian Grand Prix because o...</a></li><li class="ttt" data-tt="<b>Dutch Grand Prix: Max Verstappen beats Lando Norris to pole in crash-strewn session</b><br/>Red Bull\'s Max Verstappen beats McLaren\'s Lando Norris to pole position in a crash-strewn qualifying session at the Dutch Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/66628609?at_medium=RSS&amp;at_campaign=KARANGA">Dutch Grand Prix: Max Verstappen beats Lando Norris to pole in crash-strewn...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66633708?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/9FF7/production/_130915904_maxtrophy.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Google tests watermark to identify AI images</b><br/>The tech giant\'s artificial intelligence firm DeepMind unveils measures to counter disinformation." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66618852?at_medium=RSS&amp;at_campaign=KARANGA">Google tests watermark to identify AI images</a></li><li class="ttt" data-tt="<b>How long until a robot is doing your chores?</b><br/>Advances in AI are accelerating the development of humanoid robots."><a href="https://www.bbc.co.uk/news/business-66288309?at_medium=RSS&amp;at_campaign=KARANGA">How long until a robot is doing your chores?</a></li><li class="ttt" data-tt="<b>How robotaxis are dividing San Francisco</b><br/>The city has become the crucible of an experiment - are robotaxis ready for the streets?"><a href="https://www.bbc.co.uk/news/technology-66611513?at_medium=RSS&amp;at_campaign=KARANGA">How robotaxis are dividing San Francisco</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66618852?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/36C4/production/_130902041_copyofcopyofheader1-1.png" class="ttt" data-tt="Photorealistic AI-generated pictures of butterflies in different colours" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"28 Aug – 3 Sep","date":16933536E5,"ts":"Wed, 30","ds":"Wed, 30 Aug","icon":18,"desc":"Sprinkles. Increasing cloudiness.","temp":16,"templow":9,"cf":16,"wind":13,"wd":290,"hum":63,"pc":41,"rain":1},{"date":169344E7,"ts":"Thu, 31","ds":"Thu, 31 Aug","icon":33,"desc":"Showers late. Overcast.","temp":15,"templow":8,"cf":13,"wind":7,"wd":110,"hum":77,"pc":45,"rain":3},{"date":16935264E5,"ts":"Fri, 1","ds":"Fri, 1 Sep","icon":33,"desc":"Passing showers. Decreasing cloudiness.","temp":20,"templow":13,"cf":20,"wind":6,"wd":60,"hum":67,"pc":47,"rain":1.2 },{"date":16936128E5,"ts":"Sat, 2","ds":"Sat, 2 Sep","icon":18,"desc":"Sprinkles early. Mostly cloudy.","temp":20,"templow":13,"cf":20,"wind":11,"wd":70,"hum":65,"pc":14,"rain":0.1 },{"date":16936992E5,"ts":"Sun, 3","ds":"Sun, 3 Sep","icon":7,"desc":"Overcast.","temp":21,"templow":11,"cf":21,"wind":10,"wd":30,"hum":57,"pc":0},{"hl":true,"hls":"4 Sep – 10 Sep","date":16937856E5,"ts":"Mon, 4","ds":"Mon, 4 Sep","icon":7,"desc":"Cloudy.","temp":23,"templow":12,"cf":24,"wind":11,"wd":50,"hum":66,"pc":0},{"date":1693872E6,"ts":"Tue, 5","ds":"Tue, 5 Sep","icon":6,"desc":"Mostly cloudy.","temp":23,"templow":13,"cf":24,"wind":12,"wd":70,"hum":66,"pc":0},{"date":16939584E5,"ts":"Wed, 6","ds":"Wed, 6 Sep","icon":2,"desc":"Scattered clouds.","temp":22,"templow":10,"cf":25,"wind":14,"wd":60,"hum":44,"pc":2},{"date":16940448E5,"ts":"Thu, 7","ds":"Thu, 7 Sep","icon":4,"desc":"Breaks of sun late.","temp":21,"templow":13,"cf":21,"wind":14,"wd":70,"hum":65,"pc":4},{"date":16941312E5,"ts":"Fri, 8","ds":"Fri, 8 Sep","icon":1,"desc":"Sunny.","temp":21,"templow":14,"cf":21,"wind":16,"wd":60,"hum":51,"pc":6},{"date":16942176E5,"ts":"Sat, 9","ds":"Sat, 9 Sep","icon":1,"desc":"Sunny.","temp":22,"templow":14,"cf":25,"wind":17,"wd":80,"hum":43,"pc":4},{"date":1694304E6,"ts":"Sun, 10","ds":"Sun, 10 Sep","icon":18,"desc":"Sprinkles late. Cloudy.","temp":22,"templow":14,"cf":24,"wind":11,"wd":70,"hum":59,"pc":49,"rain":0.2 },{"hl":true,"hls":"11 Sep – 17 Sep","date":16943904E5,"ts":"Mon, 11","ds":"Mon, 11 Sep","icon":21,"desc":"Isolated tstorms late. Mostly cloudy.","temp":22,"templow":14,"cf":25,"wind":9,"wd":220,"hum":57,"pc":56,"rain":1.2 },{"date":16944768E5,"ts":"Tue, 12","ds":"Tue, 12 Sep","icon":33,"desc":"Showers late. Overcast.","temp":22,"templow":14,"cf":25,"wind":5,"wd":110,"hum":52,"pc":59,"rain":4.9 },{"date":16945632E5,"ts":"Wed, 13","ds":"Wed, 13 Sep","icon":33,"desc":"Rain showers. Overcast.","temp":22,"templow":14,"cf":22,"wind":6,"wd":80,"hum":80,"pc":81,"rain":16.1 }],"grid":{"temp":{"low":8,"high":23,"range":15},"prec":{"high":16.1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2308/M66_JwstTomlinson_1080.jpg',
		Title:     'Unusual Spiral Galaxy M66 from Webb',
		LinkImage: 'https://apod.nasa.gov/apod/image/2308/M66_JwstTomlinson_3521.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230829.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The SSL connection could not be established, see inner exception.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Arthur-James-Balfour-1st-Earl-of-Balfour.jpg/300px-Arthur-James-Balfour-1st-Earl-of-Balfour.jpg',
		Title:    'Arthur Balfour',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Arthur_Balfour',
		Description: '    <b><a href="/wiki/Arthur_Balfour" title="Arthur Balfour">Arthur Balfour</a></b> (1848–1930) was a British statesman and <a href="/wiki/Conservative_Party_(UK)" title="Conservative Party (UK)">Conservative</a> politician who served as <a href="/wiki/Prime_Minister_of_the_United_Kingdom" title="Prime Minister of the United Kingdom">Prime Minister of the United Kingdom</a> from 1902 to 1905. During his time as <a href="/wiki/Foreign_Secretary" title="Foreign Secretary">Foreign Secretary</a> in the <a href="/wiki/Lloyd_George_ministry" title="Lloyd George ministry">Lloyd George ministry</a>, he issued the <a href="/wiki/Balfour_Declaration" title="Balfour Declaration">Balfour Declaration</a> in 1917 on behalf of the Cabinet, which supported a "home for the Jewish people" in <a href="/wiki/Mandatory_Palestine" title="Mandatory Palestine">Mandatory Palestine</a>. During his tenure as prime minister, Balfour passed the <a href="/wiki/Land_Acts_(Ireland)#Land_Purchase_(Ireland)_Act_1903_(Wyndham_Land_Act)" title="Land Acts (Ireland)">Land Purchase (Ireland) Act 1903</a>, which bought most <a href="/wiki/Anglo-Irish_people" title="Anglo-Irish people">Anglo-Irish</a> land in the UK, as well as the <a href="/wiki/Education_Act_1902" title="Education Act 1902">Education Act 1902</a>, which had a major long-term impact in modernising the school system in England and Wales. He secured the <a href="/wiki/Entente_Cordiale" title="Entente Cordiale">Entente Cordiale</a>, an alliance that ended <a href="/wiki/Anglo-French_Wars" title="Anglo-French Wars">centuries of intermittent conflict between Britain and France and their predecessor states</a>. This photographic portrait of Balfour was taken by <a href="/wiki/George_Charles_Beresford" title="George Charles Beresford">George Charles Beresford</a> in 1902.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/George_Charles_Beresford" title="George Charles Beresford">George Charles Beresford</a>; restored by <a href="/wiki/User:MyCatIsAChonk" title="User:MyCatIsAChonk">MyCatIsAChonk</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1693361700,"duration":11700,"svcId":700,"evtId":9516,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Bargain Hunt","description":"Eric Knowles presents from Kingston in Surrey, with experts Thomas Forrester and Gary Pe. [S] [HD]","startTime":1693373400,"duration":2700,"svcId":700,"evtId":9451,"image":"\/ms\/img\/epg\/rb\/8df1-p0g2mq47.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693224000,"availabilityEnd":1724760000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001p9wg\u0026ui_id=4.0.0"},"seriesNo":65},{"name":"Money for Nothing","description":"1\/20. In Somerset, Sarah Moore patrols the forecourt of Keynsham recycling centre on the lookout for three items to spare from a life in landfill. [S] [HD]","startTime":1693376100,"duration":2700,"svcId":700,"evtId":9453,"image":"\/ms\/img\/epg\/rb\/8df1-p0g85smj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693315810,"availabilityEnd":1730386710,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001q1xf\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":1},{"name":"Great Coastal Railway Journeys","description":"10\/20. Michael Portillo has reached Lincolnshire, where his coastal railway journey from Middlesbrough ends. In Grimsby, he investigates an important new stage in the town\u0027s history. [S,AD,SL] [HD]","startTime":1693378800,"duration":1800,"svcId":700,"evtId":9455,"image":"\/ms\/img\/epg\/rb\/8df1-p0fnld29.jpg","hasTstv":false,"seriesNo":2,"episodeNo":10},{"name":"One Man and His Island - Our Lives","description":"Ex-aircraft engineer Simon begins a completely new life on his own as the warden of Flatholm Island. The more he learns about the island, the more he learns about himself too. [S,AD,SL] [HD]","startTime":1693380600,"duration":1800,"svcId":700,"evtId":9457,"image":"\/ms\/img\/epg\/rb\/8df1-p0g5mr3q.jpg","hasTstv":false,"seriesNo":7},{"name":"Nicky Campbell","description":"Rachel Burden takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1693382400,"duration":3600,"svcId":700,"evtId":9459,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1693386000,"duration":10800,"svcId":700,"evtId":9461,"image":"\/ms\/img\/epg\/rb\/8df1-p0g6j1tq.jpg","hasTstv":false},{"name":"Impossible","description":"3\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 19 people start today\u0027s show. but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1693396800,"duration":2700,"svcId":700,"evtId":9463,"image":"\/ms\/img\/epg\/rb\/8df1-p04lwpn2.jpg","hasTstv":false,"seriesNo":7,"episodeNo":3},{"name":"Eggheads","description":"Jeremy Vine hosts the show where every day a new team of challengers take on probably the greatest quiz team in Britain. [S] [HD]","startTime":1693399500,"duration":1800,"svcId":700,"evtId":9465,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":21,"episodeNo":14},{"name":"Make Me a Dealer","description":"11\/20. Paul Martin teaches two antiques lovers the tricks of the trade and turns them into successful antiques dealers. Today, in Clevedon, cattery owner Lin faces handyman Dean. [S] [HD]","startTime":1693401300,"duration":2700,"svcId":700,"evtId":9467,"image":"\/ms\/img\/epg\/rb\/8df1-p07rmngv.jpg","hasTstv":false,"seriesNo":2,"episodeNo":11},{"name":"Great British Menu: The Finals","description":"The regional champions compete to get their main courses onto the menu of the banquet at Abbey Road Studios. They are cooking for guest judge, former Wham! star Andrew Ridgeley. [S] [HD]","startTime":1693404000,"duration":3600,"svcId":700,"evtId":9469,"image":"\/ms\/img\/epg\/rb\/8df1-p078pvpf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1557950400,"availabilityEnd":1589659200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00052qm\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":27},{"name":"David Attenborough\u0027s Natural...","description":"...Curiosities. 3\/6. David Attenborough examines animals with extreme young. The panda gives birth to the smallest baby of any mammal, while the kiwi\u0027s egg is almost too large to lay. [S,AD] [HD]","startTime":1693407600,"duration":1800,"svcId":700,"evtId":9471,"image":"\/ms\/img\/epg\/rb\/8df1-p060n81g.jpg","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Great British Railway Journeys","description":"3\/15. Armed with Bradshaw\u0027s Guide, Michael Portillo continues his journey through Britain\u0027s industrial heartlands, leaving Manchester for Oldham, Edale and a private family railway line. [S,AD] [HD]","startTime":1693409400,"duration":1800,"svcId":700,"evtId":9473,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8jj7r.jpg","hasTstv":false,"seriesNo":10,"episodeNo":3},{"name":"Flog It!","description":"Antiques series. This episode comes from Layer Marney Tower in rural Essex, where Paul Martin and the team find a spectacular Clarice Cliff coffee set. [S] [HD]","startTime":1693411200,"duration":3600,"svcId":700,"evtId":9475,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":13,"episodeNo":23},{"name":"Richard Osman\u0027s House of Games","description":"103\/140. Jennie McAlpine, Ugo Monye, Joe Pasquale and Felicity Ward test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1693414800,"duration":1800,"svcId":700,"evtId":9476,"image":"\/ms\/img\/epg\/rb\/8df1-p0bs9092.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1646850600,"availabilityEnd":1678386600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00157t0\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":103},{"name":"Marcus Wareing\u0027s Tales from a...","description":"...Kitchen Garden. 3\/20. Marcus Wareing visits a potato farm known for growing unusual varieties. [S] [HD]","startTime":1693416600,"duration":1800,"svcId":700,"evtId":9477,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8snw3.jpg","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"Villages by the Sea - Bamburgh","description":"1\/6. Archaeologist Ben Robinson uncovers how the health and fortune of the village was shaped by those in charge of Bamburgh\u0027s famous castle. [S] [HD]","startTime":1693418400,"duration":1800,"svcId":700,"evtId":9478,"image":"\/ms\/img\/epg\/rb\/8df1-p0b36753.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689310800,"availabilityEnd":1791176400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0010chv\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"Sir Simon Rattle at the Proms","description":"History is made tonight at the Proms as Sir Simon Rattle takes to the Royal Albert Hall stage for his final UK performance as music director of the London Symphony Orchestra. [S] [HD]","startTime":1693420200,"duration":7200,"svcId":700,"evtId":9479,"image":"\/ms\/img\/epg\/rb\/8df1-p0g85bk0.jpg","hasTstv":false,"seriesNo":2023},{"name":"QI","description":"7\/14. Sandi Toksvig hosts a specially spooky episode of QI with David Mitchell, Richard Osman, Zoe Lyons and Alan Davies. [S] [HD]","startTime":1693427400,"duration":1800,"svcId":700,"evtId":9480,"image":"\/ms\/img\/epg\/rb\/8df1-p09yj37s.jpg","hasTstv":false,"seriesNo":20,"episodeNo":7},{"name":"Mock the Week","description":"7\/7. The second of two episodes looking back over the 17-year history of the topical comedy show as it comes to an end. Contains some strong language and adult humour. [S] [HD]","startTime":1693429200,"duration":1800,"svcId":700,"evtId":9481,"image":"\/ms\/img\/epg\/rb\/8df1-p03xsj4z.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1667601155,"availabilityEnd":1699137155,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001dt3j\u0026ui_id=4.0.0"},"seriesNo":21,"episodeNo":7},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Faisal Islam. [S] [HD]","startTime":1693431000,"duration":2400,"svcId":700,"evtId":9482,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1693433400,"duration":300,"svcId":700,"evtId":9483,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Cricket: England v New Zealand...","description":"...T20 Highlights. Highlights of the first T20 match between England and New Zealand. [S] [HD]","startTime":1693433700,"duration":3600,"svcId":700,"evtId":9484,"image":"\/ms\/img\/epg\/rb\/8df1-p0g8jw41.jpg","hasTstv":false,"seriesNo":2023},{"name":"Crazy Rich Agents: Selling...","description":"...Dream Homes. 4\/4. Which rookie agent will get the chance to come to New York and work at the agency\u0027s HQ? Contains some strong language. [S,AD] [HD]","startTime":1693437300,"duration":3600,"svcId":700,"evtId":9485,"image":"\/ms\/img\/epg\/rb\/8df1-p0g4ncv1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691298000,"availabilityEnd":1754456400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0g1b9qv\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"This Farming Life","description":"1\/12. Robert finds out how many of his cattle are pregnant in the Cairngorms, the MacDonalds test out their potato harvester in North Uist, and Nikki and Ollie\u0027s cow goes into labour. [S] [HD]","startTime":1693440900,"duration":3600,"svcId":700,"evtId":9486,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693252799,"availabilityEnd":1731445140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001q1ry\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":1},{"name":"Celebrity MasterChef","description":"11\/18. The heats continue, and the four remaining celebrities face three more culinary challenges as they battle for a place in the quarter-final. [S,AD,SL] [HD]","startTime":1693444500,"duration":3600,"svcId":700,"evtId":9487,"image":"\/ms\/img\/epg\/rb\/8df1-p0g766h2.jpg","hasTstv":false,"seriesNo":22,"episodeNo":11},{"name":"Celebrity MasterChef","description":"12\/18. It\u0027s the last of the quarter-finals, and the three remaining celebrities must cook a faultless two-course meal. For the one who doesn\u0027t cut the mustard, the journey ends here. [S,AD,SL] [HD]","startTime":1693448100,"duration":1800,"svcId":700,"evtId":9488,"image":"\/ms\/img\/epg\/rb\/8df1-p0g768c4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692995452,"availabilityEnd":1725741023,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001pwfp\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":12},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1693449900,"duration":9900,"svcId":700,"evtId":9489,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Bone Detectives: Britain\u0027s...","description":"...Buried Secrets: Tori Herridge and a team of scientists piece together the lives behind unearthed bones to learn their stories. Episode one examines bodies found in a Kent pit. (S1 Ep1)  [AD,S]","startTime":1693361400,"duration":3300,"svcId":1500,"evtId":36160,"image":"\/ms\/img\/epg\/rb\/5d52-4426188.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Location, Location, Location","description":"Kirstie Allsopp and Phil Spencer catch up with a pair of period property lovers. Ian wanted a Regency property in Cheltenham, while Sehyr was after something Victorian in Windsor.  [S,SL]","startTime":1693364700,"duration":3300,"svcId":1500,"evtId":36159,"image":"\/ms\/img\/epg\/rb\/5d52-6149181.l.png","hasTstv":false},{"name":"Undercover Boss USA","description":"Randy DeWitt, the CEO of sports bar and grill chain Twin Peaks, goes incognito among his own staff, to find out if the company\u0027s culture is keeping up with its rapid growth. (S5 Ep1\/15)  [S]","startTime":1693368000,"duration":3000,"svcId":1500,"evtId":36158,"image":"\/ms\/img\/epg\/rb\/5d52-116545445.l.png","hasTstv":false,"seriesNo":5,"episodeNo":1},{"name":"Beat the Chef","description":"Chef Frederick Forster and amateur cook Paul make venison burger and chips. Whose dish do the Food Jury prefer? Paul needs just one vote, but if he loses he\u0027ll leave empty-handed. (S1 Ep2)  [S]","startTime":1693371000,"duration":1500,"svcId":1500,"evtId":36157,"image":"\/ms\/img\/epg\/rb\/5d52-3664177.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Ardal O\u0027Hanlon joins Susie Dent in Dictionary Corner.  [S]","startTime":1693372500,"duration":2400,"svcId":1500,"evtId":35870,"image":"\/ms\/img\/epg\/rb\/5d52-8043166.l.png","hasTstv":false},{"name":"Cheers","description":"Coach in Love Part 1: Coach falls madly in love with an attractive woman named Irene, who agrees to marry him. True to form, Sam takes a romantic interest in Irene\u0027s daughter. (S3 Ep6\/25)  [S]","startTime":1693374900,"duration":1500,"svcId":1500,"evtId":35871,"image":"\/ms\/img\/epg\/rb\/5d52-186082.l.png","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"Cheers","description":"Coach in Love Part 2: Irene has won two million dollars on the lottery and called off the wedding, but Coach remains convinced that she will come back to him on their big day. (S3 Ep7\/25)  [S]","startTime":1693376400,"duration":1500,"svcId":1500,"evtId":35872,"image":"\/ms\/img\/epg\/rb\/5d52-188392.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"Everybody Loves Raymond","description":"I Wish I Were Gus: Ray is chosen to give the eulogy at his great uncle\u0027s funeral, but he gets more than he bargained for when his aunt turns up to rekindle a family feud. (S1 Ep3)  [AD,S]","startTime":1693377900,"duration":1500,"svcId":1500,"evtId":35873,"image":"\/ms\/img\/epg\/rb\/5d52-561223.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Everybody Loves Raymond","description":"Standard Deviation: Robert asks Ray and Debra to complete IQ tests as part of his criminal psychology class, but then tells each of them that they scored the highest mark. (S1 Ep4)  [AD,S]","startTime":1693379400,"duration":1800,"svcId":1500,"evtId":35874,"image":"\/ms\/img\/epg\/rb\/5d52-561759.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Frasier","description":"Hooping Cranes: Frasier takes his dad and Niles to the basketball but can\u0027t believe his eyes when Niles is plucked out of the crowd and given the chance to win a big cash prize. (S8 Ep14)  [AD,S]","startTime":1693381200,"duration":1800,"svcId":1500,"evtId":35875,"image":"\/ms\/img\/epg\/rb\/5d52-1159849.l.png","hasTstv":false,"seriesNo":8,"episodeNo":15},{"name":"Frasier","description":"Docu.Drama: Frasier can\u0027t narrate Roz\u0027s ambitious space documentary, so she turns to legendary space hero and US senator John Glenn. (S8 Ep15)  [AD,S]","startTime":1693383000,"duration":1800,"svcId":1500,"evtId":35876,"image":"\/ms\/img\/epg\/rb\/5d52-1166935.l.png","hasTstv":false,"seriesNo":8,"episodeNo":16},{"name":"The Big Bang Theory","description":"The Weekend Vortex: Amy is upset when Sheldon breaks his promise to attend her aunt\u0027s birthday party in order to join the guys for a Star Wars video game marathon instead. (S5 Ep19\/24)  [AD,S]","startTime":1693384800,"duration":1500,"svcId":1500,"evtId":35877,"image":"\/ms\/img\/epg\/rb\/5d52-42489846.l.png","hasTstv":false,"seriesNo":5,"episodeNo":19},{"name":"The Big Bang Theory","description":"The Transporter Malfunction: Penny buys Leonard and Sheldon some Star Trek memorabilia, but she is irked when they refuse to remove the toys from their packaging. (S5 Ep20\/24)  [AD,S]","startTime":1693386300,"duration":1800,"svcId":1500,"evtId":35878,"image":"\/ms\/img\/epg\/rb\/5d52-43083135.l.png","hasTstv":false,"seriesNo":5,"episodeNo":20},{"name":"The Simpsons","description":"The Ned-liest Catch: When Bart\u0027s pranks make Mrs Krabappel lose her temper, she\u0027s suspended from school, and Bart helps her to escape from the Teacher Holding Facility. (S22 Ep22\/22)  [AD,S]","startTime":1693388100,"duration":1800,"svcId":1500,"evtId":36325,"image":"\/ms\/img\/epg\/rb\/5d52-1271045.l.png","hasTstv":false,"seriesNo":22,"episodeNo":22},{"name":"The Simpsons","description":"Bart\u0027s Friend Falls in Love: Milhouse falls for new girl Samantha Stanky. Lisa orders subliminal weight-loss tapes for Homer, but vocabulary improvement tapes arrive instead. (S3 Ep23\/24)  [AD,S]","startTime":1693389900,"duration":1800,"svcId":1500,"evtId":35879,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":3,"episodeNo":23},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1693391700,"duration":300,"svcId":1500,"evtId":35880,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"South London. Stylist Felicia treats her guests to a fashion and glam-themed night, complete with red carpet catwalk. But do her guests think she has that je ne sais quoi? (Ep1\/5)  [S]","startTime":1693392000,"duration":1800,"svcId":1500,"evtId":35881,"image":"\/ms\/img\/epg\/rb\/5d52-4784681.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"South London. Musician Be hopes to impress his guests with a gastronomic world tour and travel-themed game. Will his holiday vibe fly high or will he hit turbulence along the way? (Ep2\/5)  [S]","startTime":1693393800,"duration":1800,"svcId":1500,"evtId":35882,"image":"\/ms\/img\/epg\/rb\/5d52-4793741.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"South London. TV editor Joe hosts a 90s-themed night. But will his smile fade as his starter scorches, or can he cool the heat in the kitchen with his home-made ice cream? (Ep3\/5)  [S]","startTime":1693395600,"duration":1800,"svcId":1500,"evtId":35883,"image":"\/ms\/img\/epg\/rb\/5d52-4797102.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"South London. Video director Dean plans to knock the socks off his guests with his tried-and-tested fiery prawn saganaki and espresso martini brownies. But is it enough to win? (Ep4\/5)  [S]","startTime":1693397400,"duration":1800,"svcId":1500,"evtId":35884,"image":"\/ms\/img\/epg\/rb\/5d52-4804704.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"South London. Yoga teacher Helen brings calm to the end of the week with her Thai-inspired menu and a Zen yoga-themed night. But will simmering tensions ruin the positive vibes? (Ep5\/5)  [S]","startTime":1693399200,"duration":1800,"svcId":1500,"evtId":35885,"image":"\/ms\/img\/epg\/rb\/5d52-4804929.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Ardal O\u0027Hanlon joins Susie Dent in Dictionary Corner.  [S]","startTime":1693401000,"duration":3000,"svcId":1500,"evtId":35886,"image":"\/ms\/img\/epg\/rb\/5d52-8043758.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Paul and Nicola have finally decided to buy a holiday home in the seaside town of Puerto del Carmen on Lanzarote. Ben Hillman has five excellent options for their budget of \u00a3180,000.  [S]","startTime":1693404000,"duration":3600,"svcId":1500,"evtId":35887,"image":"\/ms\/img\/epg\/rb\/5d52-392277140.l.png","hasTstv":false},{"name":"A New Life in the Sun: Where...","description":"...Are They Now?: We revisit two publicans who launched a new catering business on the Costa del Sol, and a pair of sailing instructors who navigated through competitive waters. (S3 Ep8\/10)  [S]","startTime":1693407600,"duration":3600,"svcId":1500,"evtId":35888,"image":"\/ms\/img\/epg\/rb\/5d52-4090282.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Four in a Bed","description":"It\u0027s Barney\u0027s turn to host, at The Hideaway at Baxby Manor in North Yorkshire. His guests are charmed by the countryside \u0027Hobbit Huts\u0027, but hidden costs ruin things for one pair.  [S]","startTime":1693411200,"duration":1800,"svcId":1500,"evtId":35889,"image":"\/ms\/img\/epg\/rb\/5d52-4130737.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"West Midlands. Pharmacy technician Amy serves up an Asian extravaganza, on a night featuring a missing guest, some dodgy dancing and bum banter. (Ep3\/5)  [S]","startTime":1693413000,"duration":1800,"svcId":1500,"evtId":35890,"image":"\/ms\/img\/epg\/rb\/5d52-412779132.l.png","hasTstv":false},{"name":"The Simpsons","description":"Sleeping with the Enemy: Feeling neglected by Bart and Lisa, Marge decides to adopt Nelson, but Bart isn\u0027t happy about sharing his room with the school bully. (S16 Ep3\/21)  [AD,S]","startTime":1693414800,"duration":1800,"svcId":1500,"evtId":35891,"image":"\/ms\/img\/epg\/rb\/5d52-5240877.l.png","hasTstv":false,"seriesNo":16,"episodeNo":3},{"name":"Hollyoaks","description":"Sienna chooses Ethan, but starts having doubts when Rafe returns to the village. One young resident stumbles across something that wasn\u0027t meant to be found.  [AD,S]","startTime":1693416600,"duration":1800,"svcId":1500,"evtId":35892,"image":"\/ms\/img\/epg\/rb\/5d52-8043771.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1693418400,"duration":3600,"svcId":1500,"evtId":35893,"image":"\/ms\/img\/epg\/rb\/5d52-8043778.l.png","hasTstv":false},{"name":"George Clarke\u0027s Old House New Home","description":"George attempts to bring the grandeur back to a Georgian town house in Cheshire that\u0027s been stripped of its original features, and tackles a 380-year-old Jacobean cottage. (S8 Ep4)  [AD,S]","startTime":1693422000,"duration":3600,"svcId":1500,"evtId":35894,"image":"\/ms\/img\/epg\/rb\/5d52-6372770.l.png","hasTstv":false,"seriesNo":8,"episodeNo":4},{"name":"New: Screw","description":"The hit prison drama returns. After the tragic events of series one, the prison officers want a fresh start. But rumours abound that there\u0027s an undercover cop on C Wing. (S2 Ep1\/6)  [AD,S]","startTime":1693425600,"duration":3600,"svcId":1500,"evtId":35895,"image":"\/ms\/img\/epg\/rb\/5d52-8043784.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"First Dates","description":"Comedy queen Carol meets a 76-year-old designer. Charles is 26 and has never been kissed. Two south London sisters, both single, are keen to do something about it. (S18 Ep1)  [AD,S]","startTime":1693429200,"duration":3900,"svcId":1500,"evtId":35896,"image":"\/ms\/img\/epg\/rb\/5d52-5270310.l.png","hasTstv":false,"seriesNo":18,"episodeNo":1},{"name":"Selling Super Houses","description":"Aspiring super-prime estate agents compete for their dream job with luxury property magnate Paul Kemsley. The hopefuls host an open house event at an exclusive property. (Ep1\/6)  [AD,S]","startTime":1693433100,"duration":3600,"svcId":1500,"evtId":35897,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Remarkable Places to Eat","description":"Fred Sirieix and Angela Hartnett discover Devon\u0027s delicious delights, as they enjoy some of the finest seafood and board a floating restaurant on the river Exe. (S4 Ep4)  [AD,S]","startTime":1693436700,"duration":3600,"svcId":1500,"evtId":36330,"image":"\/ms\/img\/epg\/rb\/5d52-8041892.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Alone","description":"The battle with isolation takes a toll on some, while others discover a new perspective on life. A wild storm puts everyone in danger, and who will survive with a predator at large? (Ep4\/6)  [AD,S]","startTime":1693440300,"duration":3300,"svcId":1500,"evtId":36332,"image":"\/ms\/img\/epg\/rb\/5d52-8038915.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Amputating Alice","description":"Documentary following Paralympic Champion swimmer Alice Tai as she voluntarily undergoes an amputation and then races to be ready for the Commonwealth Games. Featuring Adam Hills.  [AD,S,SL]","startTime":1693443600,"duration":3300,"svcId":1500,"evtId":36333,"image":"\/ms\/img\/epg\/rb\/5d52-8015827.l.png","hasTstv":false},{"name":"Queer as Folk US","description":"Sacrilege: In the series finale, Bussey throws a transformative party to reclaim Babylon. And Bussey, Brodie, Ruthie, Shar and Brenda make choices that change their lives. (Ep8\/8)  [AD,S,SL]","startTime":1693446900,"duration":3600,"svcId":1500,"evtId":35900,"image":"\/ms\/img\/epg\/rb\/5d52-6270811.l.png","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"Location, Location, Location","description":"In Cambridgeshire, Kirstie Allsopp and Phil Spencer help Chris and Louise find their dream rural home, while a pair of first-time buyer doctors want an affordable city pad. (S25 Ep1\/6)  [S,SL]","startTime":1693450500,"duration":3300,"svcId":1500,"evtId":36164,"image":"\/ms\/img\/epg\/rb\/5d52-info.genre.l.png","hasTstv":false,"seriesNo":25,"episodeNo":1},{"name":"Undercover Boss USA","description":"Steven Newman, CEO of Loehmann\u0027s department stores, goes undercover on the front line of his company, to ensure the outlets are implementing his plans to reinvigorate the brand. (S5 Ep2\/15)  [S]","startTime":1693453800,"duration":3000,"svcId":1500,"evtId":36163,"image":"\/ms\/img\/epg\/rb\/5d52-1760532.l.png","hasTstv":false,"seriesNo":5,"episodeNo":2}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('370');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('178');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('37');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('28');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'vkkP_UzGf9Y', title: "Late Nunez brace STUNS Newcastle! 🤯 | Newcastle 1-2 Liverpool | Premier League Highlights", label: "Late Nunez brace STUNS Newcastle! 🤯 | Newcastle 1-2 Liverpool | Premier League Highlights by Sky Sports Premier League 2 days ago 3 minutes, 4 seconds 1,938,490 views" },
{ id: 'ohS06vkHjLE', title: "Jawan: Not Ramaiya Vastavaiya | Shah Rukh Khan | Atlee | Anirudh | Nayanthara | Vishal D | Shilpa R", label: "Jawan: Not Ramaiya Vastavaiya | Shah Rukh Khan | Atlee | Anirudh | Nayanthara | Vishal D | Shilpa R by T-Series 15 hours ago 2 minutes, 51 seconds 22,521,997 views" },
{ id: 'm6SxztwgLL8', title: "Why British cities make no sense", label: "Why British cities make no sense by Jay Foreman 1 day ago 11 minutes, 14 seconds 923,762 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Italy.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Italian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>3 September</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Titane (2021)">Titane (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Raw (2016)">Raw (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+12 Years a Slave (2013)">12 Years a Slave (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Rear Window (1954)">Rear Window (1954)</a></li><li><a href="https://www.google.com/search?q=Films+-+Heavenly Creatures (1994)">Heavenly Creatures (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Us (2019)">Us (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Return of the Obra Dinn (2018)">Return of the Obra Dinn (2018)</a></li><li><a href="https://www.google.com/search?q=Games+-+Card Shark (2022)">Card Shark (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Stardew Valley (2016)">Stardew Valley (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Frasier (Various)">Frasier (Various)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Sixth Commandment (2023, S1)">The Sixth Commandment (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Animals of Farthing Wood (1993, S1)">The Animals of Farthing Wood (1993, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (2022, S1)">How this Blind Girl… (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 178.96, tooltip: "Fri, Aug 25, 2023<br/>£178.96"},
{ number: 177.53, tooltip: "Thu, Aug 24, 2023<br/>£177.53"},
{ number: 178.45, tooltip: "Wed, Aug 23, 2023<br/>£178.45"},
{ number: 176.15, tooltip: "Tue, Aug 22, 2023<br/>£176.15"},
{ number: 176.09, tooltip: "Mon, Aug 21, 2023<br/>£176.09"},
{ number: 175.59, tooltip: "Fri, Aug 18, 2023<br/>£175.59"},
{ number: 175.58, tooltip: "Thu, Aug 17, 2023<br/>£175.58"},
{ number: 176.98, tooltip: "Wed, Aug 16, 2023<br/>£176.98"},
{ number: 178.42, tooltip: "Tue, Aug 15, 2023<br/>£178.42"},
{ number: 181.17, tooltip: "Mon, Aug 14, 2023<br/>£181.17"},
{ number: 180.52, tooltip: "Fri, Aug 11, 2023<br/>£180.52"},
{ number: 181.04, tooltip: "Thu, Aug 10, 2023<br/>£181.04"},
{ number: 180.61, tooltip: "Wed, Aug 09, 2023<br/>£180.61"},
{ number: 181.27, tooltip: "Tue, Aug 08, 2023<br/>£181.27"},
{ number: 181.67, tooltip: "Mon, Aug 07, 2023<br/>£181.67"},
{ number: 181.04, tooltip: "Fri, Aug 04, 2023<br/>£181.04"},
{ number: 181.96, tooltip: "Thu, Aug 03, 2023<br/>£181.96"},
{ number: 182.71, tooltip: "Wed, Aug 02, 2023<br/>£182.71"},
{ number: 184.65, tooltip: "Tue, Aug 01, 2023<br/>£184.65"},
{ number: 184.04, tooltip: "Mon, Jul 31, 2023<br/>£184.04"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Aug 25, 2023",
		"vs Day":      "Thu, Aug 24, 2023",
		"vs Week":     "Fri, Aug 18, 2023",
		"vs Month":    "Mon, Jul 31, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£178.96/share",
		'vs Day':      "+0.81%",
		'vs Week':     "+1.92%",
		'vs Month':    "-2.76%",
		'vs Year':     "+1.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '98.0',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 29 August and 30 August">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.980&p=5.597&r=5.892',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:13',
		Set:      '19:59',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>An oxymoron is a combination of words that have opposite or very different meanings, such as “cruel kindness” or “open secret.” In broader usage, <em>oxymoron</em> can also refer to something (such as a concept) that is made up of contradictory or <a href="https://www.merriam-webster.com/dictionary/incongruous">incongruous</a> elements.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Sanchez">Sanchez</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Ange">Ange</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Salford">Salford</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Darlow">Darlow</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Forster">Forster</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Angels">Angels</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Giolito">Giolito</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Bader">Bader</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Matt+Moore%22">Matt Moore</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Zappe">Zappe</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>