<!DOCTYPE html>
<html lang="en">
	<head>
		<title>17:56 9-Jan - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Winter pressure bad as height of pandemic, NHS says</b><br/>More than 5,400 patients a day are in hospital with flu, as delays in A&E and for ambulances mount." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c4g3gyxm0kvo">Winter pressure bad as height of pandemic, NHS says</a></li><li class="ttt" data-tt="<b>Pound falls to lowest in over a year as borrowing costs soar</b><br/>Economists have warned the rise could mean further tax hikes or spending cuts by the government."><a href="https://www.bbc.com/news/articles/c1404j3xmxdo">Pound falls to lowest in over a year as borrowing costs soar</a></li><li class="ttt" data-tt="<b>Fresh weather warnings for ice across UK</b><br/>Temperatures could fall as low as -16C with travel disruption likely to road and rail services."><a href="https://www.bbc.com/news/articles/c0j1jqxp026o">Fresh weather warnings for ice across UK</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c4g3gyxm0kvo"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/c006/live/134394a0-cea0-11ef-8003-5563c395c8f2.jpg" class="ttt" data-tt="Ambulances in a queue" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>In maps: Thousands of acres on fire in LA</b><br/>Maps and images showing how the fires currently affecting the Los Angeles area are developing." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cg525q2ggl4o">In maps: Thousands of acres on fire in LA</a></li><li class="ttt" data-tt="<b>Moment five US presidents gather at Carter\'s funeral</b><br/>US Presidents Joe Biden, Donald Trump, Barack Obama, George W Bush and Bill Clinton sat in the front pews."><a href="https://www.bbc.com/news/videos/cjwlw5y2gnvo">Moment five US presidents gather at Carter\'s funeral</a></li><li class="ttt" data-tt="<b>What\'s the latest on the Los Angeles wildfires, and what caused them?</b><br/>Everything you need to know about the blazes that have forced thousands to leave their homes."><a href="https://www.bbc.com/news/articles/clyxypryrnko">What\'s the latest on the Los Angeles wildfires, and what caused them?</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cg525q2ggl4o"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/dffc/live/f17f69e0-ce66-11ef-9fd6-0be88a764111.jpg" class="ttt" data-tt="Graphic image showing a firefighter holding a hose and burning buildings behind him, with a map image to the right hand side" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Fire evacuation order lifted for LA\'s Hollywood Hills West</b><br/>Officials say the blaze is now under control, but urge residents to be careful when returning to their homes." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cj0r01n79lno">Fire evacuation order lifted for LA\'s Hollywood Hills West</a></li><li class="ttt" data-tt="<b>\'Where do I go?\' Chaos on Hollywood streets as people flee flames</b><br/>People are running away from their homes as the Sunset fire sweeps through Hollywood Hills."><a href="https://www.bbc.com/news/articles/cdeke468rwpo">\'Where do I go?\' Chaos on Hollywood streets as people flee flames</a></li><li class="ttt" data-tt="<b>Powerful photos reveal dramatic scenes as LA fires rage</b><br/>The fires have been spreading rapidly because of high winds and very dry conditions."><a href="https://www.bbc.com/news/articles/c3rqrqx4egro">Powerful photos reveal dramatic scenes as LA fires rage</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cj0r01n79lno"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/742c/live/13b719c0-ce5a-11ef-9fd6-0be88a764111.jpg" class="ttt" data-tt="Firefighters operate as smoke and flames rise from the Sunset Fire in the hills overlooking the Hollywood neighborhood of Los Angeles, California" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Colapinto joins Alpine as reserve after Williams release</b><br/>Argentine Franco Colapinto is to be Alpine\'s reserve driver this season after signing a multi-year deal to join the team from Williams." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c24n489ny5go">Colapinto joins Alpine as reserve after Williams release</a></li><li class="ttt" data-tt="<b>General Motors sets up new engine company</b><br/>US car company General Motors sets up a new engine company as it gears up for its prospective entry into Formula 1."><a href="https://www.bbc.com/sport/formula1/articles/c0lgl5302z5o">General Motors sets up new engine company</a></li><li class="ttt" data-tt="<b>F1 owner Liberty name Chang as new president</b><br/>F1 owner Liberty Media name Derek Chang as new president and CEO."><a href="https://www.bbc.com/sport/formula1/articles/crk0k8kyynno">F1 owner Liberty name Chang as new president</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c24n489ny5go"><img src="https://ichef.bbci.co.uk/ace/branded_sport/1200/cpsprodpb/5028/live/480a18a0-cead-11ef-ac37-dd8775376514.jpg" class="ttt" data-tt="Franco Colapinto" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Politics content to be pushed on all Instagram and Threads users</b><br/>Users will no longer be able to opt out of political content from people they do not follow." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/clyjyd0297go">Politics content to be pushed on all Instagram and Threads users</a></li><li class="ttt" data-tt="<b>\'Huge problems\' with Instagram and Facebook changes, says oversight board</b><br/>The body\'s co-chair says moving to community notes could have a big impact on gender rights and minority groups."><a href="https://www.bbc.com/news/articles/cjwlwlqpwx7o">\'Huge problems\' with Instagram and Facebook changes, says oversight board</a></li><li class="ttt" data-tt="<b>ChatGPT creator denies sister\'s childhood rape claim</b><br/>Ann Altman filed a lawsuit alleging her brother sexually abused her between 1997 and 2006."><a href="https://www.bbc.com/news/articles/cz6lq6x2gd9o">ChatGPT creator denies sister\'s childhood rape claim</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/clyjyd0297go"><img src="https://ichef.bbci.co.uk/ace/branded_news/1200/cpsprodpb/cd26/live/2631c470-ce86-11ef-a3a8-63524ef58ad1.jpg" class="ttt" data-tt="Instagram and Threads logos lit up against a dark background, side by side." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"Â°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"6 Jan â€“ 12 Jan","date":17363808E5,"ts":"Thu, 9","ds":"Thu, 9 Jan","icon":2,"desc":"Scattered clouds.","temp":3,"templow":-4,"cf":-2,"wind":11,"wd":280,"hum":81,"pc":5},{"date":17364672E5,"ts":"Fri, 10","ds":"Fri, 10 Jan","icon":4,"desc":"Increasing cloudiness.","temp":0,"templow":-7,"cf":-3,"wind":5,"wd":60,"hum":80,"pc":4},{"date":17365536E5,"ts":"Sat, 11","ds":"Sat, 11 Jan","icon":29,"desc":"Snow showers early. Scattered clouds.","temp":2,"templow":-5,"cf":-1,"wind":2,"wd":270,"hum":86,"pc":20,"snow":1.3 },{"date":173664E7,"ts":"Sun, 12","ds":"Sun, 12 Jan","icon":7,"desc":"Cloudy.","temp":4,"templow":-3,"cf":1,"wind":6,"wd":210,"hum":82,"pc":4},{"hl":true,"hls":"13 Jan â€“ 19 Jan","date":17367264E5,"ts":"Mon, 13","ds":"Mon, 13 Jan","icon":7,"desc":"Overcast.","temp":8,"templow":3,"cf":5,"wind":9,"wd":210,"hum":89,"pc":3},{"date":17368128E5,"ts":"Tue, 14","ds":"Tue, 14 Jan","icon":18,"desc":"Sprinkles early. Overcast.","temp":10,"templow":6,"cf":8,"wind":7,"wd":240,"hum":87,"pc":23,"rain":0.6 },{"date":17368992E5,"ts":"Wed, 15","ds":"Wed, 15 Jan","icon":7,"desc":"Cloudy.","temp":8,"templow":3,"cf":6,"wind":5,"wd":240,"hum":84,"pc":0},{"date":17369856E5,"ts":"Thu, 16","ds":"Thu, 16 Jan","icon":6,"desc":"Mostly cloudy.","temp":8,"templow":1,"cf":6,"wind":3,"wd":280,"hum":77,"pc":3},{"date":1737072E6,"ts":"Fri, 17","ds":"Fri, 17 Jan","icon":7,"desc":"Cloudy.","temp":10,"templow":6,"cf":9,"wind":4,"wd":240,"hum":69,"pc":3},{"date":17371584E5,"ts":"Sat, 18","ds":"Sat, 18 Jan","icon":4,"desc":"Afternoon clouds.","temp":10,"templow":6,"cf":9,"wind":4,"wd":300,"hum":72,"pc":4},{"date":17372448E5,"ts":"Sun, 19","ds":"Sun, 19 Jan","icon":7,"desc":"Overcast.","temp":10,"templow":6,"cf":7,"wind":13,"wd":10,"hum":75,"pc":6},{"hl":true,"hls":"20 Jan â€“ 26 Jan","date":17373312E5,"ts":"Mon, 20","ds":"Mon, 20 Jan","icon":7,"desc":"Overcast.","temp":10,"templow":6,"cf":8,"wind":12,"wd":40,"hum":80,"pc":6},{"date":17374176E5,"ts":"Tue, 21","ds":"Tue, 21 Jan","icon":7,"desc":"Overcast.","temp":9,"templow":5,"cf":9,"wind":2,"wd":100,"hum":80,"pc":4},{"date":1737504E6,"ts":"Wed, 22","ds":"Wed, 22 Jan","icon":6,"desc":"Broken clouds.","temp":9,"templow":4,"cf":7,"wind":6,"wd":310,"hum":81,"pc":5},{"date":17375904E5,"ts":"Thu, 23","ds":"Thu, 23 Jan","icon":6,"desc":"Mostly cloudy.","temp":8,"templow":3,"cf":7,"wind":4,"wd":200,"hum":78,"pc":5}],"grid":{"temp":{"low":-7,"high":10,"range":17},"prec":{"high":1.3},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2501/Image171a.jpg',
		Title:     'Peculiar Galaxies of Arp 273',
		LinkImage: 'https://apod.nasa.gov/apod/image/2501/Image171a.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap250109.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Michael_William_Balfe_-_Atelier_Nadar.jpg/350px-Michael_William_Balfe_-_Atelier_Nadar.jpg',
		Title:    'Michael William Balfe',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Michael_William_Balfe',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Michael_William_Balfe" title="Michael William Balfe">Michael William Balfe</a></b> (1808â€“1870) was an Irish composer, best remembered for his operas. Balfe was born in <a href="https://en.wikipedia.org/wiki/Dublin" title="Dublin">Dublin</a> and grew up on Pitt Street, which was renamed Balfe Street in 1917 in his honour. After moving to <a href="https://en.wikipedia.org/wiki/Wexford" title="Wexford">Wexford</a> with his family as a child, he began a career as a violinist, moving to <a href="https://en.wikipedia.org/wiki/London" title="London">London</a> in 1823 after his father\'s death, later relocating again to Italy and Switzerland, where he married the Hungarian-born singer Lina Roser. Balfe began pursuing an operatic singing career as well as composition, and moved back to London with his family in 1835. In a career spanning more than 40 years, he composed at least 29 operas, almost 250 songs, several <a href="https://en.wikipedia.org/wiki/Cantata" title="Cantata">cantatas</a>, and other works. He was also a noted conductor, directing Italian opera at <a href="https://en.wikipedia.org/wiki/His_Majesty%27s_Theatre,_London" title="His Majesty&#39;s Theatre, London">Her Majesty\'s Italian Opera House</a> for seven years, among other conducting posts. His most notable opera is <i><a href="https://en.wikipedia.org/wiki/The_Bohemian_Girl" title="The Bohemian Girl">The Bohemian Girl</a></i>, which continues to be performed. This photograph of Balfe was taken by the studio of the French photographer <a href="https://en.wikipedia.org/wiki/Nadar" title="Nadar">Nadar</a>; this <a href="https://en.wikipedia.org/wiki/Albumen_print" title="Albumen print">albumen print</a> was made in 1900.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/Nadar" title="Nadar">Nadar</a>; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1736402400,"duration":12600,"svcId":560,"evtId":30553,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736414940,"availabilityEnd":1736501340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0026p23\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Conversation, advice and tips to make your day that little bit easier. [S] [HD]","startTime":1736415000,"duration":4500,"svcId":560,"evtId":30554,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kb9jx4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736419455,"availabilityEnd":1767955455,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026p25\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":139},{"name":"Rip Off Britain","description":"34\/45. The team hears from the women from South Wales who have been hounded for hundreds of pounds worth of debt after someone else took out a \u0027buy now, pay later\u0027 account in their names. [S] [HD]","startTime":1736419500,"duration":2700,"svcId":560,"evtId":30676,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kfs9j1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736422180,"availabilityEnd":1769254170,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026qls\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":34},{"name":"Homes Under the Hammer","description":"28\/80. A Lancashire double as Dion visit two terraces in and around Burnley, one bought by a fireworks salesman. [S,AD] [HD]","startTime":1736422200,"duration":2700,"svcId":560,"evtId":30555,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcjl5.jpg","hasTstv":false,"seriesNo":39,"episodeNo":28},{"name":"Bargain Hunt","description":"Eric Knowles heads to Detling in Kent, where experts Catherine Southon and Mark Stacey assist the teams in their search for profitable antiques. [S,AD] [HD]","startTime":1736424900,"duration":2700,"svcId":560,"evtId":30556,"image":"\/ms\/img\/epg\/rb\/fec6-p0bg0br9.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736427591,"availabilityEnd":1739019591,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0013d64\u0026ui_id=4.0.0"},"seriesNo":60},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1736427600,"duration":3600,"svcId":560,"evtId":30557,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":204},{"name":"Lost and Found in the Lakes","description":"4\/16. The scuba team take on a family\u0027s epic 30-year search for grandad\u0027s missing motorbike, whilst local crafter Sally is challenged to turn discarded crockery into a ceramic wonder. [S,AD] [HD]","startTime":1736431200,"duration":1800,"svcId":560,"evtId":30677,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kcg7w8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736143200,"availabilityEnd":1767679200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026l6b\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Animal Park","description":"4\/10. Hamza Yassin discovers what happens when eight lions try to play football. [S,AD] [HD]","startTime":1736433000,"duration":1800,"svcId":560,"evtId":30560,"image":"\/ms\/img\/epg\/rb\/fec6-p0jglw0p.jpg","hasTstv":false,"seriesNo":36,"episodeNo":4},{"name":"I Escaped to the Country","description":"2\/10. Alistair Appleton and Denise Nurse catch up with some adventurous women who have found fulfilment in the rural borderlands of Wales. [S,AD] [HD]","startTime":1736434800,"duration":2700,"svcId":560,"evtId":30561,"image":"\/ms\/img\/epg\/rb\/fec6-p0h0h857.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704296716,"availabilityEnd":1739029500,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001tx0q\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"The Bidding Room","description":"19\/30. Nigel Havers hosts as five dealers bid to buy items brought in by the public, including a toy tugboat, a vintage petrol pump, a wooden mask and a pair of funfair dolphins. [S] [HD]","startTime":1736437500,"duration":2700,"svcId":560,"evtId":30562,"image":"\/ms\/img\/epg\/rb\/ae0c-p0cvnczs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736440239,"availabilityEnd":1739032239,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001l06b\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":19},{"name":"The Travelling Auctioneers","description":"4\/20. Izzie and Saf help a grieving family sell inherited items. Furniture steeped in wartime history and jewellery worth a small fortune will hopefully fund a dream wedding dress. [S] [HD]","startTime":1736440200,"duration":2700,"svcId":560,"evtId":30678,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kckv6h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736143200,"availabilityEnd":1767679200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026lc6\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":4},{"name":"New: Pointless","description":"31\/49. Alexander Armstrong is joined by co-host Rob Rinder for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1736442900,"duration":2700,"svcId":560,"evtId":30633,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kd0zqf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736445597,"availabilityEnd":1770227930,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026pvh\u0026ui_id=4.0.0"},"seriesNo":32,"episodeNo":31},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1736445600,"duration":1800,"svcId":560,"evtId":30563,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736446500,"availabilityEnd":1736533890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026p2f\u0026ui_id=4.0.0"},"episodeNo":204},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1736447400,"duration":1800,"svcId":560,"evtId":30564,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736449095,"availabilityEnd":1736535495,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026p2h\u0026ui_id=4.0.0"},"episodeNo":284},{"name":"The One Show","description":"Alex Jones and Lauren Laverne brings you the stories that matter from across the country. [S] [HD]","startTime":1736449200,"duration":1800,"svcId":560,"evtId":30634,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736450995,"availabilityEnd":1739042995,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026pvk\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"A Walford pair join forces as a problem presents itself, Reiss summons the Square\u0027s residents, and Kim attempts to offer advice. [S,AD] [HD]","startTime":1736451000,"duration":1800,"svcId":560,"evtId":30679,"image":"\/ms\/img\/epg\/rb\/fec6-p0kfz46j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736402400,"availabilityEnd":1806469200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026qlv\u0026ui_id=4.0.0"},"episodeNo":7047},{"name":"Dragons\u0027 Den","description":"1\/14. Dragons\u0027 Den returns with an exciting new line-up of celebrity guests. Joe Wicks joins Peter Jones, Deborah Meaden, Sara Davies, Steven Bartlett and Touker Suleyman. [S,AD] [HD]","startTime":1736452800,"duration":3600,"svcId":560,"evtId":30680,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kfzspk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736456438,"availabilityEnd":1772830740,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026qlx\u0026ui_id=4.0.0"},"seriesNo":32,"episodeNo":1},{"name":"The Traitors","description":"5\/12. With the Traitors plotting their next move in the dead of night, will breakfast bring the Faithful any clues as to their identity? [S,AD] [HD]","startTime":1736456400,"duration":3600,"svcId":560,"evtId":30681,"image":"\/ms\/img\/epg\/rb\/fec6-p0kghj5f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736459997,"availabilityEnd":1895464740,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0026qm0\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":5},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1736460000,"duration":1800,"svcId":560,"evtId":30565,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736461890,"availabilityEnd":1736548290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026p2k\u0026ui_id=4.0.0"},"episodeNo":204},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1736461800,"duration":600,"svcId":560,"evtId":30566,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736462250,"availabilityEnd":1736548650,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026p2m\u0026ui_id=4.0.0"},"episodeNo":244},{"name":"Moulin Rouge!","description":"A poet goes to Paris and has an affair with a courtesan of an underground club. Deals with adult themes. [2001] [S] [HD]","startTime":1736462400,"duration":7200,"svcId":560,"evtId":30635,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j5p2zz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736469671,"availabilityEnd":1739061671,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0020t0z\u0026ui_id=4.0.0"}},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1736469600,"duration":300,"svcId":560,"evtId":30567,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736469964,"availabilityEnd":1737076545,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026p2p\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1736469900,"duration":18900,"svcId":560,"evtId":30568,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":284}]},{"channelid":700,"offset":0,"event":[{"name":"The Bidding Room","description":"2\/30. Nigel is feeling a little \u0027horse\u0027, but which dealers will buy today\u0027s items? [S] [HD]","startTime":1736404200,"duration":2700,"svcId":700,"evtId":22102,"image":"\/ms\/img\/epg\/rb\/fec6-p0kd0zgt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736353791,"availabilityEnd":1801413000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026qhf\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":2},{"name":"The Travelling Auctioneers","description":"3\/20. Chinese collectables must be sold, but the pressure\u0027s on auctioneer JB to raise as much money as possible for charity. Restorer Lauren finds that restoring a table is no easy task. [S] [HD]","startTime":1736406900,"duration":2700,"svcId":700,"evtId":22104,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kckv52.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736143200,"availabilityEnd":1767679200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026lcg\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":3},{"name":"Fake or Fortune?","description":"The team delve into the world of music memorabilia when they investigate a piano linked to John Lennon and a guitar with a connection to Ronnie Wood, but are they the real deal? [S,AD,SL] [HD]","startTime":1736409600,"duration":3600,"svcId":700,"evtId":22037,"image":"\/ms\/img\/epg\/rb\/fec6-p0jtx146.jpg","hasTstv":false,"seriesNo":12,"episodeNo":3},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1736413200,"duration":11700,"svcId":700,"evtId":22007,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1736424900,"duration":2700,"svcId":700,"evtId":22008,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736427599,"availabilityEnd":1739019599,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026nmr\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"9\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 21 people start today\u0027s show but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1736427600,"duration":2700,"svcId":700,"evtId":22009,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736430324,"availabilityEnd":1739022324,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000nxkz\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":9},{"name":"The Edge","description":"7\/25. Quiz show hosted by Mark Benton. Contestants must answer questions correctly to get the chance to bowl for cash prizes. [S] [HD]","startTime":1736430300,"duration":2700,"svcId":700,"evtId":22010,"image":"\/ms\/img\/epg\/rb\/ae0c-p034l5cr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736433047,"availabilityEnd":1739025047,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b05nymm7\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"The Boss","description":"7\/25. Susan Calman hosts the quiz show where being in control is everything. Who will emerge as the boss and walk away with the cash? [S] [HD]","startTime":1736433000,"duration":2700,"svcId":700,"evtId":22011,"image":"\/ms\/img\/epg\/rb\/ae0c-p050dtv7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736435744,"availabilityEnd":1739027744,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b095zjf0\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":7},{"name":"The Great British Year","description":"4\/4. Documentary series showing Britain\u0027s changing look over the course of a year. The fading sun brings an energy change to Britain: a time of storms and unpredictable weather. [S,AD] [HD]","startTime":1736435700,"duration":3600,"svcId":700,"evtId":22012,"image":"\/ms\/img\/epg\/rb\/ae0c-p08n8fw5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736439363,"availabilityEnd":1739031363,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=p01dflmb\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Who Do You Think You Are?","description":"7\/8. Sharon Osbourne uncovers the difficult circumstances of her mother\u0027s and grandmother\u0027s lives, and is stunned to learn that her great-grandmother was born in the US. [S,AD] [HD]","startTime":1736439300,"duration":3600,"svcId":700,"evtId":22013,"image":"\/ms\/img\/epg\/rb\/ae0c-p07m1kwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691730000,"availabilityEnd":1754888340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00085rf\u0026ui_id=4.0.0"},"seriesNo":18,"episodeNo":7},{"name":"Flog It!","description":"13\/40. Paul Martin is at Tilbury Docks in Essex, where he finds out about the people who worked there in its heyday. [S] [HD]","startTime":1736442900,"duration":2700,"svcId":700,"evtId":22014,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736445619,"availabilityEnd":1739037619,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000c62x\u0026ui_id=4.0.0"},"seriesNo":17,"episodeNo":13},{"name":"Richard Osman\u0027s House of Games","description":"59\/100. Ben Bailey Smith, Robin Ince, Lara Ricote and Helen Skelton test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1736445600,"duration":1800,"svcId":700,"evtId":22105,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kcrwmt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736447443,"availabilityEnd":1772908137,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024kz4\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":59},{"name":"Joanna Page\u0027s Wild Life","description":"4\/15. Actor Joanna Page continues her training at a local wildlife rescue centre, helping with the rehabilitation and release of a jackdaw, a wood mouse and a tiny vole. [S] [HD]","startTime":1736447400,"duration":1800,"svcId":700,"evtId":22106,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kcb70y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736143200,"availabilityEnd":1767679200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026r94\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Celebrity Antiques Road Trip","description":"17\/20. The Repair Shop\u0027s Julie Tatchell and Amanda Middleditch team up with experts Tim and James. They discover rare tiny toys in Birmingham and a very long church pew in Wolverhampton. [S] [HD]","startTime":1736449200,"duration":3600,"svcId":700,"evtId":22107,"image":"\/ms\/img\/epg\/rb\/fec6-p0dmthbh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736452858,"availabilityEnd":1739044858,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001gdx4\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":17},{"name":"New: Digging for Britain","description":"3\/6. Exploring Britain\u0027s islands: a 5,000-year-old Neolithic tomb, an international effort to save a WWI warship, and a Neanderthal hunting ground off Jersey\u0027s coast. [S,AD] [HD]","startTime":1736452800,"duration":3600,"svcId":700,"evtId":22108,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kg7zh1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736229600,"availabilityEnd":1767765600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0026rg9\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":3},{"name":"Miriam Margolyes - Almost...","description":"...Australian. 1\/3. Miriam Margolyes embarks on a two-month journey to discover what it is to be Australian. Contains some strong language. [S,AD] [HD]","startTime":1736456400,"duration":3600,"svcId":700,"evtId":22109,"image":"\/ms\/img\/epg\/rb\/ae0c-p08kn60n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736459700,"availabilityEnd":1767996300,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000l45w\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"The Traitors: Uncloaked","description":"5\/12. Ed Gamble unpacks all the drama from the fifth episode of the new series of The Traitors, going inside the castle with exclusive access to the banished and murdered. [S,AD] [HD]","startTime":1736460000,"duration":1800,"svcId":700,"evtId":22110,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kg54yw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736461949,"availabilityEnd":1769293800,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026rgc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Faisal Islam. [S] [HD]","startTime":1736461800,"duration":1800,"svcId":700,"evtId":22015,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736463750,"availabilityEnd":1767999750,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026nmw\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1736463600,"duration":300,"svcId":700,"evtId":22016,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1736463955,"availabilityEnd":1736550355,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0026nn0\u0026ui_id=4.0.0"}},{"name":"Jack the Ripper: Lucy Worsley...","description":"...Investigates. 1\/4. How did the Jack the Ripper case fuel today\u0027s true crime obsession? [S,AD] [HD]","startTime":1736463900,"duration":3600,"svcId":700,"evtId":22111,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kbb9tt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1735884000,"availabilityEnd":1767420000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0025ntd\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"Gavin \u0026 Stacey: A Fond Farewell","description":"From a little-known show to a sitcom that captured the nation\u0027s heart - James Corden, Ruth Jones, cast and crew share their memories as we say goodbye to Barry and Billericay. [S,AD,SL] [HD]","startTime":1736467500,"duration":3600,"svcId":700,"evtId":22112,"image":"\/ms\/img\/epg\/rb\/ae0c-p0kdscwh.jpg","hasTstv":false,"episodeNo":10},{"name":"Lucan","description":"1\/3. Neil pieces together the evidence on the murder of his mother, Sandra Rivett. Contains some strong language and upsetting scenes. [S,AD,SL] [HD]","startTime":1736471100,"duration":3600,"svcId":700,"evtId":22113,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k1f1xd.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1736474700,"duration":15900,"svcId":700,"evtId":22038,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	//row = table
	//	.append('tr');
	//row
	//	.append('td')
	//	.text("Films:");
	//row
	//	.append('td')
	//	.text('{{COUNT_FILMS}}');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('77');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('12');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'q9AQ5eMQo10', title: "Controversy as Lucas Bergvall bags Spurs winner! | Tottenham 1-0 Liverpool | Carabao Cup Highlights", label: "Controversy as Lucas Bergvall bags Spurs winner! | Tottenham 1-0 Liverpool | Carabao Cup Highlights by Sky Sports Football 897,408 views 19 hours ago 5 minutes, 15 seconds" },
{ id: 'S8nNhY-XVXU', title: "SURPRISING FRIENDS WITH BODY TRANSFORMATION!!", label: "SURPRISING FRIENDS WITH BODY TRANSFORMATION!! by David Dobrik 4,713,945 views 1 day ago 14 minutes, 21 seconds" },
{ id: 'hvGxX2TPTFo', title: "ATHLETIC CLUB 0 vs 2 FC BARCELONA | SPANISH SUPERCUP SEMIFINAL ðŸ”µðŸ”´", label: "ATHLETIC CLUB 0 vs 2 FC BARCELONA | SPANISH SUPERCUP SEMIFINAL ðŸ”µðŸ”´ by FC Barcelona 2,960,368 views 20 hours ago 4 minutes, 10 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+I Saw the TV Glow (2024)">I Saw the TV Glow (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Hayley Wagner, Star (1999)">Hayley Wagner, Star (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Lovely Bones (2009)">The Lovely Bones (2009)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Cabinet of Dr. Caligari (1920)">The Cabinet of Dr. Caligari (1920)</a></li><li><a href="https://www.google.com/search?q=Films+-+Olivia (1951)">Olivia (1951)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mirror (1975)">Mirror (1975)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Duke of Burgundy (2014)">The Duke of Burgundy (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+Girls Will Be Girls (2024)">Girls Will Be Girls (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dolores Claiborne (1995)">Dolores Claiborne (1995)</a></li><li><a href="https://www.google.com/search?q=Films+-+Bring It On (2000)">Bring It On (2000)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Agent A (2019)">Agent A (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Sizeable (2021)">Sizeable (2021)</a></li><li><a href="https://www.google.com/search?q=Games+-+Inbento (2019)">Inbento (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 231.69, tooltip: "Wed, Jan 08, 2025<br/>Â£231.69"},
{ number: 229.23, tooltip: "Tue, Jan 07, 2025<br/>Â£229.23"},
{ number: 230.47, tooltip: "Mon, Jan 06, 2025<br/>Â£230.47"},
{ number: 231.00, tooltip: "Fri, Jan 03, 2025<br/>Â£231.00"},
{ number: 229.62, tooltip: "Thu, Jan 02, 2025<br/>Â£229.62"},
{ number: 227.21, tooltip: "Tue, Dec 31, 2024<br/>Â£227.21"},
{ number: 228.01, tooltip: "Mon, Dec 30, 2024<br/>Â£228.01"},
{ number: 228.76, tooltip: "Fri, Dec 27, 2024<br/>Â£228.76"},
{ number: 230.58, tooltip: "Tue, Dec 24, 2024<br/>Â£230.58"},
{ number: 229.20, tooltip: "Mon, Dec 23, 2024<br/>Â£229.20"},
{ number: 227.51, tooltip: "Fri, Dec 20, 2024<br/>Â£227.51"},
{ number: 226.11, tooltip: "Thu, Dec 19, 2024<br/>Â£226.11"},
{ number: 225.27, tooltip: "Wed, Dec 18, 2024<br/>Â£225.27"},
{ number: 229.87, tooltip: "Tue, Dec 17, 2024<br/>Â£229.87"},
{ number: 231.35, tooltip: "Mon, Dec 16, 2024<br/>Â£231.35"},
{ number: 232.38, tooltip: "Fri, Dec 13, 2024<br/>Â£232.38"},
{ number: 231.64, tooltip: "Thu, Dec 12, 2024<br/>Â£231.64"},
{ number: 231.49, tooltip: "Wed, Dec 11, 2024<br/>Â£231.49"},
{ number: 230.42, tooltip: "Tue, Dec 10, 2024<br/>Â£230.42"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Jan 08, 2025",
		"vs Day":      "Tue, Jan 07, 2025",
		"vs Week":     "Tue, Dec 31, 2024",
		"vs Month":    "Tue, Dec 10, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "Â£231.69/share",
		'vs Day':      "+1.07%",
		'vs Week':     "+1.97%",
		'vs Month':    "+0.55%",
		'vs Year':     "+21.32%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '79.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 9 January and 10 January">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.794&p=0.395&r=0.360',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '08:12',
		Set:      '16:14',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Excursion</em> refers to a trip, and especially to a short one made for pleasure. <em>Excursion</em> is also often used figuratively to refer to a deviation from a direct, definite, or proper course, and often in particular to a <a href="https://www.merriam-webster.com/dictionary/digression">digression</a>. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>