<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:23 6-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Prince Harry surrounded by \'web of unlawful activity\', court hears</b><br/>Prince Harry\'s lawyers claim his privacy was invaded by Mirror Group newspapers throughout his life." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-65808672?at_medium=RSS&amp;at_campaign=KARANGA">Prince Harry surrounded by \'web of unlawful activity\', court hears</a></li><li class="ttt" data-tt="<b>Bob Stewart: Conservative MP charged with racially aggravated abuse</b><br/>Bob Stewart faces two public order charges over an incident in central London last year, police say."><a href="https://www.bbc.co.uk/news/uk-politics-65814126?at_medium=RSS&amp;at_campaign=KARANGA">Bob Stewart: Conservative MP charged with racially aggravated abuse</a></li><li class="ttt" data-tt="<b>Bournemouth beach deaths: Riptide may have led to drownings - inquest</b><br/>Sunnah Khan and Joe Abbess died after being pulled from the sea near Bournemouth Pier on Wednesday."><a href="https://www.bbc.co.uk/news/uk-england-dorset-65807339?at_medium=RSS&amp;at_campaign=KARANGA">Bournemouth beach deaths: Riptide may have led to drownings - inquest</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-65808672?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/E847/production/_129236495_f0fae17e76dfe815bc7e622f46091c18a9b112880_73_3333_18751000x563.jpg" class="ttt" data-tt="Prince Harry arrives at the High Court in London" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Robert Hanssen: Convicted US spy found dead in Colorado prison</b><br/>Robert Hanssen had received more than $1.4m in cash, diamonds and money paid into Russian accounts." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65816862?at_medium=RSS&amp;at_campaign=KARANGA">Robert Hanssen: Convicted US spy found dead in Colorado prison</a></li><li class="ttt" data-tt="<b>Mystery Virginia plane crash debris \'highly fragmented\'</b><br/>Investigators say the &quot;highly fragmented&quot; wreckage is strewn in a mountainous region of Virginia."><a href="https://www.bbc.co.uk/news/world-us-canada-65814758?at_medium=RSS&amp;at_campaign=KARANGA">Mystery Virginia plane crash debris \'highly fragmented\'</a></li><li class="ttt" data-tt="<b>Drugs and visas: Prince Harry\'s US court case explained</b><br/>After the duke admitted using drugs, the US government is being sued to reveal his visa application."><a href="https://www.bbc.co.uk/news/world-us-canada-65781119?at_medium=RSS&amp;at_campaign=KARANGA">Drugs and visas: Prince Harry\'s US court case explained</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65816862?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10D19/production/_129998886_gettyimages-1318076.jpg" class="ttt" data-tt="Robert Hanssen" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Ukraine war: \'Offensive actions\' under way in east, Kyiv says</b><br/>Ukrainian military sources say a series of small-scale operations are under way, including in Bakhmut." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-65813560?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine war: \'Offensive actions\' under way in east, Kyiv says</a></li><li class="ttt" data-tt="<b>Ukraine war: Wagner detains Russian officer over \'drunk\' attack</b><br/>In a video posted online, the officer says he fired on a Wagner vehicle because he dislikes the group."><a href="https://www.bbc.co.uk/news/world-europe-65809844?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine war: Wagner detains Russian officer over \'drunk\' attack</a></li><li class="ttt" data-tt="<b>Ben Roberts-Smith threatened witnesses in defamation trial, judge says</b><br/>Ben Roberts-Smith tried to intimidate witnesses in last week\'s defamation trial, a judge says."><a href="https://www.bbc.co.uk/news/world-australia-65813912?at_medium=RSS&amp;at_campaign=KARANGA">Ben Roberts-Smith threatened witnesses in defamation trial, judge says</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-65813560?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/9C71/production/_129994004_index_ukraine_donetsk_getty.jpg" class="ttt" data-tt="A soldier fires a rocket gun as Ukrainian soldiers in the Donetsk region attend intensive combat training by using both domestic and foreign weapons amid Russia-Ukraine war in Donetsk, Ukraine on 8 May 2023" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Spanish Grand Prix: Max Verstappen romps to lights-to-flag win to extend championship lead</b><br/>Red Bull\'s Max Verstappen cruises to a third consecutive victory, his fifth in seven races, to win the Spanish Grand Prix." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65803542?at_medium=RSS&amp;at_campaign=KARANGA">Spanish Grand Prix: Max Verstappen romps to lights-to-flag win to extend ch...</a></li><li class="ttt" data-tt="<b>Spanish Grand Prix: Lewis Hamilton and Fernando Alonso rue qualifying errors</b><br/>Lewis Hamilton and Fernando Alonso say errors prevented them from joining Red Bull\'s Max Verstappen on the front row for the Spanish Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/65799279?at_medium=RSS&amp;at_campaign=KARANGA">Spanish Grand Prix: Lewis Hamilton and Fernando Alonso rue qualifying errors</a></li><li class="ttt" data-tt="<b>Spanish Grand Prix: Max Verstappen on pole after dramatic qualifying session</b><br/>Red Bull\'s Max Verstappen takes pole position in a Spanish Grand Prix qualifying full of incident, including a collision between the Mercedes drivers."><a href="https://www.bbc.co.uk/sport/formula1/65798973?at_medium=RSS&amp;at_campaign=KARANGA">Spanish Grand Prix: Max Verstappen on pole after dramatic qualifying session</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65803542?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/396A/production/_129989641_gettyimages-1258430145.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Vision Pro: Apple\'s new augmented reality headset unveiled</b><br/>The high price and two-hour battery life raise questions about how popular the new device will be." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65809408?at_medium=RSS&amp;at_campaign=KARANGA">Vision Pro: Apple\'s new augmented reality headset unveiled</a></li><li class="ttt" data-tt="<b>MOVEit hack: BBC, BA and Boots among cyber attack victims</b><br/>Staff at multiple organisations are warned of a payroll data breach after an IT supplier is hacked."><a href="https://www.bbc.co.uk/news/technology-65814104?at_medium=RSS&amp;at_campaign=KARANGA">MOVEit hack: BBC, BA and Boots among cyber attack victims</a></li><li class="ttt" data-tt="<b>Linda Yaccarino replaces Elon Musk as Twitter boss</b><br/>The former head of advertising at NBCUniversal is starting earlier than expected."><a href="https://www.bbc.co.uk/news/business-65806686?at_medium=RSS&amp;at_campaign=KARANGA">Linda Yaccarino replaces Elon Musk as Twitter boss</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65809408?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1569E/production/_130001778_mediaitem130000958.jpg" class="ttt" data-tt="The AR headset dubbed Apple Vision Pro" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"5 Jun – 11 Jun","date":16860096E5,"ts":"Tue, 6","ds":"Tue, 6 Jun","icon":18,"desc":"Sprinkles early. Broken clouds.","temp":17,"templow":8,"cf":16,"wind":11,"wd":50,"hum":64,"pc":21,"rain":0.1 },{"date":1686096E6,"ts":"Wed, 7","ds":"Wed, 7 Jun","icon":1,"desc":"Sunny.","temp":18,"templow":6,"cf":18,"wind":11,"wd":70,"hum":56,"pc":0},{"date":16861824E5,"ts":"Thu, 8","ds":"Thu, 8 Jun","icon":4,"desc":"Afternoon clouds.","temp":18,"templow":6,"cf":18,"wind":13,"wd":70,"hum":54,"pc":0},{"date":16862688E5,"ts":"Fri, 9","ds":"Fri, 9 Jun","icon":7,"desc":"Cloudy.","temp":19,"templow":8,"cf":19,"wind":15,"wd":70,"hum":58,"pc":0},{"date":16863552E5,"ts":"Sat, 10","ds":"Sat, 10 Jun","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":21,"templow":9,"cf":20,"wind":4,"wd":20,"hum":69,"pc":49,"rain":5.7 },{"date":16864416E5,"ts":"Sun, 11","ds":"Sun, 11 Jun","icon":6,"desc":"Broken clouds.","temp":24,"templow":14,"cf":25,"wind":8,"wd":260,"hum":50,"pc":16,"rain":0.2 },{"hl":true,"hls":"12 Jun – 18 Jun","date":1686528E6,"ts":"Mon, 12","ds":"Mon, 12 Jun","icon":33,"desc":"Showers late. Cloudy.","temp":22,"templow":12,"cf":23,"wind":7,"wd":20,"hum":72,"pc":18,"rain":0.6 },{"date":16866144E5,"ts":"Tue, 13","ds":"Tue, 13 Jun","icon":7,"desc":"Overcast.","temp":19,"templow":12,"cf":18,"wind":13,"wd":40,"hum":78,"pc":16,"rain":0.3 },{"date":16867008E5,"ts":"Wed, 14","ds":"Wed, 14 Jun","icon":18,"desc":"Sprinkles early. Overcast.","temp":16,"templow":11,"cf":16,"wind":13,"wd":30,"hum":53,"pc":45,"rain":0.7 },{"date":16867872E5,"ts":"Thu, 15","ds":"Thu, 15 Jun","icon":4,"desc":"Morning clouds.","temp":17,"templow":9,"cf":16,"wind":17,"wd":10,"hum":46,"pc":4},{"date":16868736E5,"ts":"Fri, 16","ds":"Fri, 16 Jun","icon":1,"desc":"Sunny.","temp":17,"templow":9,"cf":17,"wind":11,"wd":40,"hum":49,"pc":5},{"date":168696E7,"ts":"Sat, 17","ds":"Sat, 17 Jun","icon":1,"desc":"Sunny.","temp":19,"templow":10,"cf":19,"wind":11,"wd":20,"hum":41,"pc":4},{"date":16870464E5,"ts":"Sun, 18","ds":"Sun, 18 Jun","icon":4,"desc":"Morning clouds.","temp":19,"templow":11,"cf":19,"wind":4,"wd":30,"hum":39,"pc":6},{"hl":true,"hls":"19 Jun – 25 Jun","date":16871328E5,"ts":"Mon, 19","ds":"Mon, 19 Jun","icon":2,"desc":"Mostly sunny.","temp":20,"templow":11,"cf":19,"wind":5,"wd":80,"hum":45,"pc":6},{"date":16872192E5,"ts":"Tue, 20","ds":"Tue, 20 Jun","icon":1,"desc":"Sunny.","temp":20,"templow":12,"cf":20,"wind":8,"wd":80,"hum":49,"pc":6}],"grid":{"temp":{"low":6,"high":24,"range":18},"prec":{"high":5.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2306/Trifid_Pugh_1080.jpg',
		Title:     'In the Center of the Trifid Nebula',
		LinkImage: 'https://apod.nasa.gov/apod/image/2306/Trifid_Pugh_2346.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230605.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Carl_Blechen_-_The_Interior_of_the_Palm_House_on_the_Pfaueninsel_Near_Potsdam_-_1996.388_-_Art_Institute_of_Chicago.jpg/400px-Carl_Blechen_-_The_Interior_of_the_Palm_House_on_the_Pfaueninsel_Near_Potsdam_-_1996.388_-_Art_Institute_of_Chicago.jpg',
		Title:    'The Interior of the Palm House on the Pfaueninsel Near Potsdam',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/The_Interior_of_the_Palm_House_on_the_Pfaueninsel_Near_Potsdam',
		Description: '    <i><b><a href="/wiki/The_Interior_of_the_Palm_House_on_the_Pfaueninsel_Near_Potsdam" title="The Interior of the Palm House on the Pfaueninsel Near Potsdam">The Interior of the Palm House on the Pfaueninsel Near Potsdam</a></b></i> is the title of two oil-on-canvas paintings by <a href="/wiki/Carl_Blechen" title="Carl Blechen">Carl Blechen</a>, completed between 1832 and 1834. Both depict four <a href="/wiki/Odalisque" title="Odalisque">odalisques</a> as they relax in a palm house (which was destroyed by fire in 1880) at the royal retreat of <a href="/wiki/Pfaueninsel" title="Pfaueninsel">Pfaueninsel</a> near Berlin, but have different angles of view and compositions. The works were commissioned by <a href="/wiki/Frederick_William_III_of_Prussia" title="Frederick William III of Prussia">King Frederick William&#160;III of Prussia</a> and are now in the <a href="/wiki/Hamburger_Kunsthalle" title="Hamburger Kunsthalle">Hamburger Kunsthalle</a> and the <a href="/wiki/Art_Institute_of_Chicago" title="Art Institute of Chicago">Art Institute of Chicago</a>, with an 1832 color study for the work found in the <a href="/wiki/Alte_Nationalgalerie" title="Alte Nationalgalerie">Alte Nationalgalerie</a> in Berlin. This picture shows the Chicago version of the painting, which was gifted by Frederick William to his daughter <a href="/wiki/Alexandra_Feodorovna_(Charlotte_of_Prussia)" title="Alexandra Feodorovna (Charlotte of Prussia)">Alexandra Feodorovna</a>, the wife of <a href="/wiki/Nicholas_I_of_Russia" title="Nicholas I of Russia">Emperor Nicholas&#160;I of Russia</a>. It remained in the Russian imperial collection until around 1917, became part of a Swiss collection around 1920, and was owned by private collectors prior to its purchase by the Art Institute of Chicago in 1996.<small style="display: block; margin-top: 0.8em;">Painting credit: <a href="/wiki/Carl_Blechen" title="Carl Blechen">Carl Blechen</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"The Great British Sewing Bee","description":"2\/10. The sewers face three challenges inspired by travel. They are asked to create a rucksack and a swimsuit, and to transform windbreakers. [S,AD,SL] [HD]","startTime":1686017700,"duration":3600,"svcId":700,"evtId":7466,"image":"\/ms\/img\/epg\/rb\/8df1-p0fqkjq4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685566800,"availabilityEnd":1721941080,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001mgf7\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686021300,"duration":8100,"svcId":700,"evtId":7467,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Garden Rescue","description":"6\/35. Charlie and Chris are in Swindon to transform a troublesome sloping plot into a productive 21st-century cottage garden for Hannah and Marc. [S] [HD]","startTime":1686029400,"duration":2700,"svcId":700,"evtId":7468,"image":"\/ms\/img\/epg\/rb\/8df1-p0frd1sr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685979014,"availabilityEnd":1718465359,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mp5b\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":6},{"name":"Clean It, Fix It","description":"6\/20. The team visit busy mum Monique at her two-bedroom home in south east London to create special bunk bed spaces for her two daughters. [S] [HD]","startTime":1686032100,"duration":2700,"svcId":700,"evtId":7469,"image":"\/ms\/img\/epg\/rb\/8df1-p0frdwby.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685981691,"availabilityEnd":1719159286,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mp5g\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":6},{"name":"Hidden Treasures of the...","description":"...National Trust. 2\/6. A collapsed ceiling means restoring writer Vita Sackville-West\u0027s study from scratch, while Rudyard Kipling\u0027s family history is revealed in a precious possession. [S,AD,SL] [HD]","startTime":1686034800,"duration":3600,"svcId":700,"evtId":7470,"image":"\/ms\/img\/epg\/rb\/8df1-p0fmn18f.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1686038400,"duration":7200,"svcId":700,"evtId":7471,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1686045600,"duration":4500,"svcId":700,"evtId":7472,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics Live","description":"The big political issues of the day. [S] [HD]","startTime":1686050100,"duration":2700,"svcId":700,"evtId":7473,"image":"\/ms\/img\/epg\/rb\/8df1-p09819qp.jpg","hasTstv":false},{"name":"Super League Show 2023","description":"Tanya Arnold presents highlights from Super League\u0027s annual Magic Weekend at St James\u0027 Park in Newcastle. All twelve teams are in the north east for a festival of rugby league. [S] [HD]","startTime":1686052800,"duration":2700,"svcId":700,"evtId":7474,"image":"\/ms\/img\/epg\/rb\/8df1-p0bpycx3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685970000,"availabilityEnd":1688595720,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mpmf\u0026ui_id=4.0.0"},"episodeNo":14},{"name":"Impossible","description":"12\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1686055500,"duration":2700,"svcId":700,"evtId":7475,"image":"\/ms\/img\/epg\/rb\/8df1-p04lwpn2.jpg","hasTstv":false,"seriesNo":6,"episodeNo":12},{"name":"Eggheads","description":"Jeremy Vine hosts the show where every day a new team of challengers take on probably the greatest quiz team in Britain. [S] [HD]","startTime":1686058200,"duration":1800,"svcId":700,"evtId":7476,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":21,"episodeNo":3},{"name":"A Countryside Summer","description":"12\/15. Hugh Dennis takes to the skies over Sutton Bank in North Yorkshire, and we meet an ecological gardener who grows edible flowers. [S,AD] [HD]","startTime":1686060000,"duration":1800,"svcId":700,"evtId":7477,"image":"\/ms\/img\/epg\/rb\/8df1-p0cmlmcv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1661498993,"availabilityEnd":1693555200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0019ncz\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":12},{"name":"Butterflies: A Very British...","description":"...Obsession. 8\/14. Wildlife documentary featuring the fascinating lives of Britain\u0027s butterflies. [S] [HD]","startTime":1686061800,"duration":2700,"svcId":700,"evtId":7478,"image":"\/ms\/img\/epg\/rb\/8df1-p0c8q61z.jpg","hasTstv":false,"seriesNo":31,"episodeNo":8},{"name":"Celebrity Antiques Road Trip","description":"17\/20. Countryfile\u0027s Adam Henson and Steve Brown are on the hunt for antiques in the rolling Cotswold Hills, accompanied by experts Roo Irvine and David Harper. [S] [HD]","startTime":1686064500,"duration":3600,"svcId":700,"evtId":7479,"image":"\/ms\/img\/epg\/rb\/8df1-p081qh0q.jpg","hasTstv":false,"seriesNo":9,"episodeNo":17},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from the RAF Museum at Hendon in London, where he visits an exhibition of First World War flying pioneers. [S] [HD]","startTime":1686068100,"duration":2700,"svcId":700,"evtId":7480,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":14,"episodeNo":18},{"name":"Richard Osman\u0027s House of Games","description":"72\/140. Nina Conti, Nick Helm, Athena Kugblenu and Toby Tarrant test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1686070800,"duration":1800,"svcId":700,"evtId":7481,"image":"\/ms\/img\/epg\/rb\/8df1-p0b3kjgv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1637692200,"availabilityEnd":1669228200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0011x10\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":72},{"name":"Great Coastal Railway Journeys","description":"12\/20. Michael Portillo is in the glens of Antrim, where Ireland\u0027s folklore and magical myths flourish and he is transfixed by tales of fairies and legends of the sea. [S,AD] [HD]","startTime":1686072600,"duration":1800,"svcId":700,"evtId":7482,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwdrj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685941200,"availabilityEnd":1718168400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mqk6\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":12},{"name":"Digging for Britain","description":"1\/4. A secret location in the Cotswolds gives up a very precious and fragile artefact. [S,AD] [HD]","startTime":1686074400,"duration":3600,"svcId":700,"evtId":7483,"image":"\/ms\/img\/epg\/rb\/8df1-p07tn2rc.jpg","hasTstv":false,"seriesNo":8,"episodeNo":1},{"name":"Springwatch","description":"6\/12. Featuring footage of the life cycle of a jellyfish and simple wildlife pleasures in Dorset. [S] [HD]","startTime":1686078000,"duration":3600,"svcId":700,"evtId":7484,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwk3h.jpg","hasTstv":false,"seriesNo":34,"episodeNo":6},{"name":"Forensics: The Real CSI","description":"4\/4. Police investigate the online grooming and rape of a 12-year-old girl. Contains scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1686081600,"duration":3600,"svcId":700,"evtId":7485,"image":"\/ms\/img\/epg\/rb\/8df1-p0frws2t.jpg","hasTstv":false,"seriesNo":3,"episodeNo":4},{"name":"Mock the Week","description":"7\/13. With guests Maisie Adam, Alasdair Beckett-King, Ivo Graham, Rhys James and Ria Lina. Contains some strong language. [S] [HD]","startTime":1686085200,"duration":1800,"svcId":700,"evtId":7486,"image":"\/ms\/img\/epg\/rb\/8df1-p0b28nch.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1636065000,"availabilityEnd":1672266600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001187d\u0026ui_id=4.0.0"},"seriesNo":20,"episodeNo":7},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1686087000,"duration":2400,"svcId":700,"evtId":7487,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1686089400,"duration":300,"svcId":700,"evtId":7488,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Pawn Sacrifice","description":"Bobby Fischer must beat the Russian masters to become the youngest world chess champion. Contains some strong language. [2017] [S] [HD]","startTime":1686089700,"duration":6600,"svcId":700,"evtId":7489,"image":"\/ms\/img\/epg\/rb\/8df1-p08cf26x.jpg","hasTstv":false},{"name":"Simon Reeve\u0027s Return to Cornwall","description":"Simon Reeve is back to visit one of Britain\u0027s favourite counties to discover what life is really like for the locals after the summer crowds have gone. [S,AD,SL] [HD]","startTime":1686096300,"duration":3600,"svcId":700,"evtId":7490,"image":"\/ms\/img\/epg\/rb\/8df1-p0fc8ll2.jpg","hasTstv":false},{"name":"MasterChef","description":"19\/24. The competition reaches fever pitch as the remaining eight hopefuls enter the semi-finals. [S,AD,SL] [HD]","startTime":1686099900,"duration":3600,"svcId":700,"evtId":7491,"image":"\/ms\/img\/epg\/rb\/8df1-p0fnsqfb.jpg","hasTstv":false,"seriesNo":20,"episodeNo":19},{"name":"Frontline Fightback","description":"3\/10. A family are distraught when two of their dogs are stolen from the garden. Now, a unique DNA database has been created to help reunite dogs with their rightful owners. [S,SL] [HD]","startTime":1686103500,"duration":2700,"svcId":700,"evtId":7492,"image":"\/ms\/img\/epg\/rb\/8df1-p0fmxx1p.jpg","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686106200,"duration":9600,"svcId":700,"evtId":7493,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"The Dog House","description":"Jess is looking for unconditional love after a recent break-up. Is Staffordshire bull terrier Gloria just the kind of buddy she needs? Cheeky Jack Russell Rocco seeks a new home. (S2 Ep2)  [AD,S]","startTime":1686019500,"duration":3300,"svcId":1500,"evtId":28045,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Fame in the Family","description":"Celebs host dinner parties with a twist, as guests they\u0027ve never met work out if they\u0027re related to the star host. Which of Craig Revel Horwood\u0027s four diners is in fact his cousin? (Ep1\/15)  [S]","startTime":1686022800,"duration":1800,"svcId":1500,"evtId":28047,"image":"\/ms\/img\/epg\/rb\/5d52-414891758.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"The Yorkshire Dales and The...","description":"...Lakes: Season by Season: A look at life in the Lakes and Dales as autumn brings its technicolour spectacle, from draft ewes to kayaking on the River Swale. (S4 Ep4\/4)  [AD,S]","startTime":1686024600,"duration":3300,"svcId":1500,"evtId":28048,"image":"\/ms\/img\/epg\/rb\/5d52-398643110.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Jon Culshaw joins Susie Dent in Dictionary Corner.  [S]","startTime":1686027900,"duration":2400,"svcId":1500,"evtId":27385,"image":"\/ms\/img\/epg\/rb\/5d52-7682967.l.png","hasTstv":false},{"name":"Cheers","description":"The Cranemakers: Frasier and a pregnant Lilith reject civilisation and move to the wilderness to enjoy a natural way of life. Woody is forced to take his first holiday in ages. (S7 Ep16\/22)  [S]","startTime":1686030300,"duration":1500,"svcId":1500,"evtId":27386,"image":"\/ms\/img\/epg\/rb\/5d52-582456.l.png","hasTstv":false,"seriesNo":7,"episodeNo":16},{"name":"Cheers","description":"Hot Rocks: Sam brings a VIP guest back to the bar, but when Rebecca loses her diamond earrings, she thinks he might have stolen them and promises Sam anything to get them back. (S7 Ep17\/22)  [S]","startTime":1686031800,"duration":1500,"svcId":1500,"evtId":27387,"image":"\/ms\/img\/epg\/rb\/5d52-580420.l.png","hasTstv":false,"seriesNo":7,"episodeNo":17},{"name":"The King of Queens","description":"Two Thirty: When Doug has a toothache and winds up needing root canal work, he finds out that Carrie used to have a crush on his dentist. (S4 Ep24\/25)  [AD,S]","startTime":1686033300,"duration":1500,"svcId":1500,"evtId":27388,"image":"\/ms\/img\/epg\/rb\/5d52-379869030.l.png","hasTstv":false,"seriesNo":4,"episodeNo":24},{"name":"The King of Queens","description":"Shrink Wrap: When Carrie and Arthur\u0027s bickering spirals out of control, Doug and Carrie decide it\u0027s time to send Arthur to a psychotherapist to find the root of his anger. (S4 Ep25\/25)  [AD,S]","startTime":1686034800,"duration":1500,"svcId":1500,"evtId":27389,"image":"\/ms\/img\/epg\/rb\/5d52-293706.l.png","hasTstv":false,"seriesNo":4,"episodeNo":25},{"name":"Frasier","description":"Selling Out: Frasier is in a moral and ethical quandary: should he do a commercial for a Chinese restaurant? Daphne offers her unique advice. (S1 Ep9)  [AD,S]","startTime":1686036300,"duration":1800,"svcId":1500,"evtId":27390,"image":"\/ms\/img\/epg\/rb\/5d52-281571.l.png","hasTstv":false,"seriesNo":1,"episodeNo":9},{"name":"Frasier","description":"Oops: Frasier carelessly passes on a snippet of juicy gossip that leads to his colleague Bulldog losing his job. (S1 Ep10)  [AD,S]","startTime":1686038100,"duration":1800,"svcId":1500,"evtId":27391,"image":"\/ms\/img\/epg\/rb\/5d52-282797.l.png","hasTstv":false,"seriesNo":1,"episodeNo":10},{"name":"Frasier","description":"Death Becomes Him: Frasier is forced to come to terms with his own mortality when a seemingly healthy colleague suddenly dies. (S1 Ep11)  [AD,S]","startTime":1686039900,"duration":1800,"svcId":1500,"evtId":27392,"image":"\/ms\/img\/epg\/rb\/5d52-285041.l.png","hasTstv":false,"seriesNo":1,"episodeNo":11},{"name":"Find It, Fix It, Flog It","description":"In Shropshire, Simon O\u0027Brien turns a redundant telescope into an unusual light, while Henry Cole restores a vintage Italian moped to take for a spin. (S7 Ep8)  [AD,S]","startTime":1686041700,"duration":3600,"svcId":1500,"evtId":27393,"image":"\/ms\/img\/epg\/rb\/5d52-6120866.l.png","hasTstv":false,"seriesNo":7,"episodeNo":8},{"name":"Couples Come Dine with Me","description":"In Cambridgeshire, Fiona and Anthony host a \u0027carnival\u0027, Karen is squeamish about her husband Paul\u0027s p\u00e2t\u00e9, and Ari and Amanda get the wrong end of the stick and turn up in Christmas jumpers.  [S]","startTime":1686045300,"duration":3600,"svcId":1500,"evtId":27394,"image":"\/ms\/img\/epg\/rb\/5d52-4286768.l.png","hasTstv":false,"seriesNo":4,"episodeNo":20},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1686048900,"duration":300,"svcId":1500,"evtId":27395,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Live: Steph\u0027s Packed Lunch","description":"Steph McGovern presents her live lunchtime show featuring celebrity guests, fantastic food and the best entertainment, lifestyle and consumer stories making the headlines.  [S]","startTime":1686049200,"duration":7800,"svcId":1500,"evtId":27396,"image":"\/ms\/img\/epg\/rb\/5d52-7707423.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Jon Culshaw joins Susie Dent in Dictionary Corner.  [S]","startTime":1686057000,"duration":3000,"svcId":1500,"evtId":27397,"image":"\/ms\/img\/epg\/rb\/5d52-7707431.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Suzi and Andrew would love a rural property with three bedrooms within walking distance of amenities in Charente, western France. Sara Damergi shows them what their \u00a3100k can buy.  [S]","startTime":1686060000,"duration":3600,"svcId":1500,"evtId":27398,"image":"\/ms\/img\/epg\/rb\/5d52-394736755.l.png","hasTstv":false},{"name":"The Great House Giveaway","description":"Strangers Gemma and Paul pair up to renovate a four-bed family home in Newcastle. It all seems to be going swimmingly... until things take a sudden and unexpected turn. (S3 Ep2)  [S]","startTime":1686063600,"duration":3600,"svcId":1500,"evtId":27399,"image":"\/ms\/img\/epg\/rb\/5d52-5883280.l.png","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"Sarah Beeny\u0027s New Country Lives","description":"Jon and Kay plan the next phase of refurbishing an old country pub, while Dannie and Grace decide to build a chicken coop for their rapidly increasing flock. (Ep7)  [AD,S]","startTime":1686067200,"duration":3600,"svcId":1500,"evtId":27400,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"The Simpsons","description":"Stop or My Dog Will Shoot: After rescuing Homer from a corn maze, Santa\u0027s Little Helper is recruited as a police dog and is teamed up with grizzled veteran cop Lou. (S18 Ep20\/22)  [AD,S]","startTime":1686070800,"duration":1800,"svcId":1500,"evtId":27401,"image":"\/ms\/img\/epg\/rb\/5d52-7507968.l.png","hasTstv":false,"seriesNo":18,"episodeNo":20},{"name":"Hollyoaks","description":"A revelation makes a special night for Juliet even more memorable. Norma may have trouble on her hands when an old friend is released from prison. And has Sam finally seen sense?  [AD,S]","startTime":1686072600,"duration":1800,"svcId":1500,"evtId":27402,"image":"\/ms\/img\/epg\/rb\/5d52-7707455.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1686074400,"duration":3600,"svcId":1500,"evtId":27403,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: The Greatest Auction","description":"Superfans and collectors bid for Oasis lyrics hand-written by Noel, a prized work by sculptor Anish Kapoor, and some vintage Louis Vuitton luggage with an extraordinary history. (Ep5)  [AD,S]","startTime":1686078000,"duration":3600,"svcId":1500,"evtId":27404,"image":"\/ms\/img\/epg\/rb\/5d52-7707462.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"New: Grand Designs: The Streets","description":"At Graven Hill, Tom and Lori hope to hit the ground running with their self-build adventure of a lifetime. But it quickly turns into a nightmare they could never have imagined... (S3 Ep4)  [AD,S]","startTime":1686081600,"duration":3600,"svcId":1500,"evtId":27405,"image":"\/ms\/img\/epg\/rb\/5d52-7707469.l.png","hasTstv":false,"seriesNo":3,"episodeNo":4},{"name":"Gogglebox","description":"On the box this time, Britain\u0027s Got Talent, The Thief, His Wife and the Canoe, Romeo and Duet, Freeze the Fear with Wim Hof, Roar, and Stacey Dooley Sleeps Over. (S19 Ep10)  [AD,S]","startTime":1686085200,"duration":3900,"svcId":1500,"evtId":28149,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":19,"episodeNo":10},{"name":"Gogglebox","description":"The Goggleboxers have been watching: Sitting on a Fortune, Casualty, Britain\u0027s Got Talent, MerPeople, James May: Oh Cook!, The Greatest Auction and Top of the Pops 1994. (S21 Ep15)  [AD,S,SL]","startTime":1686089100,"duration":3600,"svcId":1500,"evtId":28150,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":21,"episodeNo":15},{"name":"Taskmaster","description":"It\u0027s the grand final, and the competitors\u0027 mettle is tested in the most dramatic gladiatorial arena of all as they all contemplate using a hose. Things just got serious. (S15 Ep10\/10)  [AD,S,SL]","startTime":1686092700,"duration":3600,"svcId":1500,"evtId":27408,"image":"\/ms\/img\/epg\/rb\/5d52-7682917.l.png","hasTstv":false,"seriesNo":15,"episodeNo":10},{"name":"The Lateish Show with Mo Gilligan","description":"Mo\u0027s joined by fellow Mo - Sir Mo Farah - plus Guz Khan, Gbemisola Ikumelo, Ronan Keating and DJ Pied Piper for another one-of-a-kind night of late-ish entertainment. (S4 Ep5)  [S]","startTime":1686096300,"duration":3300,"svcId":1500,"evtId":27532,"image":"\/ms\/img\/epg\/rb\/5d52-7682988.l.png","hasTstv":false,"seriesNo":4,"episodeNo":5},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon visits the struggling Monticello Hotel in Longview in Washington. Can he keep the doors to this 90-year-old establishment open and save 50 staff jobs - or is it too late? (S2 Ep2\/8)  [AD,S,SL]","startTime":1686099600,"duration":3000,"svcId":1500,"evtId":27410,"image":"\/ms\/img\/epg\/rb\/5d52-1949712.l.png","hasTstv":false,"seriesNo":2,"episodeNo":2},{"name":"Grand Designs","description":"Paul and Penny knock down their million-pound home in south London to build a contemporary mansion. But the challenges presented by this complex build soon start to bite.  [AD,S,SL]","startTime":1686102600,"duration":3300,"svcId":1500,"evtId":28187,"image":"\/ms\/img\/epg\/rb\/5d52-2276553.l.png","hasTstv":false},{"name":"George Clarke\u0027s Amazing Spaces","description":"George meets a mum who\u0027s turning a shed into a family haven and a couple creating a luxury houseboat home. He visits a stunning temple in Chile and continues his observatory build. (S9 Ep2)  [AD,S,SL]","startTime":1686105900,"duration":3300,"svcId":1500,"evtId":27928,"image":"\/ms\/img\/epg\/rb\/5d52-408432984.l.png","hasTstv":false,"seriesNo":9,"episodeNo":2},{"name":"Fame in the Family","description":"Happy Mondays star Shaun Ryder hosts a dinner party for guests he\u0027s never met before. Shaun\u0027s melon is well and truly twisted and there\u0027s a shock when the DNA results are revealed! (Ep2\/15)  [S]","startTime":1686109200,"duration":1500,"svcId":1500,"evtId":27929,"image":"\/ms\/img\/epg\/rb\/5d52-414891795.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

console.log('Error in backlog module: Retrieving the COM class factory for component with CLSID {0006F03A-0000-0000-C000-000000000046} failed due to the following error: 80080005 Server execution failed (0x80080005 (CO_E_SERVER_EXEC_FAILURE)).');

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'YfwH2t1ybfM', title: "A message to you, from Holly | This Morning", label: "A message to you, from Holly | This Morning by This Morning 13 hours ago 1 minute, 36 seconds 185,147 views" },
{ id: '7d3Cg8DMDuM', title: "Viggo Venn serenades Simon Cowell in EPIC performance! | The Final | BGT 2023", label: "Viggo Venn serenades Simon Cowell in EPIC performance! | The Final | BGT 2023 by Britain's Got Talent 1 day ago 6 minutes, 33 seconds 1,481,326 views" },
{ id: '0jdybEqKGVA', title: "Trojan Horse", label: "Trojan Horse by Santan Dave 1 day ago 4 minutes, 9 seconds 178,540 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Canada.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Canadian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>18 June</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "02 June 2023 -  08 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/51376/harry-styles/'>harry styles</a>", Title: "<a href='https://www.officialcharts.com/search/singles/as-it-was/'>AS IT WAS</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/411key4w0jL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/64099/switch-disco-and-ella-henderson/'>switch disco &amp; ella henderson</a>", Title: "<a href='https://www.officialcharts.com/search/singles/react/'>REACT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/414-%2BSyvqzL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>£174.12"},
{ number: 175.07, tooltip: "Tue, May 23, 2023<br/>£175.07"},
{ number: 176.72, tooltip: "Mon, May 22, 2023<br/>£176.72"},
{ number: 176.08, tooltip: "Fri, May 19, 2023<br/>£176.08"},
{ number: 176.41, tooltip: "Thu, May 18, 2023<br/>£176.41"},
{ number: 174.51, tooltip: "Wed, May 17, 2023<br/>£174.51"},
{ number: 173.09, tooltip: "Tue, May 16, 2023<br/>£173.09"},
{ number: 173.84, tooltip: "Mon, May 15, 2023<br/>£173.84"},
{ number: 173.64, tooltip: "Fri, May 12, 2023<br/>£173.64"},
{ number: 173.28, tooltip: "Thu, May 11, 2023<br/>£173.28"},
{ number: 172.48, tooltip: "Wed, May 10, 2023<br/>£172.48"},
{ number: 172.15, tooltip: "Tue, May 09, 2023<br/>£172.15"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jun 02, 2023",
		"vs Day":      "Thu, Jun 01, 2023",
		"vs Week":     "Thu, May 25, 2023",
		"vs Month":    "Tue, May 09, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£177.44/share",
		'vs Day':      "+1.96%",
		'vs Week':     "+1.55%",
		'vs Month':    "+3.07%",
		'vs Year':     "+3.88%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '95.3',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 5 June and 6 June">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.953&p=3.626&r=0.295',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:47',
		Set:      '21:22',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Yips</em> is a plural noun that refers to a state of nervousness that affects an athlete (such as a golfer) when they\'re about to make an important move or play. It is almost always used in the phrase "the yips."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23LoveIsland">#LoveIsland</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Catherine">Catherine</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Molly">Molly</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Apple">Apple</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Tyrique">Tyrique</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Apple">Apple</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23WWDC23">#WWDC23</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Cornel+West%22">Cornel West</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=iPhone">iPhone</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23LoveIsland">#LoveIsland</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>