<!DOCTYPE html>
<html lang="en">
	<head>
		<title>15:27 14-Nov - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Reeves to announce biggest pension shake-up in decades</b><br/>The chancellor wants to merge the UK\'s pension funds but critics worry about the impact on savers." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c4gve4d8jljo">Reeves to announce biggest pension shake-up in decades</a></li><li class="ttt" data-tt="<b>Prison officers deal drugs and ask inmates for sex, BBC told</b><br/>Staff and former inmates say corruption is rife because guards know &quot;how to fiddle the system&quot;."><a href="https://www.bbc.com/news/articles/czd5r3m6rz6o">Prison officers deal drugs and ask inmates for sex, BBC told</a></li><li class="ttt" data-tt="<b>King champions food poverty project on working birthday</b><br/>The King is spending his 76th birthday opening new hubs to redistribute food which would otherwise be thrown away."><a href="https://www.bbc.com/news/articles/ce8yqqpl8e0o">King champions food poverty project on working birthday</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c4gve4d8jljo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/f511/live/c086b300-a1f4-11ef-87b5-dba728a0baa3.jpg" class="ttt" data-tt="Chancellor Rachel Reeves sitting in front of a window" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Trump picking Gaetz to head justice sends shockwaves - and a strong message</b><br/>Picking the outspoken congressman for attorney general is Trump laying down a challenge, writes Anthony Zurcher." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c2k0472q8v0o">Trump picking Gaetz to head justice sends shockwaves - and a strong message</a></li><li class="ttt" data-tt="<b>The Onion buys Alex Jones\'s Infowars at auction</b><br/>Conspiracy theorist Jones filed for bankruptcy after victims of the Sandy Hook Elementary School shooting won a defamation case against him."><a href="https://www.bbc.com/news/articles/c30p1p0j0ddo">The Onion buys Alex Jones\'s Infowars at auction</a></li><li class="ttt" data-tt="<b>Amazon launches Temu and Shein rival with \'crazy low\' prices</b><br/>The price of products on Haul, which is being trialled in the US, will be capped at $20."><a href="https://www.bbc.com/news/articles/clyv0yp130go">Amazon launches Temu and Shein rival with \'crazy low\' prices</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c2k0472q8v0o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2f4b/live/91a84860-a26b-11ef-a4fe-a3e9a6c5d640.jpg" class="ttt" data-tt="Matt Gaetz at a Trump rally" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>France mounts security operation for Israel match after Amsterdam violence</b><br/>Thousands of police are deployed in Paris to ensure security at a France-Israel football international." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c98d9nrg1rgo">France mounts security operation for Israel match after Amsterdam violence</a></li><li class="ttt" data-tt="<b>I blame the Church for my brother’s death, says Zimbabwean sister of UK child abuse victim</b><br/>John Smyth, a known child abuser in the UK, went to Zimbabwe and set up Christian holiday camps."><a href="https://www.bbc.com/news/articles/c62lr331lkzo">I blame the Church for my brother’s death, says Zimbabwean sister of UK chi...</a></li><li class="ttt" data-tt="<b>\'Major supplier\' of people-smuggling boats arrested</b><br/>The arrest in Amsterdam is a &quot;significant piece of the jigsaw&quot; in tackling Channel crossings, says Keir Starmer."><a href="https://www.bbc.com/news/articles/c74lw8j38k5o">\'Major supplier\' of people-smuggling boats arrested</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c98d9nrg1rgo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/6630/live/2979a270-a252-11ef-8ab9-9192db313061.jpg" class="ttt" data-tt="Four French police officers stand outside the Stade de France stadium wearing jackets with CRS on them before training sessions of the teams of France and Israel" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Monaco agrees extension to host F1 until 2031</b><br/>Monaco will continue to host Formula 1 races until at least 2031 after a new six-year deal is agreed." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c2e71dmn20ko">Monaco agrees extension to host F1 until 2031</a></li><li class="ttt" data-tt="<b>Head of F1 owner to leave role at key time for sport</b><br/>President and chief executive officer of Formula 1 owner Liberty Media, Greg Maffei, is to step down from his role at the end of the year."><a href="https://www.bbc.com/sport/formula1/articles/c9wr7n8rp5go">Head of F1 owner to leave role at key time for sport</a></li><li class="ttt" data-tt="<b>New F1 rules to cool drivers in extreme heat</b><br/>Formula 1 is to introduce a device to cool drivers when conditions become too extreme in hot weather, in response to scenes at last year’s Qatar Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cy87jg80zyjo">New F1 rules to cool drivers in extreme heat</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c2e71dmn20ko"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/dc39/live/49b724a0-a274-11ef-8f42-3b1b720c6f90.jpg" class="ttt" data-tt="Charles Leclerc at Monaco Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Meta fined €798m over \'unfair\' Facebook Marketplace</b><br/>The European Union says the tech giant crowded out rivals, breaching competition law." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cx2ypyr4742o">Meta fined €798m over \'unfair\' Facebook Marketplace</a></li><li class="ttt" data-tt="<b>Amazon launches Temu and Shein rival with \'crazy low\' prices</b><br/>The price of products on Haul, which is being trialled in the US, will be capped at $20."><a href="https://www.bbc.com/news/articles/clyv0yp130go">Amazon launches Temu and Shein rival with \'crazy low\' prices</a></li><li class="ttt" data-tt="<b>Apple accused of trapping and ripping off 40m iCloud customers</b><br/>Which? is seeking a £3bn payout for UK users as a result of the legal action it is launching."><a href="https://www.bbc.com/news/articles/c20g50ny53eo">Apple accused of trapping and ripping off 40m iCloud customers</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cx2ypyr4742o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/8469/live/181efc60-a297-11ef-b8c0-b996e628df5a.jpg" class="ttt" data-tt="Person holds phone with Facebook Marketplace open, showing a car." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"11 Nov – 17 Nov","date":17315424E5,"ts":"Thu, 14","ds":"Thu, 14 Nov","icon":18,"desc":"Sprinkles early. Morning clouds.","temp":12,"templow":2,"cf":10,"wind":6,"wd":20,"hum":77,"pc":23,"rain":0.4 },{"date":17316288E5,"ts":"Fri, 15","ds":"Fri, 15 Nov","icon":7,"desc":"Overcast.","temp":9,"templow":3,"cf":7,"wind":6,"wd":240,"hum":79,"pc":1},{"date":17317152E5,"ts":"Sat, 16","ds":"Sat, 16 Nov","icon":7,"desc":"Overcast.","temp":10,"templow":4,"cf":8,"wind":8,"wd":240,"hum":84,"pc":5},{"date":17318016E5,"ts":"Sun, 17","ds":"Sun, 17 Nov","icon":18,"desc":"Sprinkles. Cloudy.","temp":8,"templow":3,"cf":3,"wind":14,"wd":300,"hum":79,"pc":55,"rain":3.2 },{"hl":true,"hls":"18 Nov – 24 Nov","date":1731888E6,"ts":"Mon, 18","ds":"Mon, 18 Nov","icon":4,"desc":"Afternoon clouds.","temp":6,"templow":1,"cf":1,"wind":12,"wd":300,"hum":68,"pc":41,"snow":2},{"date":17319744E5,"ts":"Tue, 19","ds":"Tue, 19 Nov","icon":19,"desc":"Rain. Cloudy.","temp":4,"templow":0,"cf":-2,"wind":12,"wd":310,"hum":88,"pc":66,"rain":10.3 ,"snow":5.7 },{"date":17320608E5,"ts":"Wed, 20","ds":"Wed, 20 Nov","icon":6,"desc":"Mostly cloudy.","temp":4,"templow":-1,"cf":-1,"wind":12,"wd":290,"hum":72,"pc":0},{"date":17321472E5,"ts":"Thu, 21","ds":"Thu, 21 Nov","icon":29,"desc":"Light snow late. Cloudy.","temp":2,"templow":-2,"cf":-4,"wind":9,"wd":20,"hum":97,"pc":16,"snow":10.1 },{"date":17322336E5,"ts":"Fri, 22","ds":"Fri, 22 Nov","icon":2,"desc":"Scattered clouds.","temp":3,"templow":0,"cf":0,"wind":8,"wd":290,"hum":82,"pc":6},{"date":173232E7,"ts":"Sat, 23","ds":"Sat, 23 Nov","icon":4,"desc":"Morning clouds.","temp":4,"templow":0,"cf":2,"wind":3,"wd":240,"hum":66,"pc":3},{"date":17324064E5,"ts":"Sun, 24","ds":"Sun, 24 Nov","icon":29,"desc":"Light snow late. Cloudy.","temp":4,"templow":0,"cf":2,"wind":4,"wd":100,"hum":66,"pc":50,"snow":3},{"hl":true,"hls":"25 Nov – 1 Dec","date":17324928E5,"ts":"Mon, 25","ds":"Mon, 25 Nov","icon":28,"desc":"Snow changing to rain. Overcast.","temp":5,"templow":1,"cf":0,"wind":17,"wd":200,"hum":100,"pc":82,"rain":7.8 ,"snow":146.1 },{"date":17325792E5,"ts":"Tue, 26","ds":"Tue, 26 Nov","icon":19,"desc":"Rain. Overcast.","temp":9,"templow":3,"cf":4,"wind":14,"wd":90,"hum":93,"pc":76,"rain":11.4 },{"date":17326656E5,"ts":"Wed, 27","ds":"Wed, 27 Nov","icon":18,"desc":"Sprinkles late. Overcast.","temp":9,"templow":4,"cf":5,"wind":15,"wd":180,"hum":82,"pc":47,"rain":0.5 },{"date":1732752E6,"ts":"Thu, 28","ds":"Thu, 28 Nov","icon":6,"desc":"Broken clouds.","temp":11,"templow":8,"cf":6,"wind":13,"wd":210,"hum":87,"pc":6}],"grid":{"temp":{"low":-2,"high":12,"range":14},"prec":{"high":153.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2411/IC348_B3_1024.jpg',
		Title:     'IC 348 and Barnard 3',
		LinkImage: 'https://apod.nasa.gov/apod/image/2411/IC348_B3_2048.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap241114.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Percy_Grainger_by_Bain_News_Service.jpg/320px-Percy_Grainger_by_Bain_News_Service.jpg',
		Title:    'Percy Grainger',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Percy_Grainger',
		Description: '    <b><a href="https://en.wikipedia.org/wiki/Percy_Grainger" title="Percy Grainger">Percy Grainger</a></b> (1882–1961) was an Australian-born composer, arranger and pianist who played a prominent role in the revival of interest in British folk music in the early 20th century. Grainger left Australia in 1895 to study at the <a href="https://en.wikipedia.org/wiki/Hoch_Conservatory" title="Hoch Conservatory">Hoch Conservatory</a> in <a href="https://en.wikipedia.org/wiki/Frankfurt" title="Frankfurt">Frankfurt</a>. Between 1901 and 1914 he was based in London, where he established himself first as a society pianist and later as a concert performer, composer and collector of original folk melodies. He met many of the significant figures in European music, forming friendships with <a href="https://en.wikipedia.org/wiki/Frederick_Delius" title="Frederick Delius">Frederick Delius</a> and <a href="https://en.wikipedia.org/wiki/Edvard_Grieg" title="Edvard Grieg">Edvard Grieg</a>, and became a champion of <a href="https://en.wikipedia.org/wiki/Nordic_countries" title="Nordic countries">Nordic</a> music and culture. In 1914, Grainger moved to the United States, where he took citizenship in 1918. He experimented with music machines that he hoped would supersede human interpretation. Although much of his work was experimental and unusual, the piece with which he is most generally associated is his piano arrangement of the folk-dance tune "<a href="https://en.wikipedia.org/wiki/Country_Gardens" title="Country Gardens">Country Gardens</a>". This <a href="https://en.wikipedia.org/wiki/Photographic_plate" title="Photographic plate">glass negative</a> of Grainger was taken at some point around 1915–1920.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/George_Grantham_Bain" title="George Grantham Bain">Bain News Service</a>; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a> and <a href="https://en.wikipedia.org/wiki/User:MyCatIsAChonk" title="User:MyCatIsAChonk">MyCatIsAChonk</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1731564000,"duration":12600,"svcId":560,"evtId":29155,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731576540,"availabilityEnd":1731662940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024y0j\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Michelle Ackerley and Sara Cox talk to detective Marc Cananur about delivery driver scams. [S] [HD]","startTime":1731576600,"duration":4500,"svcId":560,"evtId":29156,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jybqmg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731581069,"availabilityEnd":1763117069,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024y0l\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":109},{"name":"Rip Off Britain","description":"19\/45. Gloria Hunniford and Julia Somerville get to grips with the lightweight construction material RAAC. Installed decades ago, it\u0027s ended up decimating housing estates across Scotland. [S] [HD]","startTime":1731581100,"duration":2700,"svcId":560,"evtId":29233,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2d3zb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731583771,"availabilityEnd":1763810970,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024z7h\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":19},{"name":"Homes Under the Hammer","description":"44\/80. The elephant in the room is the kitchen in an Essex flat Jacqui takes a look at. And Tommy\u0027s East Sussex ex-local authority house is destined to become a holiday home. [S,AD] [HD]","startTime":1731583800,"duration":2700,"svcId":560,"evtId":29194,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch5k.jpg","hasTstv":false,"seriesNo":39,"episodeNo":44},{"name":"Bargain Hunt: Doctors Special","description":"This special show is just what the doctor ordered! Experts Gary Pe and Steph Connell help actors Dex Lee, Kia Pegg, Sarah Moyle and Dido Miles in their hunt for healthy profits. [S,AD] [HD]","startTime":1731586500,"duration":2700,"svcId":560,"evtId":29251,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2dh4j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731589197,"availabilityEnd":1763125197,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024zz1\u0026ui_id=4.0.0"},"seriesNo":71},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1731589200,"duration":3600,"svcId":560,"evtId":29157,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":164},{"name":"Doctors","description":"Rob gets worried when Ruhma lands herself in hot water, Graham has become a partner and all is lost, while Scarlett\u0027s in no mood to celebrate her birthday. [S,AD] [HD]","startTime":1731592800,"duration":2100,"svcId":560,"evtId":29195,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2djnr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731594863,"availabilityEnd":1763130863,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024yr9\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":276},{"name":"Doctors: A Celebration","description":"A factual documentary celebrating 24 years of the popular daytime soap opera, including interviews with the cast and crew that have made it possible. [S,AD] [HD]","startTime":1731594900,"duration":1500,"svcId":560,"evtId":29234,"image":"\/ms\/img\/epg\/rb\/fec6-p0k36q04.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731596462,"availabilityEnd":1763132462,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024z7k\u0026ui_id=4.0.0"},"episodeNo":25},{"name":"Escape to the Country","description":"21\/55. Denise Nurse visits the coastal county of Cornwall, helping a couple to turn their favourite holiday destination into their permanent home. [S,AD] [HD]","startTime":1731596400,"duration":2700,"svcId":560,"evtId":29160,"image":"\/ms\/img\/epg\/rb\/fec6-p0dgrm9r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731599141,"availabilityEnd":1734191141,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fj92\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":21},{"name":"The Bidding Room","description":"9\/30. Nigel Havers presides as five sellers aim for the best price for their items, including an astrolabe, photo enlarger, Murano glass, a ruler collection and Beatles memorabilia. [S] [HD]","startTime":1731599100,"duration":2700,"svcId":560,"evtId":29161,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hm8781.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1712158243,"availabilityEnd":1777044600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001xy1q\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":9},{"name":"Antiques Road Trip","description":"9\/20. For the fourth leg, Raj and Hettie cruise their Cadillac through the county of Hertfordshire. From birthday celebrations to a trip to Mars, it\u0027s positively intergalactic. [S] [HD]","startTime":1731601800,"duration":2700,"svcId":560,"evtId":29196,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2dcmy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731304800,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024yrc\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":9},{"name":"Pointless","description":"37\/55. Alexander Armstrong is joined by co-host Sally Phillips for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1731604500,"duration":2700,"svcId":560,"evtId":29162,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h22w6x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1705341600,"availabilityEnd":1736877600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001vfpm\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":37},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1731607200,"duration":1800,"svcId":560,"evtId":29163,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731609090,"availabilityEnd":1731695490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024y0t\u0026ui_id=4.0.0"},"episodeNo":164},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1731609000,"duration":1800,"svcId":560,"evtId":29164,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731610695,"availabilityEnd":1731697095,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024y0w\u0026ui_id=4.0.0"}},{"name":"The One Show","description":"Sue Perkins joins Roman Kemp in the studio, and Alex Jones is in Salford as two of our Challenge Squad prepare to perform on the Children in Need annual appeal show. [S] [HD]","startTime":1731610800,"duration":1800,"svcId":560,"evtId":29197,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731612650,"availabilityEnd":1734204650,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024yrf\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Billy and Honey have an interesting encounter, George has an important question for Junior, and Bernie makes some demands. [S,AD] [HD]","startTime":1731612600,"duration":1800,"svcId":560,"evtId":29235,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2pjfh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731564000,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024z7m\u0026ui_id=4.0.0"},"episodeNo":7014},{"name":"MasterChef: The Professionals","description":"9\/21. It\u0027s quarter-final time, and that can only mean more pressure for this week\u0027s most talented professionals as they return to the kitchen ready to battle for a place in knockout week. [S,AD] [HD]","startTime":1731614400,"duration":3600,"svcId":560,"evtId":29236,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k31dd1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731304800,"availabilityEnd":1893391200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024z7p\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":9},{"name":"Ambulance","description":"5\/6. Paramedics race to save the foot of a patient who has fallen from a climbing wall. Contains some scenes which some viewers may find upsetting. [S] [HD]","startTime":1731618000,"duration":3600,"svcId":560,"evtId":29237,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2dm8q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731621604,"availabilityEnd":1763762408,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024z7r\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":5},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1731621600,"duration":1800,"svcId":560,"evtId":29165,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731623490,"availabilityEnd":1731709890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024y0y\u0026ui_id=4.0.0"},"episodeNo":164},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1731623400,"duration":600,"svcId":560,"evtId":29166,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731623850,"availabilityEnd":1731710250,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024y10\u0026ui_id=4.0.0"}},{"name":"Question Time","description":"Fiona Bruce presents an hour of live debate from Basingstoke. On the panel: Jonathan Reynolds MP, Damian Hinds MP, Ellie Chowns MP, Greg Jackson and Tim Stanley. [S] [HD]","startTime":1731624000,"duration":3600,"svcId":560,"evtId":29238,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731627630,"availabilityEnd":1763163630,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024z7t\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Newscast","description":"Lighthearted discussion of the week\u0027s political events. [S] [HD]","startTime":1731627600,"duration":1800,"svcId":560,"evtId":29239,"image":"\/ms\/img\/epg\/rb\/fec6-p0gyf0ss.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731629445,"availabilityEnd":1734221445,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024z7w\u0026ui_id=4.0.0"},"episodeNo":19},{"name":"The Boy Who Can Fly","description":"The uplifting story of a young Scotsman defying conventional expectations and gravity. Since he was young, growing up in Stonehaven, Liam Byrne has dreamt of flying like a bird. [S,AD] [HD]","startTime":1731629400,"duration":1800,"svcId":560,"evtId":29240,"image":"\/ms\/img\/epg\/rb\/fec6-p0k0m01t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731096081,"availabilityEnd":1762632081,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00225hb\u0026ui_id=4.0.0"},"seriesNo":8},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1731631200,"duration":300,"svcId":560,"evtId":29167,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731631612,"availabilityEnd":1732236412,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024y12\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1731631500,"duration":18900,"svcId":560,"evtId":29168,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":228}]},{"channelid":700,"offset":0,"event":[{"name":"Escape to the Country","description":"16\/55. Wanting to escape south London, a mother and son meet up with Sonali Shah in the Lothians, where they want to find their ideal rural retreat, complete with an art studio. [S] [HD]","startTime":1731565800,"duration":2700,"svcId":700,"evtId":20741,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2yw92.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731426297,"availabilityEnd":1762962297,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024z2z\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":16},{"name":"Antiques Road Trip","description":"8\/20. Auctioneers with allure, Raj Bisram and Hettie Jago, hit Suffolk for the third leg. From stilt walking to witchcraft, it\u0027s a jam-packed jamboree. [S] [HD]","startTime":1731568500,"duration":2700,"svcId":700,"evtId":20742,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2dcdn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731304800,"availabilityEnd":1764050400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0024yqd\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":8},{"name":"Gardeners\u0027 World","description":"32\/32. Monty creates a hawthorn hedge in the orchard and starts to plant tulips for next spring. [S,AD,SL] [HD]","startTime":1731571200,"duration":3600,"svcId":700,"evtId":20743,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k1qhcx.jpg","hasTstv":false,"seriesNo":22,"episodeNo":32},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1731574800,"duration":11700,"svcId":700,"evtId":20744,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Jo Coburn and guests discuss the chancellor\u0027s plans for economic growth, and the upcoming parliamentary vote on assisted dying. [S] [HD]","startTime":1731586500,"duration":2700,"svcId":700,"evtId":20745,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731589235,"availabilityEnd":1734181235,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002504c\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"34\/50. The quiz show where players must avoid Impossible answers to stay in the competition. 18 people start today\u0027s show but how many of them will survive to face the \u00a310,000 Question? [S] [HD]","startTime":1731589200,"duration":2700,"svcId":700,"evtId":20746,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731591943,"availabilityEnd":1734183943,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0008cv8\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":34},{"name":"The Tournament","description":"13\/30. Eight players do battle in the ultimate knockout quiz. Only one will be left standing at the end, but will they reach the Golden Run and double their money? Hosted by Alex Scott. [S] [HD]","startTime":1731591900,"duration":2700,"svcId":700,"evtId":20747,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d2qndg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731594637,"availabilityEnd":1734186637,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001cs5d\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":13},{"name":"Beat the Pack","description":"4\/20. Jake Humphrey hosts the general knowledge quiz where contestants can win money if they can give a correct answer to a question before all their opponents in The Pack do. [S] [HD]","startTime":1731594600,"duration":2700,"svcId":700,"evtId":20748,"image":"\/ms\/img\/epg\/rb\/ae0c-p01l9d8p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731597340,"availabilityEnd":1734189340,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b01r728n\u0026ui_id=4.0.0"},"episodeNo":4},{"name":"Dynasties II","description":"4\/4. A spotted hyena queen, raising her family on the unforgiving grasslands of Zambia\u0027s Liuwa Plain, struggles to keep her grip on power as a young rival emerges. [S,AD] [HD]","startTime":1731597300,"duration":3600,"svcId":700,"evtId":20749,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bzhj2y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681155000,"availabilityEnd":1824699540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0016ckz\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":4},{"name":"Wonders of Life","description":"4\/5. Brian travels across Australia to explore the physics of the size of life. He discovers that size has a profound effect on how you move, how you feed, even how long you live. [S,AD] [HD]","startTime":1731600900,"duration":3600,"svcId":700,"evtId":20750,"image":"\/ms\/img\/epg\/rb\/fec6-p01j2rl4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1633323600,"availabilityEnd":1737849540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b01qygxz\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Flog It!","description":"Paul Martin presents from Muncaster Castle in Cumbria. Experts Caroline Hawley and James Lewis choose items to take to auction. [S] [HD]","startTime":1731604500,"duration":2700,"svcId":700,"evtId":20751,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731607188,"availabilityEnd":1734199188,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0764sqw\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":36},{"name":"Richard Osman\u0027s House of Games","description":"39\/100. Josh Jones, Molly Rainford, Mark Rhodes and Sonia test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1731607200,"duration":1800,"svcId":700,"evtId":20752,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k2dfng.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731608997,"availabilityEnd":1764440993,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002504f\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":39},{"name":"Strictly - It Takes Two","description":"39\/60. Janette Manrara is back with even more backstage gossip and behind-the-scenes action from the world of Strictly. [S] [HD]","startTime":1731609000,"duration":1800,"svcId":700,"evtId":20753,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731610825,"availabilityEnd":1765654315,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002504h\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":39},{"name":"Celebrity Antiques Road Trip","description":"8\/20. The boys from Blue, Duncan James and Antony Costa, join antiques experts Ochuko Ojiri and Roo Irvine on an antiques romp around the Cotswolds. [S] [HD]","startTime":1731610800,"duration":3600,"svcId":700,"evtId":20754,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dl2zj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731614457,"availabilityEnd":1734206457,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001fyz6\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":8},{"name":"The Warship: Tour of Duty","description":"5\/6. After a pit stop on a tropical island, HMS Queen Elizabeth joins forces with 17 other allied warships for a display of military might in front of the Chinese navy. [S,AD] [HD]","startTime":1731614400,"duration":3600,"svcId":700,"evtId":20755,"image":"\/ms\/img\/epg\/rb\/fec6-p0f36tf0.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Our War: 10 Years On","description":"This film explores the stories of young British soldiers who fought in Afghanistan. Contains very strong language and upsetting scenes. [S,AD] [HD]","startTime":1731618000,"duration":2700,"svcId":700,"evtId":20756,"image":"\/ms\/img\/epg\/rb\/fec6-p0k2378k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731477600,"availabilityEnd":1794549600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024zzy\u0026ui_id=4.0.0"},"episodeNo":5},{"name":"Saving Lives at Sea","description":"The RNLI volunteers face a search in one of the worst storms in living memory, race to save three people caught in a rip current and two men stuck on an oil rig\u0027s anchor chain. [S,AD] [HD]","startTime":1731620700,"duration":900,"svcId":700,"evtId":20757,"image":"\/ms\/img\/epg\/rb\/fec6-p08ybtsn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731621600,"availabilityEnd":1734213600,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0011v29\u0026ui_id=4.0.0"},"episodeNo":8},{"name":"Motherland","description":"1\/6. Sitcom. Julia moves out of her comfort zone when she reluctantly invites the entire class to her daughter\u0027s birthday party. Contains some strong language. [S,AD] [HD]","startTime":1731621600,"duration":1800,"svcId":700,"evtId":20758,"image":"\/ms\/img\/epg\/rb\/fec6-p0k43stw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731304800,"availabilityEnd":1891641540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p05j1k3t\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Paddy O\u0027Connell. [S] [HD]","startTime":1731623400,"duration":1800,"svcId":700,"evtId":20759,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731625350,"availabilityEnd":1763161350,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002504k\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1731625200,"duration":300,"svcId":700,"evtId":20760,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731625565,"availabilityEnd":1731711965,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002504m\u0026ui_id=4.0.0"}},{"name":"Secrets of the Spy Whale","description":"When a beluga whale turns up wearing a harness printed with the words \u0027Equipment St Petersburg\u0027, speculation breaks out that he may be involved in Russian spying activity. [S,AD] [HD]","startTime":1731625500,"duration":5400,"svcId":700,"evtId":20761,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k49gty.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1731477600,"availabilityEnd":1794549540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m002504p\u0026ui_id=4.0.0"}},{"name":"MasterChef: The Professionals","description":"6\/21. It\u0027s quarter-final time, and the week\u0027s best chefs are back to fight it out for a place in knockout week. [S,AD,SL] [HD]","startTime":1731630900,"duration":3600,"svcId":700,"evtId":20762,"image":"\/ms\/img\/epg\/rb\/ae0c-p0k13yv4.jpg","hasTstv":false,"seriesNo":22,"episodeNo":6},{"name":"Rick Stein\u0027s Food Stories","description":"6\/6. Rick fishes by night in Wales, enjoys jerk chicken in Bristol and makes tasty risotto. [S,AD,SL] [HD]","startTime":1731634500,"duration":3600,"svcId":700,"evtId":20763,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h8cv4j.jpg","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"The Cleaner","description":"6\/6. Wicky is called to a wedding and meets Brummie kingpin Bob Mammot, the King of Storage. Contains strong language. [S,AD,SL] [HD]","startTime":1731638100,"duration":1800,"svcId":700,"evtId":20764,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jspj8t.jpg","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1731639900,"duration":12300,"svcId":700,"evtId":20765,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Escape to the Chateau","description":"From the discovery of the old 19th-century wash house to the pepper pot tower library, we revisit some of the Strawbridges\u0027 best moments at the chateau from series seven.  [AD,S]","startTime":1731556800,"duration":300,"svcId":1500,"evtId":50953,"image":"\/ms\/img\/epg\/rb\/5d52-414294809.l.png","hasTstv":false},{"name":"Frasier","description":"The Zoo Story: Frasier gets a new agent, who sets him up with an opportunity for some great publicity when a crane at the local zoo is named after him. (S5 Ep12)  [AD,S]","startTime":1731557100,"duration":1500,"svcId":1500,"evtId":50905,"image":"\/ms\/img\/epg\/rb\/5d52-664241.l.png","hasTstv":false,"seriesNo":5,"episodeNo":12},{"name":"Frasier","description":"Ski Lodge: Frasier\u0027s plans for a family holiday end in a romantic farce involving the Cranes, Daphne, her friend and a ski instructor. (S5 Ep14)  [AD,S]","startTime":1731558600,"duration":1500,"svcId":1500,"evtId":50906,"image":"\/ms\/img\/epg\/rb\/5d52-669334.l.png","hasTstv":false,"seriesNo":5,"episodeNo":14},{"name":"Frasier","description":"Room Service: When Lilith pays a surprise visit, powerful old feelings are stirred up in Frasier and some surprising new ones in Niles. (S5 Ep15)  [AD,S]","startTime":1731560100,"duration":1500,"svcId":1500,"evtId":50952,"image":"\/ms\/img\/epg\/rb\/5d52-672544.l.png","hasTstv":false,"seriesNo":5,"episodeNo":15},{"name":"Frasier","description":"Beware of Greeks: Frasier must confront an old family grudge with Aunt Zora when he runs into his cousin Nikos, who is getting married. (S5 Ep16)  [AD,S]","startTime":1731561600,"duration":1500,"svcId":1500,"evtId":50907,"image":"\/ms\/img\/epg\/rb\/5d52-674309.l.png","hasTstv":false,"seriesNo":5,"episodeNo":16},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Angela Scanlon joins Susie Dent in Dictionary Corner.  [S]","startTime":1731563100,"duration":2400,"svcId":1500,"evtId":50637,"image":"\/ms\/img\/epg\/rb\/5d52-10143482.l.png","hasTstv":false},{"name":"Cheers","description":"The Heart Is a Lonely Snipe Hunter: At Diane\u0027s insistence, Sam invites Frasier to join the boys on a fishing trip, during which they send him into the woods on a \u0027snipe hunt\u0027. (S3 Ep14\/25)  [S]","startTime":1731565500,"duration":1800,"svcId":1500,"evtId":50638,"image":"\/ms\/img\/epg\/rb\/5d52-905587.l.png","hasTstv":false,"seriesNo":3,"episodeNo":14},{"name":"Cheers","description":"King of the Hill: Sam thinks he\u0027s scored some brownie points by agreeing to pitch in a charity softball game, but his over-competitive nature earns him a lecture from Diane. (S3 Ep15\/25)  [S]","startTime":1731567300,"duration":1500,"svcId":1500,"evtId":50639,"image":"\/ms\/img\/epg\/rb\/5d52-212115.l.png","hasTstv":false,"seriesNo":3,"episodeNo":15},{"name":"Cheers","description":"Teacher\u0027s Pet: Sam joins a geography class so that he can pass his high school diploma. Coach helps him to study, but he finds an easier way to progress: by dating the teacher. (S3 Ep16\/25)  [S]","startTime":1731568800,"duration":1500,"svcId":1500,"evtId":50640,"image":"\/ms\/img\/epg\/rb\/5d52-216196.l.png","hasTstv":false,"seriesNo":3,"episodeNo":16},{"name":"The King of Queens","description":"Apartment Complex: Doug and his pals rent an apartment to use as a secret hangout. Carrie goes to great lengths to please her newest client, Kirstie Alley. (S8 Ep14\/23)  [AD,S]","startTime":1731570300,"duration":1500,"svcId":1500,"evtId":50641,"image":"\/ms\/img\/epg\/rb\/5d52-5937280.l.png","hasTstv":false,"seriesNo":8,"episodeNo":14},{"name":"The King of Queens","description":"Buggie Nights: When Arthur brings bedbugs home from a holiday, Doug and Carrie are forced out of the house while a creepy exterminator gets to work. (S8 Ep15\/23)  [AD,S]","startTime":1731571800,"duration":1800,"svcId":1500,"evtId":50642,"image":"\/ms\/img\/epg\/rb\/5d52-5948110.l.png","hasTstv":false,"seriesNo":8,"episodeNo":15},{"name":"The King of Queens","description":"Knee Jerk: After Carrie accidentally injures Doug, he milks it to avoid helping out with unpleasant jobs. (S8 Ep16\/23)  [AD,S]","startTime":1731573600,"duration":1800,"svcId":1500,"evtId":50643,"image":"\/ms\/img\/epg\/rb\/5d52-5948119.l.png","hasTstv":false,"seriesNo":8,"episodeNo":16},{"name":"Frasier","description":"Can\u0027t Buy Me Love: Frasier agrees to be a \u0027biddable date\u0027 at a celebrity charity auction and is thrilled when a beautiful model outbids the rest of the room. (S1 Ep14)  [AD,S]","startTime":1731575400,"duration":1800,"svcId":1500,"evtId":50644,"image":"\/ms\/img\/epg\/rb\/5d52-293535.l.png","hasTstv":false,"seriesNo":1,"episodeNo":14},{"name":"Frasier","description":"You Can\u0027t Tell a Crook by His Cover: Frasier claims that he can always recognise a criminal, until he and Daphne are fooled by a convincing ex-con. (S1 Ep15)  [AD,S]","startTime":1731577200,"duration":1800,"svcId":1500,"evtId":50645,"image":"\/ms\/img\/epg\/rb\/5d52-295019.l.png","hasTstv":false,"seriesNo":1,"episodeNo":15},{"name":"Frasier","description":"The Show Where Lilith Comes Back: After finding a lost letter of reconciliation from Frasier, Lilith comes to Seattle and tries to rekindle their relationship. (S1 Ep16)  [AD,S]","startTime":1731579000,"duration":1800,"svcId":1500,"evtId":50646,"image":"\/ms\/img\/epg\/rb\/5d52-291614.l.png","hasTstv":false,"seriesNo":1,"episodeNo":16},{"name":"Frasier","description":"A Midwinter Night\u0027s Dream: Niles fights to resist temptation when he and Daphne are trapped in his home during a violent storm. (S1 Ep17)  [AD,S]","startTime":1731580800,"duration":1800,"svcId":1500,"evtId":50647,"image":"\/ms\/img\/epg\/rb\/5d52-296986.l.png","hasTstv":false,"seriesNo":1,"episodeNo":17},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Bella Luna: Gordon visits Italian family restaurant Bella Luna, which is struggling with an inexperienced chef and an owner who won\u0027t acknowledge the eatery\u0027s flaws. (S7 Ep8)  [S]","startTime":1731582600,"duration":3300,"svcId":1500,"evtId":50648,"image":"\/ms\/img\/epg\/rb\/5d52-384505176.l.png","hasTstv":false,"seriesNo":6,"episodeNo":9},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1731585900,"duration":300,"svcId":1500,"evtId":50649,"image":"\/ms\/img\/epg\/rb\/5d52-10143541.l.png","hasTstv":false},{"name":"Undercover Boss USA","description":"Linda L. Chadwick, CEO of Rita\u0027s Italian Ice \u0026 Frozen Custard, goes undercover to find out how her new initiatives are working and to help franchisees become more profitable. (S11 Ep8)  [S]","startTime":1731586200,"duration":3600,"svcId":1500,"evtId":50650,"image":"\/ms\/img\/epg\/rb\/5d52-5366124.l.png","hasTstv":false,"seriesNo":11,"episodeNo":4},{"name":"Find It, Fix It, Flog It","description":"In Scotland, the boys meet Dumfries dairy farmer Jennifer, who has a former milking parlour overflowing with unwanted stuff. (S7 Ep26)  [AD,S]","startTime":1731589800,"duration":3600,"svcId":1500,"evtId":50651,"image":"\/ms\/img\/epg\/rb\/5d52-6208887.l.png","hasTstv":false,"seriesNo":7,"episodeNo":26},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Angela Scanlon joins Susie Dent in Dictionary Corner.  [S]","startTime":1731593400,"duration":3000,"svcId":1500,"evtId":50652,"image":"\/ms\/img\/epg\/rb\/5d52-10143546.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Sam and Brian love travelling and nowhere\u0027s captured their hearts quite like Lanzarote. Lee Juggurnauth shows them five homes for \u00a3240k; are any of them the dream?  [S]","startTime":1731596400,"duration":3600,"svcId":1500,"evtId":50653,"image":"\/ms\/img\/epg\/rb\/5d52-406345607.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Mark has a lifelong love of Italy, and having recently retired, he\u0027s set his sights on a bolthole in Puglia. Can Laura Hamilton find him a perfect place for his \u00a380k?  [S]","startTime":1731600000,"duration":3600,"svcId":1500,"evtId":50654,"image":"\/ms\/img\/epg\/rb\/5d52-416354216.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The new run continues. During the week\u0027s final visit, to Morag and Jonny\u0027s glampsite in Berwickshire, the heat rises when two sets of guests fail to see eye to eye over the campfire.  [S]","startTime":1731603600,"duration":1800,"svcId":1500,"evtId":50655,"image":"\/ms\/img\/epg\/rb\/5d52-10143559.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"A young couple battle with crumbling bridges at their Italian borgo, ancient farming equipment is uncovered at a French hamlet, and a couple rebuild their business in Spain. (S2 Ep19)  [S]","startTime":1731605400,"duration":3600,"svcId":1500,"evtId":50656,"image":"\/ms\/img\/epg\/rb\/5d52-8358735.l.png","hasTstv":false,"seriesNo":2,"episodeNo":19},{"name":"The Simpsons","description":"Homer vs Dignity: Homer asks Mr Burns for a pay rise after the family have to dress up as a mariachi band and sing for their dinner. But Mr Burns has a better idea... (S12 Ep5\/21)  [AD,S]","startTime":1731609000,"duration":1800,"svcId":1500,"evtId":50657,"image":"\/ms\/img\/epg\/rb\/5d52-1088595.l.png","hasTstv":false,"seriesNo":12,"episodeNo":5},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1731610800,"duration":3600,"svcId":1500,"evtId":50658,"image":"\/ms\/img\/epg\/rb\/5d52-10143562.l.png","hasTstv":false},{"name":"New: The Great British Bake...","description":"...Off: An Extra Slice: Jo Brand\u0027s joined by Paul Hollywood, Ellie Taylor and Layton Williams to boogie through 1970s Week. Whose profiterole tower made them baker of the hour? (S15 Ep8\/10)  [AD,S]","startTime":1731614400,"duration":3600,"svcId":1500,"evtId":50660,"image":"\/ms\/img\/epg\/rb\/5d52-10137239.l.png","hasTstv":false,"seriesNo":15,"episodeNo":8},{"name":"New: Taskmaster - The Final","description":"Our five weary contestants compete one last time, in a grand final featuring tiny chairs, giant eggs and a honking Alex Horne. But who\u0027ll lift the legendary Taskmaster trophy? (S18 Ep10\/10)  [AD,S]","startTime":1731618000,"duration":3600,"svcId":1500,"evtId":50661,"image":"\/ms\/img\/epg\/rb\/5d52-10137240.l.png","hasTstv":false,"seriesNo":18,"episodeNo":10},{"name":"New: Everyone Else Burns","description":"Series finale of the comedy with Simon Bird. The day of the wedding arrives, but will it go to plan? David\u0027s dealt a devastating blow, but what will Fiona sacrifice for her man? (S2 Ep6\/6)  [AD,S]","startTime":1731621600,"duration":2100,"svcId":1500,"evtId":50662,"image":"\/ms\/img\/epg\/rb\/5d52-10143571.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Celebrity Gogglebox","description":"This time, the celebs watched: Love Island, Shania Twain at Glastonbury, The Nevermets, The Yorkshire Vet, This Morning (Cuddle Therapy) and ITV News (Biden v Trump). (S6 Ep5)  [AD,S]","startTime":1731623700,"duration":3600,"svcId":1500,"evtId":50663,"image":"\/ms\/img\/epg\/rb\/5d52-9603510.l.png","hasTstv":false,"seriesNo":6,"episodeNo":5},{"name":"First Dates","description":"A 60-something raver meets a part-time DJ. A competitive Pok\u00e9mon player hooks up with a comic book fan. And a dog walker and a science guy bond over a love of pub quizzes. (S21 Ep4)  [AD,S]","startTime":1731627300,"duration":3600,"svcId":1500,"evtId":50908,"image":"\/ms\/img\/epg\/rb\/5d52-8821936.l.png","hasTstv":false,"seriesNo":21,"episodeNo":4},{"name":"UNTOLD: Cheat Detectives: The...","description":"...Loyalty Test: Daisy Maskell explores the TikTok trend of \u0027loyalty testers\u0027 trying to catch potential cheaters by sliding into their DMs. Pass or fail, how does it affect relationships?  [AD,S,SL]","startTime":1731630900,"duration":1800,"svcId":1500,"evtId":50909,"image":"\/ms\/img\/epg\/rb\/5d52-7228124.l.png","hasTstv":false},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon Ramsay visits West Dover in Vermont, where the dog-friendly Four Seasons Inn is run like a hostel - with unpaid staff, instead of paying guests, staying in the rooms. (S2 Ep5\/8)  [AD,S,SL]","startTime":1731632700,"duration":2700,"svcId":1500,"evtId":50910,"image":"\/ms\/img\/epg\/rb\/5d52-134061831.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"The Simpsons","description":"Highway to Well: When Marge gets a job at a cannabis dispensary, she discovers a talent for healing, and Homer discovers a talent for dealing. (S31 Ep17\/22)  [AD,S]","startTime":1731635400,"duration":1500,"svcId":1500,"evtId":51069,"image":"\/ms\/img\/epg\/rb\/5d52-3535474.l.png","hasTstv":false,"seriesNo":31,"episodeNo":17},{"name":"Happening","description":"(2021) Harrowing drama based on Audrey Diwan\u0027s autobiographical novel. A young woman with a promising future gets pregnant in France in 1963, when abortion was illegal.  [S]","startTime":1731636900,"duration":6000,"svcId":1500,"evtId":51068,"image":"\/ms\/img\/epg\/rb\/5d52-5921685.l.png","hasTstv":false},{"name":"Jamie\u0027s One-Pan Wonders","description":"Jamie takes midweek meals up a notch, as he knocks out flavour-packed giant spicy meatballs full of delicious time-saving cheats.  [S]","startTime":1731642900,"duration":600,"svcId":1500,"evtId":51070,"image":"\/ms\/img\/epg\/rb\/5d52-6756188.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('397');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('76');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('52');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '55ghIHTaRzM', title: "The Gifting Hour | John Lewis \u0026 Partners | Christmas Ad 2024", label: "The Gifting Hour | John Lewis \u0026 Partners | Christmas Ad 2024 by John Lewis 91,169 views 7 hours ago 2 minutes" },
{ id: 'fZqoF_jpCZQ', title: "Two Faced (Official Music Video) - Linkin Park", label: "Two Faced (Official Music Video) - Linkin Park by Linkin Park 2,601,877 views 16 hours ago 3 minutes, 7 seconds" },
{ id: 'neIYdLysqlk', title: "I tested the Craziest Xiaomi Gadgets!", label: "I tested the Craziest Xiaomi Gadgets! by Mrwhosetheboss 3,591,321 views 1 day ago 27 minutes" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Monster (2023)">Monster (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Tideland (2005)">Tideland (2005)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dracula\'s Daughter (1936)">Dracula\'s Daughter (1936)</a></li><li><a href="https://www.google.com/search?q=Films+-+Woman of the Hour (2023)">Woman of the Hour (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Clemency (2019)">Clemency (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+3 Women (1977)">3 Women (1977)</a></li><li><a href="https://www.google.com/search?q=Films+-+My Old Ass (2024)">My Old Ass (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+Stromboli (1950)">Stromboli (1950)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marie Antoinette (2006)">Marie Antoinette (2006)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Young Girls of Rochefort (1967)">The Young Girls of Rochefort (1967)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 227.28, tooltip: "Wed, Nov 13, 2024<br/>£227.28"},
{ number: 227.18, tooltip: "Tue, Nov 12, 2024<br/>£227.18"},
{ number: 227.05, tooltip: "Mon, Nov 11, 2024<br/>£227.05"},
{ number: 225.78, tooltip: "Fri, Nov 08, 2024<br/>£225.78"},
{ number: 224.64, tooltip: "Thu, Nov 07, 2024<br/>£224.64"},
{ number: 224.52, tooltip: "Wed, Nov 06, 2024<br/>£224.52"},
{ number: 219.40, tooltip: "Tue, Nov 05, 2024<br/>£219.40"},
{ number: 217.60, tooltip: "Mon, Nov 04, 2024<br/>£217.60"},
{ number: 217.96, tooltip: "Fri, Nov 01, 2024<br/>£217.96"},
{ number: 219.00, tooltip: "Thu, Oct 31, 2024<br/>£219.00"},
{ number: 219.52, tooltip: "Wed, Oct 30, 2024<br/>£219.52"},
{ number: 220.32, tooltip: "Tue, Oct 29, 2024<br/>£220.32"},
{ number: 220.65, tooltip: "Mon, Oct 28, 2024<br/>£220.65"},
{ number: 219.76, tooltip: "Fri, Oct 25, 2024<br/>£219.76"},
{ number: 220.46, tooltip: "Thu, Oct 24, 2024<br/>£220.46"},
{ number: 220.33, tooltip: "Wed, Oct 23, 2024<br/>£220.33"},
{ number: 221.57, tooltip: "Tue, Oct 22, 2024<br/>£221.57"},
{ number: 221.85, tooltip: "Mon, Oct 21, 2024<br/>£221.85"},
{ number: 222.23, tooltip: "Fri, Oct 18, 2024<br/>£222.23"},
{ number: 221.75, tooltip: "Thu, Oct 17, 2024<br/>£221.75"},
{ number: 221.65, tooltip: "Wed, Oct 16, 2024<br/>£221.65"},
{ number: 219.86, tooltip: "Tue, Oct 15, 2024<br/>£219.86"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Nov 13, 2024",
		"vs Day":      "Tue, Nov 12, 2024",
		"vs Week":     "Wed, Nov 06, 2024",
		"vs Month":    "Tue, Oct 15, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£227.28/share",
		'vs Day':      "+0.04%",
		'vs Week':     "+1.23%",
		'vs Month':    "+3.37%",
		'vs Year':     "+23.32%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '97.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 14 November and 15 November">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.977&p=0.419&r=0.304',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:26',
		Set:      '16:14',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>Someone described as raddled is in a confused or befuddled state (as from drinking). <em>Raddled</em> can also describe things that are broken-down or worn. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>