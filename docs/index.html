<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:36 24-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Matiu Ratana: Man guilty of murdering Met Police sergeant</b><br/>Louis De Zoysa shot Sgt Matiu Ratana with an antique gun while in custody in south London." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-england-london-65975164?at_medium=RSS&amp;at_campaign=KARANGA">Matiu Ratana: Man guilty of murdering Met Police sergeant</a></li><li class="ttt" data-tt="<b>Foo Fighters make \'surprise\' return to Glastonbury</b><br/>The US rock band emerged on Friday tea time to play a surprise set on the Pyramid Stage."><a href="https://www.bbc.co.uk/news/entertainment-arts-66004466?at_medium=RSS&amp;at_campaign=KARANGA">Foo Fighters make \'surprise\' return to Glastonbury</a></li><li class="ttt" data-tt="<b>Paris Mayo guilty of murdering son hours after birth</b><br/>Paris Mayo was 15 when she delivered her son Stanley alone in her family home in Ross-on-Wye."><a href="https://www.bbc.co.uk/news/uk-england-hereford-worcester-65999897?at_medium=RSS&amp;at_campaign=KARANGA">Paris Mayo guilty of murdering son hours after birth</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-england-london-65975164?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3C5A/production/_130005451_01h27mr3kad660bxrcnt5jqs2k.jpg" class="ttt" data-tt="Sgt Matiu Ratana" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Titan sub CEO dismissed safety warnings as \'baseless cries\', emails show</b><br/>Warnings over the sub\'s safety were dismissed by OceanGate\'s CEO, emails seen by the BBC show." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65998914?at_medium=RSS&amp;at_campaign=KARANGA">Titan sub CEO dismissed safety warnings as \'baseless cries\', emails show</a></li><li class="ttt" data-tt="<b>In losing Titan, St John\'s mulls a familiar tragedy</b><br/>&quot;Joy and sorrow were always communal rights in small maritime communities&quot; like the Canadian city."><a href="https://www.bbc.co.uk/news/world-us-canada-66004908?at_medium=RSS&amp;at_campaign=KARANGA">In losing Titan, St John\'s mulls a familiar tragedy</a></li><li class="ttt" data-tt="<b>Five dead on Titan sub were \'true explorers\' - OceanGate</b><br/>The Coast Guard says the wreckage of the Titan sub is consistent with a &quot;catastrophic implosion&quot;."><a href="https://www.bbc.co.uk/news/world-us-canada-65993579?at_medium=RSS&amp;at_campaign=KARANGA">Five dead on Titan sub were \'true explorers\' - OceanGate</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65998914?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/14BAD/production/_130190948_stockton_rush_titan_reuters_oceangate.jpg" class="ttt" data-tt="Stockton Rush" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Titan sub CEO dismissed safety warnings as \'baseless cries\', emails show</b><br/>Warnings over the sub\'s safety were dismissed by OceanGate\'s CEO, emails seen by the BBC show." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65998914?at_medium=RSS&amp;at_campaign=KARANGA">Titan sub CEO dismissed safety warnings as \'baseless cries\', emails show</a></li><li class="ttt" data-tt="<b>Titanic sub search: What happens next</b><br/>Gathering as much debris as possible is essential to working out what happened to the sub."><a href="https://www.bbc.co.uk/news/world-us-canada-65981742?at_medium=RSS&amp;at_campaign=KARANGA">Titanic sub search: What happens next</a></li><li class="ttt" data-tt="<b>Greece ignored offer to monitor migrant boat, says EU border agency</b><br/>Officials are said to have ignored an offer to send a plane to monitor the boat that later sank."><a href="https://www.bbc.co.uk/news/world-europe-66003244?at_medium=RSS&amp;at_campaign=KARANGA">Greece ignored offer to monitor migrant boat, says EU border agency</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65998914?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/14BAD/production/_130190948_stockton_rush_titan_reuters_oceangate.jpg" class="ttt" data-tt="Stockton Rush" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Ferrari \'going in the right direction\' after strong Canadian Grand Prix, says team boss Fred Vasseur</b><br/>Ferrari boss Fred Vasseur says the team are &quot;going in the right direction&quot; after the Canadian Grand Prix, in which Charles Leclerc and Carlos Sainz climbed from 10th and 11th on the grid to fourth and fifth" style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65961271?at_medium=RSS&amp;at_campaign=KARANGA">Ferrari \'going in the right direction\' after strong Canadian Grand Prix,...</a></li><li class="ttt" data-tt="<b>Canadian Grand Prix: Max Verstappen and Red Bull celebrate \'historical\' landmarks</b><br/>Max Verstappen and Red Bull can celebrate achievements of great historical consequence but Canada did offer a chink of light to their competitors."><a href="https://www.bbc.co.uk/sport/formula1/65946806?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix: Max Verstappen and Red Bull celebrate \'historical\' l...</a></li><li class="ttt" data-tt="<b>Canadian Grand Prix: Max Verstappen wins to equal Ayrton Senna victories total</b><br/>Red Bull\'s Max Verstappen equals Ayrton Senna\'s career total of 41 victories with a dominant win at the Canadian Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/65945886?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix: Max Verstappen wins to equal Ayrton Senna victories total</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65961271?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/0CFD/production/_130152330_gettyimages-1258781994.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Facebook and Instagram to restrict news access in Canada</b><br/>It comes after parliament passed a bill requiring tech giants to compensate publishers for news." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65969970?at_medium=RSS&amp;at_campaign=KARANGA">Facebook and Instagram to restrict news access in Canada</a></li><li class="ttt" data-tt="<b>Why is it so rare to hear about Western cyber-attacks?</b><br/>Could a cyber-attack on a Russian technology company provide a rare insight into a Western hack?"><a href="https://www.bbc.co.uk/news/technology-65977742?at_medium=RSS&amp;at_campaign=KARANGA">Why is it so rare to hear about Western cyber-attacks?</a></li><li class="ttt" data-tt="<b>Students switch to AI to learn languages</b><br/>Many people are using AI like ChatGPT to improve their language skills but learning that way has drawbacks."><a href="https://www.bbc.co.uk/news/business-65849104?at_medium=RSS&amp;at_campaign=KARANGA">Students switch to AI to learn languages</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65969970?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/14F44/production/_130182858_gettyimages-1349988076.jpg" class="ttt" data-tt="In this photo illustration, the Meta logo is displayed on the screen of an iPhone in front of a Facebook logo on October 29, 2021" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"19 Jun – 25 Jun","date":16875648E5,"ts":"Sat, 24","ds":"Sat, 24 Jun","icon":4,"desc":"Increasing cloudiness.","temp":25,"templow":15,"cf":25,"wind":9,"wd":220,"hum":64,"pc":5},{"date":16876512E5,"ts":"Sun, 25","ds":"Sun, 25 Jun","icon":21,"desc":"Isolated tstorms late. Broken clouds.","temp":26,"templow":14,"cf":26,"wind":14,"wd":190,"hum":54,"pc":62,"rain":1.4 },{"hl":true,"hls":"26 Jun – 2 Jul","date":16877376E5,"ts":"Mon, 26","ds":"Mon, 26 Jun","icon":4,"desc":"Afternoon clouds.","temp":20,"templow":12,"cf":20,"wind":14,"wd":270,"hum":45,"pc":5},{"date":1687824E6,"ts":"Tue, 27","ds":"Tue, 27 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":22,"templow":14,"cf":24,"wind":16,"wd":240,"hum":69,"pc":42,"rain":1.4 },{"date":16879104E5,"ts":"Wed, 28","ds":"Wed, 28 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":20,"templow":13,"cf":18,"wind":9,"wd":300,"hum":68,"pc":40,"rain":1.1 },{"date":16879968E5,"ts":"Thu, 29","ds":"Thu, 29 Jun","icon":33,"desc":"Showers late. Overcast.","temp":20,"templow":12,"cf":20,"wind":13,"wd":230,"hum":54,"pc":43,"rain":1.2 },{"date":16880832E5,"ts":"Fri, 30","ds":"Fri, 30 Jun","icon":33,"desc":"Rain showers. Overcast.","temp":17,"templow":9,"cf":13,"wind":17,"wd":210,"hum":94,"pc":50,"rain":6.6 },{"date":16881696E5,"ts":"Sat, 1","ds":"Sat, 1 Jul","icon":18,"desc":"Drizzle. Cloudy.","temp":19,"templow":12,"cf":18,"wind":13,"wd":240,"hum":63,"pc":52,"rain":0.5 },{"date":1688256E6,"ts":"Sun, 2","ds":"Sun, 2 Jul","icon":21,"desc":"Isolated tstorms. Partly cloudy.","temp":18,"templow":12,"cf":18,"wind":16,"wd":240,"hum":66,"pc":61,"rain":3},{"hl":true,"hls":"3 Jul – 9 Jul","date":16883424E5,"ts":"Mon, 3","ds":"Mon, 3 Jul","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":17,"templow":10,"cf":17,"wind":13,"wd":230,"hum":63,"pc":47,"rain":1.2 },{"date":16884288E5,"ts":"Tue, 4","ds":"Tue, 4 Jul","icon":33,"desc":"Rain showers. Overcast.","temp":17,"templow":11,"cf":17,"wind":14,"wd":160,"hum":85,"pc":58,"rain":6},{"date":16885152E5,"ts":"Wed, 5","ds":"Wed, 5 Jul","icon":21,"desc":"A few tstorms. Partly cloudy.","temp":17,"templow":12,"cf":17,"wind":21,"wd":190,"hum":81,"pc":78,"rain":3.9 },{"date":16886016E5,"ts":"Thu, 6","ds":"Thu, 6 Jul","icon":21,"desc":"Isolated tstorms. Broken clouds.","temp":18,"templow":12,"cf":17,"wind":10,"wd":270,"hum":69,"pc":53,"rain":1.3 },{"date":1688688E6,"ts":"Fri, 7","ds":"Fri, 7 Jul","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":19,"templow":12,"cf":17,"wind":15,"wd":200,"hum":77,"pc":50,"rain":1.4 },{"date":16887744E5,"ts":"Sat, 8","ds":"Sat, 8 Jul","icon":21,"desc":"A few tstorms. Broken clouds.","temp":18,"templow":12,"cf":17,"wind":14,"wd":320,"hum":80,"pc":86,"rain":5.6 }],"grid":{"temp":{"low":9,"high":26,"range":17},"prec":{"high":6.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2306/NGC-6872-LRGB-rev-5-crop-CDK-1000-22-May-2023_1024.jpg',
		Title:     'Giant Galaxies in Pavo',
		LinkImage: 'https://apod.nasa.gov/apod/image/2306/NGC-6872-LRGB-rev-5-crop-CDK-1000-22-May-2023.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230623.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Otto_von_Friesen_-_Runsten_S%C3%B6_113_Kolunda%2C_Stenkvista_socken_-_Alvin_record_110815.jpg/350px-Otto_von_Friesen_-_Runsten_S%C3%B6_113_Kolunda%2C_Stenkvista_socken_-_Alvin_record_110815.jpg',
		Title:    'Södermanland Runic Inscription 113',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/S%C3%B6dermanland_Runic_Inscription_113',
		Description: '    <b><a href="/wiki/S%C3%B6dermanland_Runic_Inscription_113" title="Södermanland Runic Inscription 113">Södermanland Runic Inscription&#160;113</a></b> is a 10th-century <a href="/wiki/Runic_inscriptions" title="Runic inscriptions">runic inscription</a> engraved on a 0.9&#160;m by 0.5&#160;m (35&#160;in by 20&#160;in) granite <a href="/wiki/Runestone" title="Runestone">runestone</a> in <a href="/wiki/S%C3%B6dermanland" title="Södermanland">Södermanland</a>, Sweden. The runestone was found in 1856 on a hill believed to have once had many other graves and monuments, and is thought to have originally stood atop a burial mound before falling over and being buried. The inscription is written in <a href="/wiki/Old_Norse" title="Old Norse">Old Norse</a> using the <a href="/wiki/Younger_Futhark" title="Younger Futhark">Younger Futhark</a> alphabet, and reads (<a href="/wiki/Transliteration" title="Transliteration">transliterated</a> into the <a href="/wiki/Latin_script" title="Latin script">Latin script</a>): <span title="Old Norse-language text"><i lang="non">Þaiʀ situ stin, suniʀ Þurkitils auk Fulku, hiar faþur auk muþur iftiʀ. Kiarþu trikila</i></span>, meaning: \'They placed the stone here, the sons of Þorketill and Folka, in memory of their father and mother. Made valiantly.\' This photograph of the inscription was taken by <a href="/wiki/Otto_von_Friesen" title="Otto von Friesen">Otto von Friesen</a>, who owned the runestone in the early 20th century.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/Otto_von_Friesen" title="Otto von Friesen">Otto von Friesen</a>, restored by <a href="/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"Once Upon a Time in Northern...","description":"...Ireland. 4\/5. Tensions rise as the police and army infiltrate paramilitary organisations. Contains strong language and scenes which some viewers may find disturbing. [S,AD,SL] [HD]","startTime":1687572600,"duration":3900,"svcId":700,"evtId":7919,"image":"\/ms\/img\/epg\/rb\/8df1-p0fp7cfw.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1687576500,"duration":9000,"svcId":700,"evtId":7920,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Hey Duggee","description":"The Pet Badge. The Squirrels meet a Scrufflelump in the woods, and despite Duggee\u0027s reservations, take him in. But they soon learn the responsibilities of taking care of a pet. [S] [HD]","startTime":1687585500,"duration":300,"svcId":700,"evtId":7943,"image":"\/ms\/img\/epg\/rb\/8df1-p0cxq3h5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662963179,"availabilityEnd":1818212400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001c1gj\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":11},{"name":"Hey Duggee","description":"The Lost Property Badge. The Squirrels lose Tag in the Clubhouse but to find him they\u0027re going to have to figure out where the Lost Property room is. [S] [HD]","startTime":1687585800,"duration":600,"svcId":700,"evtId":7944,"image":"\/ms\/img\/epg\/rb\/8df1-p0cxq3js.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662963179,"availabilityEnd":1818212400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001c1qn\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":12},{"name":"Supertato","description":"Trouble Bubbles. Supertato and Evil Pea get stuck inside a giant floating bubble together. [S,AD] [HD]","startTime":1687586400,"duration":300,"svcId":700,"evtId":7945,"image":"\/ms\/img\/epg\/rb\/8df1-p0dssrpg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1673236800,"availabilityEnd":1823655600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dpgp2s\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":24},{"name":"Shaun the Sheep","description":"Cone of Shame. Animated Series. Bitzer is an all-too-willing volunteer when he has to wear the cone of shame and is happy to let the flock wait on him. [S] [HD]","startTime":1687586700,"duration":600,"svcId":700,"evtId":7946,"image":"\/ms\/img\/epg\/rb\/8df1-p04fthrx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1617246000,"availabilityEnd":1743390000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b083hjdc\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":19},{"name":"Dennis \u0026 Gnasher Unleashed!","description":"The Abominable Showman. JJ is torn between Blamjitsu with the yeti and helping the Dinmakers write a school song. [S] [HD]","startTime":1687587300,"duration":600,"svcId":700,"evtId":7947,"image":"\/ms\/img\/epg\/rb\/8df1-p08kytx1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680231600,"availabilityEnd":1751252400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000lb6h\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":12},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Grin and Parrot. Boy and Dog are working on their comedy act for a talent show. Unfortunately, nobody finds them funny, until they find a runaway parrot who laughs hysterically at them 24\/7. [S] [HD]","startTime":1687587900,"duration":900,"svcId":700,"evtId":7948,"image":"\/ms\/img\/epg\/rb\/8df1-p0bjc3yp.png","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1643615327,"availabilityEnd":1798862400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00142j7\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":23},{"name":"The Deep","description":"Unidentified Floating Objects. The Nektons are busy recovering sunken shipping containers, so when Bethany the fish finds herself in danger, only Jeffrey can save her! [S] [HD]","startTime":1687588800,"duration":1200,"svcId":700,"evtId":7949,"image":"\/ms\/img\/epg\/rb\/8df1-p0c80mbd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1653930420,"availabilityEnd":1811559600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0c806pj\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":8},{"name":"OOglies Funsize","description":"Episode 7. Stop-motion animation. The ninja sushi are back, fearless Pete Parsnip comes face to face with a terrifying snake, and the toast soldiers try again to ambush an egg. [S] [HD]","startTime":1687590000,"duration":300,"svcId":700,"evtId":7950,"image":"\/ms\/img\/epg\/rb\/8df1-p02ltgpq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1683358817,"availabilityEnd":1687266780,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b05nd0qh\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":7},{"name":"Game on Grandparents","description":"Mario Golf. Akaal and his grandad Perminder go head-to-head with Nasri and her grandmother Jennill in Mario Golf as they compete for the chance to make it to the Grand Final. [S] [HD]","startTime":1687590300,"duration":1500,"svcId":700,"evtId":7951,"image":"\/ms\/img\/epg\/rb\/8df1-p0csrs8x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1661157366,"availabilityEnd":1803009600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bdv4\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"One Zoo Three","description":"Sensational Smiles. Tyler makes gummy treats for the pygmy marmosets, Cam takes Baikal the white tiger to the dentist, and Aaron attempts to stop the camels chewing their home. [S] [HD]","startTime":1687591800,"duration":1200,"svcId":700,"evtId":7952,"image":"\/ms\/img\/epg\/rb\/8df1-p0dyrylm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1675051200,"availabilityEnd":1795147200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dt38s6\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":6},{"name":"Newsround","description":"24\/06\/2023. Topical news magazine for children. [S] [HD]","startTime":1687593000,"duration":600,"svcId":700,"evtId":7953,"image":"\/ms\/img\/epg\/rb\/8df1-p0chnbfw.jpg","hasTstv":false},{"name":"Blue Peter: Glastonbury and...","description":"...Henry\u0027s Doggy Festival. Glastonbury and Henry\u0027s Doggy Festival. The team are getting festival-ready in preparation for Glastonbury, and Tom A Smith performs in the BP studio. [S] [HD]","startTime":1687593600,"duration":1800,"svcId":700,"evtId":7954,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwz1rj.jpg","hasTstv":false,"episodeNo":12},{"name":"Deadly 60","description":"Bali. Steve sets sail to Bali for a diving adventure to find a giant ocean sunfish. [S] [HD]","startTime":1687595400,"duration":1800,"svcId":700,"evtId":7955,"image":"\/ms\/img\/epg\/rb\/8df1-p0c141x7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1594302000,"availabilityEnd":1739592000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000fzd8\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":2},{"name":"Pooch Perfect","description":"5\/8. The first set of quarter-finalists take on a very traditional dog groom when they gently hand-strip one of the UK\u0027s oldest breeds, the Welsh terrier. [S,AD] [HD]","startTime":1687597200,"duration":3600,"svcId":700,"evtId":7956,"image":"\/ms\/img\/epg\/rb\/8df1-p095hkgh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1613637900,"availabilityEnd":1646988300,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000rz0b\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"Undiscovered Worlds with Steve...","description":"...Backshall. Steve Backshall is kayaking the world\u0027s largest fjord in Greenland in the Arctic. [S,AD] [HD]","startTime":1687600800,"duration":3600,"svcId":700,"evtId":7957,"image":"\/ms\/img\/epg\/rb\/8df1-p07k01bg.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Family Cooking Showdown","description":"Competitive food show. It is party time as the families create their ultimate children\u0027s birthday cake. [S,AD] [HD]","startTime":1687604400,"duration":3600,"svcId":700,"evtId":7958,"image":"\/ms\/img\/epg\/rb\/8df1-p06pvmvg.jpg","hasTstv":false,"seriesNo":2,"episodeNo":13},{"name":"Best Dishes Ever","description":"11\/20. Recipes from some of the BBC\u0027s best-loved TV chefs. In this episode, it is party time. The treats include white chocolate lollipops from Lorraine Pascale and seafood from James Martin. [S] [HD]","startTime":1687608000,"duration":900,"svcId":700,"evtId":7959,"image":"\/ms\/img\/epg\/rb\/8df1-p03hbzn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1683822611,"availabilityEnd":1686414611,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b072579p\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":11},{"name":"The Long Hot Summer","description":"Drifter Ben Quck finds himself in the steamy world of the Varner family. [1958] [S] [HD]","startTime":1687608900,"duration":6900,"svcId":700,"evtId":7960,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvjs3l.jpg","hasTstv":false},{"name":"Africa\u0027s Dragon Mountain","description":"5\/14. A portrait of the Drakensberg - \u0027dragon mountains\u0027 - of South Africa following giant antelope and baboons as they struggle to survive in a land of extremes. [S] [HD]","startTime":1687615800,"duration":3000,"svcId":700,"evtId":7961,"image":"\/ms\/img\/epg\/rb\/8df1-p08qspll.jpg","hasTstv":false,"seriesNo":31,"episodeNo":5},{"name":"Richard Osman\u0027s House of Games","description":"85\/140. Former winners Rickie Haywood-Williams, Sally Phillips, Vikki Stone and Dan Walker test their general knowledge skills on this week\u0027s House of Games: Champions. [S] [HD]","startTime":1687618800,"duration":1800,"svcId":700,"evtId":8223,"image":"\/ms\/img\/epg\/rb\/8df1-p0b54vc8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1639161000,"availabilityEnd":1670697000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0012cb3\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":85},{"name":"Great British Railway Journeys","description":"5\/15. Michael Portillo continues his postwar exploration of north west England in Bradford, Shipley and Hebden Bridge. [S,AD] [HD]","startTime":1687620600,"duration":1800,"svcId":700,"evtId":8224,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvgvbw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687150800,"availabilityEnd":1718773200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001n4lb\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":5},{"name":"Glastonbury 2023","description":"Clara Amfo, Lauren Laverne, Jack Saunders and Jo Whiley are live from Worthy Farm for the second day of Glastonbury Festival 2023. Contains scenes of flashing images. [S] [HD]","startTime":1687622400,"duration":14400,"svcId":700,"evtId":7963,"image":"\/ms\/img\/epg\/rb\/8df1-p0fwjrvp.jpg","hasTstv":false,"seriesNo":2023},{"name":"QI","description":"3\/14. Sandi Toksvig looks at all things shaky and shady with Alan Davies, Eshaan Akbar, John Barrowman and Victoria Coren Mitchell. [S] [HD]","startTime":1687636800,"duration":1800,"svcId":700,"evtId":7964,"image":"\/ms\/img\/epg\/rb\/8df1-p09w1b4x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1666386900,"availabilityEnd":1697864340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000zypq\u0026ui_id=4.0.0"},"seriesNo":20,"episodeNo":3},{"name":"Live at the Apollo","description":"5\/6. Angela Barnes hosts, introducing comedians Sarah Keyworth and Tim Renkow to the stage. Contains some strong language and adult humour. [S] [HD]","startTime":1687638600,"duration":1800,"svcId":700,"evtId":7965,"image":"\/ms\/img\/epg\/rb\/8df1-p0b55j4z.jpg","hasTstv":false,"seriesNo":2022,"episodeNo":5},{"name":"Guns N\u0027 Roses at Glastonbury 2023","description":"Guns N\u0027 Roses make their first visit to Worthy Farm, headlining the Pyramid Stage. Contains some strong language and scenes of flashing images. [S] [HD]","startTime":1687640400,"duration":14400,"svcId":700,"evtId":7966,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvb38z.jpg","hasTstv":false,"seriesNo":2023},{"name":"Good Morning Karachi","description":"A young Pakistani woman becomes a model, to the disapproval of her family and her fiance. Contains some strong language. [2013] [S] [HD]","startTime":1687654800,"duration":5100,"svcId":700,"evtId":7967,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1687659900,"duration":10200,"svcId":700,"evtId":7968,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Windsor. Radio DJ Mary serves up traditional Irish dishes, and an Eton mess with an Irish twist. But her evening becomes less about the craic, as cracks appear among the guests. (Ep2\/5)  [S]","startTime":1687574100,"duration":1800,"svcId":1500,"evtId":28762,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Windsor. Outspoken entrepreneur Mohinder hosts the third night. He\u0027s been dishing out criticism, so his guests are expecting big things... (Ep3\/5)  [S]","startTime":1687575900,"duration":1500,"svcId":1500,"evtId":28763,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Windsor. Retired sales manager and football fan Angie hosts a night of 1960s-inspired fun, featuring a rousing singalong, red cards galore and a curious card game. (Ep4\/5)  [S]","startTime":1687577400,"duration":1500,"svcId":1500,"evtId":28764,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Windsor. Car salesman Rob unleashes the mother of all surprises: his enormous country mansion, complete with swimming pool and Ferrari. And it completely upstages one guest. (Ep5\/5)  [S]","startTime":1687578900,"duration":1500,"svcId":1500,"evtId":28765,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Location, Location, Location","description":"Kirstie and Phil help Brett and Jo, and first-time buyers Ben and Pip, scour the competitive property market in Nottingham, where trendy homes in the right spot are scarce. (S29 Ep5\/8)  [S,SL]","startTime":1687580400,"duration":3000,"svcId":1500,"evtId":28886,"image":"\/ms\/img\/epg\/rb\/5d52-263202948.l.png","hasTstv":false,"seriesNo":29,"episodeNo":5},{"name":"Everybody Loves Raymond","description":"Meant to Be: Torn between his girlfriend Amy, his ex-wife Joanne and Italian bombshell Stefania, Robert foolishly decides to tell Amy that he met up with Joanne. (S5 Ep4)  [AD,S]","startTime":1687583400,"duration":1500,"svcId":1500,"evtId":28456,"image":"\/ms\/img\/epg\/rb\/5d52-1379947.l.png","hasTstv":false,"seriesNo":5,"episodeNo":4},{"name":"Everybody Loves Raymond","description":"Pet Cemetery: When Ray accidentally kills Ally\u0027s hamster, Debra insists that the family hold a pet funeral. (S5 Ep5)  [AD,S]","startTime":1687584900,"duration":1500,"svcId":1500,"evtId":28457,"image":"\/ms\/img\/epg\/rb\/5d52-1380170.l.png","hasTstv":false,"seriesNo":5,"episodeNo":5},{"name":"The King of Queens","description":"American Idle: When Carrie loses her job, she eventually decides to set up her own business. But how successful will it be? (S6 Ep10\/24)  [AD,S]","startTime":1687586400,"duration":1500,"svcId":1500,"evtId":28458,"image":"\/ms\/img\/epg\/rb\/5d52-383352464.l.png","hasTstv":false,"seriesNo":6,"episodeNo":10},{"name":"The King of Queens","description":"Santa Claustrophobia: Carrie takes a temporary job working with Doug. What could possibly go wrong? (S6 Ep11\/24)  [AD,S]","startTime":1687587900,"duration":1500,"svcId":1500,"evtId":28459,"image":"\/ms\/img\/epg\/rb\/5d52-383357325.l.png","hasTstv":false,"seriesNo":6,"episodeNo":11},{"name":"The Simpsons","description":"Guess Who\u0027s Coming to Criticize Dinner: Homer becomes a restaurant critic for the Springfield Shopper, and ends up so feared that the town\u0027s restaurant owners plot to kill him. (S11 Ep3\/22)  [AD,S]","startTime":1687589400,"duration":1500,"svcId":1500,"evtId":28460,"image":"\/ms\/img\/epg\/rb\/5d52-7769602.l.png","hasTstv":false,"seriesNo":11,"episodeNo":3},{"name":"The Simpsons","description":"E-I-E-I-(Annoyed Grunt): The Simpsons are forced to flee to the countryside, where Homer accidentally invents highly addictive tomacco. But the animals like it too... (S11 Ep5\/22)  [AD,S]","startTime":1687590900,"duration":1800,"svcId":1500,"evtId":28461,"image":"\/ms\/img\/epg\/rb\/5d52-387112019.l.png","hasTstv":false,"seriesNo":11,"episodeNo":5},{"name":"The Simpsons","description":"Treehouse of Horror X: Ned comes back to haunt the Simpsons after Marge accidentally runs him down, and Bart and Lisa get zapped by radiation and become superheroes. (S11 Ep4\/22)  [AD,S]","startTime":1687592700,"duration":1800,"svcId":1500,"evtId":28462,"image":"\/ms\/img\/epg\/rb\/5d52-389968979.l.png","hasTstv":false,"seriesNo":11,"episodeNo":4},{"name":"The Simpsons","description":"On a Clear Day I Can\u0027t See My Sister: Lisa takes out a restraining order against Bart, who has to go and live in the garden. Meanwhile, Homer takes over Grampa\u0027s job. (S16 Ep11\/21)  [AD,S]","startTime":1687594500,"duration":1800,"svcId":1500,"evtId":28463,"image":"\/ms\/img\/epg\/rb\/5d52-5403417.l.png","hasTstv":false,"seriesNo":16,"episodeNo":11},{"name":"The Simpsons","description":"Mobile Homer: Homer impulsively buys a mobile home, which he has to move into when Marge finds out. (S16 Ep13\/21)  [AD,S]","startTime":1687596300,"duration":1800,"svcId":1500,"evtId":28464,"image":"\/ms\/img\/epg\/rb\/5d52-5399745.l.png","hasTstv":false,"seriesNo":16,"episodeNo":13},{"name":"The Simpsons","description":"The Seven-Beer Snitch: When Marge\u0027s fancy new concert hall goes bust, Mr Burns buys it and turns it into a prison. Which is bad news for Homer... (S16 Ep14\/21)  [AD,S]","startTime":1687598100,"duration":1500,"svcId":1500,"evtId":28465,"image":"\/ms\/img\/epg\/rb\/5d52-5391826.l.png","hasTstv":false,"seriesNo":16,"episodeNo":14},{"name":"The Simpsons","description":"Brush with Greatness: Lisa encourages Marge to take up painting again after she exhibits a critically acclaimed portrait of a half-naked Homer asleep on the sofa... (S2 Ep18\/22)  [AD,S]","startTime":1687599600,"duration":2100,"svcId":1500,"evtId":28466,"image":"\/ms\/img\/epg\/rb\/5d52-37787.l.png","hasTstv":false,"seriesNo":2,"episodeNo":18},{"name":"The Simpsons","description":"Old Money: Grampa falls in love with a fellow retirement home resident. But on her birthday, Homer whisks Grampa off to Discount Lion Safari, where the car breaks down... (S2 Ep17\/22)  [AD,S]","startTime":1687601700,"duration":1800,"svcId":1500,"evtId":28467,"image":"\/ms\/img\/epg\/rb\/5d52-137750.l.png","hasTstv":false,"seriesNo":2,"episodeNo":17},{"name":"Couples Come Dine with Me","description":"In South Yorkshire, it\u0027s the war of the cheesecakes as Kealey and Nathan dish up the same dessert as Sarah and Graham. And youngsters Alex and Emily offer a culinary tour of Europe.  [S]","startTime":1687603500,"duration":3900,"svcId":1500,"evtId":28468,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":28},{"name":"The Secret Life of the Zoo","description":"Keepers spot that the Asian short-clawed otter pups are developing bald patches, threatening their waterproofing. Plus: Caribbean flamingos, Asian elephants and dik-dik antelopes. (S8 Ep3)  [AD,S]","startTime":1687607400,"duration":3600,"svcId":1500,"evtId":28469,"image":"\/ms\/img\/epg\/rb\/5d52-3898178.l.png","hasTstv":false,"seriesNo":8,"episodeNo":3},{"name":"George Clarke\u0027s Amazing Spaces","description":"A touring theatre performer has an ingenious plan to keep the show on the road... quite literally! And George and Will complete their ambitious secret magical garden studio flat. (S10 Ep8)  [AD,S]","startTime":1687611000,"duration":3600,"svcId":1500,"evtId":28475,"image":"\/ms\/img\/epg\/rb\/5d52-5560899.l.png","hasTstv":false,"seriesNo":10,"episodeNo":8},{"name":"Four in a Bed","description":"Antoinette and Carmen welcome their rivals to the Seacrest Hotel in Portsmouth, where the dazzling d\u00e9cor, a super night\u0027s sleep and an egg-cellent breakfast impress their guests.  [S]","startTime":1687614600,"duration":1800,"svcId":1500,"evtId":28470,"image":"\/ms\/img\/epg\/rb\/5d52-3819921.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Best mates Glenn and Leon host at The White Horse Hotel in Storrington, West Sussex. There are hair-raising concerns and damp discoveries, which for some guests are too close for comfort.  [S]","startTime":1687616400,"duration":2100,"svcId":1500,"evtId":28471,"image":"\/ms\/img\/epg\/rb\/5d52-3819941.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Husband and wife Mike and Del offer a real taste of Wales at Deri-Down Guesthouse in Abergavenny. But there are bed blunders and the pre-order breakfast gets a grilling.  [S]","startTime":1687618500,"duration":1800,"svcId":1500,"evtId":28472,"image":"\/ms\/img\/epg\/rb\/5d52-3820005.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Margaret and her son Fraser host at Royle Farm B\u0026B in Burton-on-Trent, Staffordshire. Some guests fixate on the fantastical furniture, while others feel askew about the view.  [S]","startTime":1687620300,"duration":1800,"svcId":1500,"evtId":28473,"image":"\/ms\/img\/epg\/rb\/5d52-3820084.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s the final day and the B\u0026Bers meet for one last time to settle some scores. After bedtime blues and follicle findings are aired, the payments are revealed and the winner is announced.  [S]","startTime":1687622100,"duration":1800,"svcId":1500,"evtId":28474,"image":"\/ms\/img\/epg\/rb\/5d52-415317919.l.png","hasTstv":false},{"name":"The Pennines: Backbone of Britain","description":"A group of friends go boating through the formidable Standedge Tunnel. In Yorkshire, dry stone wallers help repair a farm in the middle of the M62 motorway. (Ep2\/4)  [AD,S]","startTime":1687623900,"duration":3600,"svcId":1500,"evtId":28476,"image":"\/ms\/img\/epg\/rb\/5d52-414327952.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1687627500,"duration":1800,"svcId":1500,"evtId":28477,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"A Royal Guide to... Travel","description":"Whether it\u0027s ski trips, desert islands or one of the Commonwealth countries, the royals know a thing or two about travel. Discover their favourite destinations and how they travel in style.  [AD,S]","startTime":1687629300,"duration":3900,"svcId":1500,"evtId":28478,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Britain\u0027s Most Luxurious Train...","description":"...Journeys: On the scenic Settle to Carlisle service, Mark prepares to pop the question to his partner, as executive chef Nick creates masterpiece meals onboard. (Ep2\/4)  [AD,S]","startTime":1687633200,"duration":3600,"svcId":1500,"evtId":28479,"image":"\/ms\/img\/epg\/rb\/5d52-7503725.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"New: Ancient Egypt by Train...","description":"...with Alice Roberts - The Temples: Alice visits Aswan, whose quarries provided the granite for Egypt\u0027s many ancient monuments. And she catches a boat to the amazing Philae Temple. (Ep4\/4)  [AD,S]","startTime":1687636800,"duration":3600,"svcId":1500,"evtId":28480,"image":"\/ms\/img\/epg\/rb\/5d52-7780140.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Air Force One","description":"(1997) Action-thriller with Harrison Ford and Gary Oldman. When terrorists hijack his plane, the President decides to take back control - all by himself. Strong language\/violence.  [AD,S]","startTime":1687640400,"duration":8400,"svcId":1500,"evtId":28481,"image":"\/ms\/img\/epg\/rb\/5d52-373448936.l.png","hasTstv":false},{"name":"Jamie\u0027s Comfort Food","description":"Jamie Oliver takes the nation\u0027s favourite dishes to the next level. In this episode, he cooks the ultimate burger.  [S]","startTime":1687648800,"duration":600,"svcId":1500,"evtId":29284,"image":"\/ms\/img\/epg\/rb\/5d52-392277104.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Live Formula E Portland ePrix","description":"The electric grid heads to the natural habitat of the combustion engine. British driver Jake Dennis is snapping at the heels of series leader Pascal Wehrlein. Can he catch him here?  [S]","startTime":1687649400,"duration":7200,"svcId":1500,"evtId":28483,"image":"\/ms\/img\/epg\/rb\/5d52-7780150.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Fishtown, Philadelphia, Gordon Ramsay visits the Hot Potato Caf\u00e9, which has never made a profit. When the chips are down, can Gordon help save the restaurant? (S3 Ep1)  [S]","startTime":1687656600,"duration":3000,"svcId":1500,"evtId":28884,"image":"\/ms\/img\/epg\/rb\/5d52-989292.l.png","hasTstv":false,"seriesNo":2,"episodeNo":1},{"name":"Iris Prize Best British Shorts","description":"The Fox in the Night: (2022) Lewis is excited about a night out, until a friend asks him to pick up something from his drug dealer.  [S]","startTime":1687659600,"duration":900,"svcId":1500,"evtId":29286,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false},{"name":"Hollyoaks Omnibus","description":"Warren is determined to help Felix with his emotions, but he only makes things worse. Damon and Zara set out to stop the heist. Grief pulls Romeo and Peri closer together.  [AD,S,SL]","startTime":1687660500,"duration":7500,"svcId":1500,"evtId":28484,"image":"\/ms\/img\/epg\/rb\/5d52-7780157.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('48');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('20');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'MsOuDFz69T4', title: "WHY you MUST USE Good Memory Cards", label: "WHY you MUST USE Good Memory Cards by Tin House Studio 9 days ago 33 seconds 3,655 views – play Short" },
{ id: 'MsOuDFz69T4', title: "Titanic tourist submersible destroyed: How it happened | About That", label: "Titanic tourist submersible destroyed: How it happened | About That by CBC News 23 hours ago 6 minutes, 49 seconds 5,477,791 views" },
{ id: 'CUj2AWEJnwQ', title: "Nicki Minaj \u0026 Ice Spice – Barbie World (with Aqua) [Official Music Video]", label: "Nicki Minaj \u0026 Ice Spice – Barbie World (with Aqua) [Official Music Video] by Nicki Minaj 19 hours ago 2 minutes, 10 seconds 2,840,886 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Austria.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Austrian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>2 July</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "23 June 2023 -  29 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/64937/dave-and-central-cee/'>dave &amp; central cee</a>", Title: "<a href='https://www.officialcharts.com/search/singles/sprinter/'>SPRINTER</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/61mUg%2BNLggL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/64960/j-hus-ft-drake/'>j hus ft drake</a>", Title: "<a href='https://www.officialcharts.com/search/singles/who-told-you/'>WHO TOLD YOU</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41K-4Fs0ZCL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/61762/jazzy/'>jazzy</a>", Title: "<a href='https://www.officialcharts.com/search/singles/giving-me/'>GIVING ME</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51SkZDT4AyL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/51376/harry-styles/'>harry styles</a>", Title: "<a href='https://www.officialcharts.com/search/singles/as-it-was/'>AS IT WAS</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/411key4w0jL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 177.15, tooltip: "Thu, Jun 22, 2023<br/>£177.15"},
{ number: 177.37, tooltip: "Wed, Jun 21, 2023<br/>£177.37"},
{ number: 178.07, tooltip: "Tue, Jun 20, 2023<br/>£178.07"},
{ number: 178.24, tooltip: "Mon, Jun 19, 2023<br/>£178.24"},
{ number: 178.58, tooltip: "Fri, Jun 16, 2023<br/>£178.58"},
{ number: 179.61, tooltip: "Thu, Jun 15, 2023<br/>£179.61"},
{ number: 178.74, tooltip: "Wed, Jun 14, 2023<br/>£178.74"},
{ number: 179.51, tooltip: "Tue, Jun 13, 2023<br/>£179.51"},
{ number: 179.33, tooltip: "Mon, Jun 12, 2023<br/>£179.33"},
{ number: 177.26, tooltip: "Fri, Jun 09, 2023<br/>£177.26"},
{ number: 177.60, tooltip: "Thu, Jun 08, 2023<br/>£177.60"},
{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>£174.12"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Jun 22, 2023",
		"vs Day":      "Wed, Jun 21, 2023",
		"vs Week":     "Thu, Jun 15, 2023",
		"vs Month":    "Wed, May 24, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£177.15/share",
		'vs Day':      "-0.12%",
		'vs Week':     "-1.37%",
		'vs Month':    "+1.74%",
		'vs Year':     "+10.60%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '28.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-crescent.html" title="Waxing Crescent on the night between 23 June and 24 June">Waxing Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.284&p=5.998&r=6.017',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:45',
		Set:      '21:32',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>A hashtag is a word or phrase that starts with the symbol # and that categorizes or comments on the text or image it accompanies. The word <em>hashtag</em> can also refer to the symbol # as used in a hashtag. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23glastonbury2023">#glastonbury2023</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Arctic+Monkeys%22">Arctic Monkeys</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Alex+Turner%22">Alex Turner</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23LoveIsland">#LoveIsland</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Molly">Molly</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Wagner">Wagner</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Prigozhin">Prigozhin</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Moscow">Moscow</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Luke+Weaver%22">Luke Weaver</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=kcon">kcon</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>