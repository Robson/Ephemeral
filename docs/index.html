<!DOCTYPE html>
<html lang="en">
	<head>
		<title>20:40 7-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Parties clash over immigration, NHS and armed forces at BBC election debate</b><br/>Conservative Penny Mordaunt says Rishi Sunak &quot;completely wrong&quot; to leave D-Day event early - watch and follow live" style="font-weight:bold"><a href="https://www.bbc.co.uk/news/live/uk-politics-69098963">Parties clash over immigration, NHS and armed forces at BBC election debate</a></li><li class="ttt" data-tt="<b>PM apologises for leaving D-Day commemorations early</b><br/>Rishi Sunak said that it was a mistake not to stay in France longer to mark the anniversary of the Normandy landings."><a href="https://www.bbc.com/news/articles/c722zv2myjro">PM apologises for leaving D-Day commemorations early</a></li><li class="ttt" data-tt="<b>Unite union refuses to endorse Labour manifesto</b><br/>Labour\'s biggest trade union backer is concerned workers\' rights policies do not go far enough."><a href="https://www.bbc.com/news/articles/c722zkj9ly8o">Unite union refuses to endorse Labour manifesto</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/live/uk-politics-69098963"><img src="https://m.files.bbci.co.uk/modules/bbc-morph-news-waf-page-meta/5.3.0/bbc_news_logo.png"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Biden apologises for delay in Ukraine military aid</b><br/>The US president also made a speech defending democracy at the site where US rangers stormed a Nazi stronghold on D-Day." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cv22kz2102ro">Biden apologises for delay in Ukraine military aid</a></li><li class="ttt" data-tt="<b>Hunter Biden\'s daughter gives surprise testimony at trial</b><br/>Naomi Biden told the court that her father seemed &quot;great&quot; around the time he bought a gun in 2018."><a href="https://www.bbc.com/news/articles/cxeel4r91d2o">Hunter Biden\'s daughter gives surprise testimony at trial</a></li><li class="ttt" data-tt="<b>Alex Jones asks to liquidate assets in $1.5bn debt</b><br/>Conspiracy theorist Alex Jones has asked a Texas court to allow him to liquidate his assets as part of bankruptcy proceedings."><a href="https://www.bbc.com/news/articles/c4nnpyxvnxno">Alex Jones asks to liquidate assets in $1.5bn debt</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cv22kz2102ro"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2fd6/live/fada16e0-24d7-11ef-91db-27806614941b.jpg" class="ttt" data-tt="Ukrainian President Volodymyr Zelensky and US President Joe Biden shake hands at a D-Day commemoration in Normandy" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Biden apologises for delay in Ukraine military aid</b><br/>The US president also made a speech defending democracy at the site where US rangers stormed a Nazi stronghold on D-Day." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cv22kz2102ro">Biden apologises for delay in Ukraine military aid</a></li><li class="ttt" data-tt="<b>Confident Putin warns Europe is ‘defenceless’</b><br/>The Russian leader seems to believe that in the current stand-off, the West would blink first."><a href="https://www.bbc.com/news/articles/cn00e422yr2o">Confident Putin warns Europe is ‘defenceless’</a></li><li class="ttt" data-tt="<b>Refugees sent to Rwanda from remote UK island speak to BBC</b><br/>The migrants, who the UN says are refugees, say they feel isolated and unsafe in the African country."><a href="https://www.bbc.com/news/articles/c511kkwej7jo">Refugees sent to Rwanda from remote UK island speak to BBC</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cv22kz2102ro"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2fd6/live/fada16e0-24d7-11ef-91db-27806614941b.jpg" class="ttt" data-tt="Ukrainian President Volodymyr Zelensky and US President Joe Biden shake hands at a D-Day commemoration in Normandy" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Norris fastest in rain-affected Montreal practice</b><br/>McLaren’s Lando Norris leads Ferrari’s Carlos Sainz in a delayed and rain-affected first practice session at the Canadian Grand Prix." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/cv22vy4vx39o">Norris fastest in rain-affected Montreal practice</a></li><li class="ttt" data-tt="<b>Leclerc senses \'opportunity\' at Canadian GP</b><br/>Charles Leclerc says Sunday\'s Canadian Grand Prix could be another “opportunity” for Ferrari to beat Red Bull after his victory in Monaco."><a href="https://www.bbc.com/sport/formula1/articles/cd11z5vx0rvo">Leclerc senses \'opportunity\' at Canadian GP</a></li><li class="ttt" data-tt="<b>F1: Chequered Flag</b><br/>Rosanna Tennant, Jolyon Palmer & Chris Medland preview the Canadian GP."><a href="https://www.bbc.co.uk/sounds/play/p0j2r605">F1: Chequered Flag</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/cv22vy4vx39o"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/6446/live/3462f100-24fd-11ef-b14f-5174ab603f44.jpg" class="ttt" data-tt="McLaren&#x27;s Lando Norris in the wet first practice at the Canadian Grand Prix" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Microsoft \'recalls\' screenshot feature after outcry</b><br/>Microsoft will modify a tool on its new AI-powered PCs that had sparked privacy concerns." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cd11rje1mrro">Microsoft \'recalls\' screenshot feature after outcry</a></li><li class="ttt" data-tt="<b>Down the Rabbit hole: Pocket-sized AI gadget put to the test</b><br/>The R1 is the latest attempt to build AI-powered hardware that challenges our smartphone addiction."><a href="https://www.bbc.com/news/articles/ce5571gvl3xo">Down the Rabbit hole: Pocket-sized AI gadget put to the test</a></li><li class="ttt" data-tt="<b>Scientists enlist AI to interpret meaning of barks</b><br/>They are also digging into whether AI can tell a dog\'s age, gender and breed based on the noises it makes."><a href="https://www.bbc.com/news/articles/c8887lx1z3vo">Scientists enlist AI to interpret meaning of barks</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cd11rje1mrro"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0c2f/live/3c9f8db0-24fd-11ef-b14f-5174ab603f44.jpg" class="ttt" data-tt="Microsoft Corporate Vice President, Surface Devices Brett Ostrum holds laptops during a presentation at Microsoft&#x27;s May 20 briefing. event at Microsoft in Redmond, Washington, on May 20, 2024. Microsoft unveiled a new category of PC on Monday that features generative artificial intelligence tools built directly into Windows, the company&#x27;s world leading operating system." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"3 Jun – 9 Jun","date":17178048E5,"ts":"Sat, 8","ds":"Sat, 8 Jun","icon":18,"desc":"Sprinkles. Breaks of sun late.","temp":16,"templow":5,"cf":14,"wind":12,"wd":310,"hum":54,"pc":39,"rain":0.5 },{"date":17178912E5,"ts":"Sun, 9","ds":"Sun, 9 Jun","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":16,"templow":6,"cf":14,"wind":12,"wd":270,"hum":65,"pc":45,"rain":1},{"hl":true,"hls":"10 Jun – 16 Jun","date":17179776E5,"ts":"Mon, 10","ds":"Mon, 10 Jun","icon":21,"desc":"Isolated tstorms. Overcast.","temp":15,"templow":7,"cf":14,"wind":8,"wd":10,"hum":59,"pc":62,"rain":4.8 },{"date":1718064E6,"ts":"Tue, 11","ds":"Tue, 11 Jun","icon":21,"desc":"Isolated tstorms. Afternoon clouds.","temp":15,"templow":7,"cf":14,"wind":9,"wd":330,"hum":55,"pc":47,"rain":1.3 },{"date":17181504E5,"ts":"Wed, 12","ds":"Wed, 12 Jun","icon":18,"desc":"Sprinkles. Cloudy.","temp":16,"templow":5,"cf":14,"wind":5,"wd":310,"hum":60,"pc":23,"rain":0.6 },{"date":17182368E5,"ts":"Thu, 13","ds":"Thu, 13 Jun","icon":18,"desc":"Sprinkles late. Increasing cloudiness.","temp":17,"templow":4,"cf":16,"wind":10,"wd":200,"hum":50,"pc":18,"rain":0.6 },{"date":17183232E5,"ts":"Fri, 14","ds":"Fri, 14 Jun","icon":18,"desc":"Drizzle. Overcast.","temp":14,"templow":10,"cf":12,"wind":9,"wd":160,"hum":84,"pc":14,"rain":0.5 },{"date":17184096E5,"ts":"Sat, 15","ds":"Sat, 15 Jun","icon":18,"desc":"Sprinkles. Mostly cloudy.","temp":17,"templow":11,"cf":18,"wind":16,"wd":250,"hum":71,"pc":64,"rain":3.1 },{"date":1718496E6,"ts":"Sun, 16","ds":"Sun, 16 Jun","icon":18,"desc":"Sprinkles late. Cloudy.","temp":18,"templow":11,"cf":18,"wind":12,"wd":220,"hum":87,"pc":54,"rain":3},{"hl":true,"hls":"17 Jun – 23 Jun","date":17185824E5,"ts":"Mon, 17","ds":"Mon, 17 Jun","icon":18,"desc":"Drizzle. Cloudy.","temp":17,"templow":11,"cf":17,"wind":6,"wd":300,"hum":75,"pc":58,"rain":2.2 },{"date":17186688E5,"ts":"Tue, 18","ds":"Tue, 18 Jun","icon":21,"desc":"Isolated tstorms. Scattered clouds.","temp":16,"templow":11,"cf":16,"wind":8,"wd":330,"hum":65,"pc":41,"rain":0.4 },{"date":17187552E5,"ts":"Wed, 19","ds":"Wed, 19 Jun","icon":2,"desc":"Scattered clouds.","temp":18,"templow":9,"cf":18,"wind":8,"wd":290,"hum":59,"pc":6},{"date":17188416E5,"ts":"Thu, 20","ds":"Thu, 20 Jun","icon":33,"desc":"Showers late. Afternoon clouds.","temp":19,"templow":10,"cf":18,"wind":5,"wd":200,"hum":73,"pc":50,"rain":1},{"date":1718928E6,"ts":"Fri, 21","ds":"Fri, 21 Jun","icon":33,"desc":"Showers late. Breaks of sun late.","temp":20,"templow":13,"cf":19,"wind":3,"wd":110,"hum":73,"pc":43,"rain":0.2 },{"date":17190144E5,"ts":"Sat, 22","ds":"Sat, 22 Jun","icon":6,"desc":"Broken clouds.","temp":20,"templow":13,"cf":20,"wind":9,"wd":210,"hum":64,"pc":6}],"grid":{"temp":{"low":4,"high":20,"range":16},"prec":{"high":4.8},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2406/DolphinNebulaHOO_1024.jpg',
		Title:     'SH2-308: The Dolphin Head Nebula',
		LinkImage: 'https://apod.nasa.gov/apod/image/2406/DolphinNebulaHOO_2048.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240607.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Philippe_Chaperon_-_Set_design_for_Act_V_in_the_premi%C3%A8re_of_Victorin_Jonci%C3%A8res%27_Dimitri.jpg/500px-Philippe_Chaperon_-_Set_design_for_Act_V_in_the_premi%C3%A8re_of_Victorin_Jonci%C3%A8res%27_Dimitri.jpg',
		Title:    'Dimitri (Joncières)',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Dimitri_(Jonci%C3%A8res)',
		Description: '    <i><b><a href="https://en.wikipedia.org/wiki/Dimitri_(Jonci%C3%A8res)" title="Dimitri (Joncières)">Dimitri</a></b></i> is an 1876 French-language <a href="https://en.wikipedia.org/wiki/Grand_opera" title="Grand opera">grand opera</a> in five acts by <a href="https://en.wikipedia.org/wiki/Victorin_de_Jonci%C3%A8res" title="Victorin de Joncières">Victorin de Joncières</a>. Set to a libretto by <a href="https://en.wikipedia.org/wiki/Henri_de_Bornier" title="Henri de Bornier">Henri de Bornier</a> and <a href="https://en.wikipedia.org/wiki/Paul_Armand_Silvestre" title="Paul Armand Silvestre">Paul Armand Silvestre</a> after <a href="https://en.wikipedia.org/wiki/Friedrich_Schiller" title="Friedrich Schiller">Friedrich Schiller</a>\'s incomplete play <i><a href="https://en.wikipedia.org/wiki/Demetrius_(play)" title="Demetrius (play)">Demetrius</a></i>, itself a story based on the life of the Russian pretender <a href="https://en.wikipedia.org/wiki/False_Dmitry_I" title="False Dmitry I">False Dmitry&#160;I</a> (reigned 1605–1606), the opera was first performed in Paris at the <a href="https://en.wikipedia.org/wiki/Th%C3%A9%C3%A2tre_de_la_Ga%C3%AEt%C3%A9_(rue_Papin)" title="Théâtre de la Gaîté (rue Papin)">Théâtre National Lyrique</a>. <a href="https://en.wikipedia.org/wiki/Anton%C3%ADn_Dvo%C5%99%C3%A1k" title="Antonín Dvořák">Antonín Dvořák</a>\'s 1881 opera <i><a href="https://en.wikipedia.org/wiki/Dimitrij_(opera)" title="Dimitrij (opera)">Dimitrij</a></i> was also based on Schiller\'s play. This picture shows the set design for Act V of <i>Dimitri\'</i>s première.<small style="display: block; margin-top: 0.8em;">Art credit: <a href="https://en.wikipedia.org/wiki/Philippe_Chaperon" title="Philippe Chaperon">Philippe Chaperon</a>; restored by <a href="https://en.wikipedia.org/wiki/User:Adam_Cuerden" title="User:Adam Cuerden">Adam Cuerden</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"NBA Finals: Boston Celtics v...","description":"...Dallas Mavericks - Game One. Fast action and amazing athleticism from the biggest stars in basketball. [S] [HD]","startTime":1717720200,"duration":9900,"svcId":560,"evtId":25075,"image":"\/ms\/img\/epg\/rb\/fec6-p0j1fmn5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717729218,"availabilityEnd":1720321218,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy75\u0026ui_id=4.0.0"},"seriesNo":2024,"episodeNo":8},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1717730100,"duration":300,"svcId":560,"evtId":24988,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717729492,"availabilityEnd":1718334292,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx0z\u0026ui_id=4.0.0"}},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1717736400,"duration":12600,"svcId":560,"evtId":24990,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717747200,"availabilityEnd":1717835415,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zx06\u0026ui_id=4.0.0"}},{"name":"Rip Off Britain","description":"15\/15. The tour operator that one couple say really let them down when their coach transfer took a turn for the worst. [S] [HD]","startTime":1717749000,"duration":2700,"svcId":560,"evtId":25057,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0wmdn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717751699,"availabilityEnd":1749287699,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zy77\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":15},{"name":"Moment of Proof","description":"15\/15. A few specks of grey paint help to solve two brutal axe murders, and a bungling burglar is caught when his DNA is found on a rock used to smash a window at one of his break-ins. [S] [HD]","startTime":1717751700,"duration":1800,"svcId":560,"evtId":24991,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fbk5n5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1711445400,"availabilityEnd":1742968740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0f4fx88\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":15},{"name":"Expert Witness","description":"13\/15. An expert in mobile phone technology tracks the movements of a murder suspect, and an expert in art fraud determines whether a very expensive painting is genuine or fake. [S,AD] [HD]","startTime":1717753500,"duration":1800,"svcId":560,"evtId":24992,"image":"\/ms\/img\/epg\/rb\/fec6-p0ddftvb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717755283,"availabilityEnd":1720347283,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dcddzc\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":13},{"name":"Homes Under the Hammer","description":"65\/80. Dion, Martin and Tommy meet the developers working to transform a Victorian town house in Nottingham, a dilapidated mid-terrace in Bournemouth and a one-bedroom flat in north London. [S] [HD]","startTime":1717755300,"duration":3600,"svcId":560,"evtId":24993,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlcg50.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1697714099,"availabilityEnd":1729336499,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001rlp3\u0026ui_id=4.0.0"},"seriesNo":39,"episodeNo":65},{"name":"Bargain Hunt: Time to Help Out","description":"Two inspirational teams of volunteers hunt for bargains in Newark, and Natasha Raskin Sharp visits the Shropshire beekeepers who transformed a derelict site into a community hub. [S,AD] [HD]","startTime":1717758900,"duration":2700,"svcId":560,"evtId":25008,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j13tdk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717761601,"availabilityEnd":1749297601,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx95\u0026ui_id=4.0.0"},"seriesNo":69},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news and weather, plus a comprehensive round-up from your part of the UK. [S] [HD]","startTime":1717761600,"duration":3600,"svcId":560,"evtId":25308,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false},{"name":"Hope Street","description":"12\/15. When Ryan discovers what has really been going on in his brother\u0027s seemingly happy marriage, he\u0027s forced to make a momentous decision about his own relationship with Niamh. [S,AD] [HD]","startTime":1717765200,"duration":2700,"svcId":560,"evtId":24994,"image":"\/ms\/img\/epg\/rb\/ae0c-p0h09l3w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1704131820,"availabilityEnd":1770875940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0gm60z5\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":12},{"name":"Escape to the Country","description":"In true Escape to the Country style, today\u0027s couple (both former international rugby players) want to leave London in search of a rural idyll in Dorset. [S] [HD]","startTime":1717767900,"duration":3600,"svcId":560,"evtId":25009,"image":"\/ms\/img\/epg\/rb\/fec6-p0dy887l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717771466,"availabilityEnd":1720363466,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx9c\u0026ui_id=4.0.0"},"seriesNo":48,"episodeNo":8},{"name":"Garden Rescue","description":"14\/35. Chris and Lee are going head-to-head in Nottingham to create a tranquil garden for retired couple Jennifer and Alfred. [S] [HD]","startTime":1717771500,"duration":2700,"svcId":560,"evtId":24995,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fsrmlp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686843028,"availabilityEnd":1720366173,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mwzj\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":14},{"name":"New: The Finish Line","description":"25\/30. Roman Kemp, with sidekick Sarah Greene, hosts the quiz show where knowledge equals speed. [S] [HD]","startTime":1717774200,"duration":2700,"svcId":560,"evtId":25010,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0wcs2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717776894,"availabilityEnd":1752596014,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx9h\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":25},{"name":"Pointless","description":"36\/54. The quiz returns for another series in which contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1717776900,"duration":2700,"svcId":560,"evtId":24996,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g2n1yg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691168400,"availabilityEnd":1722704400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001p9ws\u0026ui_id=4.0.0"},"seriesNo":29,"episodeNo":36},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1717779600,"duration":1800,"svcId":560,"evtId":24997,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717781460,"availabilityEnd":1717867860,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx08\u0026ui_id=4.0.0"},"episodeNo":50},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717781400,"duration":1500,"svcId":560,"evtId":24998,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717783065,"availabilityEnd":1717869465,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zx0b\u0026ui_id=4.0.0"},"episodeNo":68},{"name":"Party Election Broadcast by the...","description":"...Green Party. A party election broadcast by the Green Party for the general election. [S] [HD]","startTime":1717782900,"duration":300,"svcId":560,"evtId":25407,"image":"\/ms\/img\/epg\/rb\/fec6-p02p2k1h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717783330,"availabilityEnd":1720375330,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0020b7h\u0026ui_id=4.0.0"},"episodeNo":16},{"name":"The One Show","description":"Steve Coogan, Chris McCausland and Anneka Rice join Alex Jones and Roman Kemp on the sofa. [S] [HD]","startTime":1717783200,"duration":1800,"svcId":560,"evtId":25011,"image":"\/ms\/img\/epg\/rb\/fec6-p0g8slx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717784999,"availabilityEnd":1720376999,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx9l\u0026ui_id=4.0.0"}},{"name":"BBC Election Debate","description":"Leading figures from the seven biggest political parties in Great Britain face questions on the issues that matter most to voters. [S] [HD]","startTime":1717785000,"duration":5400,"svcId":560,"evtId":25408,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2tg87.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717790425,"availabilityEnd":1749326425,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0020btc\u0026ui_id=4.0.0"},"episodeNo":1},{"name":"Have I Got News for You","description":"10\/10. Alex Horne is host, with guest panellists comedian Jack Dee and broadcaster Carol Vorderman joining team captains Paul Merton and Ian Hislop. [S] [HD]","startTime":1717790400,"duration":1800,"svcId":560,"evtId":25062,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hl86hs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717792245,"availabilityEnd":1749328245,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zy7k\u0026ui_id=4.0.0"},"seriesNo":67,"episodeNo":10},{"name":"The Young Offenders","description":"5\/6. Mairead unexpectedly hosts Star\u0027s birthday party, and Conor helps Jock join it remotely. Contains strong language. [S,AD] [HD]","startTime":1717792200,"duration":1800,"svcId":560,"evtId":25063,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvbxw8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715317200,"availabilityEnd":1873083600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z2lk\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":5},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1717794000,"duration":1800,"svcId":560,"evtId":24999,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717795890,"availabilityEnd":1717882290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx0d\u0026ui_id=4.0.0"},"episodeNo":50},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1717795800,"duration":600,"svcId":560,"evtId":25000,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717796250,"availabilityEnd":1717882650,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx0g\u0026ui_id=4.0.0"},"episodeNo":59},{"name":"The Young Offenders","description":"6\/6. Jock tries to talk to Star, and Mair\u00e9ad has to reveal her secret. Contains strong language. [S,AD] [HD]","startTime":1717796400,"duration":1800,"svcId":560,"evtId":25064,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvc1cs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715317200,"availabilityEnd":1873083600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001z2lr\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":6},{"name":"The Others","description":"Supernatural thriller. A mother awaits her husband\u0027s return from WWII with her children. Contains some scenes which some viewers may find upsetting. [2001] [S] [HD]","startTime":1717798200,"duration":6000,"svcId":560,"evtId":25012,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dn1d0y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717804216,"availabilityEnd":1720396216,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b00790z1\u0026ui_id=4.0.0"}},{"name":"Rebus","description":"3\/6. John\u0027s words come back to haunt him. Contains strong language and some violent scenes. [S,AD] [HD]","startTime":1717804200,"duration":2700,"svcId":560,"evtId":25409,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvwr1q.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715922000,"availabilityEnd":1873751581,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yjsh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1717806900,"duration":300,"svcId":560,"evtId":25001,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717807347,"availabilityEnd":1718412147,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zx0j\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1717807200,"duration":15600,"svcId":560,"evtId":25002,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":68}]},{"channelid":700,"offset":0,"event":[{"name":"Escape to the Country","description":"48\/55. A young couple want to swap their London flat for something bigger in the East Midlands, where Nicki Chapman opens the front doors to a lovely selection of homes with lovely gardens. [S] [HD]","startTime":1717739100,"duration":2700,"svcId":700,"evtId":16626,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j0ynjp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717425880,"availabilityEnd":1748961880,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zxk8\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":48},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"6\/15. Clive takes on a potential Olympic champion in the boxing ring, gets under the bonnet of a classic Chevy and bangs the drum for Cuban music. [S] [HD]","startTime":1717741800,"duration":1800,"svcId":700,"evtId":16627,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzrhkn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpn0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":6},{"name":"Antiques Roadshow","description":"The roadshow pays a final visit to Alexandra Gardens in Cardiff, where treasures include a rare Welsh rugby shirt, colourful cameo glass and unseen photos of The Rolling Stones. [S,SL] [HD]","startTime":1717743600,"duration":3600,"svcId":700,"evtId":16628,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hmkmzd.jpg","hasTstv":false,"seriesNo":46,"episodeNo":18},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1717747200,"duration":11700,"svcId":700,"evtId":16629,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Rishi Sunak apologises for leaving D-Day commemorations early. And parties unveil policies on housing and benefits. [S] [HD]","startTime":1717758900,"duration":2700,"svcId":700,"evtId":16811,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717761615,"availabilityEnd":1720353615,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002028s\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"25\/25. The quiz show where players must avoid Impossible answers to stay in the competition. 21 people start the week, but how many of them will survive to face the \u00a310,000 question? [S] [HD]","startTime":1717761600,"duration":2700,"svcId":700,"evtId":16630,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717764281,"availabilityEnd":1720356281,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000pjxj\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":25},{"name":"Mastermind","description":"25\/31. Clive Myrie asks the questions in the first semi-final. The specialist subjects are the short stories of Daphne du Maurier, the films of Studio Ghibli, Scott Pilgrim and Formula One. [S] [HD]","startTime":1717764300,"duration":1800,"svcId":700,"evtId":16631,"image":"\/ms\/img\/epg\/rb\/ae0c-p0brlx0h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709704800,"availabilityEnd":1954303140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00151ds\u0026ui_id=4.0.0"},"seriesNo":2021,"episodeNo":25},{"name":"Great Coastal Railway Journeys","description":"25\/25. Michael Portillo reaches the most westerly station in Wales, Milford Haven. [S,AD] [HD]","startTime":1717766100,"duration":1800,"svcId":700,"evtId":16632,"image":"\/ms\/img\/epg\/rb\/fec6-p0bppglj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717767920,"availabilityEnd":1720359920,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0014sn4\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":25},{"name":"Five Bedrooms","description":"2\/8. Liz turns do-gooder despite objections, especially from Manju, and Ben faces temptation. [S,AD] [HD]","startTime":1717767900,"duration":2700,"svcId":700,"evtId":16633,"image":"\/ms\/img\/epg\/rb\/ae0c-p0g8brs5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1693544400,"availabilityEnd":1725197384,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fw1p3p\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":2},{"name":"The Farmers\u0027 Country Showdown","description":"20\/20. Billy and his nephew face the national champion - Billy\u0027s father - at a sheepdog trial, and we meet Melissa and Kenny, who now breed and train sheepdogs after downsizing their farm. [S] [HD]","startTime":1717770600,"duration":2700,"svcId":700,"evtId":16634,"image":"\/ms\/img\/epg\/rb\/fec6-p0954qv4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717773264,"availabilityEnd":1720365264,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000ry2s\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":20},{"name":"Puerto Rico: Island of...","description":"...Enchantment - Natural World. David Attenborough meets the people fighting to protect the native animals of Puerto Rico. [S,AD] [HD]","startTime":1717773300,"duration":3600,"svcId":700,"evtId":16635,"image":"\/ms\/img\/epg\/rb\/ae0c-p04wtfz6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717776891,"availabilityEnd":1720368891,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b08k9xbm\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":1},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Chiddingstone Castle in Kent and visits Anne Boleyn\u0027s family home, Hever Castle. [S] [HD]","startTime":1717776900,"duration":2700,"svcId":700,"evtId":16636,"image":"\/ms\/img\/epg\/rb\/ae0c-p02tfltr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717779598,"availabilityEnd":1720371598,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b05sxtxp\u0026ui_id=4.0.0"},"seriesNo":13,"episodeNo":25},{"name":"Richard Osman\u0027s House of Games","description":"70\/100. Ashley John-Baptiste, Simon Rimmer, Claire Sweeney and Esme Young test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1717779600,"duration":1800,"svcId":700,"evtId":16637,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dklfmk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717781411,"availabilityEnd":1720373411,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001fz3k\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":70},{"name":"Clive Myrie\u0027s Caribbean Adventure","description":"9\/15. Clive gets his steps in as he learns to salsa dance with the locals, discovers the secrets that have kept this historic old city standing, and explores the dark history of sugar. [S] [HD]","startTime":1717781400,"duration":1800,"svcId":700,"evtId":16638,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzs05n.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716786000,"availabilityEnd":1779857940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001zpn3\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":9},{"name":"Digging for Britain: The...","description":"...Greatest Discoveries. 2\/4. Professor Alice Roberts re-examines the key archaeological sites of Iron Age Britain. [S,AD] [HD]","startTime":1717783200,"duration":1800,"svcId":700,"evtId":16639,"image":"\/ms\/img\/epg\/rb\/ae0c-p088c1j0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717785052,"availabilityEnd":1720377052,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000gp0f\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":2},{"name":"Beechgrove Garden","description":"10\/26. The flurry of planting and sowing in spring is over, and it\u0027s time to check in and enjoy the results of all that hard work at Beechgrove Garden. [S] [HD]","startTime":1717785000,"duration":1800,"svcId":700,"evtId":16640,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1g4dk.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717702249,"availabilityEnd":1749238249,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zywb\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":10},{"name":"Gardeners\u0027 World","description":"12\/32. Monty reveals his plans for planting up pots in his cottage garden. Sue Kent visits a unique garden in Carmarthenshire situated around a wooden house on stilts. [S] [HD]","startTime":1717786800,"duration":3600,"svcId":700,"evtId":16641,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j2mkv0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717790432,"availabilityEnd":1749326432,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zywd\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":12},{"name":"Hidden Treasures of the...","description":"...National Trust. 5\/6. Benjamin Disraeli\u0027s gates get an upgrade, and there\u0027s a revamp for a Reynolds masterpiece. [S,AD] [HD]","startTime":1717790400,"duration":3600,"svcId":700,"evtId":16642,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hvlc15.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1715317200,"availabilityEnd":1809925140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001yzxk\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"QI","description":"12\/14. Sandi Toksvig talks through a tantalising trunkful of \u0027T\u0027 topics with Jo Brand, Guz Khan, Sally Phillips and Alan Davies. [S] [HD]","startTime":1717794000,"duration":1800,"svcId":700,"evtId":16643,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dyr82j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1709499600,"availabilityEnd":1740981540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001hzpq\u0026ui_id=4.0.0"},"seriesNo":21,"episodeNo":12},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Faisal Islam. [S] [HD]","startTime":1717795800,"duration":2400,"svcId":700,"evtId":16644,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j101sb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717798290,"availabilityEnd":1749334290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zywg\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1717798200,"duration":300,"svcId":700,"evtId":16645,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717798526,"availabilityEnd":1717884926,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zywj\u0026ui_id=4.0.0"}},{"name":"The Wrong Man: 17 Years Behind...","description":"...Bars. A man fighting for freedom after spending 17 years in prison for a crime he didn\u0027t commit. Contains some strong language and disturbing scenes. [S,AD] [HD]","startTime":1717798500,"duration":3600,"svcId":700,"evtId":16646,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j14q38.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717650000,"availabilityEnd":1749186000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001zywl\u0026ui_id=4.0.0"}},{"name":"D-Day: The Unheard Tapes","description":"3\/3. Allied and German soldiers wake up the day after D-Day to face the Battle of Normandy. Contains scenes which some viewers may find upsetting. [S,AD] [HD]","startTime":1717802100,"duration":3600,"svcId":700,"evtId":16647,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j150sl.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1717304400,"availabilityEnd":1748840400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001y65y\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"The Missing Cryptoqueen: Dead...","description":"...or Alive? - Panorama. Panorama investigates what happened to the \u0027Missing Cryptoqueen\u0027, Ruja Ignatova. [S,SL] [HD]","startTime":1717805700,"duration":1800,"svcId":700,"evtId":16648,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j1d66r.jpg","hasTstv":false},{"name":"The Misadventures of Romesh...","description":"...Ranganathan. 1\/3. Rom is taunted by chimps, risks his life in rapids and gets drunk on bananas in Uganda. Contains some strong language. [S,AD,SL] [HD]","startTime":1717807500,"duration":3600,"svcId":700,"evtId":16649,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hzqgxh.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1716958800,"availabilityEnd":1811566740,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zpqt\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":1},{"name":"David \u0026 Jay\u0027s Touring Toolshed","description":"8\/15. Sir David Jason and Jay Blades are on a mission to help with a very special railway, and they\u0027re amazed by a father and son\u0027s extraordinary lockdown project. [S,AD,SL] [HD]","startTime":1717811100,"duration":1800,"svcId":700,"evtId":16650,"image":"\/ms\/img\/epg\/rb\/fec6-p0h58bbl.jpg","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1717812900,"duration":11700,"svcId":700,"evtId":16651,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Kirstie\u0027s House of Craft","description":"Kirstie Allsopp puts celebs to the test with crafting challenges. Wendi Peters and Ricky Groves take on lint-roller printing. Sharron Davies and Tanni Grey-Thompson have a banner craft-off.  [S]","startTime":1717734900,"duration":900,"svcId":1500,"evtId":25296,"image":"\/ms\/img\/epg\/rb\/5d52-412648022.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717735800,"duration":2400,"svcId":1500,"evtId":25004,"image":"\/ms\/img\/epg\/rb\/5d52-9487384.l.png","hasTstv":false},{"name":"3rd Rock from the Sun","description":"Mary Loves Scoochie (Part 1\/2): While snooping in Mary\u0027s dresser, Dick finds love letters from a secret admirer named Scoochie, but Mary insists she doesn\u0027t know who Scoochie is. (S6 Ep17)  [AD,S]","startTime":1717738200,"duration":1500,"svcId":1500,"evtId":25005,"image":"\/ms\/img\/epg\/rb\/5d52-1379504.l.png","hasTstv":false,"seriesNo":6,"episodeNo":17},{"name":"3rd Rock from the Sun","description":"Mary Loves Scoochie (Part 2\/2): Dr Neesam (John Cleese) declares himself to be Scoochie, author of the love letters received by Mary. But is this cover for a sinister plan? (S6 Ep18)  [AD,S]","startTime":1717739700,"duration":1500,"svcId":1500,"evtId":25006,"image":"\/ms\/img\/epg\/rb\/5d52-1379559.l.png","hasTstv":false,"seriesNo":6,"episodeNo":18},{"name":"3rd Rock from the Sun","description":"The Thing That Wouldn\u0027t Die (Part 1\/2): When Dick tells the aliens that Mary saw him turn Neesam into a chimp, they all agree that denial is the best method of damage control. (S6 Ep19)  [AD,S]","startTime":1717741200,"duration":1500,"svcId":1500,"evtId":25007,"image":"\/ms\/img\/epg\/rb\/5d52-1379579.l.png","hasTstv":false,"seriesNo":6,"episodeNo":19},{"name":"Everybody Loves Raymond","description":"Debra at the Lodge: When Debra accepts a position at Frank\u0027s lodge to help plan a recruitment party, Ray resents how much time she is spending away from home. (S8 Ep11)  [AD,S]","startTime":1717742700,"duration":1500,"svcId":1500,"evtId":25008,"image":"\/ms\/img\/epg\/rb\/5d52-5229590.l.png","hasTstv":false,"seriesNo":8,"episodeNo":11},{"name":"Everybody Loves Raymond","description":"Slave: Ray and Debra inadvertently leave the twins home alone and are impressed with Ally when she takes care of them, so they offer her lots of other work... (S8 Ep12)  [AD,S]","startTime":1717744200,"duration":1800,"svcId":1500,"evtId":25009,"image":"\/ms\/img\/epg\/rb\/5d52-5143759.l.png","hasTstv":false,"seriesNo":8,"episodeNo":12},{"name":"Everybody Loves Raymond","description":"Whose Side Are You On?: After discovering that Debra places bets with the kids on his strange behaviour, Ray is disturbed to find out that his children now think he\u0027s a \u0027doof\u0027. (S8 Ep13)  [AD,S]","startTime":1717746000,"duration":1800,"svcId":1500,"evtId":25010,"image":"\/ms\/img\/epg\/rb\/5d52-5144092.l.png","hasTstv":false,"seriesNo":8,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"Lateness: Fed up with his wife\u0027s constant tardiness, Ray leaves Debra at home, rather than taking her to an awards ceremony. (S8 Ep14)  [AD,S]","startTime":1717747800,"duration":1800,"svcId":1500,"evtId":25011,"image":"\/ms\/img\/epg\/rb\/5d52-5144109.l.png","hasTstv":false,"seriesNo":8,"episodeNo":14},{"name":"Frasier","description":"Bristle While You Work: Frasier hires a new housekeeper as a replacement for Daphne, but she proves less than reliable. (S10 Ep7)  [AD,S]","startTime":1717749600,"duration":1800,"svcId":1500,"evtId":25012,"image":"\/ms\/img\/epg\/rb\/5d52-1914603.l.png","hasTstv":false,"seriesNo":10,"episodeNo":7},{"name":"Frasier","description":"Rooms with a View: The Cranes pay an unexpected visit to the hospital as Niles prepares to undergo heart bypass surgery. (S10 Ep8)  [AD,S]","startTime":1717751400,"duration":1800,"svcId":1500,"evtId":25013,"image":"\/ms\/img\/epg\/rb\/5d52-1923259.l.png","hasTstv":false,"seriesNo":10,"episodeNo":8},{"name":"Frasier","description":"Don\u0027t Go Breaking My Heart: Frasier is driven round the bend by the new lease of life that Niles has acquired following his midlife crisis. (S10 Ep9)  [AD,S]","startTime":1717753200,"duration":1800,"svcId":1500,"evtId":25014,"image":"\/ms\/img\/epg\/rb\/5d52-1931389.l.png","hasTstv":false,"seriesNo":10,"episodeNo":9},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay revisits Caf\u00e9 Hon in Baltimore, Chiarella\u0027s in Philadelphia, and Leone\u0027s in New Jersey, to find out whether the owners have taken his advice on board. (S6 Ep16)  [S]","startTime":1717755000,"duration":3300,"svcId":1500,"evtId":25286,"image":"\/ms\/img\/epg\/rb\/5d52-381890428.l.png","hasTstv":false,"seriesNo":4,"episodeNo":15},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1717758300,"duration":300,"svcId":1500,"evtId":25016,"image":"\/ms\/img\/epg\/rb\/5d52-9487648.l.png","hasTstv":false},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"Gordon Ramsay visits the historic Olde Hitching Post restaurant in Hanson, Massachusetts. Tom bought the business for his daughter six years ago but refuses to let her run it. (S6 Ep6)  [S]","startTime":1717758600,"duration":3600,"svcId":1500,"evtId":25287,"image":"\/ms\/img\/epg\/rb\/5d52-384403792.l.png","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"Car S.O.S","description":"Mazda MX5: Tim Shaw and Fuzz Townshend rescue a 25-year-old example of the world\u0027s bestselling two-seater sports car: the Mazda MX5. But it\u0027s been off the road for some time. (S4 Ep5\/10)  [AD,S]","startTime":1717762200,"duration":3600,"svcId":1500,"evtId":25018,"image":"\/ms\/img\/epg\/rb\/5d52-211103702.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"Countdown","description":"Colin Murray and Rachel Riley host. Contestants race against the clock to pit their wits against vowels, consonants and numbers. Krishnan Guru-Murthy joins Susie Dent in Dictionary Corner.  [S]","startTime":1717765800,"duration":3000,"svcId":1500,"evtId":25019,"image":"\/ms\/img\/epg\/rb\/5d52-9487650.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Danni Menzies helps motorbike lovers Gary and Lynn look for their dream holiday home in France\u0027s stunning Haute-Vienne region. Will any of Danni\u0027s options get them revved up?  [S]","startTime":1717768800,"duration":3600,"svcId":1500,"evtId":25020,"image":"\/ms\/img\/epg\/rb\/5d52-8596674.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"The new run continues. Manuel and his son Marvyn are looking for the perfect holiday home in Alicante, for \u00a3130k, for their whole family to enjoy. Can Leah Charles-King deliver the dream?  [S]","startTime":1717772400,"duration":3600,"svcId":1500,"evtId":25021,"image":"\/ms\/img\/epg\/rb\/5d52-415711691.l.png","hasTstv":false},{"name":"Sun, Sea and Selling Houses","description":"The new series continues. The Rodriguezes catch up with Tony and Diane. Have they built their dream home? The Garners see how ex-clients Ian and Eva have transformed their home. (S7 Ep5\/20)  [S]","startTime":1717776000,"duration":3600,"svcId":1500,"evtId":25022,"image":"\/ms\/img\/epg\/rb\/5d52-9487655.l.png","hasTstv":false,"seriesNo":7,"episodeNo":5},{"name":"Four in a Bed","description":"The new run continues. The B\u0026Bers try to get their heads around all manner of things on payment day, from facilities faults to shoddy sleep scores. Who will reign supreme?  [S]","startTime":1717779600,"duration":1800,"svcId":1500,"evtId":25023,"image":"\/ms\/img\/epg\/rb\/5d52-386832609.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Rishi Sunak says sorry for leaving the D-Day commemoration early, describing it as a mistake. Sir Keir Starmer says the PM will have to \u0027answer for his choice\u0027. [S,W]","startTime":1717781400,"duration":1800,"svcId":1500,"evtId":25024,"image":"\/ms\/img\/epg\/rb\/5d52-9487664.l.png","hasTstv":false},{"name":"Live England Football: England...","description":"...v Iceland: Jules Breach is joined at Wembley by Joe Cole, Jill Scott and Wayne Rooney for live coverage of England\u0027s final friendly before Euro 2024. AD available during the match.  [AD,S]","startTime":1717783200,"duration":11400,"svcId":1500,"evtId":25025,"image":"\/ms\/img\/epg\/rb\/5d52-9487665.l.png","hasTstv":false},{"name":"New: Celebrity Gogglebox","description":"Celebs including Danny Dyer, Chris Packham, and Jennifer Saunders have been watching The Nevermets, Insomnia, MILF Manor, In with a Shout, Canal Boat Diaries and BBC News (Trump). (S6 Ep1)  [AD,S]","startTime":1717794600,"duration":3900,"svcId":1500,"evtId":25026,"image":"\/ms\/img\/epg\/rb\/5d52-9487180.l.png","hasTstv":false,"seriesNo":6,"episodeNo":1},{"name":"New: The Nevermets","description":"Matt prepares to jet off to the Philippines to turn his online relationship with Maria into a physical one. And in Dubai, Dumebi can\u0027t get hold of Mazi. Is history repeating itself? (Ep3\/6)  [AD,S]","startTime":1717798500,"duration":3600,"svcId":1500,"evtId":25027,"image":"\/ms\/img\/epg\/rb\/5d52-9487669.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"England Football: England v...","description":"...Iceland Highlights: Iceland are England\u0027s final opponents before UEFA Euro 2024. Jules Breach is joined by Joe Cole, Jill Scott and Wayne Rooney for highlights and reaction from Wembley.  [S]","startTime":1717802100,"duration":3600,"svcId":1500,"evtId":25028,"image":"\/ms\/img\/epg\/rb\/5d52-9487675.l.png","hasTstv":false},{"name":"Transformers: Dark of the Moon","description":"(2011) The third movie in the sci-fi action franchise. The discovery of a spacecraft on the dark side of the moon sparks another battle between the Autobots and the Decepticons.  [AD,S]","startTime":1717805700,"duration":8700,"svcId":1500,"evtId":25029,"image":"\/ms\/img\/epg\/rb\/5d52-42547533.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Cardiff area. On the first night, 26-year-old IT architect Anna serves up classic British cooking with a twist. But her jus proves elusive and her posset provokes confusion. (Ep1\/5)  [AD,S]","startTime":1717814400,"duration":1500,"svcId":1500,"evtId":25061,"image":"\/ms\/img\/epg\/rb\/5d52-3749173.l.png","hasTstv":false,"seriesNo":43,"episodeNo":11},{"name":"Come Dine with Me","description":"Cardiff area. Charlotte splashes the cash on luxury ingredients. But her floodlit pink house and fancy champagne raise eyebrows, and Anna compares her souffl\u00e9 to scrambled egg. (Ep2\/5)  [AD,S]","startTime":1717815900,"duration":1800,"svcId":1500,"evtId":25062,"image":"\/ms\/img\/epg\/rb\/5d52-3750618.l.png","hasTstv":false,"seriesNo":43,"episodeNo":12},{"name":"Come Dine with Me","description":"Cardiff area. On the third night of the competition, beautician Claire serves up her favourite dishes - on planks. Because, for some reason, she really, really loves planks... (Ep3\/5)  [AD,S]","startTime":1717817700,"duration":1500,"svcId":1500,"evtId":25063,"image":"\/ms\/img\/epg\/rb\/5d52-3750656.l.png","hasTstv":false,"seriesNo":43,"episodeNo":13}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('200');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('127');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('4');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('10');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'WZ6Hn0myxo4', title: "London flat hunting #londonapartment #londonflat", label: "London flat hunting #londonapartment #londonflat by Muinat Abdul 6,340 views 9 days ago 55 seconds – play Short" },
{ id: 'WZ6Hn0myxo4', title: "moving to London", label: "moving to London by Muinat Abdul 8,926 views 11 days ago 26 seconds – play Short" },
{ id: 'vPkSyQreifQ', title: "Queer Cabaret #pride #pridemonth", label: "Queer Cabaret #pride #pridemonth by Muinat Abdul 1,013 views 6 days ago 51 seconds – play Short" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in f1 module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Crash (1996)">Crash (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Run Lola Run (1998)">Run Lola Run (1998)</a></li><li><a href="https://www.google.com/search?q=Films+-+Secrets & Lies (1996)">Secrets & Lies (1996)</a></li><li><a href="https://www.google.com/search?q=Films+-+Martyrs (2008)">Martyrs (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+Marriage Story (2019)">Marriage Story (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+Challengers (2024)">Challengers (2024)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Piano Teacher (2001)">The Piano Teacher (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Perfect Strangers (2016)">Perfect Strangers (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Silence of the Lambs (1991)">The Silence of the Lambs (1991)</a></li><li><a href="https://www.google.com/search?q=Films+-+Jojo Rabbit (2019)">Jojo Rabbit (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 2 (2007)">Half-Life 2: Episode 2 (2007)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2: Episode 1 (2006)">Half-Life 2: Episode 1 (2006)</a></li><li><a href="https://www.google.com/search?q=Games+-+Half-Life 2 (2004)">Half-Life 2 (2004)</a></li><li><a href="https://www.google.com/search?q=Games+-+Case of the Golden Idol: Lanka Spider (2023)">Case of the Golden Idol: Lanka Spider (2023)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Float (S2, 2024)">Float (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Float (S1, 2021)">Float (S1, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S2, 2021)">In My Skin (S2, 2021)</a></li><li><a href="https://www.google.com/search?q=TV+-+In My Skin (S1, 2018)">In My Skin (S1, 2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S2, 2019)">Fleabag (S2, 2019)</a></li><li><a href="https://www.google.com/search?q=TV+-+Fleabag (S1, 2016)">Fleabag (S1, 2016)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S3, 2015)">My Mad Fat Diary (S3, 2015)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S2, 2014)">My Mad Fat Diary (S2, 2014)</a></li><li><a href="https://www.google.com/search?q=TV+-+My Mad Fat Diary (S1, 2013)">My Mad Fat Diary (S1, 2013)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S3, 2024)">Clarkson\'s Farm (S3, 2024)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 210.10, tooltip: "Thu, Jun 06, 2024<br/>£210.10"},
{ number: 209.82, tooltip: "Wed, Jun 05, 2024<br/>£209.82"},
{ number: 207.73, tooltip: "Tue, Jun 04, 2024<br/>£207.73"},
{ number: 208.43, tooltip: "Mon, Jun 03, 2024<br/>£208.43"},
{ number: 208.26, tooltip: "Fri, May 31, 2024<br/>£208.26"},
{ number: 206.91, tooltip: "Thu, May 30, 2024<br/>£206.91"},
{ number: 207.87, tooltip: "Wed, May 29, 2024<br/>£207.87"},
{ number: 209.08, tooltip: "Tue, May 28, 2024<br/>£209.08"},
{ number: 209.50, tooltip: "Fri, May 24, 2024<br/>£209.50"},
{ number: 209.23, tooltip: "Thu, May 23, 2024<br/>£209.23"},
{ number: 210.23, tooltip: "Wed, May 22, 2024<br/>£210.23"},
{ number: 211.05, tooltip: "Tue, May 21, 2024<br/>£211.05"},
{ number: 211.35, tooltip: "Mon, May 20, 2024<br/>£211.35"},
{ number: 211.15, tooltip: "Fri, May 17, 2024<br/>£211.15"},
{ number: 211.39, tooltip: "Thu, May 16, 2024<br/>£211.39"},
{ number: 211.61, tooltip: "Wed, May 15, 2024<br/>£211.61"},
{ number: 210.56, tooltip: "Tue, May 14, 2024<br/>£210.56"},
{ number: 210.12, tooltip: "Mon, May 13, 2024<br/>£210.12"},
{ number: 210.82, tooltip: "Fri, May 10, 2024<br/>£210.82"},
{ number: 210.11, tooltip: "Thu, May 09, 2024<br/>£210.11"},
{ number: 209.55, tooltip: "Wed, May 08, 2024<br/>£209.55"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Jun 06, 2024",
		"vs Day":      "Wed, Jun 05, 2024",
		"vs Week":     "Thu, May 30, 2024",
		"vs Month":    "Wed, May 08, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£210.10/share",
		'vs Day':      "+0.13%",
		'vs Week':     "+1.54%",
		'vs Month':    "+0.26%",
		'vs Year':     "+18.30%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '2.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-crescent.html" title="Waxing Crescent on the night between 7 June and 8 June">Waxing Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.022&p=5.330&r=5.616',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:46',
		Set:      '21:24',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To gossip is to talk about the personal lives of other people. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23BBCDebate">#BBCDebate</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Penny+Mordaunt%22">Penny Mordaunt</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Ramsdale">Ramsdale</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23TOTP">#TOTP</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23ENGISL">#ENGISL</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23GeForceSummer">#GeForceSummer</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Roaring+Kitty%22">Roaring Kitty</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%24PEIPEI">$PEIPEI</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23NationalDonutDay">#NationalDonutDay</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Dolly">Dolly</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>