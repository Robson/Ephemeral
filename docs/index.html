<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:25 9-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>British child among injured in French park attack</b><br/>All four children are in hospital and officials have told the BBC they are in a stable condition." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-65841666?at_medium=RSS&amp;at_campaign=KARANGA">British child among injured in French park attack</a></li><li class="ttt" data-tt="<b>Teen on e-bike dies after being followed by police in Salford</b><br/>The 15-year-old boy collided with a parked ambulance after he was followed by police traffic officers."><a href="https://www.bbc.co.uk/news/uk-65850704?at_medium=RSS&amp;at_campaign=KARANGA">Teen on e-bike dies after being followed by police in Salford</a></li><li class="ttt" data-tt="<b>Weekend hot weather alert escalated to amber</b><br/>High temperatures from Friday could affect all ages and impact the health service, a UK agency says."><a href="https://www.bbc.co.uk/news/uk-65849525?at_medium=RSS&amp;at_campaign=KARANGA">Weekend hot weather alert escalated to amber</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-65841666?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2745/production/_130035001_mediaitem130034999.jpg" class="ttt" data-tt="Attacker with knife" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Canada wildfires: US East Coast sees worst air quality in years</b><br/>US President Joe Biden says the dense cloak of smoke is a &quot;stark reminder&quot; of climate change." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65828469?at_medium=RSS&amp;at_campaign=KARANGA">Canada wildfires: US East Coast sees worst air quality in years</a></li><li class="ttt" data-tt="<b>Canada wildfires: Global help arrives as Quebec fights ‘historic’ fires</b><br/>With crews on the ground working 14-hour days, Quebec is welcoming help from France and the US."><a href="https://www.bbc.co.uk/news/world-us-canada-65850628?at_medium=RSS&amp;at_campaign=KARANGA">Canada wildfires: Global help arrives as Quebec fights ‘historic’ fires</a></li><li class="ttt" data-tt="<b>Air quality: How to protect yourself from Canada wildfire smoke</b><br/>With toxic air quality in parts of North America likely to persist, here\'s what you can do to stay safe."><a href="https://www.bbc.co.uk/news/world-us-canada-65843485?at_medium=RSS&amp;at_campaign=KARANGA">Air quality: How to protect yourself from Canada wildfire smoke</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65828469?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/BEF3/production/_130038884_661d7fdfa489e56874f234d0adbc0d4a72d01ff5.jpg" class="ttt" data-tt="Lincoln Memorial in Washington DC" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>France stabbing: Children attacked in Annecy park in stable condition</b><br/>All four children are in hospital and officials have told the BBC they are in a stable condition." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-65841666?at_medium=RSS&amp;at_campaign=KARANGA">France stabbing: Children attacked in Annecy park in stable condition</a></li><li class="ttt" data-tt="<b>Canada wildfires: US East Coast sees worst air quality in years</b><br/>US President Joe Biden says the dense cloak of smoke is a &quot;stark reminder&quot; of climate change."><a href="https://www.bbc.co.uk/news/world-us-canada-65828469?at_medium=RSS&amp;at_campaign=KARANGA">Canada wildfires: US East Coast sees worst air quality in years</a></li><li class="ttt" data-tt="<b>El Niño planet-warming weather phase has begun</b><br/>Storms, droughts and record high temperatures lie ahead as US scientists confirm El Niño has arrived."><a href="https://www.bbc.co.uk/news/science-environment-65839060?at_medium=RSS&amp;at_campaign=KARANGA">El Niño planet-warming weather phase has begun</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-65841666?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/2745/production/_130035001_mediaitem130034999.jpg" class="ttt" data-tt="Attacker with knife" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Canadian Grand Prix: F1 says race \'not at risk\' despite air-quality issues from wildfires</b><br/>Next weekend\'s Canadian Grand Prix is &quot;not at risk&quot; despite wildfires causing air-quality issues across much of North America, Formula 1 says." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65847424?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix: F1 says race \'not at risk\' despite air-quality issue...</a></li><li class="ttt" data-tt="<b>Charles Leclerc: Ferrari driver\'s race helmet breaks record at Emilia-Romagna flood auction</b><br/>Charles Leclerc\'s Monaco GP helmet becomes the highest-priced one ever auctioned, breaking the record set by a helmet worn by Ayrton Senna."><a href="https://www.bbc.co.uk/sport/formula1/65850693?at_medium=RSS&amp;at_campaign=KARANGA">Charles Leclerc: Ferrari driver\'s race helmet breaks record at Emilia-Roma...</a></li><li class="ttt" data-tt="<b>Nikita Mazepin: Russian driver loses High Court case to lift British sanctions</b><br/>Russian racing driver Nikita Mazepin loses his High Court bid against the UK government to get sanctions against him lifted."><a href="https://www.bbc.co.uk/sport/formula1/65847404?at_medium=RSS&amp;at_campaign=KARANGA">Nikita Mazepin: Russian driver loses High Court case to lift British sanctions</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65847424?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/4437/production/_130036471_wildfires.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Twitch scraps ad changes after streamers leave platform</b><br/>One streamer tells BBC News this is the push he needed to leave the platform altogether." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65834521?at_medium=RSS&amp;at_campaign=KARANGA">Twitch scraps ad changes after streamers leave platform</a></li><li class="ttt" data-tt="<b>Warning firms may use brain data to watch workers</b><br/>The data watchdog examined a range of potential future uses of “neurotech” in a new report."><a href="https://www.bbc.co.uk/news/technology-65822889?at_medium=RSS&amp;at_campaign=KARANGA">Warning firms may use brain data to watch workers</a></li><li class="ttt" data-tt="<b>Crypto: 24-hour cooling-off period included in ad overhaul</b><br/>Crypto bosses could face up to two years\' imprisonment if they fail to comply with the new rules."><a href="https://www.bbc.co.uk/news/technology-65834528?at_medium=RSS&amp;at_campaign=KARANGA">Crypto: 24-hour cooling-off period included in ad overhaul</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65834521?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/ED7F/production/_126799706_gettyimages-1235589070.jpg" class="ttt" data-tt="Twitch logo on a phone" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"5 Jun – 11 Jun","date":16862688E5,"ts":"Fri, 9","ds":"Fri, 9 Jun","icon":4,"desc":"Afternoon clouds.","temp":21,"templow":9,"cf":21,"wind":15,"wd":70,"hum":66,"pc":0},{"date":16863552E5,"ts":"Sat, 10","ds":"Sat, 10 Jun","icon":21,"desc":"Isolated tstorms late. Overcast.","temp":25,"templow":11,"cf":26,"wind":12,"wd":120,"hum":59,"pc":16,"rain":1.2 },{"date":16864416E5,"ts":"Sun, 11","ds":"Sun, 11 Jun","icon":21,"desc":"Scattered tstorms late. Overcast.","temp":24,"templow":15,"cf":25,"wind":4,"wd":150,"hum":65,"pc":47,"rain":3.8 },{"hl":true,"hls":"12 Jun – 18 Jun","date":1686528E6,"ts":"Mon, 12","ds":"Mon, 12 Jun","icon":21,"desc":"Scattered tstorms late. Overcast.","temp":25,"templow":16,"cf":26,"wind":5,"wd":70,"hum":57,"pc":50,"rain":3.9 },{"date":16866144E5,"ts":"Tue, 13","ds":"Tue, 13 Jun","icon":7,"desc":"Cloudy.","temp":24,"templow":11,"cf":25,"wind":10,"wd":80,"hum":43,"pc":19,"rain":0.8 },{"date":16867008E5,"ts":"Wed, 14","ds":"Wed, 14 Jun","icon":1,"desc":"Sunny.","temp":22,"templow":9,"cf":25,"wind":10,"wd":80,"hum":51,"pc":0},{"date":16867872E5,"ts":"Thu, 15","ds":"Thu, 15 Jun","icon":4,"desc":"Afternoon clouds.","temp":23,"templow":8,"cf":25,"wind":4,"wd":30,"hum":46,"pc":2},{"date":16868736E5,"ts":"Fri, 16","ds":"Fri, 16 Jun","icon":33,"desc":"Showers late. Afternoon clouds.","temp":22,"templow":12,"cf":25,"wind":2,"wd":30,"hum":55,"pc":44,"rain":1.3 },{"date":168696E7,"ts":"Sat, 17","ds":"Sat, 17 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":22,"templow":13,"cf":24,"wind":4,"wd":50,"hum":62,"pc":17,"rain":0.3 },{"date":16870464E5,"ts":"Sun, 18","ds":"Sun, 18 Jun","icon":21,"desc":"A few tstorms. Scattered clouds.","temp":22,"templow":13,"cf":22,"wind":5,"wd":180,"hum":75,"pc":77,"rain":2.5 },{"hl":true,"hls":"19 Jun – 25 Jun","date":16871328E5,"ts":"Mon, 19","ds":"Mon, 19 Jun","icon":7,"desc":"Cloudy.","temp":22,"templow":13,"cf":24,"wind":5,"wd":200,"hum":61,"pc":6},{"date":16872192E5,"ts":"Tue, 20","ds":"Tue, 20 Jun","icon":7,"desc":"Cloudy.","temp":22,"templow":14,"cf":25,"wind":9,"wd":170,"hum":54,"pc":6},{"date":16873056E5,"ts":"Wed, 21","ds":"Wed, 21 Jun","icon":4,"desc":"Breaks of sun late.","temp":22,"templow":14,"cf":25,"wind":10,"wd":230,"hum":47,"pc":6},{"date":1687392E6,"ts":"Thu, 22","ds":"Thu, 22 Jun","icon":2,"desc":"Scattered clouds.","temp":20,"templow":13,"cf":20,"wind":14,"wd":230,"hum":64,"pc":6},{"date":16874784E5,"ts":"Fri, 23","ds":"Fri, 23 Jun","icon":33,"desc":"Showers early. Partly cloudy.","temp":20,"templow":13,"cf":18,"wind":9,"wd":240,"hum":60,"pc":47,"rain":0.4 }],"grid":{"temp":{"low":8,"high":25,"range":17},"prec":{"high":3.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2306/ic1396ASI294large_1030.jpg',
		Title:     'Elephant\'s Trunk and Caravan',
		LinkImage: 'https://apod.nasa.gov/apod/image/2306/ic1396ASI294large.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230608.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/King_Girvan_Yuddhavikram_Shah_%281797-1816%29_%28restoration%29.jpg/350px-King_Girvan_Yuddhavikram_Shah_%281797-1816%29_%28restoration%29.jpg',
		Title:    'Girvan Yuddha Bikram Shah',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Girvan_Yuddha_Bikram_Shah',
		Description: '    <b><a href="/wiki/Girvan_Yuddha_Bikram_Shah" title="Girvan Yuddha Bikram Shah">Girvan Yuddha Bikram Shah</a></b> (1797–1816) was the fourth <a href="/wiki/List_of_monarchs_of_Nepal" title="List of monarchs of Nepal">king of Nepal</a>, ruling from 1799 to 1816. This drawing of the king was produced by an unknown artist around 1815 with opaque watercolor and gold on paper, and is now in the collection of the <a href="/wiki/Los_Angeles_County_Museum_of_Art" title="Los Angeles County Museum of Art">Los Angeles County Museum of Art</a>.<small style="display: block; margin-top: 0.8em;">Illustration credit: unknown; restored by <a href="/wiki/User:CAPTAIN_MEDUSA" title="User:CAPTAIN MEDUSA">Captain Medusa</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686279600,"duration":9000,"svcId":700,"evtId":7575,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Garden Rescue","description":"9\/35. Flo and Charlie are in Leeds to create a safe, sensory, Scandi-themed garden for Donna, Daniel and their two girls. [S] [HD]","startTime":1686288600,"duration":2700,"svcId":700,"evtId":7522,"image":"\/ms\/img\/epg\/rb\/8df1-p0frdm4w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686238206,"availabilityEnd":1718465419,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mps2\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":9},{"name":"Clean It, Fix It","description":"9\/20. The team are in Bedford, visiting single mum Katie. In just 24 hours, on a limited budget, they turn her lacklustre bedroom into a relaxing space. [S] [HD]","startTime":1686291300,"duration":2700,"svcId":700,"evtId":7523,"image":"\/ms\/img\/epg\/rb\/8df1-p0frf25x.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686240884,"availabilityEnd":1719159287,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mps7\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":9},{"name":"Gardeners\u0027 World","description":"A special programme from the first big flower show of the season - the RHS Malvern Spring Festival. Rachel de Thame and Nick Bailey explore show gardens packed full of ideas. [S,SL] [HD]","startTime":1686294000,"duration":3600,"svcId":700,"evtId":7524,"image":"\/ms\/img\/epg\/rb\/8df1-p0fmytlb.jpg","hasTstv":false,"episodeNo":9},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1686297600,"duration":7200,"svcId":700,"evtId":7525,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1686304800,"duration":4500,"svcId":700,"evtId":7526,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Politics UK","description":"Leila Nathoo presents highlights of parliamentary proceedings from across the UK. [S] [HD]","startTime":1686309300,"duration":2700,"svcId":700,"evtId":7527,"image":"\/ms\/img\/epg\/rb\/8df1-p09vcvtl.jpg","hasTstv":false},{"name":"Impossible","description":"15\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1686312000,"duration":2700,"svcId":700,"evtId":7528,"image":"\/ms\/img\/epg\/rb\/8df1-p04lwpn2.jpg","hasTstv":false,"seriesNo":6,"episodeNo":15},{"name":"Eggheads","description":"Jeremy Vine hosts the show where every day a new team of challengers take on probably the greatest quiz team in Britain. [S] [HD]","startTime":1686314700,"duration":1800,"svcId":700,"evtId":7529,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":21,"episodeNo":6},{"name":"Hairy Bikers\u0027 Bakeation","description":"4\/8. The halfway point of the Hairy Bikers\u0027 Bakeation sees them journey to the furthest reaches of Europe culminating in a family party thrown by Dave\u0027s wife Lil. [S] [HD]","startTime":1686316500,"duration":1800,"svcId":700,"evtId":7530,"image":"\/ms\/img\/epg\/rb\/8df1-p08mpv78.jpg","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"A Countryside Summer","description":"15\/15. Iolo Williams goes in search of a pair of hen harriers in Snowdonia, and Tom Kerridge show us how to make his special version of Eton mess. [S,AD] [HD]","startTime":1686318300,"duration":1800,"svcId":700,"evtId":7531,"image":"\/ms\/img\/epg\/rb\/8df1-p0cryhqs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662019200,"availabilityEnd":1693555200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001b73b\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":15},{"name":"Lost Land of the Jaguar","description":"3\/3. Explorers search the last unspoilt jungle. The climbers struggle up a huge tabletop mountain, Justine Evans looks for giant anteaters, and George and Gordon battle along a river. [S,AD] [HD]","startTime":1686320100,"duration":3600,"svcId":700,"evtId":7532,"image":"\/ms\/img\/epg\/rb\/8df1-p08ln2nn.jpg","hasTstv":false,"episodeNo":3},{"name":"Celebrity Antiques Road Trip","description":"20\/20. Comedians Jamali Maddix and Bobby Mair battle for the best punchline and most profitable antique with experts Natasha Raskin-Sharp and Angus Ashworth. [S] [HD]","startTime":1686323700,"duration":3600,"svcId":700,"evtId":7533,"image":"\/ms\/img\/epg\/rb\/8df1-p08415cz.jpg","hasTstv":false,"seriesNo":9,"episodeNo":20},{"name":"Flog It!","description":"Antiques series. This episode comes from the National Maritime Museum, Cornwall, based in Falmouth. Items uncovered include an unusual tortoise and an electric guitar. [S] [HD]","startTime":1686327300,"duration":2700,"svcId":700,"evtId":7534,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":14,"episodeNo":22},{"name":"Richard Osman\u0027s House of Games","description":"75\/140. Nina Conti, Nick Helm, Athena Kugblenu and Toby Tarrant test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1686330000,"duration":1800,"svcId":700,"evtId":7535,"image":"\/ms\/img\/epg\/rb\/8df1-p0b3kkt0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1637951400,"availabilityEnd":1669487400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0011xgd\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":75},{"name":"Great Coastal Railway Journeys","description":"15\/20. Michael Portillo begins the final leg of his railway journey, beginning in the harbour town of Dun Laoghaire. [S,AD] [HD]","startTime":1686331800,"duration":1800,"svcId":700,"evtId":7536,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwgz5.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685941200,"availabilityEnd":1718168400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mqfj\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":15},{"name":"Villages by the Sea - Cley next...","description":"...the Sea. Archaeologist Ben Robinson discovers how Dutch settlers in the 1500s transformed the Norfolk village of Cley next the Sea. [S] [HD]","startTime":1686333600,"duration":1800,"svcId":700,"evtId":7537,"image":"\/ms\/img\/epg\/rb\/8df1-p0cy2tdy.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1667466000,"availabilityEnd":1699002000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bw7r\u0026ui_id=4.0.0"},"seriesNo":4},{"name":"Beechgrove Garden","description":"10\/26. June sees Beechgrove Garden burst into colour, with lots more jobs to get on with. Scott is in the picket garden taking away an ornamental arch. [S] [HD]","startTime":1686335400,"duration":1800,"svcId":700,"evtId":7538,"image":"\/ms\/img\/epg\/rb\/8df1-p0fskl0d.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686252680,"availabilityEnd":2043032340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001mqfl\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":10},{"name":"Gardeners\u0027 World","description":"Featuring Ramona Jones, who was diagnosed with autism in her twenties and discovered how she can find her true identity when she\u0027s in the garden. [S] [HD]","startTime":1686337200,"duration":3600,"svcId":700,"evtId":7539,"image":"\/ms\/img\/epg\/rb\/8df1-p08jbf3w.jpg","hasTstv":false,"episodeNo":12},{"name":"Hidden Treasures of the...","description":"...National Trust. 5\/6. Featuring reinforcements to Churchill\u0027s D-Day map and wallpaper under attack from insects. [S,AD] [HD]","startTime":1686340800,"duration":3600,"svcId":700,"evtId":7540,"image":"\/ms\/img\/epg\/rb\/8df1-p0frwygq.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Mortimer \u0026 Whitehouse Gone Fishing","description":"3\/6. Paul and Bob catch the sleeper train to the Scottish Highlands to fish for ferox trout. Bob can\u0027t resist the challenge to look for Nessie in the vast waters of Loch Ness. [S,AD] [HD]","startTime":1686344400,"duration":1800,"svcId":700,"evtId":7541,"image":"\/ms\/img\/epg\/rb\/8df1-p0d0kjvc.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1664956800,"availabilityEnd":1698538069,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001cc4d\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":3},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Faisal Islam. [S] [HD]","startTime":1686346200,"duration":1800,"svcId":700,"evtId":7542,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1686348000,"duration":300,"svcId":700,"evtId":7543,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"The Roads Not Taken","description":"Molly juggles her father\u0027s condition with keeping her hopes of an important job alive. Contains strong language. [2018] [S] [HD]","startTime":1686348300,"duration":4800,"svcId":700,"evtId":7544,"image":"\/ms\/img\/epg\/rb\/8df1-p0fr8jsj.jpg","hasTstv":false},{"name":"Ultra-Processed Food: A Recipe...","description":"...for Ill Health? - Panorama. Investigating a link between chemicals in ultra-processed foods and cancer and diabetes. [S,SL] [HD]","startTime":1686353100,"duration":1800,"svcId":700,"evtId":7545,"image":"\/ms\/img\/epg\/rb\/8df1-p0frlmrd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686231636,"availabilityEnd":1717563600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001mp67\u0026ui_id=4.0.0"},"episodeNo":34},{"name":"Once Upon a Time in Northern...","description":"...Ireland. 2\/5. A deeply segregated society emerges as the violence escalates. Contains strong language and scenes which some viewers may find disturbing. [S,AD,SL] [HD]","startTime":1686354900,"duration":3900,"svcId":700,"evtId":7546,"image":"\/ms\/img\/epg\/rb\/8df1-p0fp7cf9.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Forensics: The Real CSI","description":"3\/4. West Midlands Police work with fire investigators to identify who is responsible for a major fire at a factory in Birmingham. [S,AD,SL] [HD]","startTime":1686358800,"duration":3600,"svcId":700,"evtId":7547,"image":"\/ms\/img\/epg\/rb\/8df1-p0fqmgnn.jpg","hasTstv":false,"seriesNo":3,"episodeNo":3},{"name":"Strike: Inside the Unions","description":"2\/2. Following the escalation of the biggest workers\u0027 movement in a generation. Contains some strong language. [S,SL] [HD]","startTime":1686362400,"duration":3600,"svcId":700,"evtId":7548,"image":"\/ms\/img\/epg\/rb\/8df1-p0fpxxcy.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686366000,"duration":9300,"svcId":700,"evtId":7549,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Couples Come Dine with Me","description":"In Cornwall, there are Friesian cows, pitchforks and zombie apocalypse advice, in an eclectic edition of the dining competition.  [S]","startTime":1686279300,"duration":3000,"svcId":1500,"evtId":28193,"image":"\/ms\/img\/epg\/rb\/5d52-393012812.l.png","hasTstv":false,"seriesNo":2,"episodeNo":38},{"name":"Fame in the Family","description":"Legendary 80s TV chef Rustie Lee delights her diners with incredible stories from her past. But can any of them spot the clues to correctly work out that they\u0027re related to Rustie? (Ep4\/15)  [S]","startTime":1686282300,"duration":1500,"svcId":1500,"evtId":28159,"image":"\/ms\/img\/epg\/rb\/5d52-414891871.l.png","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Location, Location, Location","description":"Phil Spencer revisits Keon and Zoe in London, and Laura and Phil in Bath, to catch up on the latest in their lives and find out what happened next with their property searches. (S30 Ep7\/8)  [S]","startTime":1686283800,"duration":3300,"svcId":1500,"evtId":28156,"image":"\/ms\/img\/epg\/rb\/5d52-7710760.l.png","hasTstv":false,"seriesNo":30,"episodeNo":7},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Jon Culshaw joins Susie Dent in Dictionary Corner.  [S]","startTime":1686287100,"duration":2400,"svcId":1500,"evtId":27645,"image":"\/ms\/img\/epg\/rb\/5d52-7710636.l.png","hasTstv":false},{"name":"Cheers","description":"Visiting Lecher: A marriage guidance expert who is an old friend of Frasier\u0027s comes to town on a book tour. But while preaching marital fidelity, he makes a pass at Rebecca... (S7 Ep22\/22)  [S]","startTime":1686289500,"duration":1500,"svcId":1500,"evtId":27646,"image":"\/ms\/img\/epg\/rb\/5d52-582462.l.png","hasTstv":false,"seriesNo":7,"episodeNo":22},{"name":"Cheers","description":"The Improbable Dream (Part 1): Rebecca has erotic dreams about Sam. Fearing for her sanity, she asks Frasier and Lilith for advice. But then a rich man sweeps her off her feet. (S8 Ep1\/26)  [S]","startTime":1686291000,"duration":1500,"svcId":1500,"evtId":27647,"image":"\/ms\/img\/epg\/rb\/5d52-584857.l.png","hasTstv":false,"seriesNo":8,"episodeNo":1},{"name":"The King of Queens","description":"Business Affairs: Doug is jealous of Carrie\u0027s close relationship with a gay colleague. Arthur is jealous of a dog. (S5 Ep6\/25)  [AD,S]","startTime":1686292500,"duration":1500,"svcId":1500,"evtId":27648,"image":"\/ms\/img\/epg\/rb\/5d52-380804994.l.png","hasTstv":false,"seriesNo":5,"episodeNo":6},{"name":"The King of Queens","description":"Flame Resistant: Carrie gets jealous of Doug\u0027s ex-girlfriend\u0027s relationship with Doug\u0027s mother. (S5 Ep7\/25)  [AD,S]","startTime":1686294000,"duration":1500,"svcId":1500,"evtId":27649,"image":"\/ms\/img\/epg\/rb\/5d52-380807321.l.png","hasTstv":false,"seriesNo":5,"episodeNo":7},{"name":"Frasier","description":"And the Whimper Is...: Frasier and Roz are nominated for broadcasting awards but are then tempted to bribe the judges with gifts. (S1 Ep18)  [AD,S]","startTime":1686295500,"duration":1800,"svcId":1500,"evtId":27650,"image":"\/ms\/img\/epg\/rb\/5d52-298865.l.png","hasTstv":false,"seriesNo":1,"episodeNo":18},{"name":"Frasier","description":"Give Him the Chair!: Frasier feels guilty when he loses his father\u0027s chair and learns that sentiment is more important than style. (S1 Ep19)  [AD,S]","startTime":1686297300,"duration":1800,"svcId":1500,"evtId":27651,"image":"\/ms\/img\/epg\/rb\/5d52-300780.l.png","hasTstv":false,"seriesNo":1,"episodeNo":19},{"name":"Frasier","description":"Fortysomething: Confronted with the prospect of ageing, Frasier has a mid-life crisis and considers chasing a younger woman to prove that he still has some youthful vitality. (S1 Ep20)  [AD,S]","startTime":1686299100,"duration":1800,"svcId":1500,"evtId":27652,"image":"\/ms\/img\/epg\/rb\/5d52-302519.l.png","hasTstv":false,"seriesNo":1,"episodeNo":20},{"name":"Find It, Fix It, Flog It","description":"In Wiltshire, Henry Cole and Gemma Longworth restore a vintage car, a weaving loom and a dough proving bin. (S7 Ep11)  [AD,S]","startTime":1686300900,"duration":3600,"svcId":1500,"evtId":27653,"image":"\/ms\/img\/epg\/rb\/5d52-6149056.l.png","hasTstv":false,"seriesNo":7,"episodeNo":11},{"name":"Couples Come Dine with Me","description":"There\u0027s a clash of the menus in Essex as Kellie and Scott, and Stuart and Jamie, serve near-identical dishes. Can happy-go-lucky Lisa and cabbie Nick steal the top spot?  [S]","startTime":1686304500,"duration":3600,"svcId":1500,"evtId":27654,"image":"\/ms\/img\/epg\/rb\/5d52-cook.genre.l.png","hasTstv":false,"seriesNo":4,"episodeNo":29},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1686308100,"duration":300,"svcId":1500,"evtId":27655,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Live: Steph\u0027s Packed Lunch","description":"Steph McGovern presents her live lunchtime show featuring celebrity guests, fantastic food and the best entertainment, lifestyle and consumer stories making the headlines.  [S]","startTime":1686308400,"duration":7800,"svcId":1500,"evtId":27656,"image":"\/ms\/img\/epg\/rb\/5d52-7710772.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Paul Sinha joins Susie Dent in Dictionary Corner.  [S]","startTime":1686316200,"duration":3000,"svcId":1500,"evtId":27657,"image":"\/ms\/img\/epg\/rb\/5d52-7710774.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Lee Juggurnauth helps Ash and Anila find their dream holiday home in Torrevieja on Spain\u0027s Costa Blanca. Can they get the perfect place with a pool for all the family to enjoy for \u00a3135,000?  [S]","startTime":1686319200,"duration":3600,"svcId":1500,"evtId":27658,"image":"\/ms\/img\/epg\/rb\/5d52-404121405.l.png","hasTstv":false},{"name":"The Great House Giveaway","description":"In Somercotes in Derbyshire, strangers Jaspal and Chantelle team up to transform a run-down wreck into a modern family home. But tensions between them threaten to scupper the work. (S3 Ep5)  [S]","startTime":1686322800,"duration":3600,"svcId":1500,"evtId":27659,"image":"\/ms\/img\/epg\/rb\/5d52-5884186.l.png","hasTstv":false,"seriesNo":3,"episodeNo":5},{"name":"Sarah Beeny\u0027s New Country Lives","description":"James and Jodie set out to renovate an old dairy farm\u0027s dilapidated farmhouse, but it\u0027s an overwhelming challenge, so where should they start? (Ep10)  [AD,S]","startTime":1686326400,"duration":3600,"svcId":1500,"evtId":27660,"image":"\/ms\/img\/epg\/rb\/5d52-7710776.l.png","hasTstv":false,"seriesNo":1,"episodeNo":10},{"name":"The Simpsons","description":"Flanders\u0027 Ladder: Bart is struck by lightning and has horrible dreams. Maude Flanders returns to seek revenge. (S29 Ep21\/21)  [AD,S]","startTime":1686330000,"duration":1800,"svcId":1500,"evtId":27661,"image":"\/ms\/img\/epg\/rb\/5d52-290253477.l.png","hasTstv":false,"seriesNo":29,"episodeNo":21},{"name":"Hollyoaks","description":"Warren shows some sensitivity, Rayne\u0027s dark side is exposed to Nadira, Tom has a difficult conversation with Steph, and an unexpected note proves to be a source of strength for Peri.  [AD,S]","startTime":1686331800,"duration":1800,"svcId":1500,"evtId":27662,"image":"\/ms\/img\/epg\/rb\/5d52-7710777.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1686333600,"duration":3600,"svcId":1500,"evtId":27663,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: The Big Interiors Battle","description":"The Final: The two remaining designers take on the huge task of making their hallways welcoming yet practical. Whose rite of passage will win them their \u00a3250k apartment? (Ep8\/8)  [AD,S]","startTime":1686337200,"duration":3600,"svcId":1500,"evtId":27664,"image":"\/ms\/img\/epg\/rb\/5d52-7710779.l.png","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"New: Gogglebox","description":"Britain\u0027s sharpest armchair critics share their insightful and passionate takes on the  best TV shows of the current series. (S21 Ep16)  [AD,S]","startTime":1686340800,"duration":3600,"svcId":1500,"evtId":27665,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":21,"episodeNo":16},{"name":"New: The Lateish Show with Mo...","description":"...Gilligan: Romesh Ranganathan, Adam Lambert, Yvonne Orji and Motsi Mabuse are in the house for another raucous evening with Mo, with live music from garage legends So Solid Crew. (S4 Ep6) [S,W]","startTime":1686344400,"duration":3900,"svcId":1500,"evtId":27666,"image":"\/ms\/img\/epg\/rb\/5d52-7710782.l.png","hasTstv":false,"seriesNo":4,"episodeNo":6},{"name":"Sarah Millican: Thoroughly...","description":"...Modern Millican Live: British Comedy Award-winning Sarah Millican presents her brand of glorious, mumsy filth, recorded live at the Hammersmith Apollo in London.  [S]","startTime":1686348300,"duration":3900,"svcId":1500,"evtId":27667,"image":"\/ms\/img\/epg\/rb\/5d52-377900661.l.png","hasTstv":false},{"name":"Spell","description":"(2020) Supernatural horror. After crashing a plane carrying his family, Marquis wakes up in a witch\u0027s attic - with no obvious way out. Strong violence \u0026 language, some that may offend.  [S]","startTime":1686352200,"duration":5400,"svcId":1500,"evtId":27668,"image":"\/ms\/img\/epg\/rb\/5d52-3669732.l.png","hasTstv":false},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon Ramsay visits West Dover in Vermont, where the dog-friendly Four Seasons Inn is run like a hostel - with unpaid staff, instead of paying guests, staying in the rooms. (S2 Ep5\/8)  [AD,S]","startTime":1686357600,"duration":2700,"svcId":1500,"evtId":28157,"image":"\/ms\/img\/epg\/rb\/5d52-134061831.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Come Dine with Me","description":"Edinburgh. The first host, Canadian comedian Larah, plans a night of fine dining. It\u0027s an entertaining evening, featuring wonderful wigs and celebrity selfies. (Ep1\/5)  [AD,S]","startTime":1686360300,"duration":1500,"svcId":1500,"evtId":27669,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Caf\u00e9 owner Nutan hopes to impress her guests with her happy-go-lucky attitude and authentic north Indian menu. But eagle-eyed Sindiso scrutinises her food. (Ep2\/5)  [AD,S]","startTime":1686361800,"duration":1500,"svcId":1500,"evtId":27670,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. South African-born family man Sindiso hosts the third night. Can his spicy chakalaka make up for the criticism he dished out earlier in the week? (Ep3\/5)  [AD,S]","startTime":1686363300,"duration":1800,"svcId":1500,"evtId":27671,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Security company manager Anne plans to calm the simmering tension with a homely, relaxed atmosphere, on a night featuring strange collections and weird celebrity crushes. (Ep4\/5)  [AD,S]","startTime":1686365100,"duration":1500,"svcId":1500,"evtId":27672,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Edinburgh. Pilot James hopes that a touch of sophistication in his high-flying menu will land him safely in first place. But can he keep the peace between his guests? (Ep5\/5)  [AD,S]","startTime":1686366600,"duration":1500,"svcId":1500,"evtId":27673,"image":"\/ms\/img\/epg\/rb\/5d52-game.genre.l.png","hasTstv":false},{"name":"Sunday Brunch Best Bits","description":"Guest chef Big Zuu makes cheeseburger quesadillas in a highlight from Sunday Brunch, presented by Tim Lovejoy and Simon Rimmer.  [S]","startTime":1686368100,"duration":900,"svcId":1500,"evtId":28158,"image":"\/ms\/img\/epg\/rb\/5d52-6236589.l.png","hasTstv":false},{"name":"Fame in the Family","description":"Pop star Kerry Katona, who\u0027s keen to find another member of her family, cooks dinner for guests she\u0027s never met. Can any of her diners correctly guess that they\u0027re related to her? (Ep5\/15)  [S]","startTime":1686369000,"duration":1500,"svcId":1500,"evtId":28189,"image":"\/ms\/img\/epg\/rb\/5d52-414891927.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('28');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('37');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'ahotOBqUoKI', title: "Fiorentina v West Ham (1-2) | 90th Minute Hammers Winner! | Europa Conference League Highlights", label: "Fiorentina v West Ham (1-2) | 90th Minute Hammers Winner! | Europa Conference League Highlights by BT Sport 1 day ago 5 minutes, 34 seconds 1,332,677 views" },
{ id: 'fU1n1m54L64', title: "West Ham Changing Room Celebrations | Europa Conference League Final | Fiorentina 1-2 West Ham", label: "West Ham Changing Room Celebrations | Europa Conference League Final | Fiorentina 1-2 West Ham by West Ham United FC 16 hours ago 2 minutes, 48 seconds 347,754 views" },
{ id: 'E6-gHTuyaew', title: "DISGRACE! Sir Jim \u0026 Glazers Scammed us all! Goldbridge Man Utd News", label: "DISGRACE! Sir Jim \u0026 Glazers Scammed us all! Goldbridge Man Utd News by The United Stand 17 hours ago 9 minutes, 27 seconds 301,104 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Canada.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Canadian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>18 June</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "02 June 2023 -  08 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/51376/harry-styles/'>harry styles</a>", Title: "<a href='https://www.officialcharts.com/search/singles/as-it-was/'>AS IT WAS</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/411key4w0jL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/64099/switch-disco-and-ella-henderson/'>switch disco &amp; ella henderson</a>", Title: "<a href='https://www.officialcharts.com/search/singles/react/'>REACT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/414-%2BSyvqzL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>£174.12"},
{ number: 175.07, tooltip: "Tue, May 23, 2023<br/>£175.07"},
{ number: 176.72, tooltip: "Mon, May 22, 2023<br/>£176.72"},
{ number: 176.08, tooltip: "Fri, May 19, 2023<br/>£176.08"},
{ number: 176.41, tooltip: "Thu, May 18, 2023<br/>£176.41"},
{ number: 174.51, tooltip: "Wed, May 17, 2023<br/>£174.51"},
{ number: 173.09, tooltip: "Tue, May 16, 2023<br/>£173.09"},
{ number: 173.84, tooltip: "Mon, May 15, 2023<br/>£173.84"},
{ number: 173.64, tooltip: "Fri, May 12, 2023<br/>£173.64"},
{ number: 173.28, tooltip: "Thu, May 11, 2023<br/>£173.28"},
{ number: 172.48, tooltip: "Wed, May 10, 2023<br/>£172.48"},
{ number: 172.15, tooltip: "Tue, May 09, 2023<br/>£172.15"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Jun 07, 2023",
		"vs Day":      "Tue, Jun 06, 2023",
		"vs Week":     "Wed, May 31, 2023",
		"vs Month":    "Tue, May 09, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£177.93/share",
		'vs Day':      "-0.59%",
		'vs Week':     "+2.28%",
		'vs Month':    "+3.36%",
		'vs Year':     "+4.08%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '70.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-gibbous.html" title="Waning Gibbous on the night between 8 June and 9 June">Waning Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.707&p=3.493&r=0.321',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:45',
		Set:      '21:25',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Etiquette</em> refers to the rules of proper and polite behavior that are expected in social or official life. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23bbcqt">#bbcqt</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23SummerGameFest">#SummerGameFest</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Drake">Drake</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23LoveIsland">#LoveIsland</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Molly">Molly</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%23SummerGameFest">#SummerGameFest</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23DiabloSweepstakes">#DiabloSweepstakes</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Sonic+Superstars%22">Sonic Superstars</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22FF7+Rebirth%22">FF7 Rebirth</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Illumination">Illumination</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>