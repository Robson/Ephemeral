<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:11 17-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Nottingham attacks: Valdo Calocane charged with three counts of murder</b><br/>Barnaby Webber, Grace O\'Malley-Kumar and Ian Coates were stabbed to death on Tuesday." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-65912592?at_medium=RSS&amp;at_campaign=KARANGA">Nottingham attacks: Valdo Calocane charged with three counts of murder</a></li><li class="ttt" data-tt="<b>King\'s Birthday Honours: Ian Wright, Ken Bruce and Davina McCall on list</b><br/>Anna Wintour, Vicky McClure, Terry Waite and Martin Amis are among other big names on the list."><a href="https://www.bbc.co.uk/news/uk-65914516?at_medium=RSS&amp;at_campaign=KARANGA">King\'s Birthday Honours: Ian Wright, Ken Bruce and Davina McCall on list</a></li><li class="ttt" data-tt="<b>Boris Johnson breaks ministerial code with new Daily Mail job</b><br/>Vetting committee say the former prime minister should have cleared his new column with them first."><a href="https://www.bbc.co.uk/news/uk-politics-65930008?at_medium=RSS&amp;at_campaign=KARANGA">Boris Johnson breaks ministerial code with new Daily Mail job</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-england-nottinghamshire-65912592?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/15BA6/production/_130089988_nottsvictims_3panel.jpg" class="ttt" data-tt="Ian Coates, Barnaby Webber and Grace O&#x27;Malley-Kumar" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Daniel Ellsberg: Pentagon Papers whistleblower dies aged 92</b><br/>His 1971 leak exposed lies about the Vietnam War and saw him dubbed &quot;the most dangerous man in America&quot;." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65932944?at_medium=RSS&amp;at_campaign=KARANGA">Daniel Ellsberg: Pentagon Papers whistleblower dies aged 92</a></li><li class="ttt" data-tt="<b>Robert Bowers found guilty of deadly Pittsburgh synagogue attack</b><br/>Robert Bowers has been found guilty in the 2018 attack - the deadliest antisemitic attack in US history."><a href="https://www.bbc.co.uk/news/world-us-canada-65933373?at_medium=RSS&amp;at_campaign=KARANGA">Robert Bowers found guilty of deadly Pittsburgh synagogue attack</a></li><li class="ttt" data-tt="<b>Court artists on their three, very different Trumps</b><br/>Sketching the former president under the greatest scrutiny possible. It\'s a tough job, so how do they do it?"><a href="https://www.bbc.co.uk/news/world-us-canada-65905926?at_medium=RSS&amp;at_campaign=KARANGA">Court artists on their three, very different Trumps</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65932944?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/678D/production/_118790562_gettyimages-1310466333-594x594.jpg" class="ttt" data-tt="Daniel Ellsberg, the whistleblower who leaked the Pentagon Papers" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Ukraine war: Putin confirms first nuclear weapons moved to Belarus</b><br/>Russia\'s leader says the move is to remind anyone &quot;thinking of inflicting a strategic defeat on us&quot;." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-65932700?at_medium=RSS&amp;at_campaign=KARANGA">Ukraine war: Putin confirms first nuclear weapons moved to Belarus</a></li><li class="ttt" data-tt="<b>Greece boat disaster: Up to 500 people still missing says UN</b><br/>The horrific tragedy off Greece underlines the need to bring people smugglers to justice, the UN says."><a href="https://www.bbc.co.uk/news/world-europe-65925558?at_medium=RSS&amp;at_campaign=KARANGA">Greece boat disaster: Up to 500 people still missing says UN</a></li><li class="ttt" data-tt="<b>Greece boat disaster: Brothers\' tearful reunion through gates</b><br/>Eighteen-year-old Fedi was among the survivors of a deadly incident, where hundreds could still be missing."><a href="https://www.bbc.co.uk/news/world-europe-65926133?at_medium=RSS&amp;at_campaign=KARANGA">Greece boat disaster: Brothers\' tearful reunion through gates</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-65932700?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/C51D/production/_130116405_13ebd63771ee17dcb82996e2ca8d6ae7322bb1b70_0_5189_31971000x616.jpg" class="ttt" data-tt="Vladimir Putin" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Canadian Grand Prix: Lewis Hamilton leads Mercedes one-two in Friday practice</b><br/>Lewis Hamilton leads George Russell in a Mercedes one-two in Friday practice at the Canadian Grand Prix." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65935962?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix: Lewis Hamilton leads Mercedes one-two in Friday practice</a></li><li class="ttt" data-tt="<b>Bridgestone lodges bid to replace Pirelli as F1 tyre supplier</b><br/>Japanese company Bridgestone lodges a bid to replace Pirelli as Formula 1\'s tyre supplier from 2025."><a href="https://www.bbc.co.uk/sport/formula1/65920407?at_medium=RSS&amp;at_campaign=KARANGA">Bridgestone lodges bid to replace Pirelli as F1 tyre supplier</a></li><li class="ttt" data-tt="<b>Canadian Grand Prix first practice ended by CCTV failure at Circuit Gilles Villeneuve</b><br/>First practice at the Canadian Grand Prix is abandoned because of a CCTV failure at the Circuit Gilles Villeneuve."><a href="https://www.bbc.co.uk/sport/formula1/65919604?at_medium=RSS&amp;at_campaign=KARANGA">Canadian Grand Prix first practice ended by CCTV failure at Circuit Gilles...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65935962?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/1307/production/_130117840_lewis_hamilton_getty3.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Harry and Meghan: Spotify podcast deal with couple ends</b><br/>The couple\'s company and the streaming firm say the Duchess\'s series Archetypes has been cancelled." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-65924584?at_medium=RSS&amp;at_campaign=KARANGA">Harry and Meghan: Spotify podcast deal with couple ends</a></li><li class="ttt" data-tt="<b>Hacker gang Clop publishes victim names on dark web</b><br/>Criminal hacker group begins posting names of companies to darkweb."><a href="https://www.bbc.co.uk/news/business-65924327?at_medium=RSS&amp;at_campaign=KARANGA">Hacker gang Clop publishes victim names on dark web</a></li><li class="ttt" data-tt="<b>iPhone maker Foxconn to switch to cars as US-China ties sour</b><br/>Foxconn, which makes over half of the world’s Apple products, seeks its next big growth driver."><a href="https://www.bbc.co.uk/news/business-65886658?at_medium=RSS&amp;at_campaign=KARANGA">iPhone maker Foxconn to switch to cars as US-China ties sour</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-65924584?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/DE80/production/_130106965_2a1388b4eaa638ea61781e53eaea8753be65e35d0_0_3764_25091000x667.jpg" class="ttt" data-tt="Meghan Mark and Prince Harry waving as they leave a building." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"12 Jun – 18 Jun","date":168696E7,"ts":"Sat, 17","ds":"Sat, 17 Jun","icon":7,"desc":"Overcast.","temp":22,"templow":13,"cf":25,"wind":6,"wd":70,"hum":44,"pc":3},{"date":16870464E5,"ts":"Sun, 18","ds":"Sun, 18 Jun","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":15,"cf":20,"wind":5,"wd":80,"hum":76,"pc":82,"rain":9.7 },{"hl":true,"hls":"19 Jun – 25 Jun","date":16871328E5,"ts":"Mon, 19","ds":"Mon, 19 Jun","icon":33,"desc":"Passing showers. Broken clouds.","temp":21,"templow":14,"cf":20,"wind":12,"wd":200,"hum":72,"pc":73,"rain":2.3 },{"date":16872192E5,"ts":"Tue, 20","ds":"Tue, 20 Jun","icon":21,"desc":"A few tstorms. Cloudy.","temp":18,"templow":13,"cf":16,"wind":9,"wd":160,"hum":84,"pc":57,"rain":5.8 },{"date":16873056E5,"ts":"Wed, 21","ds":"Wed, 21 Jun","icon":33,"desc":"Passing showers. Mostly cloudy.","temp":20,"templow":11,"cf":20,"wind":11,"wd":230,"hum":68,"pc":44,"rain":1.7 },{"date":1687392E6,"ts":"Thu, 22","ds":"Thu, 22 Jun","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":22,"templow":12,"cf":25,"wind":5,"wd":230,"hum":53,"pc":18,"rain":0.4 },{"date":16874784E5,"ts":"Fri, 23","ds":"Fri, 23 Jun","icon":21,"desc":"Scattered tstorms late. Increasing cloudiness.","temp":22,"templow":12,"cf":24,"wind":4,"wd":200,"hum":60,"pc":22,"rain":2.9 },{"date":16875648E5,"ts":"Sat, 24","ds":"Sat, 24 Jun","icon":33,"desc":"Passing showers. Cloudy.","temp":21,"templow":14,"cf":20,"wind":9,"wd":220,"hum":62,"pc":58,"rain":3.7 },{"date":16876512E5,"ts":"Sun, 25","ds":"Sun, 25 Jun","icon":21,"desc":"Isolated tstorms. Decreasing cloudiness.","temp":21,"templow":14,"cf":20,"wind":8,"wd":220,"hum":79,"pc":56,"rain":4.7 },{"hl":true,"hls":"26 Jun – 2 Jul","date":16877376E5,"ts":"Mon, 26","ds":"Mon, 26 Jun","icon":6,"desc":"Mostly cloudy.","temp":21,"templow":14,"cf":21,"wind":7,"wd":310,"hum":55,"pc":6},{"date":1687824E6,"ts":"Tue, 27","ds":"Tue, 27 Jun","icon":33,"desc":"Passing showers. Breaks of sun late.","temp":21,"templow":14,"cf":21,"wind":7,"wd":280,"hum":51,"pc":51,"rain":0.3 },{"date":16879104E5,"ts":"Wed, 28","ds":"Wed, 28 Jun","icon":7,"desc":"Cloudy.","temp":23,"templow":14,"cf":25,"wind":14,"wd":210,"hum":58,"pc":6},{"date":16879968E5,"ts":"Thu, 29","ds":"Thu, 29 Jun","icon":4,"desc":"Morning clouds.","temp":19,"templow":13,"cf":19,"wind":19,"wd":260,"hum":47,"pc":50,"rain":0.5 },{"date":16880832E5,"ts":"Fri, 30","ds":"Fri, 30 Jun","icon":33,"desc":"Showers late. Mostly cloudy.","temp":21,"templow":12,"cf":17,"wind":15,"wd":240,"hum":56,"pc":47,"rain":0.7 },{"date":16881696E5,"ts":"Sat, 1","ds":"Sat, 1 Jul","icon":21,"desc":"Isolated tstorms late. Breaks of sun late.","temp":22,"templow":13,"cf":18,"wind":18,"wd":260,"hum":57,"pc":46,"rain":1}],"grid":{"temp":{"low":11,"high":23,"range":12},"prec":{"high":9.7},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2306/baltic-sea-timelapse-image600.jpg',
		Title:     'Sunset to Sunrise over the Baltic Sea',
		LinkImage: 'https://apod.nasa.gov/apod/image/2306/baltic-sea-timelapse-image.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230616.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Redhead_in_Central_Park_%2815503%29.jpg/400px-Redhead_in_Central_Park_%2815503%29.jpg',
		Title:    'Redhead (bird)',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Redhead_(bird)',
		Description: '    The <b><a href="/wiki/Redhead_(bird)" title="Redhead (bird)">redhead</a></b> (<i>Aythya americana</i>) is a medium-sized species of diving <a href="/wiki/Duck" title="Duck">duck</a>. The scientific name is derived from the Greek <span title="Ancient Greek (to 1453)-language romanization"><i lang="grc-Latn">aithuia</i></span>, an unidentified seabird mentioned by authors including <a href="/wiki/Hesychius_of_Alexandria" title="Hesychius of Alexandria">Hesychius</a> and <a href="/wiki/Aristotle" title="Aristotle">Aristotle</a>, and Latin <span title="Latin-language text"><i lang="la">americana</i></span>, \'of America\'. It belongs to the genus <i><a href="/wiki/Aythya" title="Aythya">Aythya</a></i>, together with eleven other described species. The redhead and the <a href="/wiki/Common_pochard" title="Common pochard">common pochard</a> form a sister group which together is sister to the <a href="/wiki/Canvasback" title="Canvasback">canvasback</a>. This redhead was photographed in <a href="/wiki/Central_Park" title="Central Park">Central Park</a>, New York.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/User:Rhododendrites" title="User:Rhododendrites">Rhododendrites</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1686968400,"duration":12300,"svcId":700,"evtId":7737,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Hey Duggee","description":"Betty\u0027s First Day. The Squirrels are having fun trying out games but are surprised to find out that Betty didn\u0027t always enjoy playing. [S] [HD]","startTime":1686980700,"duration":300,"svcId":700,"evtId":7767,"image":"\/ms\/img\/epg\/rb\/8df1-p0cw9pyw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662358443,"availabilityEnd":1818212400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bwkn\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":9},{"name":"Hey Duggee","description":"The Choreography Badge. The Squirrels have a dance-off with Chippo and the Rock Slippy Crew. [S] [HD]","startTime":1686981000,"duration":600,"svcId":700,"evtId":7768,"image":"\/ms\/img\/epg\/rb\/8df1-p0cw9kdq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1662358443,"availabilityEnd":1818212400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bwkq\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":10},{"name":"Supertato","description":"Wonder Pea. Evil Pea tricks Supertato by pretending to be his sidekick and captures him instead. [S,AD] [HD]","startTime":1686981600,"duration":300,"svcId":700,"evtId":7769,"image":"\/ms\/img\/epg\/rb\/8df1-p0dssrk0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1673236800,"availabilityEnd":1823655600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dpgn7l\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":23},{"name":"Shaun the Sheep","description":"Return to Sender. Animated Series. The Farmer receives a mystery gift. Unimpressed, he attempts to throw it away, only for it to keep reappearing. [S] [HD]","startTime":1686981900,"duration":600,"svcId":700,"evtId":7770,"image":"\/ms\/img\/epg\/rb\/8df1-p04ftksz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1617246000,"availabilityEnd":1743390000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b083hgf2\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":18},{"name":"Dennis \u0026 Gnasher Unleashed!","description":"We Want to Break Free. Dennis is exasperated to find that he can\u0027t land himself in detention. [S] [HD]","startTime":1686982500,"duration":600,"svcId":700,"evtId":7771,"image":"\/ms\/img\/epg\/rb\/8df1-p08kytv1.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1680231600,"availabilityEnd":1751252400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000lbcw\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":11},{"name":"Boy Girl Dog Cat Mouse Cheese","description":"Gramps Date. Much to the kids\u0027 horror, Gramps starts spending a lot of time with mean Miss Molly! The gang do whatever it takes to keep the two apart! [S] [HD]","startTime":1686983100,"duration":900,"svcId":700,"evtId":7772,"image":"\/ms\/img\/epg\/rb\/8df1-p0bjc3t5.png","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1643615308,"availabilityEnd":1798862400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00142fz\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":22},{"name":"The Deep","description":"Glass Houses. The Nektons help locate a legendary Singaporean glass cabinet. However, they discover it is guarded by a terrifying and familiar creature. [S] [HD]","startTime":1686984000,"duration":1200,"svcId":700,"evtId":7773,"image":"\/ms\/img\/epg\/rb\/8df1-p0c80m9m.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1653930360,"availabilityEnd":1811559600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0c802qy\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":7},{"name":"OOglies Funsize","description":"Episode 6. Stop-motion animation. Fearless Pete Parsnip takes on some pasta bats, and star bar sets off on another trip to the moon. [S] [HD]","startTime":1686985200,"duration":300,"svcId":700,"evtId":7774,"image":"\/ms\/img\/epg\/rb\/8df1-p02ltgjn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1682840116,"availabilityEnd":1686661816,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b05nd0q5\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":6},{"name":"Game on Grandparents","description":"Minecraft. Phoenix and Jon go head to head with Charlie and Anne as they compete for the chance to make it to the Grand Final and become ultimate Game on Grandparents champion. [S] [HD]","startTime":1686985500,"duration":1500,"svcId":700,"evtId":7775,"image":"\/ms\/img\/epg\/rb\/8df1-p0cqwcw8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1660552473,"availabilityEnd":1803009600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001b71h\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"One Zoo Three","description":"Reduce Recycle. The brothers check up on how green they have been. A tiger gets stuck into an old barrel, and a ring-tailed lemur has a special, sparkly snack. [S] [HD]","startTime":1686987000,"duration":1200,"svcId":700,"evtId":7776,"image":"\/ms\/img\/epg\/rb\/8df1-p0dysn5j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1675051200,"availabilityEnd":1795147200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0dt362g\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":5},{"name":"Newsround","description":"17\/06\/2023. Topical news magazine for children. [S] [HD]","startTime":1686988200,"duration":600,"svcId":700,"evtId":7777,"image":"\/ms\/img\/epg\/rb\/8df1-p0chnbfw.jpg","hasTstv":false},{"name":"Blue Peter: Father\u0027s Day Crafts...","description":"...and Firefighters. Father\u0027s Day Crafts and Firefighters. The BP team show how to make an ingenious Father\u0027s Day card which doubles up as a paper aeroplane. [S] [HD]","startTime":1686988800,"duration":1800,"svcId":700,"evtId":7778,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvg2tl.jpg","hasTstv":false,"episodeNo":11},{"name":"Pooch Perfect","description":"4\/8. The cute-as-a-button Pomeranian is the breed of choice in the final heat as four groomers try to achieve the perfect pom-pom shape using just a pair of scissors. [S,AD] [HD]","startTime":1686990600,"duration":3600,"svcId":700,"evtId":7779,"image":"\/ms\/img\/epg\/rb\/8df1-p094q597.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1613033100,"availabilityEnd":1646988300,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000rptw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Family Cooking Showdown","description":"Competitive food show. In the incredibly tough Taste It Now Make It challenge, the families must recreate a Catalan fish stew. [S,AD] [HD]","startTime":1686994200,"duration":3600,"svcId":700,"evtId":7780,"image":"\/ms\/img\/epg\/rb\/8df1-p06pvmt3.jpg","hasTstv":false,"seriesNo":2,"episodeNo":11},{"name":"Food \u0026 Drink: Health \u0026 Happiness","description":"6\/10. Tom Kerridge and Cyrus Todiwala look to reach the heady heights of happiness through healthy food. Joe Wadsack plays a blinder with his tips for healthy red wine. [S,AD] [HD]","startTime":1686997800,"duration":1800,"svcId":700,"evtId":7781,"image":"\/ms\/img\/epg\/rb\/8df1-p02hwpr1.jpg","hasTstv":false,"seriesNo":3,"episodeNo":6},{"name":"Westerns: Talking Pictures","description":"Sylvia Syms looks back through the BBC\u0027s archives to tell the story of what is perhaps cinema\u0027s most enduring and most visual genre. [S] [HD]","startTime":1686999600,"duration":2700,"svcId":700,"evtId":7782,"image":"\/ms\/img\/epg\/rb\/8df1-p07n7gpw.jpg","hasTstv":false},{"name":"The Magnificent Seven","description":"Classic Western. After the latest raid by bandits, the villagers in a small settlement in Mexico band together to hire a group of disparate gunfighters to protect them. [1960] [S] [HD]","startTime":1687002300,"duration":7500,"svcId":700,"evtId":7783,"image":"\/ms\/img\/epg\/rb\/8df1-p0df5nw9.jpg","hasTstv":false},{"name":"Spectacled Bears - Shadows of...","description":"...the Forest. 15\/15. Stephen Fry reveals the little known habits of the spectacled bear - the inspiration behind the famous children\u0027s character Paddington Bear. [S,AD]","startTime":1687009800,"duration":3000,"svcId":700,"evtId":7784,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv9mcg.jpg","hasTstv":false,"seriesNo":28,"episodeNo":15},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Powderham Castle in Devon, with experts Will Axon and Mark Stacey finding treasures to take to auction. [S] [HD]","startTime":1687012800,"duration":2700,"svcId":700,"evtId":7785,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":14,"episodeNo":40},{"name":"Hidden Treasures of the...","description":"...National Trust. 6\/6. Saving a dodo from extinction, a picture\u0027s hidden history and a Victorian garden showpiece. [S,AD] [HD]","startTime":1687015500,"duration":3600,"svcId":700,"evtId":7786,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft990q.jpg","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Dad\u0027s Army","description":"4\/6. Wartime sitcom. Sergeant Wilson\u0027s commitment to Home Guard activities wavers while he has a little problem of his own to contend with. [S]","startTime":1687019100,"duration":1800,"svcId":700,"evtId":7787,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv9ywx.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Trooping the Colour Highlights...","description":"...2023. Highlights of the spectacular military display from Horse Guards Parade in London. [S] [HD]","startTime":1687020900,"duration":5400,"svcId":700,"evtId":7788,"image":"\/ms\/img\/epg\/rb\/8df1-p0fvlwj0.jpg","hasTstv":false},{"name":"Today at the Ashes: England v...","description":"...Australia. Second day highlights of the first Test of the 2023 Ashes between England and Australia. [S] [HD]","startTime":1687026300,"duration":3600,"svcId":700,"evtId":7789,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv1s7r.jpg","hasTstv":false,"seriesNo":8},{"name":"George Michael at the BBC","description":"A collection of George Michael\u0027s best-loved and most acclaimed solo performances and Wham! classics, including such hits as Club Tropicana, Freedom, Faith, Outside and Amazing. [S] [HD]","startTime":1687029900,"duration":5400,"svcId":700,"evtId":7790,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv458z.jpg","hasTstv":false},{"name":"Later... with Jools Holland","description":"5\/6. With Gabriels, Fatoumata Diawara, Grian Chatten, Elmiene, Sharleen Spiteri and more. [S] [HD]","startTime":1687035300,"duration":2700,"svcId":700,"evtId":7791,"image":"\/ms\/img\/epg\/rb\/8df1-p0fv34x4.jpg","hasTstv":false,"seriesNo":77,"episodeNo":5},{"name":"George Michael: Live in London","description":"The former Wham! frontman, George Michael, is filmed at his final two concerts at London\u0027s Earls Court Arena on 24 and 25 August 2008 in front of 40,000 screaming fans. [S] [HD]","startTime":1687038000,"duration":7800,"svcId":700,"evtId":7792,"image":"\/ms\/img\/epg\/rb\/8df1-p0fty6lc.jpg","hasTstv":false},{"name":"Best of Glastonbury 2022","description":"Including Paul McCartney, Billie Eilish, Kendrick Lamar, Olivia Rodrigo and Little Simz. Contains some strong language. [S] [HD]","startTime":1687045800,"duration":7800,"svcId":700,"evtId":7793,"image":"\/ms\/img\/epg\/rb\/8df1-p0cjbw0l.jpg","hasTstv":false,"seriesNo":2022},{"name":"Africa Rising with Afua Hirsch","description":"1\/3. Afua explores how young Moroccans are transforming old traditions into thrilling new art. Contains some strong language. [S,AD] [HD]","startTime":1687053600,"duration":3600,"svcId":700,"evtId":7794,"image":"\/ms\/img\/epg\/rb\/8df1-p0ft1ntv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1686632400,"availabilityEnd":1718254800,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fpwclg\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1687057200,"duration":9300,"svcId":700,"evtId":7795,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Come Dine with Me","description":"Belfast area. Chatty PR manager Claire plans a menu of her restaurant favourites. But she has a challenge on her hands, as she\u0027s never plucked a pheasant before... (Ep1\/5)  [S]","startTime":1686969900,"duration":1500,"svcId":1500,"evtId":28309,"image":"\/ms\/img\/epg\/rb\/5d52-4010885.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Belfast area. Carpenter Neil takes his guests on a weird and wonderful visit to the countryside, featuring country-style cuisine, farmyard animals and a \u0027head in a jar\u0027. (Ep2\/5)  [S]","startTime":1686971400,"duration":1500,"svcId":1500,"evtId":28310,"image":"\/ms\/img\/epg\/rb\/5d52-4010888.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Belfast area. Debonair window-cleaning business owner Paul plans an evening of fancy food and fine dining. For some of his guests, it\u0027s uncharted territory. (Ep3\/5)  [S]","startTime":1686972900,"duration":1500,"svcId":1500,"evtId":28311,"image":"\/ms\/img\/epg\/rb\/5d52-4010893.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Belfast area. DJ and events organiser Ryan hosts an evening of fun, with a hipster band playing in his living room and several crises in the kitchen. (Ep4\/5)  [S]","startTime":1686974400,"duration":1500,"svcId":1500,"evtId":28312,"image":"\/ms\/img\/epg\/rb\/5d52-4010899.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Belfast area. Final host Cailin throws a Eurovision extravaganza, with dishes from across Europe and full-on fancy dress. Can she walk away with the money, money, money? (Ep5\/5)  [S]","startTime":1686975900,"duration":1800,"svcId":1500,"evtId":28313,"image":"\/ms\/img\/epg\/rb\/5d52-4010902.l.png","hasTstv":false},{"name":"Kirstie\u0027s Fill Your House for Free","description":"Can Kirstie Allsopp and the team help Jules, whose rural cottage has been wrecked by a flood, turn a tired living room back into the heart of the home?  [S]","startTime":1686977700,"duration":900,"svcId":1500,"evtId":28574,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":3,"episodeNo":9},{"name":"Everybody Loves Raymond","description":"Italy (Part 2\/2): The family are still on holiday in Rome, where Robert falls for a stunning Italian beauty (Alex Meneses). (S5 Ep2)  [AD,S]","startTime":1686978600,"duration":1500,"svcId":1500,"evtId":27965,"image":"\/ms\/img\/epg\/rb\/5d52-1398366.l.png","hasTstv":false,"seriesNo":5,"episodeNo":2},{"name":"Everybody Loves Raymond","description":"The Wallpaper: Ray finally snaps when Marie drives her car into his house, and Debra is forced to act as peacemaker. (S5 Ep3)  [AD,S]","startTime":1686980100,"duration":1500,"svcId":1500,"evtId":27966,"image":"\/ms\/img\/epg\/rb\/5d52-5081797.l.png","hasTstv":false,"seriesNo":5,"episodeNo":3},{"name":"The King of Queens","description":"Queens\u0027bro Bridge: Doug thinks he might finally be able to get his father-in-law to move out, when he discovers that Arthur has inherited a house nearby. (S5 Ep22\/25)  [AD,S]","startTime":1686981600,"duration":1500,"svcId":1500,"evtId":27967,"image":"\/ms\/img\/epg\/rb\/5d52-382579945.l.png","hasTstv":false,"seriesNo":5,"episodeNo":22},{"name":"The King of Queens","description":"Dog Shelter: Carrie learns that Doug\u0027s parents have been sheltering him from the truth by replacing his beloved dog with lookalike hounds for the past 25 years. (S5 Ep23\/25)  [AD,S]","startTime":1686983100,"duration":1500,"svcId":1500,"evtId":27968,"image":"\/ms\/img\/epg\/rb\/5d52-382431078.l.png","hasTstv":false,"seriesNo":5,"episodeNo":23},{"name":"Frasier","description":"Fool Me Once, Shame on You, Fool Me Twice...: Frasier attempts to work his psychoanalysis on a self-confessed lazy criminal, Phil, who has stolen his briefcase and his car. (S2 Ep14)  [AD,S]","startTime":1686984600,"duration":1500,"svcId":1500,"evtId":27969,"image":"\/ms\/img\/epg\/rb\/5d52-374045.l.png","hasTstv":false,"seriesNo":2,"episodeNo":14},{"name":"Frasier","description":"You Scratch My Book...: Stunning pop psychologist Honey Snow (Shannon Tweed) makes quite an impression on Frasier, against his better judgement. (S2 Ep15)  [AD,S]","startTime":1686986100,"duration":2100,"svcId":1500,"evtId":27970,"image":"\/ms\/img\/epg\/rb\/5d52-375668.l.png","hasTstv":false,"seriesNo":2,"episodeNo":15},{"name":"The Simpsons","description":"Brother\u0027s Little Helper: An experimental ADHD drug improves Bart\u0027s behaviour but makes him paranoid: is Major League Baseball using a satellite to read his thoughts? (S11 Ep2\/22)  [AD,S]","startTime":1686988200,"duration":1800,"svcId":1500,"evtId":27971,"image":"\/ms\/img\/epg\/rb\/5d52-387109674.l.png","hasTstv":false,"seriesNo":11,"episodeNo":2},{"name":"The Simpsons","description":"Beyond Blunderdome: When Homer criticises Mel Gibson\u0027s remake of Mr Smith Goes to Washington at a test screening, the actor hires Homer to help him rewrite it. (S11 Ep1\/22)  [AD,S]","startTime":1686990000,"duration":1800,"svcId":1500,"evtId":27972,"image":"\/ms\/img\/epg\/rb\/5d52-858831.l.png","hasTstv":false,"seriesNo":11,"episodeNo":1},{"name":"The Simpsons","description":"Goo Goo Gai Pan: The Simpsons head to China so that Aunt Selma can adopt a baby - with Homer pretending to be her husband. (S16 Ep12\/21)  [AD,S]","startTime":1686991800,"duration":1800,"svcId":1500,"evtId":27973,"image":"\/ms\/img\/epg\/rb\/5d52-5385486.l.png","hasTstv":false,"seriesNo":16,"episodeNo":12},{"name":"The Simpsons","description":"Don\u0027t Fear the Roofer: When the perfect storm hits Springfield, the Simpsons\u0027 roof springs a leak. Homer tries to fix it, but falls through the roof... (S16 Ep16\/21)  [AD,S]","startTime":1686993600,"duration":1800,"svcId":1500,"evtId":27974,"image":"\/ms\/img\/epg\/rb\/5d52-5437158.l.png","hasTstv":false,"seriesNo":16,"episodeNo":16},{"name":"The Simpsons","description":"The Heartbroke Kid: When new vending machines are installed at school, Bart puts on loads of weight and has a heart attack. So the family decide to stage an intervention... (S16 Ep17\/21)  [AD,S]","startTime":1686995400,"duration":1800,"svcId":1500,"evtId":27975,"image":"\/ms\/img\/epg\/rb\/5d52-5577093.l.png","hasTstv":false,"seriesNo":16,"episodeNo":17},{"name":"The Simpsons","description":"Father, Son and Holy Guest Star: A cool priest (guest star Liam Neeson) convinces Bart and Homer to become Catholics. (S16 Ep21\/21)  [AD,S]","startTime":1686997200,"duration":1800,"svcId":1500,"evtId":27976,"image":"\/ms\/img\/epg\/rb\/5d52-5558661.l.png","hasTstv":false,"seriesNo":16,"episodeNo":21},{"name":"The Simpsons","description":"Homer Simpson, This Is Your Wife: Homer signs the family up for a wife swap show. Homer\u0027s new spouse is controlling, but Marge\u0027s is an easy-going husband (Ricky Gervais). (S17 Ep15\/22)  [AD,S]","startTime":1686999000,"duration":1800,"svcId":1500,"evtId":27977,"image":"\/ms\/img\/epg\/rb\/5d52-5834353.l.png","hasTstv":false,"seriesNo":17,"episodeNo":15},{"name":"Dr Seuss\u0027 The Cat in the Hat","description":"(2003) Family comedy with Mike Myers. A badly behaved boy and his super-organised sister are plunged into an anarchic adventure when a man-sized talking cat suddenly appears at their home.  [S]","startTime":1687000800,"duration":5700,"svcId":1500,"evtId":27978,"image":"\/ms\/img\/epg\/rb\/5d52-62276.l.png","hasTstv":false},{"name":"Four in a Bed","description":"The competition kicks off at My Way Guest House in County Durham. Hosts Kaye and Lily pride themselves on cleanliness, so it\u0027s a shock when two guests make some dusty discoveries.  [S]","startTime":1687006500,"duration":1800,"svcId":1500,"evtId":27979,"image":"\/ms\/img\/epg\/rb\/5d52-389576850.l.png","hasTstv":false},{"name":"Four in a Bed","description":"David and Sophie hope their award-winning brekkie at The Old Orleton Inn in Shropshire will win them the week. But the portion sizes lead to some stomach-rumbling grumbles.  [S]","startTime":1687008300,"duration":2100,"svcId":1500,"evtId":27980,"image":"\/ms\/img\/epg\/rb\/5d52-389579271.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Amanda and Trudy host at the pet-friendly Ambles House in Northampton. The homely hospitality makes everyone feel like part of the family, but there\u0027s an uninvited guest at breakfast.  [S]","startTime":1687010400,"duration":1800,"svcId":1500,"evtId":27981,"image":"\/ms\/img\/epg\/rb\/5d52-389638587.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Richard and Harriet pride themselves on their high-end rooms at The Royal George in Tintern, Monmouthshire. Their guests lap up the luxury but some less-than-perfect scores shock the hosts.  [S]","startTime":1687012200,"duration":2100,"svcId":1500,"evtId":27982,"image":"\/ms\/img\/epg\/rb\/5d52-389714181.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s the final day and the B\u0026Bers meet one last time to settle some scores. After bathroom blues and cleanliness concerns are aired, the payments are revealed and the winner is announced.  [S]","startTime":1687014300,"duration":1800,"svcId":1500,"evtId":27983,"image":"\/ms\/img\/epg\/rb\/5d52-415317919.l.png","hasTstv":false},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: Brilliant Builds: Kirstie and Phil look back at some of their best space-saving transformations, as two space-wasting couples declutter and transform their homes. (S3 Ep1)  [AD,S]","startTime":1687016100,"duration":3900,"svcId":1500,"evtId":27984,"image":"\/ms\/img\/epg\/rb\/5d52-414519438.l.png","hasTstv":false,"seriesNo":3,"episodeNo":1},{"name":"The Pennines: Backbone of Britain","description":"An exploration of the Pennines and the people who live in these beautiful hills. Villagers in Foolow gather for the annual well dressing. Two miners dig deep for an ultra-rare gem. (Ep1\/4)  [AD,S]","startTime":1687020000,"duration":3300,"svcId":1500,"evtId":27985,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1687023300,"duration":1800,"svcId":1500,"evtId":27986,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"A Royal Guide to... Weddings","description":"It\u0027s a once-in-a-lifetime day for any couple, but for the British royal family, a wedding is a celebration like no other. Discover what it takes to plan one of the biggest events on Earth.  [AD,S]","startTime":1687025100,"duration":3900,"svcId":1500,"evtId":27987,"image":"\/ms\/img\/epg\/rb\/5d52-6207930.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Britain\u0027s Most Luxurious Train...","description":"...Journeys: All aboard for some luxury train rides across Britain. This episode rolls along the stunning Devonshire coastline, with comfy carriages and excellent fine dining. (Ep1\/4)  [AD,S]","startTime":1687029000,"duration":3600,"svcId":1500,"evtId":27988,"image":"\/ms\/img\/epg\/rb\/5d52-travel.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: Ancient Egypt by Train...","description":"...with Alice Roberts - Luxor: Alice visits Tutankhamun\u0027s mummified body in the Valley of the Kings, and meets a friend who\u0027s unearthing hundreds of previously unknown burial sites. (Ep3\/4)  [AD,S]","startTime":1687032600,"duration":3900,"svcId":1500,"evtId":27989,"image":"\/ms\/img\/epg\/rb\/5d52-7766477.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Blackbird","description":"(2019) Network premiere. Kate Winslet and Sam Neill star in this drama about a terminally ill mum who gathers her family one last time before she takes her own life. Strong language\/drugs.  [AD,S]","startTime":1687036500,"duration":6900,"svcId":1500,"evtId":27990,"image":"\/ms\/img\/epg\/rb\/5d52-3713598.l.png","hasTstv":false},{"name":"First Man","description":"(2018) Ryan Gosling and Claire Foy star as the Armstrongs in a real-life drama about the 1969 moon landing. As the family grieve their child, Neil begins space training. Strong language.  [AD,S]","startTime":1687043400,"duration":8400,"svcId":1500,"evtId":28856,"image":"\/ms\/img\/epg\/rb\/5d52-312823539.l.png","hasTstv":false},{"name":"Shocking Emergency Calls","description":"A gunman opens fire at a bank in Ohio, a black bear attacks a woman on her Florida doorstep, and a man spots burglars breaking into his neighbour\u0027s Texas home. (Ep8)  [AD,S]","startTime":1687051800,"duration":3000,"svcId":1500,"evtId":27992,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":8},{"name":"Couples Come Dine with Me","description":"In Lincolnshire and Yorkshire, there\u0027s a one-man comedy show, a posh take on some Yorkshire classics, and a big surprise for one guest.  [S]","startTime":1687054800,"duration":3300,"svcId":1500,"evtId":28883,"image":"\/ms\/img\/epg\/rb\/5d52-3903277.l.png","hasTstv":false,"seriesNo":2,"episodeNo":37},{"name":"Hollyoaks Omnibus","description":"Tony helps Ella in her search for her real dad. A frantic Tom waits for news about his wife and unborn child. Charlie lets his paranoia get the better of him. And Zoe needs some guidance.  [AD,S,SL]","startTime":1687058100,"duration":7200,"svcId":1500,"evtId":27993,"image":"\/ms\/img\/epg\/rb\/5d52-drama.genre.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('44');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('46');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: '6o55T4BtYjg', title: "Froch CALLS OUT McGregor in a celebrity boxing match 👀", label: "Froch CALLS OUT McGregor in a celebrity boxing match 👀 by Froch on Fighting 2 weeks ago 11 minutes, 48 seconds 42,832 views" },
{ id: 'd9ShTaCrVMA', title: "“I’m getting BORED of Fury’s nonsense” Froch reacts to Fury AJ contract talks", label: "“I’m getting BORED of Fury’s nonsense” Froch reacts to Fury AJ contract talks by Froch on Fighting 2 weeks ago 7 minutes, 25 seconds 73,574 views" },
{ id: 'QVQnAHtAI9A', title: "Memory Lane with Rob McCracken", label: "Memory Lane with Rob McCracken by Froch on Fighting 3 weeks ago 48 minutes 23,840 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Canada.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Canadian_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>18 June</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "16 June 2023 -  22 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/64937/dave-and-central-cee/'>dave &amp; central cee</a>", Title: "<a href='https://www.officialcharts.com/search/singles/sprinter/'>SPRINTER</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/61mUg%2BNLggL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/64960/j-hus-ft-drake/'>j hus ft drake</a>", Title: "<a href='https://www.officialcharts.com/search/singles/who-told-you/'>WHO TOLD YOU</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41K-4Fs0ZCL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/61762/jazzy/'>jazzy</a>", Title: "<a href='https://www.officialcharts.com/search/singles/giving-me/'>GIVING ME</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51SkZDT4AyL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/64099/switch-disco-and-ella-henderson/'>switch disco &amp; ella henderson</a>", Title: "<a href='https://www.officialcharts.com/search/singles/react/'>REACT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/414-%2BSyvqzL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 179.61, tooltip: "Thu, Jun 15, 2023<br/>£179.61"},
{ number: 178.74, tooltip: "Wed, Jun 14, 2023<br/>£178.74"},
{ number: 179.51, tooltip: "Tue, Jun 13, 2023<br/>£179.51"},
{ number: 179.33, tooltip: "Mon, Jun 12, 2023<br/>£179.33"},
{ number: 177.26, tooltip: "Fri, Jun 09, 2023<br/>£177.26"},
{ number: 177.60, tooltip: "Thu, Jun 08, 2023<br/>£177.60"},
{ number: 177.93, tooltip: "Wed, Jun 07, 2023<br/>£177.93"},
{ number: 178.98, tooltip: "Tue, Jun 06, 2023<br/>£178.98"},
{ number: 178.29, tooltip: "Mon, Jun 05, 2023<br/>£178.29"},
{ number: 177.44, tooltip: "Fri, Jun 02, 2023<br/>£177.44"},
{ number: 174.03, tooltip: "Thu, Jun 01, 2023<br/>£174.03"},
{ number: 173.97, tooltip: "Wed, May 31, 2023<br/>£173.97"},
{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>£174.12"},
{ number: 175.07, tooltip: "Tue, May 23, 2023<br/>£175.07"},
{ number: 176.72, tooltip: "Mon, May 22, 2023<br/>£176.72"},
{ number: 176.08, tooltip: "Fri, May 19, 2023<br/>£176.08"},
{ number: 176.41, tooltip: "Thu, May 18, 2023<br/>£176.41"},
{ number: 174.51, tooltip: "Wed, May 17, 2023<br/>£174.51"},
].reverse();

	var vanguardDates = {
		"Latest":      "Thu, Jun 15, 2023",
		"vs Day":      "Wed, Jun 14, 2023",
		"vs Week":     "Thu, Jun 08, 2023",
		"vs Month":    "Wed, May 17, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£179.61/share",
		'vs Day':      "+0.49%",
		'vs Week':     "+1.13%",
		'vs Month':    "+2.92%",
		'vs Year':     "+14.22%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '1.6',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 16 June and 17 June">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.016&p=3.238&r=6.184',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:43',
		Set:      '21:30',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Perennial</em> is used to describe things that exist or continue in the same way or state for a long time, as well as things that happen again and again. In botany, <em>perennial</em> describes plants whose life cycles are more than two years long, as in "oregano is <em>perennial</em>." The noun <em>perennial</em> is also used in botany, as in "oregano is a <em>perennial</em>."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Andre">Andre</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Trent">Trent</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Malta">Malta</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Armenia">Armenia</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23CelebrityGogglebox">#CelebrityGogglebox</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22God+Save+the+Queen%22">God Save the Queen</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Oral+Roberts%22">Oral Roberts</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%22Daniel+Ellsberg%22">Daniel Ellsberg</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23SamSummerDitchDays">#SamSummerDitchDays</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Mixer">Mixer</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>