<!DOCTYPE html>
<html lang="en">
	<head>
		<title>16:32 29-Jul - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Eight hurt in knife attack at children\'s dance workshop</b><br/>Eight people are taken to hospital, including Alder Hey, who declares a &quot;major incident&quot;." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cql8j2j0304o">Eight hurt in knife attack at children\'s dance workshop</a></li><li class="ttt" data-tt="<b>Huw Edwards charged with making indecent images of children</b><br/>The former BBC News presenter will appear in court on Wednesday."><a href="https://www.bbc.com/news/articles/crgr49q591go">Huw Edwards charged with making indecent images of children</a></li><li class="ttt" data-tt="<b>Junior doctors offered 22% pay rise in deal to end strike action</b><br/>It is thought the new pay deal being offered is worth 22%, on average, over two years."><a href="https://www.bbc.com/news/articles/cjqe82lk5g5o">Junior doctors offered 22% pay rise in deal to end strike action</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cql8j2j0304o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/216d/live/389d7530-4db4-11ef-8f0f-0577398c3339.jpg" class="ttt" data-tt="A range of emergency vehicles are parked up. Emergency service workers stand around. Properties can be seen in the background." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Biden calls for Supreme Court term limits and ethics rules</b><br/>The US president\'s proposals are unlikely to pass Congress but the aim is to galvanise Democratic voters." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cw4yz3nw0vyo">Biden calls for Supreme Court term limits and ethics rules</a></li><li class="ttt" data-tt="<b>Rescuer runs to save dogs trapped in huge California wildfire</b><br/>Trevor Skaggs ran 1.5 miles (2.4km) through the state\'s sprawling Park Fire to get to the animals."><a href="https://www.bbc.com/news/articles/c6p2mrr49mno">Rescuer runs to save dogs trapped in huge California wildfire</a></li><li class="ttt" data-tt="<b>Trump gunman spotted 90 minutes before shooting, say police texts</b><br/>The messages suggest the 20-year-old was on the radar of law enforcement a lot earlier than thought."><a href="https://www.bbc.com/news/articles/c6p2kr9033go">Trump gunman spotted 90 minutes before shooting, say police texts</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cw4yz3nw0vyo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/d0f2/live/ce9992b0-4d9d-11ef-ba3c-e10a62be783c.jpg" class="ttt" data-tt="Supreme Court exterior" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Choreographed celebrations in Venezuela as Maduro claims win</b><br/>Maduro\'s supporters are jubilant but the opposition is demanding proof of the voting numbers." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c1dmv9jlvj1o">Choreographed celebrations in Venezuela as Maduro claims win</a></li><li class="ttt" data-tt="<b>Bowen: Golan attack leaves border war\'s unspoken rules in tatters</b><br/>How Israel retaliates could determine whether the conflict stays limited or explodes into something much worse."><a href="https://www.bbc.com/news/articles/c6p2j85k8dro">Bowen: Golan attack leaves border war\'s unspoken rules in tatters</a></li><li class="ttt" data-tt="<b>Israeli ministers authorise Netanyahu retaliation against Hezbollah</b><br/>Israel is expected to retaliate after a rocket attack blamed on Hezbollah killed 12 young people."><a href="https://www.bbc.com/news/articles/cw5y49rv174o">Israeli ministers authorise Netanyahu retaliation against Hezbollah</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c1dmv9jlvj1o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1461/live/2cf59e30-4dad-11ef-aebc-6de4d31bf5cd.jpg" class="ttt" data-tt="Supporters of President Maduro celebrate in Caracas" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Sainz to join Williams from 2025 after Ferrari exit</b><br/>Ferrari driver Carlos Sainz is to join Williams next season on what the team calls a “multi-year” contract." style="font-weight:bold"><a href="https://www.bbc.com/sport/articles/ck5gw7n0gplo">Sainz to join Williams from 2025 after Ferrari exit</a></li><li class="ttt" data-tt="<b>F1 Q&A: What led to Mercedes mistake and what happens in the summer break?</b><br/>BBC F1 correspondent Andrew Benson answers your questions after Belgium Grand Prix"><a href="https://www.bbc.com/sport/articles/cv2g715dkk1o">F1 Q&A: What led to Mercedes mistake and what happens in the summer break?</a></li><li class="ttt" data-tt="<b>Disqualifications, strategy & mistakes - F1 back to its unpredictable best</b><br/>Mercedes’ stunning third win in four races proves there is plenty of life in the F1 season going into the summer break."><a href="https://www.bbc.com/sport/articles/c98q9p5v32xo">Disqualifications, strategy & mistakes - F1 back to its unpredictable best</a></li></ul></td><td><a href="https://www.bbc.com/sport/articles/ck5gw7n0gplo"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/7d0f/live/bbc1bf20-4db9-11ef-8f0f-0577398c3339.jpg" class="ttt" data-tt="Carlos Sainz" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>CrowdStrike boss says 97% of crashed systems fixed</b><br/>It\'s estimated 8.5 million devices were disabled by a faulty update from the cyber-security firm." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/crgm07zjj2go">CrowdStrike boss says 97% of crashed systems fixed</a></li><li class="ttt" data-tt="<b>Autumn date to fix blood transfusion services</b><br/>The systems were affected by a hack on the NHS, which caused significant disruption."><a href="https://www.bbc.com/news/articles/c035y64vyvqo">Autumn date to fix blood transfusion services</a></li><li class="ttt" data-tt="<b>ChatGPT reveals search feature in Google challenge</b><br/>OpenAI is working on adding new search powers to its artificial intelligence (AI) bot."><a href="https://www.bbc.com/news/articles/c897qz1qex9o">ChatGPT reveals search feature in Google challenge</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/crgm07zjj2go"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/82a6/live/e0a80020-4b2e-11ef-8751-65f76fca0fc4.jpg" class="ttt" data-tt="A phone with the red CrowdStrike logo of a bird of prey, placed in front of a PC screen displaying a blue error message" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"29 Jul – 4 Aug","date":17222112E5,"ts":"Mon, 29","ds":"Mon, 29 Jul","icon":6,"desc":"Broken clouds.","temp":27,"templow":11,"cf":26,"wind":7,"wd":170,"hum":45,"pc":1},{"date":17222976E5,"ts":"Tue, 30","ds":"Tue, 30 Jul","icon":7,"desc":"Overcast.","temp":26,"templow":15,"cf":26,"wind":4,"wd":30,"hum":54,"pc":0},{"date":1722384E6,"ts":"Wed, 31","ds":"Wed, 31 Jul","icon":7,"desc":"Overcast.","temp":26,"templow":15,"cf":26,"wind":4,"wd":120,"hum":53,"pc":4},{"date":17224704E5,"ts":"Thu, 1","ds":"Thu, 1 Aug","icon":22,"desc":"Thundershowers. Cloudy.","temp":26,"templow":16,"cf":26,"wind":7,"wd":320,"hum":55,"pc":52,"rain":4.6 },{"date":17225568E5,"ts":"Fri, 2","ds":"Fri, 2 Aug","icon":33,"desc":"Showers late. Increasing cloudiness.","temp":24,"templow":14,"cf":25,"wind":13,"wd":220,"hum":54,"pc":24,"rain":0.8 },{"date":17226432E5,"ts":"Sat, 3","ds":"Sat, 3 Aug","icon":7,"desc":"Overcast.","temp":22,"templow":12,"cf":25,"wind":13,"wd":250,"hum":45,"pc":4},{"date":17227296E5,"ts":"Sun, 4","ds":"Sun, 4 Aug","icon":7,"desc":"Overcast.","temp":23,"templow":11,"cf":24,"wind":20,"wd":210,"hum":60,"pc":5},{"hl":true,"hls":"5 Aug – 11 Aug","date":1722816E6,"ts":"Mon, 5","ds":"Mon, 5 Aug","icon":33,"desc":"Passing showers. Overcast.","temp":21,"templow":17,"cf":20,"wind":16,"wd":210,"hum":85,"pc":65,"rain":9.5 },{"date":17229024E5,"ts":"Tue, 6","ds":"Tue, 6 Aug","icon":19,"desc":"Showery. Decreasing cloudiness.","temp":20,"templow":14,"cf":20,"wind":10,"wd":260,"hum":66,"pc":84,"rain":21.4 },{"date":17229888E5,"ts":"Wed, 7","ds":"Wed, 7 Aug","icon":21,"desc":"Isolated tstorms. Afternoon clouds.","temp":19,"templow":12,"cf":19,"wind":13,"wd":220,"hum":61,"pc":64,"rain":3.2 },{"date":17230752E5,"ts":"Thu, 8","ds":"Thu, 8 Aug","icon":21,"desc":"Isolated tstorms. Afternoon clouds.","temp":19,"templow":12,"cf":18,"wind":8,"wd":270,"hum":60,"pc":45,"rain":0.4 },{"date":17231616E5,"ts":"Fri, 9","ds":"Fri, 9 Aug","icon":22,"desc":"Tstorms late. Cloudy.","temp":19,"templow":11,"cf":19,"wind":11,"wd":200,"hum":60,"pc":58,"rain":3.9 },{"date":1723248E6,"ts":"Sat, 10","ds":"Sat, 10 Aug","icon":19,"desc":"Rain. Overcast.","temp":19,"templow":12,"cf":19,"wind":6,"wd":220,"hum":92,"pc":71,"rain":8.5 },{"date":17233344E5,"ts":"Sun, 11","ds":"Sun, 11 Aug","icon":21,"desc":"Isolated tstorms late. Cloudy.","temp":19,"templow":12,"cf":19,"wind":6,"wd":250,"hum":66,"pc":55,"rain":1.9 },{"hl":true,"hls":"12 Aug – 18 Aug","date":17234208E5,"ts":"Mon, 12","ds":"Mon, 12 Aug","icon":21,"desc":"Isolated tstorms late. Partly cloudy.","temp":21,"templow":12,"cf":20,"wind":7,"wd":260,"hum":60,"pc":14,"rain":0.1 }],"grid":{"temp":{"low":11,"high":27,"range":16},"prec":{"high":21.4},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2407/UluruMilkyWay_Inwood_960.jpg',
		Title:     'Milky Way over Uluru',
		LinkImage: 'https://apod.nasa.gov/apod/image/2407/UluruMilkyWay_Inwood_1350.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap240729.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: The remote server returned an error: (404) Not Found.');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Mockingbird_in_Bay_Ridge_%2885082%29.jpg/400px-Mockingbird_in_Bay_Ridge_%2885082%29.jpg',
		Title:    'Northern mockingbird',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Northern_mockingbird',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Northern_mockingbird" title="Northern mockingbird">northern mockingbird</a></b> (<i>Mimus polyglottos</i>) is a species of <a href="https://en.wikipedia.org/wiki/Mockingbird" title="Mockingbird">mockingbird</a>, in the family <a href="https://en.wikipedia.org/wiki/Mimid" title="Mimid">Mimidae</a>, commonly found in North America. The species is also found in some parts of the Caribbean, as well as on the <a href="https://en.wikipedia.org/wiki/Hawaiian_Islands" title="Hawaiian Islands">Hawaiian Islands</a>. It is typically a permanent <a href="https://en.wikipedia.org/wiki/Bird_migration" title="Bird migration">resident</a> across much of its range, but northern mockingbirds may move further south during inclement weather or prior to the onset of winter. The northern mockingbird has gray to brown upper feathers and a paler belly. Its tail and wings have white patches which are visible in flight. The species is known for its ability to mimic bird calls and other types of sound, including artificial and electronic noises. This northern mockingbird was photographed in <a href="https://en.wikipedia.org/wiki/Bay_Ridge,_Brooklyn" title="Bay Ridge, Brooklyn">Bay Ridge</a>, a neighborhood of the New York City borough of <a href="https://en.wikipedia.org/wiki/Brooklyn" title="Brooklyn">Brooklyn</a>.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Rhododendrites" title="User:Rhododendrites">Rhododendrites</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1722229200,"duration":7200,"svcId":560,"evtId":26494,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722236400,"availabilityEnd":1722326400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kb8\u0026ui_id=4.0.0"}},{"name":"Olympics: Paris 2024","description":"Defending Olympic diving champion Tom Daley is among the British athletes going for gold on what promises to be an enthralling third morning of the games in Paris. [S] [HD]","startTime":1722236400,"duration":18000,"svcId":560,"evtId":26495,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jd2zs0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722254401,"availabilityEnd":1735689540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021kvh\u0026ui_id=4.0.0"}},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1722254400,"duration":2700,"svcId":560,"evtId":26496,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":86},{"name":"Olympics: Paris 2024","description":"Hazel Irvine guides you through what could be a golden afternoon for Team GB, with the equestrian eventing team and mountain biker Tom Pidcock defending their Olympic titles. [S] [HD]","startTime":1722257100,"duration":15300,"svcId":560,"evtId":26499,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jd2zs0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722272401,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kvm\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1722272400,"duration":1800,"svcId":560,"evtId":26500,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722274290,"availabilityEnd":1722360690,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kbh\u0026ui_id=4.0.0"},"episodeNo":86},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1722274200,"duration":1800,"svcId":560,"evtId":26501,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722275895,"availabilityEnd":1722362295,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kbk\u0026ui_id=4.0.0"},"episodeNo":120},{"name":"Olympics: Paris 2024","description":"Swimming again takes centre stage on the third evening of competition, with high expectations of British success in the men\u0027s 200m freestyle - one of five finals in the pool. [S] [HD]","startTime":1722276000,"duration":10800,"svcId":560,"evtId":26502,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jd30x7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722286801,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kvr\u0026ui_id=4.0.0"}},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1722286800,"duration":1800,"svcId":560,"evtId":26503,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722288690,"availabilityEnd":1722375090,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kbm\u0026ui_id=4.0.0"},"episodeNo":86},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1722288600,"duration":600,"svcId":560,"evtId":26504,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722289050,"availabilityEnd":1722375450,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kbp\u0026ui_id=4.0.0"},"episodeNo":103},{"name":"Olympics: Paris 2024: Tonight...","description":"...at the Games. Join Isa Guha and Mark Chapman for a review of the busiest day of the games so far. [S] [HD]","startTime":1722289200,"duration":4800,"svcId":560,"evtId":26505,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jdch8g.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722294076,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kvw\u0026ui_id=4.0.0"}},{"name":"Kin","description":"1\/8. Michael Kinsella is home from prison after years inside, to a mixed welcome. Contains very strong language and some violent scenes. [S,AD] [HD]","startTime":1722294000,"duration":3000,"svcId":560,"evtId":26506,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gr0tv6.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1700287200,"availabilityEnd":1825027140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001snkh\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"Kin","description":"2\/8. Michael wants to get access to his daughter he hasn\u0027t been able to see in years. Contains very strong language and some scenes of a sexual nature. [S,AD] [HD]","startTime":1722297000,"duration":3300,"svcId":560,"evtId":26507,"image":"\/ms\/img\/epg\/rb\/fec6-p0gr0v9b.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1700287200,"availabilityEnd":1825027140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001snkk\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":2},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1722300300,"duration":300,"svcId":560,"evtId":26508,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722300607,"availabilityEnd":1722905407,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021kbr\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1722300600,"duration":15000,"svcId":560,"evtId":26509,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":120}]},{"channelid":700,"offset":0,"event":[{"name":"Great Coastal Railway Journeys","description":"14\/20. Michael \u0027s railway exploration of the Channel coastline has reached the Isle of Thanet. [S,AD,SL] [HD]","startTime":1722231000,"duration":1800,"svcId":700,"evtId":18023,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hrmk6j.jpg","hasTstv":false,"seriesNo":3,"episodeNo":14},{"name":"The Great British Sewing Bee","description":"10\/10. It\u0027s the final, and after challenges including opera gloves, party paraphernalia and a draped evening outfit, one sewer will be crowned winner. [S,AD,SL] [HD]","startTime":1722232800,"duration":3600,"svcId":700,"evtId":18024,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jby7ng.jpg","hasTstv":false,"seriesNo":16,"episodeNo":10},{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1722236400,"duration":3600,"svcId":700,"evtId":18025,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722240005,"availabilityEnd":1722326405,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021lrh\u0026ui_id=4.0.0"}},{"name":"Dom Does America","description":"1\/10. Dom comes face-to-face with the American criminal justice system, working as a correctional officer in Randall County Jail. [S] [HD]","startTime":1722240000,"duration":1800,"svcId":700,"evtId":18026,"image":"\/ms\/img\/epg\/rb\/fec6-p08mn0pf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722241794,"availabilityEnd":1724833794,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m000lqd0\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"Wanted Down Under Revisited","description":"2\/20. Claire believed the New Zealand lifestyle would be perfect for her daughter, who had been diagnosed with cystic fibrosis. However, was she able to convince husband Russell? [S] [HD]","startTime":1722241800,"duration":2700,"svcId":700,"evtId":18027,"image":"\/ms\/img\/epg\/rb\/ae0c-p093191t.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722244483,"availabilityEnd":1724836483,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000r049\u0026ui_id=4.0.0"},"seriesNo":15,"episodeNo":2},{"name":"A Countryside Summer","description":"1\/15. Gethin Jones delivers the ultimate countryside summer guide, including Sean Fletcher taking to the great outdoors on a bike-packing adventure. [S,AD] [HD]","startTime":1722244500,"duration":1800,"svcId":700,"evtId":18028,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ckpsg3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722246300,"availabilityEnd":1724838300,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00196r0\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"The Farmers\u0027 Country Showdown","description":"Former police officer Huw Murphy and the Harries family go head to head with their beloved shire horses at the 37th South Wales Shire Horse Society Show. [S] [HD]","startTime":1722246300,"duration":1800,"svcId":700,"evtId":18029,"image":"\/ms\/img\/epg\/rb\/fec6-p089nhn8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722248104,"availabilityEnd":1724840104,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000hjxb\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"Homes Under the Hammer","description":"44\/80. Featuring properties in St Helens, West Lothian and Launceston. [S] [HD]","startTime":1722248100,"duration":3600,"svcId":700,"evtId":18030,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dlch2j.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722251700,"availabilityEnd":1724843700,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001bv75\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":44},{"name":"Politics Live","description":"The chancellor\u0027s claim of a \u0027black hole\u0027 in the government finances. [S] [HD]","startTime":1722251700,"duration":2700,"svcId":700,"evtId":18031,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722254400,"availabilityEnd":1724846400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021lrr\u0026ui_id=4.0.0"}},{"name":"Olympics: Paris 2024","description":"Great Britain\u0027s Tom Pidcock begins his defence of the mountain bike Olympic title as the expected 36 riders go wheel-to-wheel on a narrow and twisting cross-country circuit. [S] [HD]","startTime":1722254400,"duration":2700,"svcId":700,"evtId":18032,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jd2zs0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722257110,"availabilityEnd":1735689540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021ls0\u0026ui_id=4.0.0"}},{"name":"Bargain Hunt","description":"Today\u0027s Bargain Hunt with Natasha Raskin Sharp comes from Scotland, with experts Danny Sebastian and Roo Irvine. Natasha discovers the delights of a world-famous art collection. [S,AD] [HD]","startTime":1722257100,"duration":2700,"svcId":700,"evtId":18033,"image":"\/ms\/img\/epg\/rb\/ae0c-p0ffzgx0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722259835,"availabilityEnd":1724851835,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001l6bz\u0026ui_id=4.0.0"},"seriesNo":64,"episodeNo":31},{"name":"The Customer Is Always Right","description":"9\/15. Customers test and score a biodegradable lunchbox, a tool for getting coffee grounds out of cafetieres and an all-in-one kids\u0027 waterproof. [S] [HD]","startTime":1722259800,"duration":1800,"svcId":700,"evtId":18034,"image":"\/ms\/img\/epg\/rb\/ae0c-p08vhh18.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722261655,"availabilityEnd":1724853655,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000nxl1\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":9},{"name":"Escape to the Country","description":"9\/25. Margherita Taylor helps a retired couple escape to the tranquillity of Norfolk after 30 years in a busy Essex town. She also learns about Norfolk\u0027s answer to the Great Barrier Reef. [S,AD] [HD]","startTime":1722261600,"duration":2700,"svcId":700,"evtId":18035,"image":"\/ms\/img\/epg\/rb\/fec6-p0866ht7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722264341,"availabilityEnd":1724856341,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000frhm\u0026ui_id=4.0.0"},"seriesNo":38,"episodeNo":9},{"name":"Ricky \u0026 Ralf\u0027s Very Northern...","description":"...Road Trip. 1\/6. Royle Family dad and son Ricky Tomlinson and Ralf Little set off on an epic camper van adventure, heading to Ricky\u0027s birthplace Blackpool, Preston and the Ribble Valley. [S] [HD]","startTime":1722264300,"duration":2700,"svcId":700,"evtId":18036,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gy83nd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722264341,"availabilityEnd":1724856341,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001swk2\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"The Repair Shop","description":"1\/15. Resident antique photography expert Brenton West brings his expertise to bear on a camera that survived the First World War but hasn\u0027t taken a picture in over a hundred years. [S,AD] [HD]","startTime":1722267000,"duration":2700,"svcId":700,"evtId":18037,"image":"\/ms\/img\/epg\/rb\/ae0c-p07b7djp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1721797200,"availabilityEnd":1816405200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=b0bjhrhl\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":1},{"name":"Flog It!","description":"Interesting and previously unseen finds from the antiques series, ranging from an antique tipstaff to a piece of Bernard Leach pottery. [S] [HD]","startTime":1722269700,"duration":2700,"svcId":700,"evtId":18038,"image":"\/ms\/img\/epg\/rb\/ae0c-p0483s0c.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722272400,"availabilityEnd":1724864400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b07ch8mk\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":43},{"name":"Olympics: Paris 2024","description":"The world\u0027s elite male gymnasts showcase their explosive and intricate acrobatic moves as the team event nears its conclusion. [S] [HD]","startTime":1722272400,"duration":3600,"svcId":700,"evtId":18039,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jd2zs0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722276085,"availabilityEnd":1735689540,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021ls8\u0026ui_id=4.0.0"}},{"name":"Richard Osman\u0027s House of Games","description":"51\/100. Malorie Blackman, Matt Dawson, Chris McCausland and Ranvir Singh test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1722276000,"duration":1800,"svcId":700,"evtId":18040,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gv0vkr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1701714630,"availabilityEnd":1733337030,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001t5nw\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":51},{"name":"EastEnders","description":"The police make a visit to one Walford resident. Vinny tries to impress Nish with a bold move. Tommy\u0027s behaviour continues to cause concern. [S,AD] [HD]","startTime":1722277800,"duration":1800,"svcId":700,"evtId":18041,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jd2tfv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722229200,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021lsg\u0026ui_id=4.0.0"},"episodeNo":6951},{"name":"Saving Lives at Sea","description":"5\/10. The volunteers of the RNLI race to save a stricken fishing boat in a force-eight gale, a yacht trapped on a weir in Loch Ness and a puppy that has swallowed a fishing hook. [S,AD] [HD]","startTime":1722279600,"duration":3600,"svcId":700,"evtId":18042,"image":"\/ms\/img\/epg\/rb\/fec6-p08v1zs8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722283260,"availabilityEnd":1724875260,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000np57\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":5},{"name":"The Turkish Detective","description":"8\/8. The team are finally close to Kayra Khan. Contains some violent scenes. [S,AD] [HD]","startTime":1722283200,"duration":3000,"svcId":700,"evtId":18043,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j7kl4s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720328400,"availabilityEnd":1811804340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zpfw\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":8},{"name":"Live at the Apollo Bites","description":"3\/6. This episode of Apollo Bites features Rosie Jones, Paul McCaffrey and Sindhu Vee. Contains some strong language. [S] [HD]","startTime":1722286200,"duration":600,"svcId":700,"evtId":18044,"image":"\/ms\/img\/epg\/rb\/ae0c-p06tz771.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1688245246,"availabilityEnd":1759202940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001nwkq\u0026ui_id=4.0.0"},"seriesNo":2025,"episodeNo":3},{"name":"Spent","description":"4\/6. In 2014 a visit from Jo to Mia\u0027s high life reveals that their friendship is complicated. Contains strong language. [S,AD] [HD]","startTime":1722286800,"duration":1800,"svcId":700,"evtId":18045,"image":"\/ms\/img\/epg\/rb\/fec6-p0j7zzxt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1720414800,"availabilityEnd":1752010340,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m001zprf\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1722288600,"duration":1800,"svcId":700,"evtId":18046,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722290490,"availabilityEnd":1753826490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021lsm\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1722290400,"duration":300,"svcId":700,"evtId":18047,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722290745,"availabilityEnd":1722377145,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0021lst\u0026ui_id=4.0.0"}},{"name":"Edna O\u0027Brien: Fearful... and...","description":"...Fearless - imagine.... Alan Yentob meets Irish novelist Edna O\u0027Brien to discuss sex, books and a lifetime of defiance. Contains some strong language and some upsetting scenes. [S] [HD]","startTime":1722290700,"duration":3900,"svcId":700,"evtId":18048,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9tj88.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1722294750,"availabilityEnd":1724886750,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0006pjj\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":4},{"name":"Countryfile","description":"Joe Crowley visits Chew Valley and learns about one of the UK\u0027s largest farming projects. He also discovers how the wider Chew Valley inspires those who work and live in the local area. [S,SL] [HD]","startTime":1722294600,"duration":3300,"svcId":700,"evtId":18049,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jcv77m.jpg","hasTstv":false},{"name":"Hell Jumper","description":"Courage, love and loss among young people saving lives in Ukraine\u0027s most dangerous towns. Contains strong language. [S,AD,SL] [HD]","startTime":1722297900,"duration":5400,"svcId":700,"evtId":18050,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j9yvj6.jpg","hasTstv":false},{"name":"The Bidding Room","description":"8\/30. Deals on wheels, including a rocking horse, a wash tub and a vintage motorised bicycle. [S,SL] [HD]","startTime":1722303300,"duration":2700,"svcId":700,"evtId":18051,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hl7bjn.jpg","hasTstv":false,"seriesNo":8,"episodeNo":8},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1722306000,"duration":12300,"svcId":700,"evtId":18052,"image":"\/ms\/img\/epg\/rb\/ae0c-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Caught in the Act: Frasier agrees to get Roz tickets for Alice to see child entertainer Nanny G, who also happens to be his ex-wife. (S11 Ep15)  [AD,S]","startTime":1722226500,"duration":1500,"svcId":1500,"evtId":33358,"image":"\/ms\/img\/epg\/rb\/5d52-5068910.l.png","hasTstv":false,"seriesNo":11,"episodeNo":15},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, archer Nathan Macqueen gives us an insight into his life, his love for his sport, and what keeps him hungry for more success.  [AD,S,SL]","startTime":1722228000,"duration":300,"svcId":1500,"evtId":33338,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Katharine Merry joins Susie Dent in Dictionary Corner.  [S]","startTime":1722228300,"duration":2400,"svcId":1500,"evtId":33045,"image":"\/ms\/img\/epg\/rb\/5d52-9703214.l.png","hasTstv":false},{"name":"Cheers","description":"Dark Imaginings: Sam becomes increasingly aware of his age when he dates a younger woman who he has nothing in common with and is admitted to hospital with a medical problem. (S4 Ep19\/26)  [S]","startTime":1722230700,"duration":1500,"svcId":1500,"evtId":33077,"image":"\/ms\/img\/epg\/rb\/5d52-357339.l.png","hasTstv":false,"seriesNo":4,"episodeNo":19},{"name":"Cheers","description":"Save the Last Dance for Me: Carla asks Sam to be her partner in a dancing competition that her ex-husband Nick has entered with his new wife. Can she relive her past glories? (S4 Ep20\/26)  [S]","startTime":1722232200,"duration":1500,"svcId":1500,"evtId":33047,"image":"\/ms\/img\/epg\/rb\/5d52-358924.l.png","hasTstv":false,"seriesNo":4,"episodeNo":20},{"name":"Everybody Loves Raymond","description":"Somebody Hates Raymond: When Ray\u0027s friend Andy gets a job booking guests for a local sports radio show, Ray offers to appear, only to hear that the show\u0027s host hates him. (S7 Ep13)  [AD,S]","startTime":1722233700,"duration":1500,"svcId":1500,"evtId":33048,"image":"\/ms\/img\/epg\/rb\/5d52-5203844.l.png","hasTstv":false,"seriesNo":7,"episodeNo":13},{"name":"Everybody Loves Raymond","description":"Just a Formality: Robert tells Raymond that he\u0027s finally decided to propose to Amy and convinces him to meet her ultra-conservative parents. (S7 Ep14)  [AD,S]","startTime":1722235200,"duration":1500,"svcId":1500,"evtId":33049,"image":"\/ms\/img\/epg\/rb\/5d52-2119362.l.png","hasTstv":false,"seriesNo":7,"episodeNo":14},{"name":"Everybody Loves Raymond","description":"The Disciplinarian: Tired of being labelled the \u0027evil witch\u0027 around the house, Debra convinces Ray that it\u0027s his turn to discipline the kids. (S7 Ep15)  [AD,S]","startTime":1722236700,"duration":1800,"svcId":1500,"evtId":33411,"image":"\/ms\/img\/epg\/rb\/5d52-2119430.l.png","hasTstv":false,"seriesNo":7,"episodeNo":15},{"name":"Everybody Loves Raymond","description":"Sweet Charity: When Debra forces Ray to do some charity work at a local hospital, he ends up enjoying himself, because the patients treat him like a celebrity. (S7 Ep16)  [AD,S]","startTime":1722238500,"duration":1800,"svcId":1500,"evtId":33412,"image":"\/ms\/img\/epg\/rb\/5d52-4894603.l.png","hasTstv":false,"seriesNo":7,"episodeNo":16},{"name":"Frasier","description":"Father of the Bride: Frasier and Martin inadvertently offer to pay for Daphne\u0027s wedding. Meanwhile, Frasier\u0027s meddling drives Daphne crazy. (S7 Ep2)  [AD,S]","startTime":1722240300,"duration":1800,"svcId":1500,"evtId":33052,"image":"\/ms\/img\/epg\/rb\/5d52-889890.l.png","hasTstv":false,"seriesNo":7,"episodeNo":2},{"name":"Frasier","description":"Radio Wars: An unwilling Frasier becomes the butt of pranks by the station\u0027s shock jock. (S7 Ep3)  [AD,S]","startTime":1722242100,"duration":1800,"svcId":1500,"evtId":33340,"image":"\/ms\/img\/epg\/rb\/5d52-891795.l.png","hasTstv":false,"seriesNo":7,"episodeNo":3},{"name":"Frasier","description":"Everyone\u0027s a Critic: Frasier and Niles are at loggerheads again when Niles gets a new job as the art critic for a prestigious magazine. (S7 Ep4)  [AD,S]","startTime":1722243900,"duration":1800,"svcId":1500,"evtId":33054,"image":"\/ms\/img\/epg\/rb\/5d52-894873.l.png","hasTstv":false,"seriesNo":7,"episodeNo":4},{"name":"Frasier","description":"The Dog That Rocks the Cradle: Martin returns from his friend\u0027s funeral upset by how it was conducted. Frasier assures his father that all will be well when his time comes. (S7 Ep5)  [AD,S]","startTime":1722245700,"duration":1800,"svcId":1500,"evtId":33056,"image":"\/ms\/img\/epg\/rb\/5d52-1096019.l.png","hasTstv":false,"seriesNo":7,"episodeNo":5},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, taekwondo talent Beth Munro gives us an intimate insight into her life, her support for younger athletes and her love for her sport.  [AD,S]","startTime":1722247500,"duration":300,"svcId":1500,"evtId":33055,"image":"\/ms\/img\/epg\/rb\/5d52-9702290.l.png","hasTstv":false},{"name":"The Simpsons","description":"Married to the Blob: Comic Book Guy asks Homer for advice on how to woo cute comic fan Kumiko, who visits his shop to research material for an autobiographical manga. (S25 Ep10\/22)  [AD,S]","startTime":1722247800,"duration":1500,"svcId":1500,"evtId":33341,"image":"\/ms\/img\/epg\/rb\/5d52-110919063.l.png","hasTstv":false,"seriesNo":25,"episodeNo":10},{"name":"The Simpsons","description":"He Loves to Fly and He D\u0027ohs: Mr Burns rewards Homer with dinner and a flight on his corporate jet, after Homer saves him from drowning. (S19 Ep1\/20)  [AD,S]","startTime":1722249300,"duration":1800,"svcId":1500,"evtId":33344,"image":"\/ms\/img\/epg\/rb\/5d52-7601831.l.png","hasTstv":false,"seriesNo":19,"episodeNo":1},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1722251100,"duration":300,"svcId":1500,"evtId":33058,"image":"\/ms\/img\/epg\/rb\/5d52-9732159.l.png","hasTstv":false},{"name":"A New Life in the Sun","description":"Ex-forces couple Clint and Carol prepare to do battle at a B\u0026B in Normandy. And Sam and Tony prepare to launch an events business at their ch\u00e2teau in Creuse. (S9 Ep11)  [S]","startTime":1722251400,"duration":3600,"svcId":1500,"evtId":33059,"image":"\/ms\/img\/epg\/rb\/5d52-8747943.l.png","hasTstv":false,"seriesNo":9,"episodeNo":11},{"name":"Car S.O.S","description":"Bond Bug: Tim Shaw and Fuzz Townshend enter the weird and wonderful world of the Bond Bug, a heroic three-wheel automotive flop. (S9 Ep11)  [AD,S]","startTime":1722255000,"duration":3600,"svcId":1500,"evtId":33078,"image":"\/ms\/img\/epg\/rb\/5d52-407697240.l.png","hasTstv":false,"seriesNo":9,"episodeNo":10},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Helen Lederer joins Susie Dent in Dictionary Corner.  [S]","startTime":1722258600,"duration":3000,"svcId":1500,"evtId":33060,"image":"\/ms\/img\/epg\/rb\/5d52-9732160.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Ambulance dispatcher Helen and builder Andrew from Yorkshire hope to buy a holiday home for all the family to enjoy in their favourite part of Tenerife: Los Gigantes.  [S]","startTime":1722261600,"duration":3600,"svcId":1500,"evtId":33079,"image":"\/ms\/img\/epg\/rb\/5d52-7626250.l.png","hasTstv":false},{"name":"The Great House Giveaway","description":"The new series continues. In Swansea, Leon and Dafydd tackle a terrace. But without a trade between them and with costs spiralling, they cut corners. Can they at least break even? (S5 Ep6)  [S]","startTime":1722265200,"duration":3600,"svcId":1500,"evtId":33345,"image":"\/ms\/img\/epg\/rb\/5d52-9732164.l.png","hasTstv":false,"seriesNo":5,"episodeNo":6},{"name":"A New Life in the Sun: Where...","description":"...Are They Now?: After successfully selling British beer in France, two brewers pitch another English craze. And in Spain, can soap-makers from Norfolk recover from Covid? (S4 Ep5)  [S]","startTime":1722268800,"duration":3600,"svcId":1500,"evtId":33062,"image":"\/ms\/img\/epg\/rb\/5d52-414542148.l.png","hasTstv":false,"seriesNo":4,"episodeNo":5},{"name":"Come Dine with Me","description":"North London. Estate agent Susie dedicates her evening to her mixed heritage, serving up tried-and-tested Persian dishes... and a risky Irish dessert that she\u0027s only ever made once! (Ep1\/5)  [S]","startTime":1722272400,"duration":1800,"svcId":1500,"evtId":33063,"image":"\/ms\/img\/epg\/rb\/5d52-7290909.l.png","hasTstv":false},{"name":"The Simpsons","description":"The Clown Stays in the Picture: Krusty reveals the story of the lost film that he made in the 80s with Homer and Marge. (S30 Ep14\/23)  [AD,S]","startTime":1722274200,"duration":1800,"svcId":1500,"evtId":33064,"image":"\/ms\/img\/epg\/rb\/5d52-320388468.l.png","hasTstv":false,"seriesNo":30,"episodeNo":14},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1722276000,"duration":3300,"svcId":1500,"evtId":33065,"image":"\/ms\/img\/epg\/rb\/5d52-9732185.l.png","hasTstv":false},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: Fencer Oliver Lam-Watson gives an intimate insight into his life, his love for his sport, and the remarkable sacrifices he\u0027s had to make to reach the Paris games.  [AD,S]","startTime":1722279300,"duration":300,"svcId":1500,"evtId":33066,"image":"\/ms\/img\/epg\/rb\/5d52-9703227.l.png","hasTstv":false},{"name":"New: Jamie: What to Eat This Week","description":"Jamie Oliver rounds up his glorious summer offerings with home-harvested honey and home-grown courgettes, and puts the cherry on the summer cake with a fabulously epic frangipane. (Ep3\/3)  [AD,S]","startTime":1722279600,"duration":3600,"svcId":1500,"evtId":33067,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: 24 Hours in A\u0026E","description":"This episode meets people who\u0027ve taken big risks and explores how it\u0027s affected their lives. Motorbikers James and Peter are both rushed in. Ex-miner Alfred has severe chest pain. (S33 Ep5)  [AD,S]","startTime":1722283200,"duration":3600,"svcId":1500,"evtId":33068,"image":"\/ms\/img\/epg\/rb\/5d52-9701136.l.png","hasTstv":false,"seriesNo":33,"episodeNo":5},{"name":"To Catch a Copper","description":"Who polices the police? In Avon and Somerset several officers are accused of mistreating or sexually exploiting members of the public. But can coppers really investigate their own? (Ep1\/3)  [AD,S]","startTime":1722286800,"duration":3900,"svcId":1500,"evtId":33342,"image":"\/ms\/img\/epg\/rb\/5d52-8821824.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"New: The Great","description":"Fun: Catherine wants to bring fun to the court. With Georgina\u0027s help, she stages a festival of truth, jokes and stunningly clever ideas. Starring Elle Fanning and Nicholas Hoult. (S3 Ep7)  [AD,S]","startTime":1722290700,"duration":3600,"svcId":1500,"evtId":33070,"image":"\/ms\/img\/epg\/rb\/5d52-9732187.l.png","hasTstv":false,"seriesNo":3,"episodeNo":7},{"name":"New: The Great","description":"Peter and the Wolf: Catherine introduces divorce to the court, with unforeseen consequences. Grigor befriends Maxim and goes stag hunting, while Elizabeth and Petrov go on a trip. (S3 Ep8)  [AD,S]","startTime":1722294300,"duration":3600,"svcId":1500,"evtId":33072,"image":"\/ms\/img\/epg\/rb\/5d52-9732188.l.png","hasTstv":false,"seriesNo":3,"episodeNo":8},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, canoeist Hope Gordon gives us an insight into her life, her love for her sport and the emotional support she gets from her dog.  [AD,S,SL]","startTime":1722297900,"duration":300,"svcId":1500,"evtId":33071,"image":"\/ms\/img\/epg\/rb\/5d52-9697880.l.png","hasTstv":false},{"name":"999: On the Front Line","description":"Paramedics are called to a man who\u0027s bleeding from his ears, a woman who\u0027s recently had bowel surgery and is losing blood, and an eight-month-old with a fever. (S8 Ep4)  [S]","startTime":1722298200,"duration":3300,"svcId":1500,"evtId":33073,"image":"\/ms\/img\/epg\/rb\/5d52-6587675.l.png","hasTstv":false,"seriesNo":8,"episodeNo":4},{"name":"Ramsay\u0027s Hotel Hell","description":"Gordon Ramsay travels the US to fix hopeless hotels, mediocre motels and just plain bad B\u0026Bs. This time, he\u0027s in Coeur d\u0027Alene, Idaho, to tackle the failing Roosevelt Inn. (S1 Ep1\/6)  [AD,S,SL]","startTime":1722301500,"duration":3000,"svcId":1500,"evtId":33346,"image":"\/ms\/img\/epg\/rb\/5d52-93473370.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Becoming Elizabeth","description":"Necessity Compels Me to Plague You: Drama about Elizabeth I. Elizabeth is determined not to fall into the same traps as she did before at Chelsea, but she soon faces a new test. (Ep5\/8)  [AD,S,SL]","startTime":1722304500,"duration":3300,"svcId":1500,"evtId":33074,"image":"\/ms\/img\/epg\/rb\/5d52-7985781.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Paris 2024 Paralympics - Meet...","description":"...the Athletes: With the Paralympics fast approaching, sprinter Thomas Young gives us an intimate insight into his life, his training regime and the joy he feels on the track.  [AD,S,SL]","startTime":1722307800,"duration":300,"svcId":1500,"evtId":33343,"image":"\/ms\/img\/epg\/rb\/5d52-9696826.l.png","hasTstv":false},{"name":"Come Dine with Me: The...","description":"...Professionals: In Birmingham, Bun \u0026 Co\u0027s Indian-fusion fast food takes on an Oktoberfest evening at The Rafters Cafe and the Lion Sports Bar\u0027s Caribbean cuisine. (S1 Ep13)  [S]","startTime":1722308100,"duration":3300,"svcId":1500,"evtId":33347,"image":"\/ms\/img\/epg\/rb\/5d52-6187010.l.png","hasTstv":false,"seriesNo":1,"episodeNo":13},{"name":"Frasier","description":"Boo!: Frasier dresses up as a clown, to help cure a patient of her phobia, but ends up giving Martin a shock that leads him to make a major decision. (S11 Ep16)  [AD,S]","startTime":1722311400,"duration":1500,"svcId":1500,"evtId":33075,"image":"\/ms\/img\/epg\/rb\/5d52-5067321.l.png","hasTstv":false,"seriesNo":11,"episodeNo":16}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('265');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('35');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'VJVnDZwzXPI', title: "The Paddy the Baddy show! 🤩 | King Green vs. Paddy Pimblett | #UFC304 fight highlights ▶️", label: "The Paddy the Baddy show! 🤩 | King Green vs. Paddy Pimblett | #UFC304 fight highlights ▶️ by TNT Sports 664,529 views 1 day ago 5 minutes, 3 seconds" },
{ id: 'gXHQURA09PA', title: "THE BEST IN THE WORLD 🏆 | Tom Aspinall vs. Curtis Blaydes 2 | #UFC304 fight highlights", label: "THE BEST IN THE WORLD 🏆 | Tom Aspinall vs. Curtis Blaydes 2 | #UFC304 fight highlights by TNT Sports 516,646 views 1 day ago 2 minutes, 38 seconds" },
{ id: 'DdNYKs6eevM', title: "BRITISH HEAVYWEIGHT SLUGFEST 💥 | Joe Joyce vs Derek Chisora | Fight Night Highlights #JoyceChisora", label: "BRITISH HEAVYWEIGHT SLUGFEST 💥 | Joe Joyce vs Derek Chisora | Fight Night Highlights #JoyceChisora by TNT Sports Boxing 1,406,559 views 1 day ago 7 minutes, 43 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

console.log('Error in media module: The message filter indicated that the application is busy. (0x8001010A (RPC_E_SERVERCALL_RETRYLATER))');

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 211.46, tooltip: "Fri, Jul 26, 2024<br/>£211.46"},
{ number: 209.27, tooltip: "Thu, Jul 25, 2024<br/>£209.27"},
{ number: 209.97, tooltip: "Wed, Jul 24, 2024<br/>£209.97"},
{ number: 213.52, tooltip: "Tue, Jul 23, 2024<br/>£213.52"},
{ number: 213.52, tooltip: "Mon, Jul 22, 2024<br/>£213.52"},
{ number: 211.93, tooltip: "Fri, Jul 19, 2024<br/>£211.93"},
{ number: 212.63, tooltip: "Thu, Jul 18, 2024<br/>£212.63"},
{ number: 213.73, tooltip: "Wed, Jul 17, 2024<br/>£213.73"},
{ number: 216.60, tooltip: "Tue, Jul 16, 2024<br/>£216.60"},
{ number: 215.12, tooltip: "Mon, Jul 15, 2024<br/>£215.12"},
{ number: 214.88, tooltip: "Fri, Jul 12, 2024<br/>£214.88"},
{ number: 214.78, tooltip: "Thu, Jul 11, 2024<br/>£214.78"},
{ number: 215.97, tooltip: "Wed, Jul 10, 2024<br/>£215.97"},
{ number: 214.70, tooltip: "Tue, Jul 09, 2024<br/>£214.70"},
{ number: 214.32, tooltip: "Mon, Jul 08, 2024<br/>£214.32"},
{ number: 214.73, tooltip: "Fri, Jul 05, 2024<br/>£214.73"},
{ number: 214.74, tooltip: "Thu, Jul 04, 2024<br/>£214.74"},
{ number: 214.14, tooltip: "Wed, Jul 03, 2024<br/>£214.14"},
{ number: 214.01, tooltip: "Tue, Jul 02, 2024<br/>£214.01"},
{ number: 213.81, tooltip: "Mon, Jul 01, 2024<br/>£213.81"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Jul 26, 2024",
		"vs Day":      "Thu, Jul 25, 2024",
		"vs Week":     "Fri, Jul 19, 2024",
		"vs Month":    "Mon, Jul 01, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£211.46/share",
		'vs Day':      "+1.05%",
		'vs Week':     "-0.22%",
		'vs Month':    "-1.10%",
		'vs Year':     "+15.19%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '33.3',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 29 July and 30 July">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.333&p=2.407&r=5.543',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:22',
		Set:      '21:01',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To cast aspersion (or aspersions) on someone is to criticize them harshly or unfairly: <em>aspersion</em> is defined as "a false or misleading charge meant to harm someone\'s reputation, or the act of making such a charge." <em>Aspersion</em> may also refer to a sprinkling with water, especially in religious ceremonies.</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>