<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:21 20-Aug - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Lucy Letby: Families of victims call for greater powers in inquiry</b><br/>Families of some of the babies attacked said a non-statutory inquiry was \'inadequate\'." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-66553245?at_medium=RSS&amp;at_campaign=KARANGA">Lucy Letby: Families of victims call for greater powers in inquiry</a></li><li class="ttt" data-tt="<b>PSNI data breach: Man charged over documents linked to FoI</b><br/>A 50-year-old man is charged with possessing documents or records likely to be useful to terrorists."><a href="https://www.bbc.co.uk/news/uk-northern-ireland-66553837?at_medium=RSS&amp;at_campaign=KARANGA">PSNI data breach: Man charged over documents linked to FoI</a></li><li class="ttt" data-tt="<b>William \'sorry\' for missing Lionesses in final</b><br/>The Prince of Wales and King Charles wish the England team well in messages ahead of the final."><a href="https://www.bbc.co.uk/news/uk-66559702?at_medium=RSS&amp;at_campaign=KARANGA">William \'sorry\' for missing Lionesses in final</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-66553245?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/0C20/production/_115340130_c0f3b1b0-5994-4d4e-a23a-c3f4a0ccdacb.jpg" class="ttt" data-tt="Lucy Letby" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Hurricane Hilary floods could threaten lives - US</b><br/>The storm is expected to hit Mexico\'s Pacific coast and then move towards southern California." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-66499946?at_medium=RSS&amp;at_campaign=KARANGA">Hurricane Hilary floods could threaten lives - US</a></li><li class="ttt" data-tt="<b>Canada wildfires: British Columbia declares emergency as 15,000 homes told to evacuate</b><br/>About 15,000 households are told to evacuate in British Columbia, with an emergency declared."><a href="https://www.bbc.co.uk/news/world-us-canada-66551480?at_medium=RSS&amp;at_campaign=KARANGA">Canada wildfires: British Columbia declares emergency as 15,000 homes told...</a></li><li class="ttt" data-tt="<b>Britney Spears on Sam Asghari divorce: \'I couldn\'t take the pain anymore\'</b><br/>Writing after her husband filed for divorce, the singer says she &quot;couldn\'t take the pain anymore&quot;."><a href="https://www.bbc.co.uk/news/entertainment-arts-66553230?at_medium=RSS&amp;at_campaign=KARANGA">Britney Spears on Sam Asghari divorce: \'I couldn\'t take the pain anymore\'</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-66499946?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/1153E/production/_130847907_mediaitem130847906.jpg" class="ttt" data-tt="A man walks along a street in Cabo San Lucas, Baja California State, Mexico" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Child among 7 dead in missile strike on Ukrainian theatre</b><br/>A Russian missile strike hits the heart of the northern city of Chernihiv, Ukraine says." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-europe-66554412?at_medium=RSS&amp;at_campaign=KARANGA">Child among 7 dead in missile strike on Ukrainian theatre</a></li><li class="ttt" data-tt="<b>Hurricane Hilary floods could threaten lives - US</b><br/>The storm is expected to hit Mexico\'s Pacific coast and then move towards southern California."><a href="https://www.bbc.co.uk/news/world-us-canada-66499946?at_medium=RSS&amp;at_campaign=KARANGA">Hurricane Hilary floods could threaten lives - US</a></li><li class="ttt" data-tt="<b>New shooting mars election campaign in Ecuador</b><br/>Another shootout prompts a call to tackle gang violence ahead of Sunday\'s presidential vote."><a href="https://www.bbc.co.uk/news/world-latin-america-66559621?at_medium=RSS&amp;at_campaign=KARANGA">New shooting mars election campaign in Ecuador</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-europe-66554412?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/10BE8/production/_130848586_36f5f787110796ef7be3e419768888ba4481fa5b2255_1077_3245_18251000x563.jpg" class="ttt" data-tt="A damaged theatre in Chernihiv, Ukraine" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Fernando Alonso: Aston Martin driver on \'the dark side\', Max Verstappen and Alpine</b><br/>Fernando Alonso tells BBC Sport\'s Andrew Benson about being on \'the dark side\', feeling misunderstood and being competitive." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/66350215?at_medium=RSS&amp;at_campaign=KARANGA">Fernando Alonso: Aston Martin driver on \'the dark side\', Max Verstappen a...</a></li><li class="ttt" data-tt="<b>Belgian Grand Prix: \'Cheeky\' Max Verstappen toys with rivals as third world title looms large</b><br/>Max Verstappen is toying with Formula 1 at the moment as he canters towards a third straight drivers\' title, writes Andrew Benson."><a href="https://www.bbc.co.uk/sport/formula1/66356525?at_medium=RSS&amp;at_campaign=KARANGA">Belgian Grand Prix: \'Cheeky\' Max Verstappen toys with rivals as third wor...</a></li><li class="ttt" data-tt="<b>Belgian Grand Prix: Max Verstappen extends title lead with eighth straight victory</b><br/>Max Verstappen was in imperious form as he came from sixth on the grid to win the Belgian Grand Prix."><a href="https://www.bbc.co.uk/sport/formula1/66354506?at_medium=RSS&amp;at_campaign=KARANGA">Belgian Grand Prix: Max Verstappen extends title lead with eighth straight...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/66350215?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/85BE/production/_130583243_gettyimages-1576001768.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>\'Sexist\' Amazon Alexa didn\'t answer Lionesses question</b><br/>Amazon admits error after voice assistant replied to semi-final query by saying there was no match." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-66508514?at_medium=RSS&amp;at_campaign=KARANGA">\'Sexist\' Amazon Alexa didn\'t answer Lionesses question</a></li><li class="ttt" data-tt="<b>Twitter, now X, to remove blocking feature - Musk</b><br/>Elon Musk says the feature &quot;makes no sense&quot;, but users are concerned about protection from abuse."><a href="https://www.bbc.co.uk/news/business-66550959?at_medium=RSS&amp;at_campaign=KARANGA">Twitter, now X, to remove blocking feature - Musk</a></li><li class="ttt" data-tt="<b>Hozier would consider strike over AI threat to music</b><br/>The musician says he is not sure music made by artificial intelligence meets &quot;the definition of art&quot;."><a href="https://www.bbc.co.uk/news/entertainment-arts-66517064?at_medium=RSS&amp;at_campaign=KARANGA">Hozier would consider strike over AI threat to music</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-66508514?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/C258/production/_130825794_engaus_reuters.jpg" class="ttt" data-tt="England v Australia semi-final" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"Â°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"14 Aug â€“ 20 Aug","date":16924896E5,"ts":"Sun, 20","ds":"Sun, 20 Aug","icon":33,"desc":"Showers late. Scattered clouds.","temp":21,"templow":13,"cf":24,"wind":13,"wd":220,"hum":60,"pc":21,"rain":0.3 },{"hl":true,"hls":"21 Aug â€“ 27 Aug","date":1692576E6,"ts":"Mon, 21","ds":"Mon, 21 Aug","icon":4,"desc":"Afternoon clouds.","temp":22,"templow":11,"cf":25,"wind":14,"wd":220,"hum":57,"pc":4},{"date":16926624E5,"ts":"Tue, 22","ds":"Tue, 22 Aug","icon":33,"desc":"Showers late. Broken clouds.","temp":22,"templow":15,"cf":25,"wind":15,"wd":240,"hum":57,"pc":20,"rain":0.1 },{"date":16927488E5,"ts":"Wed, 23","ds":"Wed, 23 Aug","icon":4,"desc":"Breaks of sun late.","temp":21,"templow":13,"cf":25,"wind":11,"wd":250,"hum":54,"pc":3},{"date":16928352E5,"ts":"Thu, 24","ds":"Thu, 24 Aug","icon":33,"desc":"Showers late. Overcast.","temp":19,"templow":10,"cf":19,"wind":14,"wd":260,"hum":58,"pc":52,"rain":5},{"date":16929216E5,"ts":"Fri, 25","ds":"Fri, 25 Aug","icon":19,"desc":"Showery. Overcast.","temp":15,"templow":12,"cf":12,"wind":15,"wd":350,"hum":82,"pc":78,"rain":24.5 },{"date":1693008E6,"ts":"Sat, 26","ds":"Sat, 26 Aug","icon":33,"desc":"Rain showers. Overcast.","temp":14,"templow":12,"cf":12,"wind":17,"wd":350,"hum":89,"pc":76,"rain":24.9 },{"date":16930944E5,"ts":"Sun, 27","ds":"Sun, 27 Aug","icon":33,"desc":"Light showers. Overcast.","temp":16,"templow":12,"cf":16,"wind":14,"wd":330,"hum":86,"pc":59,"rain":5.8 },{"hl":true,"hls":"28 Aug â€“ 3 Sep","date":16931808E5,"ts":"Mon, 28","ds":"Mon, 28 Aug","icon":33,"desc":"Light showers. Cloudy.","temp":16,"templow":11,"cf":14,"wind":17,"wd":350,"hum":83,"pc":63,"rain":5.3 },{"date":16932672E5,"ts":"Tue, 29","ds":"Tue, 29 Aug","icon":18,"desc":"Sprinkles. Cloudy.","temp":16,"templow":11,"cf":16,"wind":13,"wd":0,"hum":68,"pc":55,"rain":0.7 },{"date":16933536E5,"ts":"Wed, 30","ds":"Wed, 30 Aug","icon":21,"desc":"Isolated tstorms late. Mostly cloudy.","temp":17,"templow":11,"cf":17,"wind":8,"wd":30,"hum":59,"pc":39,"rain":0.3 },{"date":169344E7,"ts":"Thu, 31","ds":"Thu, 31 Aug","icon":7,"desc":"Cloudy.","temp":17,"templow":12,"cf":17,"wind":3,"wd":260,"hum":48,"pc":5},{"date":16935264E5,"ts":"Fri, 1","ds":"Fri, 1 Sep","icon":4,"desc":"Partly cloudy.","temp":17,"templow":12,"cf":17,"wind":6,"wd":230,"hum":52,"pc":6},{"date":16936128E5,"ts":"Sat, 2","ds":"Sat, 2 Sep","icon":18,"desc":"Drizzle. Cloudy.","temp":17,"templow":12,"cf":17,"wind":8,"wd":230,"hum":59,"pc":48,"rain":0.4 },{"date":16936992E5,"ts":"Sun, 3","ds":"Sun, 3 Sep","icon":18,"desc":"Sprinkles. Overcast.","temp":19,"templow":12,"cf":19,"wind":10,"wd":220,"hum":78,"pc":51,"rain":0.6 }],"grid":{"temp":{"low":10,"high":22,"range":12},"prec":{"high":24.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2308/NeptuneTriton_webb1059.png',
		Title:     'Ringed Ice Giant Neptune',
		LinkImage: 'https://apod.nasa.gov/apod/image/2308/NeptuneTriton_webb1059.png',
		LinkPage:  'https://apod.nasa.gov/apod/ap230819.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

console.log('Error in nature module: This is usually a temporary error during hostname resolution and means that the local server did not receive a response from an authoritative server. (www.outdoorphotographer.com:443)');

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Viscosities.gif/400px-Viscosities.gif',
		Title:    'Viscosity',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Viscosity',
		Description: '    The <b><a href="/wiki/Viscosity" title="Viscosity">viscosity</a></b> of a <a href="/wiki/Fluid" title="Fluid">fluid</a> is a measure of its <a href="/wiki/Drag_(physics)" title="Drag (physics)">resistance</a> to deformation at a given rate. The <a href="/wiki/International_System_of_Units" title="International System of Units">SI unit</a> of viscosity is the <a href="/wiki/Pascal_(unit)" title="Pascal (unit)">pascal</a>-second. For liquids, it corresponds to the informal concept of "thickness": for example, syrup has a higher viscosity than water. Viscosity quantifies the internal <a href="/wiki/Friction" title="Friction">frictional force</a> between adjacent layers of fluid that are in relative motion. For instance, when a viscous fluid is forced through a tube, it flows more quickly near the tube\'s axis than near its walls. This <a href="/wiki/Fluid_animation" title="Fluid animation">fluid animation</a> shows a simulation of two fluids with different viscosities being poured into identical containers. The blue liquid on the left has a lower viscosity than the orange liquid on the right.<small style="display: block; margin-top: 0.8em;">Animation credit: <a href="/wiki/User:Gvbox" title="User:Gvbox">Gvbox</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1692497100,"duration":10800,"svcId":700,"evtId":9329,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Gardeners\u0027 World","description":"Rekha Mistry shares her triumphs and reveals the challenges of growing fruit. Monty plants for pollinators in the Wildlife Garden. Carol Klein visits an Italian-influenced garden. [S] [HD]","startTime":1692507900,"duration":3600,"svcId":700,"evtId":9295,"image":"\/ms\/img\/epg\/rb\/8df1-p0g7gf28.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1692388879,"availabilityEnd":1723924879,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pplv\u0026ui_id=4.0.0"},"episodeNo":21},{"name":"Countryfile","description":"John and Hamza judge this year\u0027s entries to the Countryfile photographic competition with the help of photography enthusiast and DJ Edith Bowman. [S] [HD]","startTime":1692511500,"duration":3300,"svcId":700,"evtId":9296,"image":"\/ms\/img\/epg\/rb\/8df1-p0g6m9pf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691953304,"availabilityEnd":1723489304,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001pp6b\u0026ui_id=4.0.0"}},{"name":"Athletics: World Championships","description":"A galaxy of world-class stars are in action on the second morning of competition, including British record holder Dina Asher-Smith in the heats of the women\u0027s 100m. [S] [HD]","startTime":1692514800,"duration":19800,"svcId":700,"evtId":9297,"image":"\/ms\/img\/epg\/rb\/8df1-p0g71g7h.jpg","hasTstv":false,"seriesNo":2023},{"name":"Songs of Praise: Faith in the...","description":"...Valleys. Aled Jones is in the Welsh valleys, discovering their rich history of Christian faith and revival and meeting local people whose faith inspires and motivates them today. [S] [HD]","startTime":1692534600,"duration":2100,"svcId":700,"evtId":9298,"image":"\/ms\/img\/epg\/rb\/8df1-p0g6srrv.jpg","hasTstv":false},{"name":"Shadowlands","description":"Romantic drama. CS Lewis, Oxford don and well-known children\u0027s author, appears to be content with his quiet academic life until he meets the forthright American poet Joy Gresham. [1993] [S] [HD]","startTime":1692536700,"duration":7500,"svcId":700,"evtId":9299,"image":"\/ms\/img\/epg\/rb\/8df1-p09090cn.jpg","hasTstv":false},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from the Fleet Air Arm Museum situated on HMS Heron, the naval aviation base in Yeovilton, Somerset. [S] [HD]","startTime":1692544200,"duration":3300,"svcId":700,"evtId":9300,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":13,"episodeNo":21},{"name":"Earth","description":"5\/5. How dramatic twists in Earth\u0027s story enabled humans to go from being part of nature to controlling it, and what can be learnt from this tale before it\u0027s too late. [S,AD] [HD]","startTime":1692547500,"duration":3600,"svcId":700,"evtId":9301,"image":"\/ms\/img\/epg\/rb\/8df1-p0g08wkx.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1689570000,"availabilityEnd":1721250127,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0fpwmkm\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":5},{"name":"The Second Best Exotic Marigold...","description":"...Hotel. With only one room still vacant, Sonny dreams of opening a second hotel, but a rivalry with his fianc\u00e9e\u0027s friend threatens his marriage plans and expansionist ambitions. [2015] [S,AD] [HD]","startTime":1692551100,"duration":6900,"svcId":700,"evtId":9302,"image":"\/ms\/img\/epg\/rb\/8df1-p0d1h0s2.jpg","hasTstv":false},{"name":"New: Amazing Hotels: Life...","description":"...Beyond the Lobby. Monica and Rob experience Arctic life in a 200-year-old preserved fishing village. [S,AD] [HD]","startTime":1692558000,"duration":3600,"svcId":700,"evtId":9303,"image":"\/ms\/img\/epg\/rb\/8df1-p0g76j8w.jpg","hasTstv":false,"seriesNo":6,"episodeNo":3},{"name":"Crazy Rich Agents: Selling...","description":"...Dream Homes. 3\/4. Georgie thinks she\u0027s got clients to buy a beautiful country house, but will they show up? Contains some strong language. [S,AD] [HD]","startTime":1692561600,"duration":3600,"svcId":700,"evtId":9304,"image":"\/ms\/img\/epg\/rb\/8df1-p0g4n9m4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1691298000,"availabilityEnd":1754456400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0g1b9hp\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":3},{"name":"The Power of the Dog","description":"A rancher responds with mocking cruelty when his brother brings home a wife and her son. [S] [HD]","startTime":1692565200,"duration":7200,"svcId":700,"evtId":9305,"image":"\/ms\/img\/epg\/rb\/8df1-p0g5x5m7.jpg","hasTstv":false},{"name":"Looted","description":"Rob, a car thief, is lured into taking on a bigger job. Contains very strong language. [2019] [S] [HD]","startTime":1692572400,"duration":5100,"svcId":700,"evtId":9306,"image":"\/ms\/img\/epg\/rb\/8df1-p09pyfd0.jpg","hasTstv":false},{"name":"Wolf","description":"5\/6. Jack\u0027s investigation pivots unexpectedly. Honey and Molina\u0027s troubles are just beginning. Contains some strong language, some violence and upsetting scenes. [S,AD,SL] [HD]","startTime":1692577500,"duration":3600,"svcId":700,"evtId":9307,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Henpocalypse!","description":"1\/6. Zara\u0027s messy hen do in an isolated Welsh cottage gets derailed by the end of the world. Contains strong language and adult humour. [S,AD,SL] [HD]","startTime":1692581100,"duration":1800,"svcId":700,"evtId":9308,"image":"\/ms\/img\/epg\/rb\/8df1-p0g5gtth.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1692582900,"duration":13800,"svcId":700,"evtId":9309,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Hollyoaks Omnibus","description":"John Paul issues James with a threat he can\u0027t ignore. Dilly comes close to exposing Ethan and Sienna\u0027s scheme. Leela tries desperately to help a struggling Donna-Marie.  [AD,S,SL]","startTime":1692497700,"duration":7800,"svcId":1500,"evtId":35119,"hasTstv":false},{"name":"Food Unwrapped","description":"Is there anything Scottish about Scotch eggs? Why is honey off the menu for tiny tots? And in Argentina, home of the steak, the truth about the blood-like juice in packs of beef. (S20 Ep2)  [AD,S]","startTime":1692505500,"duration":1500,"svcId":1500,"evtId":36341,"hasTstv":false},{"name":"Beat the Chef","description":"Megan Kent takes on chef Frederick Forster with her egg yolk-filled ravioli. But will she crack under the pressure, and will Frederick\u0027s cottage pie make minced meat of her? (S2 Ep18)  [S]","startTime":1692507000,"duration":1500,"svcId":1500,"evtId":35907,"image":"\/ms\/img\/epg\/rb\/5d52-407758922.l.png","hasTstv":false,"seriesNo":2,"episodeNo":18},{"name":"Cheers","description":"Old Flames: Sam\u0027s old buddy Dave insists that he can break up Sam\u0027s romance with Diane in just 24 hours, especially when Diane discovers Sam still has his \u0027little black book\u0027. (S2 Ep7\/22)  [S]","startTime":1692508500,"duration":1500,"svcId":1500,"evtId":39606,"image":"\/ms\/img\/epg\/rb\/5d52-95864.l.png","hasTstv":false,"seriesNo":2,"episodeNo":7},{"name":"Cheers","description":"Manager Coach: When Coach gets the chance to manage a youth league baseball team, his competitive nature soon turns him from a loveable guy into an angry tyrant. (S2 Ep8\/22)  [S]","startTime":1692510000,"duration":1500,"svcId":1500,"evtId":39607,"image":"\/ms\/img\/epg\/rb\/5d52-87603.l.png","hasTstv":false,"seriesNo":2,"episodeNo":8},{"name":"Cheers","description":"They Called Me Mayday: When a TV chat-show host visits the bar, Diane tries to interest him in her poetry, but it\u0027s Sam\u0027s life story that really catches his attention. (S2 Ep9\/22)  [S]","startTime":1692511500,"duration":1500,"svcId":1500,"evtId":39608,"image":"\/ms\/img\/epg\/rb\/5d52-98035.l.png","hasTstv":false,"seriesNo":2,"episodeNo":9},{"name":"Bake Off: The Professionals","description":"The teams take on a brand-new challenge: creating spectacular hanging showpieces delicately suspended from the ceiling, adorned with perfectly crafted petits fours. (S6 Ep7\/10)  [AD,S]","startTime":1692513000,"duration":3600,"svcId":1500,"evtId":39609,"image":"\/ms\/img\/epg\/rb\/5d52-7986307.l.png","hasTstv":false,"seriesNo":6,"episodeNo":7},{"name":"Manchester 2023 Para Swimming...","description":"...World Championships: Ellie Simmonds and Liz Johnson present highlights as, with only a year to go before the Paralympics, swimmers from 67 nations go for gold in Manchester.  [AD,S]","startTime":1692516600,"duration":3600,"svcId":1500,"evtId":39610,"image":"\/ms\/img\/epg\/rb\/5d52-sports.genre.l.png","hasTstv":false},{"name":"Live: Sunday Brunch","description":"Actor Vivian Oparah chats about Sky thriller Then You Run. Babatunde Al\u00e9sh\u00e9 talks about his new tour: Plus: Jordan Gray, Deborah Frances-White, Majestic and music from Birdy. [S,W]","startTime":1692520200,"duration":10800,"svcId":1500,"evtId":39611,"image":"\/ms\/img\/epg\/rb\/5d52-8010616.l.png","hasTstv":false},{"name":"The Simpsons","description":"MoneyBart: Inspired by a visit from an Ivy League student, Lisa jumps at the chance to train Bart\u0027s baseball team. She\u0027s hugely successful, but she soon falls out with Bart... (S22 Ep3\/22)  [AD,S]","startTime":1692531000,"duration":1500,"svcId":1500,"evtId":39612,"image":"\/ms\/img\/epg\/rb\/5d52-24489034.l.png","hasTstv":false,"seriesNo":22,"episodeNo":3},{"name":"The Simpsons","description":"Trilogy of Error: Homer gets his thumb sliced off while trying to steal a brownie. Lisa misses the school bus. Bart discovers Fat Tony\u0027s stash of smuggled fireworks. (S12 Ep18\/21)  [AD,S]","startTime":1692532500,"duration":1800,"svcId":1500,"evtId":36003,"image":"\/ms\/img\/epg\/rb\/5d52-1266644.l.png","hasTstv":false,"seriesNo":12,"episodeNo":18},{"name":"The Simpsons","description":"Pokey Mom: When Homer ends up in the prison hospital after visiting the jail\u0027s rodeo, Marge notices the artistic talent of an inmate and vouches for him at his parole hearing. (S12 Ep10\/21)  [AD,S]","startTime":1692534300,"duration":1800,"svcId":1500,"evtId":36004,"image":"\/ms\/img\/epg\/rb\/5d52-1130649.l.png","hasTstv":false,"seriesNo":12,"episodeNo":10},{"name":"The Secret Life of the Zoo","description":"An orangutan is separated from his mum because of a life-threatening infection. In the zoo\u0027s aquarium, a breeding phenomenon plays out as a male cardinal fish gives birth.  [AD,S]","startTime":1692536100,"duration":2100,"svcId":1500,"evtId":36005,"image":"\/ms\/img\/epg\/rb\/5d52-7554678.l.png","hasTstv":false},{"name":"Ugly House to Lovely House with...","description":"...George Clarke: George revisits Armin and Amifa, whose budget was sapped by their home\u0027s downstairs and an awful extension, leaving the upstairs unfinished. Is it now complete? (S4 Ep5)  [AD,S]","startTime":1692538200,"duration":3600,"svcId":1500,"evtId":36434,"hasTstv":false},{"name":"Location, Location, Location","description":"In Bristol, Phil helps Josh and Anna, who want a place of their own, while Kirstie has a tricky search with Sue and Samira, whose budget falls short of their requirements. (S37 Ep2)  [S]","startTime":1692541800,"duration":3900,"svcId":1500,"evtId":36435,"hasTstv":false},{"name":"Kirstie and Phil\u0027s Love It or...","description":"...List It: In Lancing, Gloria and Tom are at stalemate over their Victorian semi by the sea. Can Kirstie work her magic, or will Phil\u0027s enticing properties lure them to list it? (S7 Ep2)  [AD,S]","startTime":1692545700,"duration":3600,"svcId":1500,"evtId":36436,"hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1692549300,"duration":1800,"svcId":1500,"evtId":39618,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"Air Fryers: Are They Worth It?","description":"Denise van Outen lifts the lid on Britain\u0027s air fryer obsession and asks the questions on everyone\u0027s lips: what can we cook in them and can they really save us time and money?  [AD,S]","startTime":1692551100,"duration":3300,"svcId":1500,"evtId":36108,"image":"\/ms\/img\/epg\/rb\/5d52-7985751.l.png","hasTstv":false,"seriesNo":4,"episodeNo":2},{"name":"New: Levison Wood: Walking with...","description":"...Polar Bears: Levison travels deep into the vast Arctic wilderness of east Greenland in search of some of the world\u0027s most elusive polar bears. (Ep3\/3)  [AD,S]","startTime":1692554400,"duration":3600,"svcId":1500,"evtId":36109,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Grand Designs","description":"Geoff\u0027s selling up in Spain to build a flood-resistant architectural marvel on a flood plain on the Essex coast. Will he sink or swim when Covid hits and Spain\u0027s property market collapses?  [AD,S]","startTime":1692558000,"duration":3600,"svcId":1500,"evtId":36110,"image":"\/ms\/img\/epg\/rb\/5d52-5720573.l.png","hasTstv":false,"seriesNo":19,"episodeNo":7},{"name":"New: Alone","description":"As extreme hunger kicks in, finding food becomes even more crucial but increasingly challenging for some. Who can overcome their fears when the threat of predators becomes real? (Ep3\/6)  [AD,S]","startTime":1692561600,"duration":3600,"svcId":1500,"evtId":39621,"image":"\/ms\/img\/epg\/rb\/5d52-8010704.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Stormzy Live in London:...","description":"...This Is What We Mean: Stormzy\u0027s UK exclusive live headlining performance from London\u0027s All Points East festival on 18 August 2023. Strong language.  [S]","startTime":1692565200,"duration":5100,"svcId":1500,"evtId":36006,"image":"\/ms\/img\/epg\/rb\/5d52-music.genre.l.png","hasTstv":false},{"name":"Gogglebox: Celebrity Special...","description":"...for SU2C: Tom Daley, Charlotte Church and Gordon Ramsay join regular Goggleboxers for a special edition including The Watcher, I Can See Your Voice and Love Is Blind. (S20 Ep8)  [AD,S]","startTime":1692570300,"duration":3900,"svcId":1500,"evtId":39622,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":20,"episodeNo":8},{"name":"New: Walter Presents: Exterior...","description":"...Night: Fact-based Italian historical drama. It\u0027s 1978 and Christian Democrats leader Aldo Moro is kidnapped. How will his family, his party and his country react? In Italian\/subs. (Ep1)  [S]","startTime":1692574200,"duration":3900,"svcId":1500,"evtId":36155,"image":"\/ms\/img\/epg\/rb\/5d52-8010741.l.png","hasTstv":false},{"name":"New: Queer as Folk US","description":"Problematica: Brodie considers his impact on his friends\u0027 lives, while Noah and Julian host a dinner. Ruthie bonds with the twins, and Shar makes a surprising connection. (Ep7\/8)  [AD,S]","startTime":1692578100,"duration":3600,"svcId":1500,"evtId":39623,"image":"\/ms\/img\/epg\/rb\/5d52-6270781.l.png","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Eagle Rock, California, Gordon Ramsay visits Capri, a restaurant in a rut that\u0027s owned by identical twins Jim and Jeff and is closed more often than it\u0027s open. (S4 Ep12)  [S,SL]","startTime":1692581700,"duration":3000,"svcId":1500,"evtId":39624,"image":"\/ms\/img\/epg\/rb\/5d52-377096924.l.png","hasTstv":false,"seriesNo":3,"episodeNo":12},{"name":"Come Dine with Me","description":"Brighton. Will medical editor and rapper Adam\u0027s abundant vegetables impress his guests as he serves a simple yet wholesome vegetarian menu? (Ep1\/5)  [S]","startTime":1692584700,"duration":1500,"svcId":1500,"evtId":39627,"image":"\/ms\/img\/epg\/rb\/5d52-395948544.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Brighton. Copywriter Will is confident that his veggie menu will trump Adam\u0027s from the night before. But there are some fishy goings-on and Will\u0027s risotto is upstaged... (Ep2\/5)  [S]","startTime":1692586200,"duration":1500,"svcId":1500,"evtId":39628,"image":"\/ms\/img\/epg\/rb\/5d52-395948546.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Brighton. Retired advertising sales director Gill hosts with a Middle Eastern menu and a fun dress code, on a night featuring unexpected revelations and some very honest feedback. (Ep3\/5)  [S]","startTime":1692587700,"duration":1500,"svcId":1500,"evtId":36007,"image":"\/ms\/img\/epg\/rb\/5d52-395948548.l.png","hasTstv":false},{"name":"Come Dine with Me","description":"Brighton. Teacher and surfer Jo treats her guests to a tropical-themed evening featuring some hit-and-miss food, a dessert drama and a cheeky massage thrown in for good measure. (Ep4\/5)  [S]","startTime":1692589200,"duration":1500,"svcId":1500,"evtId":39629,"image":"\/ms\/img\/epg\/rb\/5d52-395948550.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('370');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('9');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('178');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('40');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('26');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'J_z-W4UVHkw', title: "Every Country On Earth Fights For $250,000!", label: "Every Country On Earth Fights For $250,000! by MrBeast 7 hours ago 18 minutes 26,971,656 views" },
{ id: '4b3UtYHEttU', title: "Harry Kane SCORES on Bundesliga debut ðŸ”¥ | Werder Bremen 0-4 Bayern Munich | Bundesliga highlights", label: "Harry Kane SCORES on Bundesliga debut ðŸ”¥ | Werder Bremen 0-4 Bayern Munich | Bundesliga highlights by Sky Sports Football 1 day ago 4 minutes, 45 seconds 706,618 views" },
{ id: 'gXPPfDqKjCs', title: "The Fastest Way to Lose Half a Million Dollars. My Ferrari is Gone.", label: "The Fastest Way to Lose Half a Million Dollars. My Ferrari is Gone. by WhistlinDiesel 1 day ago 12 minutes, 21 seconds 3,391,834 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Netherlands.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Dutch_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>27 August</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (1977)">The Turbulent Term of Tyke Tyler (1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (1873)">Around the World in 80 Days (1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (1945)">Animal Farm (1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (1887)">Sherlock Holmes: A Study in Scarlet (1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Titane (2021)">Titane (2021)</a></li><li><a href="https://www.google.com/search?q=Films+-+Raw (2016)">Raw (2016)</a></li><li><a href="https://www.google.com/search?q=Films+-+12 Years a Slave (2013)">12 Years a Slave (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Rear Window (1954)">Rear Window (1954)</a></li><li><a href="https://www.google.com/search?q=Films+-+Heavenly Creatures (1994)">Heavenly Creatures (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Us (2019)">Us (2019)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Purge (2013)">The Purge (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Prince (2023)">The Prince (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Return of the Obra Dinn (2018)">Return of the Obra Dinn (2018)</a></li><li><a href="https://www.google.com/search?q=Games+-+Card Shark (2022)">Card Shark (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Beltex (2022)">Beltex (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Stardew Valley (2016)">Stardew Valley (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall (2013)">Dishonored: Knife of Dunwall (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa (2020)">Black Mesa (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077 (2020)">Cyberpunk 2077 (2020)</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect (2015)">Prison Architect (2015)</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer (2022)">Hitman WoA: Freelancer (2022)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+The Sixth Commandment (2023, S1)">The Sixth Commandment (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Animals of Farthing Wood (1993, S1)">The Animals of Farthing Wood (1993, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Black Mirror (2023, S6)">Black Mirror (2023, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (1998, S2)">Buffy the Vampire Slayer (1998, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (2023, S1)">Rise & Fall (2023, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (2023, S2)">The Cleaner (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (2023, S2)">Clarkson\'s Farm (2023, S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girlâ€¦ (2022, S1)">How this Blind Girlâ€¦ (2022, S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2015, S6)">Downton Abbey (2015, S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (2014, S5)">Downton Abbey (2014, S5)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: Specified argument was out of the range of valid values. (Parameter \'i\')');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 175.59, tooltip: "Fri, Aug 18, 2023<br/>Â£175.59"},
{ number: 175.58, tooltip: "Thu, Aug 17, 2023<br/>Â£175.58"},
{ number: 176.98, tooltip: "Wed, Aug 16, 2023<br/>Â£176.98"},
{ number: 178.42, tooltip: "Tue, Aug 15, 2023<br/>Â£178.42"},
{ number: 181.17, tooltip: "Mon, Aug 14, 2023<br/>Â£181.17"},
{ number: 180.52, tooltip: "Fri, Aug 11, 2023<br/>Â£180.52"},
{ number: 181.04, tooltip: "Thu, Aug 10, 2023<br/>Â£181.04"},
{ number: 180.61, tooltip: "Wed, Aug 09, 2023<br/>Â£180.61"},
{ number: 181.27, tooltip: "Tue, Aug 08, 2023<br/>Â£181.27"},
{ number: 181.67, tooltip: "Mon, Aug 07, 2023<br/>Â£181.67"},
{ number: 181.04, tooltip: "Fri, Aug 04, 2023<br/>Â£181.04"},
{ number: 181.96, tooltip: "Thu, Aug 03, 2023<br/>Â£181.96"},
{ number: 182.71, tooltip: "Wed, Aug 02, 2023<br/>Â£182.71"},
{ number: 184.65, tooltip: "Tue, Aug 01, 2023<br/>Â£184.65"},
{ number: 184.04, tooltip: "Mon, Jul 31, 2023<br/>Â£184.04"},
{ number: 183.58, tooltip: "Fri, Jul 28, 2023<br/>Â£183.58"},
{ number: 182.39, tooltip: "Thu, Jul 27, 2023<br/>Â£182.39"},
{ number: 181.89, tooltip: "Wed, Jul 26, 2023<br/>Â£181.89"},
{ number: 182.81, tooltip: "Tue, Jul 25, 2023<br/>Â£182.81"},
{ number: 182.58, tooltip: "Mon, Jul 24, 2023<br/>Â£182.58"},
{ number: 181.75, tooltip: "Fri, Jul 21, 2023<br/>Â£181.75"},
{ number: 181.77, tooltip: "Thu, Jul 20, 2023<br/>Â£181.77"},
].reverse();

	var vanguardDates = {
		"Latest":      "Fri, Aug 18, 2023",
		"vs Day":      "Thu, Aug 17, 2023",
		"vs Week":     "Fri, Aug 11, 2023",
		"vs Month":    "Thu, Jul 20, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "Â£175.59/share",
		'vs Day':      "+0.01%",
		'vs Week':     "-2.73%",
		'vs Month':    "-3.40%",
		'vs Year':     "-3.00%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '11.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-crescent.html" title="Waxing Crescent on the night between 19 August and 20 August">Waxing Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.112&p=6.119&r=6.134',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '05:57',
		Set:      '20:21',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Slake</em> is a verb meaning "to <a href="http://www.merriam-webster.com/dictionary/satisfy">satisfy</a> or <a href="http://www.merriam-webster.com/dictionary/quench">quench</a>." It can also mean "to <a href="https://www.merriam-webster.com/dictionary/hydrate#h2">hydrate</a>."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Foden">Foden</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23NUFC">#NUFC</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23MOTD">#MOTD</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23MCINEW">#MCINEW</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Almiron">Almiron</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Steelers">Steelers</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23UFC292">#UFC292</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23HereWeGo">#HereWeGo</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22Ty+Gibbs%22">Ty Gibbs</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Sam+Mayer%22">Sam Mayer</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>