<!DOCTYPE html>
<html lang="en">
	<head>
		<title>15:35 24-Oct - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Lucy Letby loses bid to appeal against conviction</b><br/>The former nurse\'s bid to challenge her conviction for the attempted murder of a baby is dismissed." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cpdvl3v2x7jo">Lucy Letby loses bid to appeal against conviction</a></li><li class="ttt" data-tt="<b>Commonwealth leaders to defy UK on slavery reparations</b><br/>Downing Street insists a discussion about the issue is not on the agenda for the summit of 56 Commonwealth countries."><a href="https://www.bbc.com/news/articles/cd6vy79p750o">Commonwealth leaders to defy UK on slavery reparations</a></li><li class="ttt" data-tt="<b>Woman released after care home deaths arrest</b><br/>Three elderly care home residents were found dead in Swanage, Dorset, on Wednesday."><a href="https://www.bbc.com/news/articles/cj0j8yzj96po">Woman released after care home deaths arrest</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cpdvl3v2x7jo"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/61f0/live/d6158fc0-91ff-11ef-8e6d-e3e64e16c628.jpg" class="ttt" data-tt="Lucy Letby, with long straight hair and a blue hoodie, is led from her front door in handcuffs." style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Why Harris moved from \'joy\' to calling Trump \'a fascist\'</b><br/>The shift in message is a bid to win over moderate Republicans - but the former president accuses her of peddling lies." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/c1dp7xnyr51o">Why Harris moved from \'joy\' to calling Trump \'a fascist\'</a></li><li class="ttt" data-tt="<b>US warns Musk political group that $1m voter giveaway may be illegal</b><br/>The Department of Justice is probing whether the prizes violate laws against paying people to vote."><a href="https://www.bbc.com/news/articles/c748l0zv4x8o">US warns Musk political group that $1m voter giveaway may be illegal</a></li><li class="ttt" data-tt="<b>Arizona man charged over three shootings on Democratic office</b><br/>Police found a huge stash of guns and ammunition in his home, leading prosecutors to believe he was planning a &quot;mass casualty&quot; event."><a href="https://www.bbc.com/news/articles/cvg5eqzrlj1o">Arizona man charged over three shootings on Democratic office</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/c1dp7xnyr51o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/61f3/live/260aa840-91dc-11ef-89ae-5575c76d98e6.jpg" class="ttt" data-tt="Kamala Harris" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Lebanon: Satellite imagery reveals intensity of Israeli bombing</b><br/>Israel damaged more buildings in two weeks than in a year of fighting with Hezbollah, data shows." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/cvgx3zjvjg3o">Lebanon: Satellite imagery reveals intensity of Israeli bombing</a></li><li class="ttt" data-tt="<b>Turkey strikes Kurdish sites after attack kills five near Ankara</b><br/>Turkey says it has struck PKK sites in Iraq and Syria after blaming the Kurdish group for the attack."><a href="https://www.bbc.com/news/articles/c937p1vzrx0o">Turkey strikes Kurdish sites after attack kills five near Ankara</a></li><li class="ttt" data-tt="<b>How did the Turkey attack unfold?</b><br/>The Turkish government says at least five people were killed after an attack on aerospace company which manufactures drones and jets for the military."><a href="https://www.bbc.com/news/videos/c20g74gyjqlo">How did the Turkey attack unfold?</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/cvgx3zjvjg3o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/8751/live/558e3170-91f2-11ef-b48d-558489c034c9.jpg" class="ttt" data-tt="Damaged buildings in a residential area following an Israeli attack on Dahieh suburb in Beirut" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>What does Norris need to do to catch and beat Verstappen?</b><br/>BBC Sport analyses the Formula 1 title battle including the factors that may help Lando Norris overhaul Max Verstappen." style="font-weight:bold"><a href="https://www.bbc.com/sport/formula1/articles/c2kd9w5lv1po">What does Norris need to do to catch and beat Verstappen?</a></li><li class="ttt" data-tt="<b>F1 Q&A: Why was Norris penalised and not Verstappen at US Grand Prix?</b><br/>BBC F1 correspondent Andrew Benson answers your questions following the United States Grand Prix."><a href="https://www.bbc.com/sport/formula1/articles/cm24mdr4pqvo">F1 Q&A: Why was Norris penalised and not Verstappen at US Grand Prix?</a></li><li class="ttt" data-tt="<b>Penalty \'momentum killer\' for title hopes - Norris</b><br/>Lando Norris says the decision to penalise him for a passing move on Max Verstappen in the United States Grand Prix was a “momentum killer” for his championship hopes."><a href="https://www.bbc.com/sport/formula1/articles/cj31kgre2g8o">Penalty \'momentum killer\' for title hopes - Norris</a></li></ul></td><td><a href="https://www.bbc.com/sport/formula1/articles/c2kd9w5lv1po"><img src="https://ichef.bbci.co.uk/news/1024/branded_sport/07c0/live/e4483e60-86e4-11ef-822c-a50726bfda2e.jpg" class="ttt" data-tt="Graphic image depicting side views of Max Verstappen and Lando Norris looking towards each other, with a Red Bull and McLaren between them and chequered flag in the background" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Boeing-made satellite breaks up in space</b><br/>The &quot;total loss&quot; of the communications satellite has affected Intelsat customers around the world." style="font-weight:bold"><a href="https://www.bbc.com/news/articles/ce8d886l028o">Boeing-made satellite breaks up in space</a></li><li class="ttt" data-tt="<b>Ofcom: Clear link between online posts and violent disorder</b><br/>Regulator says misinformation spread widely and quickly and the response of big tech was &quot;uneven&quot;."><a href="https://www.bbc.com/news/articles/c70w0ne4zexo">Ofcom: Clear link between online posts and violent disorder</a></li><li class="ttt" data-tt="<b>Facebook and Instagram launch celebrity scam ad crackdown</b><br/>Celebrities including Elon Musk and Martin Lewis repeatedly feature in ads for products they have not endorsed."><a href="https://www.bbc.com/news/articles/cg565mrdz7zo">Facebook and Instagram launch celebrity scam ad crackdown</a></li></ul></td><td><a href="https://www.bbc.com/news/articles/ce8d886l028o"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/3eab/live/eb800b10-90f1-11ef-8656-21c0988af62a.jpg" class="ttt" data-tt="Ariane 5 rocket lifts off at the European Spaceport in French Guiana successfully launching the INTELSAT-33e in 2016" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"21 Oct – 27 Oct","date":1729728E6,"ts":"Thu, 24","ds":"Thu, 24 Oct","icon":2,"desc":"Scattered clouds.","temp":16,"templow":9,"cf":16,"wind":14,"wd":160,"hum":75,"pc":0},{"date":17298144E5,"ts":"Fri, 25","ds":"Fri, 25 Oct","icon":7,"desc":"Overcast.","temp":17,"templow":9,"cf":16,"wind":8,"wd":210,"hum":84,"pc":3},{"date":17299008E5,"ts":"Sat, 26","ds":"Sat, 26 Oct","icon":7,"desc":"Overcast.","temp":14,"templow":8,"cf":14,"wind":4,"wd":300,"hum":80,"pc":4},{"date":17299872E5,"ts":"Sun, 27","ds":"Sun, 27 Oct","icon":6,"desc":"Mostly cloudy.","temp":13,"templow":5,"cf":12,"wind":4,"wd":190,"hum":70,"pc":5},{"hl":true,"hls":"28 Oct – 3 Nov","date":17300736E5,"ts":"Mon, 28","ds":"Mon, 28 Oct","icon":18,"desc":"Sprinkles late. Overcast.","temp":14,"templow":6,"cf":12,"wind":9,"wd":210,"hum":78,"pc":21,"rain":0.1 },{"date":173016E7,"ts":"Tue, 29","ds":"Tue, 29 Oct","icon":6,"desc":"Mostly cloudy.","temp":15,"templow":10,"cf":14,"wind":5,"wd":70,"hum":84,"pc":3},{"date":17302464E5,"ts":"Wed, 30","ds":"Wed, 30 Oct","icon":2,"desc":"Mostly sunny.","temp":16,"templow":7,"cf":15,"wind":6,"wd":50,"hum":79,"pc":0},{"date":17303328E5,"ts":"Thu, 31","ds":"Thu, 31 Oct","icon":1,"desc":"Sunny.","temp":16,"templow":8,"cf":14,"wind":7,"wd":70,"hum":82,"pc":5},{"date":17304192E5,"ts":"Fri, 1","ds":"Fri, 1 Nov","icon":1,"desc":"Sunny.","temp":14,"templow":9,"cf":13,"wind":8,"wd":90,"hum":77,"pc":4},{"date":17305056E5,"ts":"Sat, 2","ds":"Sat, 2 Nov","icon":18,"desc":"Sprinkles late. Afternoon clouds.","temp":14,"templow":9,"cf":13,"wind":6,"wd":150,"hum":86,"pc":51,"rain":1.2 },{"date":1730592E6,"ts":"Sun, 3","ds":"Sun, 3 Nov","icon":33,"desc":"Rain showers. Cloudy.","temp":14,"templow":9,"cf":12,"wind":12,"wd":170,"hum":86,"pc":71,"rain":8.1 },{"hl":true,"hls":"4 Nov – 10 Nov","date":17306784E5,"ts":"Mon, 4","ds":"Mon, 4 Nov","icon":33,"desc":"Rain showers. Mostly cloudy.","temp":13,"templow":10,"cf":13,"wind":4,"wd":240,"hum":83,"pc":64,"rain":6.5 },{"date":17307648E5,"ts":"Tue, 5","ds":"Tue, 5 Nov","icon":7,"desc":"Overcast.","temp":13,"templow":10,"cf":12,"wind":6,"wd":220,"hum":87,"pc":39,"rain":0.1 },{"date":17308512E5,"ts":"Wed, 6","ds":"Wed, 6 Nov","icon":19,"desc":"Rain. Overcast.","temp":13,"templow":9,"cf":11,"wind":20,"wd":200,"hum":91,"pc":72,"rain":8.9 },{"date":17309376E5,"ts":"Thu, 7","ds":"Thu, 7 Nov","icon":4,"desc":"Partly cloudy.","temp":12,"templow":9,"cf":9,"wind":14,"wd":250,"hum":73,"pc":6}],"grid":{"temp":{"low":5,"high":17,"range":12},"prec":{"high":8.9},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2410/NGC7293_preview1024.png',
		Title:     'NGC 7293: The Helix Nebula',
		LinkImage: 'https://apod.nasa.gov/apod/image/2410/NGC7293_preview.png',
		LinkPage:  'https://apod.nasa.gov/apod/ap241024.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Templo_funerario_de_Hatshepsut%2C_Luxor%2C_Egipto%2C_2022-04-03%2C_DD_13.jpg/500px-Templo_funerario_de_Hatshepsut%2C_Luxor%2C_Egipto%2C_2022-04-03%2C_DD_13.jpg',
		Title:    'Mortuary temple of Hatshepsut',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Mortuary_temple_of_Hatshepsut',
		Description: '    The <b><a href="https://en.wikipedia.org/wiki/Mortuary_temple_of_Hatshepsut" title="Mortuary temple of Hatshepsut">mortuary temple of Hatshepsut</a></b> is a <a href="https://en.wikipedia.org/wiki/Mortuary_temple" title="Mortuary temple">mortuary temple</a> built during the reign of <a href="https://en.wikipedia.org/wiki/Hatshepsut" title="Hatshepsut">Hatshepsut</a>, a pharaoh of the <a href="https://en.wikipedia.org/wiki/Eighteenth_Dynasty_of_Egypt" title="Eighteenth Dynasty of Egypt">Eighteenth Dynasty of Egypt</a>, around the 15th century BC. Located opposite the city of <a href="https://en.wikipedia.org/wiki/Luxor" title="Luxor">Luxor</a>, the temple\'s three terraces rise above the desert floor and into the cliffs of <a href="https://en.wikipedia.org/wiki/Deir_el-Bahari" title="Deir el-Bahari">Deir el-Bahari</a>. <a href="https://en.wikipedia.org/wiki/KV20" title="KV20">Hatshepsut\'s tomb</a> lies inside the same massif, capped by <a href="https://en.wikipedia.org/wiki/El_Qurn" title="El Qurn">El Qurn</a>, a pyramid for her mortuary complex. At the edge of the desert, one kilometre (0.6 miles) east, connected to the complex by a causeway lies the accompanying valley temple. Across the river <a href="https://en.wikipedia.org/wiki/Nile" title="Nile">Nile</a>, the whole structure points towards the monumental Eighth Pylon, Hatshepsut\'s most recognizable addition to the temple of <a href="https://en.wikipedia.org/wiki/Karnak" title="Karnak">Karnak</a>. The temple\'s twin functions are identified by its axes: its main east–west axis served to receive the <a href="https://en.wikipedia.org/wiki/Solar_barque" title="Solar barque">barque</a> of <a href="https://en.wikipedia.org/wiki/Amun" title="Amun">Amun-Re</a> at the climax of the festival, while its north–south axis represented the life cycle of the pharaoh from coronation to rebirth. This aerial photograph shows the reconstructed mortuary temple of Hatshepsut, viewed from the southeast.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://en.wikipedia.org/wiki/User:Poco_a_poco" title="User:Poco a poco">Diego Delso</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":560,"offset":0,"event":[{"name":"Breakfast","description":"The latest news, sport, business and weather from the BBC\u0027s Breakfast team. [S] [HD]","startTime":1729746000,"duration":12600,"svcId":560,"evtId":28587,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fxfnwr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729756800,"availabilityEnd":1729844940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m00246zg\u0026ui_id=4.0.0"}},{"name":"Morning Live","description":"Gethin Jones and Sara Davies talk to the BBC\u0027s cost of living correspondent about the Household Support Fund. Plus, lawyer Gary Rycroft on how to challenge parking charge notices, and more. [S] [HD]","startTime":1729758600,"duration":4500,"svcId":560,"evtId":28588,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jzvb99.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729763075,"availabilityEnd":1761299075,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00246zj\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":94},{"name":"Crimewatch Caught","description":"The chase to catch a gang posing as students in Swansea as a cover to sell drugs. Plus a twisted case of revenge in Cardiff involving a machete, a gun and, bizarrely, a plant pot. [S] [HD]","startTime":1729763100,"duration":1800,"svcId":560,"evtId":28666,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jtqfww.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1727694000,"availabilityEnd":1759230000,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0023j5n\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Homes Under the Hammer","description":"A former chapel in rural Hethersgill, Cumbria, is converted into a glorious holiday home. [S,AD] [HD]","startTime":1729764900,"duration":3600,"svcId":560,"evtId":28634,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxxq9r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729768506,"availabilityEnd":1769775220,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247q5\u0026ui_id=4.0.0"},"seriesNo":40},{"name":"Bargain Hunt","description":"Thomas Forrester and Kate Bliss help the reds and blues find three appealing items, while Christina Trevanion finds out about a Shrewsbury man who revolutionised the postal service. [S,AD] [HD]","startTime":1729768500,"duration":2700,"svcId":560,"evtId":28589,"image":"\/ms\/img\/epg\/rb\/ae0c-p09df7q7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729771202,"availabilityEnd":1732366802,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000vcjw\u0026ui_id=4.0.0"},"seriesNo":58},{"name":"BBC News at One including BBC...","description":"...London News. The latest national and international news from the BBC. [S] [HD]","startTime":1729771200,"duration":3600,"svcId":560,"evtId":28590,"image":"\/ms\/img\/epg\/rb\/fec6-p0fk7mhm.jpg","hasTstv":false,"episodeNo":149},{"name":"Doctors","description":"Luca has to face the consequences of his actions. Zara is caught in the middle. Ruhma takes charge when Erika ends up in St Phil\u0027s - will the truth come out? [S,AD] [HD]","startTime":1729774800,"duration":1800,"svcId":560,"evtId":28635,"image":"\/ms\/img\/epg\/rb\/fec6-p0jxwrrp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729776576,"availabilityEnd":1761312576,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247q7\u0026ui_id=4.0.0"},"seriesNo":24,"episodeNo":264},{"name":"Money for Nothing","description":"7\/15. Sarah Moore repurposes a chest of drawers and calls on upholsterer Ray Clarke to give an old armchair a redesign. [S] [HD]","startTime":1729776600,"duration":1800,"svcId":560,"evtId":28593,"image":"\/ms\/img\/epg\/rb\/ae0c-p0hphvjw.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729778381,"availabilityEnd":1732373981,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0013chj\u0026ui_id=4.0.0"},"seriesNo":11,"episodeNo":7},{"name":"Escape to the Country","description":"41\/55. Denise Nurse helps a couple swap their Cheshire townhouse for the dark skies and beautiful open spaces of Shropshire. [S] [HD]","startTime":1729778400,"duration":2700,"svcId":560,"evtId":28594,"image":"\/ms\/img\/epg\/rb\/fec6-p0hpxs99.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1713192295,"availabilityEnd":1744728295,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ybjl\u0026ui_id=4.0.0"},"seriesNo":49,"episodeNo":41},{"name":"Garden Rescue","description":"5\/35. Charlie and Lee are in Wigan to design a relaxing zen garden for Debra, who has recently moved in to her forever home. [S] [HD]","startTime":1729781100,"duration":2700,"svcId":560,"evtId":28595,"image":"\/ms\/img\/epg\/rb\/fec6-p0frd9f4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729783785,"availabilityEnd":1732379385,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m001mgvv\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":5},{"name":"The Bidding Room","description":"24\/30. The dealers have a flutter on a pigeon clock, a Georgian painter\u0027s box and a butter churn. [S] [HD]","startTime":1729783800,"duration":2700,"svcId":560,"evtId":28636,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxwrxs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729786498,"availabilityEnd":1793553180,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00247q9\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":24},{"name":"Pointless","description":"22\/55. Alexander Armstrong is joined by co-host Nish Kumar for the quiz where contestants try to score as few points as possible by coming up with the answers no-one else could think of. [S] [HD]","startTime":1729786500,"duration":2700,"svcId":560,"evtId":28596,"image":"\/ms\/img\/epg\/rb\/ae0c-p0gnndbs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1699898400,"availabilityEnd":1732384804,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001sg9d\u0026ui_id=4.0.0"},"seriesNo":30,"episodeNo":22},{"name":"BBC News","description":"The latest national and international news from the BBC. [S] [HD]","startTime":1729789200,"duration":1800,"svcId":560,"evtId":28597,"image":"\/ms\/img\/epg\/rb\/fec6-p0fj0hp3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729791090,"availabilityEnd":1729877490,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00246zr\u0026ui_id=4.0.0"},"episodeNo":149},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1729791000,"duration":1800,"svcId":560,"evtId":28598,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729792800,"availabilityEnd":1729879200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00246zt\u0026ui_id=4.0.0"},"episodeNo":207},{"name":"The One Show","description":"Harry and Jamie Redknapp, and actors Chiwetel Ejiofor and Juno Temple, join Alex Jones and Roman Kemp. [S] [HD]","startTime":1729792800,"duration":1800,"svcId":560,"evtId":28637,"image":"\/ms\/img\/epg\/rb\/fec6-p0jn9yj0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729794716,"availabilityEnd":1732390316,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00247qc\u0026ui_id=4.0.0"}},{"name":"EastEnders","description":"Nish spies an opportunity to spend more time with Suki, while Kat faces a reckoning with Tommy. [S,AD] [HD]","startTime":1729794600,"duration":1800,"svcId":560,"evtId":28667,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy28j7.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729746000,"availabilityEnd":1806469200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247zk\u0026ui_id=4.0.0"},"episodeNo":7002},{"name":"Fake or Fortune?","description":"4\/4. Could an epic work in a church in Port Glasgow be a lost masterpiece by one of the great painters of Northern Renaissance art, or is this depiction of Christ a much lesser work? [S,AD] [HD]","startTime":1729796400,"duration":3600,"svcId":560,"evtId":28668,"image":"\/ms\/img\/epg\/rb\/ae0c-p0czf101.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1663099332,"availabilityEnd":1784177940,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001c26z\u0026ui_id=4.0.0"},"seriesNo":10,"episodeNo":4},{"name":"Ambulance","description":"2\/6. As crews are diverted to a fire, the Ambulance service is placed under pressure. Contains some strong language and some upsetting scenes. [S] [HD]","startTime":1729800000,"duration":3600,"svcId":560,"evtId":28669,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyphcb.jpg","hasTstv":false,"seriesNo":13,"episodeNo":2},{"name":"BBC News and Weather","description":"The latest national and international news, with reports from BBC correspondents worldwide. [S] [HD]","startTime":1729803600,"duration":1800,"svcId":560,"evtId":28599,"image":"\/ms\/img\/epg\/rb\/fec6-p0fjvy7w.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729805490,"availabilityEnd":1729891890,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00246zw\u0026ui_id=4.0.0"},"episodeNo":149},{"name":"BBC London News","description":"The latest news, sport and weather from London. [S] [HD]","startTime":1729805400,"duration":600,"svcId":560,"evtId":28600,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dkt7rv.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729806000,"availabilityEnd":1729892400,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00246zy\u0026ui_id=4.0.0"},"episodeNo":178},{"name":"Question Time","description":"Fiona Bruce presents an hour of live debate from Plymouth in Devon. On the panel, Steve Reed MP, Nigel Huddleston MP, Emily Sheffield and Danny Sriskandarajah. [S] [HD]","startTime":1729806000,"duration":3600,"svcId":560,"evtId":28670,"image":"\/ms\/img\/epg\/rb\/ae0c-p0d8kjcq.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729809600,"availabilityEnd":1761348000,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00247zp\u0026ui_id=4.0.0"},"seriesNo":2024},{"name":"Newscast","description":"Lighthearted discussion of the week\u0027s political events. [S] [HD]","startTime":1729809600,"duration":1800,"svcId":560,"evtId":28671,"image":"\/ms\/img\/epg\/rb\/fec6-p0gyf0ss.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729811536,"availabilityEnd":1732407136,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m00247zr\u0026ui_id=4.0.0"},"episodeNo":16},{"name":"The Lakes: Our Life on the Edge","description":"Like most couples, Anna and Mat are just trying to figure life out. Unlike most couples, they\u0027ve decided the best way to do this is a 100-mile epic climbing challenge in the Lakes. [S,AD] [HD]","startTime":1729811400,"duration":1800,"svcId":560,"evtId":28672,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jgm591.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1723784400,"availabilityEnd":1755320400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00225h5\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":12},{"name":"Weather for the Week Ahead","description":"Detailed weather forecast. [S] [HD]","startTime":1729813200,"duration":300,"svcId":560,"evtId":28601,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729813625,"availabilityEnd":1730422025,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024700\u0026ui_id=4.0.0"}},{"name":"BBC News","description":"BBC One joins the BBC\u0027s rolling news channel for a night of news. [S] [HD]","startTime":1729813500,"duration":18900,"svcId":560,"evtId":28602,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6cmtt.jpg","hasTstv":false,"episodeNo":207}]},{"channelid":700,"offset":0,"event":[{"name":"Escape to the Country","description":"10\/55. Today\u0027s buyers don\u0027t mind if they find a new home in Hampshire or Dorset, just as long as it\u0027s near their happy place, the sea. Denise Nurse is there to put a smile on their faces! [S] [HD]","startTime":1729747800,"duration":2700,"svcId":700,"evtId":20232,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy26mg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729608310,"availabilityEnd":1761144310,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247lh\u0026ui_id=4.0.0"},"seriesNo":51,"episodeNo":10},{"name":"The Bidding Room","description":"23\/30. Roll up, roll up. On sale are a doll\u0027s house, an advertising elephant and a circus sign. [S] [HD]","startTime":1729750500,"duration":2700,"svcId":700,"evtId":20233,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyb26p.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729700086,"availabilityEnd":1793553180,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00247kn\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":23},{"name":"Gardeners\u0027 World","description":"30\/32. Frances Tophill is back at Powderham Castle in Devon, where she puts the finishing touches to a new herb area and prepares the vegetable beds for winter. [S,AD,SL] [HD]","startTime":1729753200,"duration":3600,"svcId":700,"evtId":20234,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jy2kj8.jpg","hasTstv":false,"seriesNo":22,"episodeNo":30},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1729756800,"duration":11700,"svcId":700,"evtId":20235,"image":"\/ms\/img\/epg\/rb\/fec6-p0g6j1tq.jpg","hasTstv":false},{"name":"Politics Live","description":"Will tax on junk food and bans on vapes improve public health? And Commonwealth leaders call for the Government to consider reparations for slavery. [S] [HD]","startTime":1729768500,"duration":2700,"svcId":700,"evtId":20236,"image":"\/ms\/img\/epg\/rb\/ae0c-p09819qp.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729771220,"availabilityEnd":1732366820,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002493s\u0026ui_id=4.0.0"}},{"name":"Impossible","description":"24\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the Impossible answers. [S] [HD]","startTime":1729771200,"duration":2700,"svcId":700,"evtId":20237,"image":"\/ms\/img\/epg\/rb\/ae0c-p04lwpn2.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729773920,"availabilityEnd":1732369520,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m00059qs\u0026ui_id=4.0.0"},"seriesNo":6,"episodeNo":24},{"name":"Unbeatable","description":"42\/45. Jason Manford hosts the quiz show where players face a question and pick from a board of six rankable answers. Some answers are good, but only one is Unbeatable. [S] [HD]","startTime":1729773900,"duration":2700,"svcId":700,"evtId":20238,"image":"\/ms\/img\/epg\/rb\/ae0c-p0fl2y84.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729776630,"availabilityEnd":1732372230,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001ltm5\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":42},{"name":"The Boss","description":"9\/20. Susan Calman hosts the quiz show of tactics, knowledge and nerve. Contestants must work as a team, but ultimately there can only be one Boss. Who will walk away with the money? [S] [HD]","startTime":1729776600,"duration":2700,"svcId":700,"evtId":20239,"image":"\/ms\/img\/epg\/rb\/ae0c-p0grkb3r.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729779307,"availabilityEnd":1732374907,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b08pqfdj\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":9},{"name":"Operation Gold Rush with Dan Snow","description":"1\/3. Dan Snow leads a team of adventurers on an epic journey across the Canadian wilderness. In this episode, Dan and his team take on the Alaskan Coastal Mountains. [S,AD] [HD]","startTime":1729779300,"duration":3600,"svcId":700,"evtId":20240,"image":"\/ms\/img\/epg\/rb\/fec6-p04d999f.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729782936,"availabilityEnd":1732378536,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b0824c97\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":1},{"name":"This Farming Life","description":"2\/12. Frank and Georgia compete at the Westmoreland County show. Matt deals with an escapee, and Emma and Ewan find out if their pedigree bull is firing on all cylinders. [S] [HD]","startTime":1729782900,"duration":3600,"svcId":700,"evtId":20241,"image":"\/ms\/img\/epg\/rb\/ae0c-p08njky0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729786521,"availabilityEnd":1732382121,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000m27s\u0026ui_id=4.0.0"},"seriesNo":4,"episodeNo":2},{"name":"Flog It!","description":"Antiques series. This episode comes from the RAF Museum at Hendon in London. Antiques experts Michael Baggott and Mark Stacey find some real gems. [S] [HD]","startTime":1729786500,"duration":2700,"svcId":700,"evtId":20242,"image":"\/ms\/img\/epg\/rb\/ae0c-p0369gw8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729789199,"availabilityEnd":1732384799,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=b06p01zw\u0026ui_id=4.0.0"},"seriesNo":14,"episodeNo":5},{"name":"Richard Osman\u0027s House of Games","description":"24\/100. Kelle Bryan, Antony Costa, Alexei Sayle and Emma Sidi test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1729789200,"duration":1800,"svcId":700,"evtId":20243,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jyqd2y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729791001,"availabilityEnd":1764440930,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024pc6\u0026ui_id=4.0.0"},"seriesNo":9,"episodeNo":24},{"name":"Strictly - It Takes Two","description":"24\/60. Vicky Gill takes an exclusive look at some of the \u0027spooktacular\u0027 Halloween outfits. [S] [HD]","startTime":1729791000,"duration":1800,"svcId":700,"evtId":20244,"image":"\/ms\/img\/epg\/rb\/fec6-p0jrgv1l.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729792895,"availabilityEnd":1765654200,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002493x\u0026ui_id=4.0.0"},"seriesNo":22,"episodeNo":24},{"name":"Rick Stein\u0027s Food Stories","description":"5\/6. In London, Rick enjoys a full English with Stuart Maconie, and brewer Jaega Wise is determined to change his mind about craft beer. He recreates the iconic black forest gateau. [S,AD] [HD]","startTime":1729792800,"duration":3600,"svcId":700,"evtId":20245,"image":"\/ms\/img\/epg\/rb\/fec6-p0h8cvfm.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729796500,"availabilityEnd":1761940887,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m002493z\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":5},{"name":"Amazing Hotels: Life Beyond the...","description":"...Lobby. Rob and Monica go to work at a 400-year-old, family-owned hotel in the Austrian Alps. [S,AD] [HD]","startTime":1729796400,"duration":3600,"svcId":700,"evtId":20246,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jnqx3h.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1726117200,"availabilityEnd":1757653200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0021zdm\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":7},{"name":"A House Through Time: Two...","description":"...Cities at War. 2\/4. An SS officer arrives in Berlin. War breaks out, endangering residents in both buildings. [S,AD] [HD]","startTime":1729800000,"duration":3600,"svcId":700,"evtId":20247,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jx3xrd.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729141200,"availabilityEnd":1760677200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m002389n\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":2},{"name":"Red Dwarf","description":"4\/6. Rimmer convinces Lister that they should swap bodies for a fortnight. [S] [HD]","startTime":1729803600,"duration":1800,"svcId":700,"evtId":20248,"image":"\/ms\/img\/epg\/rb\/ae0c-p08vxv4y.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1687237200,"availabilityEnd":1781931600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p00bp2z8\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":4},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Katie Razzall. [S] [HD]","startTime":1729805400,"duration":1800,"svcId":700,"evtId":20249,"image":"\/ms\/img\/epg\/rb\/ae0c-p0j6bty0.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729807290,"availabilityEnd":1761343290,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024941\u0026ui_id=4.0.0"}},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1729807200,"duration":300,"svcId":700,"evtId":20250,"image":"\/ms\/img\/epg\/rb\/ae0c-p0dc8npj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729807515,"availabilityEnd":1729893915,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m0024943\u0026ui_id=4.0.0"}},{"name":"All Is True","description":"After London\u0027s Globe Theatre burns to the ground in 1613, William Shakespeare stops writing and returns to his home town of Stratford-upon-Avon. Contains some strong language. [2018] [S] [HD]","startTime":1729807500,"duration":5700,"svcId":700,"evtId":20251,"image":"\/ms\/img\/epg\/rb\/fec6-p09qngyb.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729813273,"availabilityEnd":1732408873,"mediaAvailable":false,"mediaLocation":"channel=919\u0026programmeid=m000yhk2\u0026ui_id=4.0.0"}},{"name":"Trump: The Criminal Conspiracy...","description":"...Case. Documentary exploring Trump\u0027s refusal to concede defeat in the 2020 election. Contains very strong language. [S,AD] [HD]","startTime":1729813200,"duration":5400,"svcId":700,"evtId":20258,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jxxh6k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1729659600,"availabilityEnd":1761195600,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=_DTT_m0024921\u0026ui_id=4.0.0"}},{"name":"Parole","description":"4\/4. Natasha was 16 years old when she stabbed a man to death, and the panel need to decide if she can now be moved to an open prison. Contains some strong language. [S,AD,SL] [HD]","startTime":1729818600,"duration":3600,"svcId":700,"evtId":20252,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jrqqfd.jpg","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"The Cleaner","description":"3\/6. Wicky repeatedly offends a building full of elderly people. The committee will hear of this... Contains some strong language and some upsetting scenes. [S,AD,SL] [HD]","startTime":1729822200,"duration":1800,"svcId":700,"evtId":20253,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jsnz4b.jpg","hasTstv":false,"seriesNo":4,"episodeNo":3},{"name":"Celebrity Antiques Road Trip","description":"8\/20. Actors Robert Daws and Mark Curry find antiques with experts Roo Irvine and Izzy Balmer. [S,SL] [HD]","startTime":1729824000,"duration":3600,"svcId":700,"evtId":20254,"image":"\/ms\/img\/epg\/rb\/ae0c-p0b29q96.jpg","hasTstv":false,"episodeNo":8},{"name":"Nadiya\u0027s Cook Once Eat Twice","description":"3\/6. Nadiya shares weekend comfort food recipes, including roast chicken and chickpeas and a batch-cook beef stew with fluffy dumplings. [S,AD,SL] [HD]","startTime":1729827600,"duration":1800,"svcId":700,"evtId":20255,"image":"\/ms\/img\/epg\/rb\/ae0c-p0jszp03.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3}]},{"channelid":1500,"offset":0,"event":[{"name":"Frasier","description":"Breaking the Ice: When Frasier realises that he\u0027s never heard his father say \u0027I love you\u0027 to him, he decides to crash his dad and Niles\u0027 fishing trip for a spot of bonding. (S2 Ep20)  [AD,S]","startTime":1729743600,"duration":1500,"svcId":1500,"evtId":47560,"image":"\/ms\/img\/epg\/rb\/5d52-389864.l.png","hasTstv":false,"seriesNo":2,"episodeNo":20},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Linford Christie joins Susie Dent in Dictionary Corner.  [S]","startTime":1729745100,"duration":2400,"svcId":1500,"evtId":47189,"image":"\/ms\/img\/epg\/rb\/5d52-10055154.l.png","hasTstv":false},{"name":"Cheers","description":"Daddy\u0027s Little Middle-Aged Girl: Rebecca\u0027s father tries to persuade her to move back into the family home in San Diego. Woody and Kelly can\u0027t agree about where to live. (S11 Ep10\/28)  [S]","startTime":1729747500,"duration":1500,"svcId":1500,"evtId":47190,"image":"\/ms\/img\/epg\/rb\/5d52-160181.l.png","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"Cheers","description":"Love Me, Love My Car: When Sam hears that the friend who bought his beloved car has died, he plots and schemes to get it back. Rebecca takes to Woody and Kelly\u0027s pet pig. (S11 Ep11\/28)  [S]","startTime":1729749000,"duration":1800,"svcId":1500,"evtId":47191,"image":"\/ms\/img\/epg\/rb\/5d52-161741.l.png","hasTstv":false,"seriesNo":11,"episodeNo":11},{"name":"Cheers","description":"Sunday Dinner: Cliff and Norm are hired to make a video recording of a family celebration at the bar. Frasier is invited to Sunday dinner with Shauna, his temporary secretary. (S11 Ep12\/28)  [S]","startTime":1729750800,"duration":1500,"svcId":1500,"evtId":47192,"image":"\/ms\/img\/epg\/rb\/5d52-163556.l.png","hasTstv":false,"seriesNo":11,"episodeNo":12},{"name":"The King of Queens","description":"Thanks Man: While Carrie cooks Thanksgiving dinner for 10 people, Doug lets a stranger into the house... (S6 Ep9\/24)  [AD,S]","startTime":1729752300,"duration":1500,"svcId":1500,"evtId":47193,"image":"\/ms\/img\/epg\/rb\/5d52-383352448.l.png","hasTstv":false,"seriesNo":6,"episodeNo":9},{"name":"The King of Queens","description":"American Idle: When Carrie loses her job, she eventually decides to set up her own business. But how successful will it be? (S6 Ep10\/24)  [AD,S]","startTime":1729753800,"duration":1800,"svcId":1500,"evtId":47194,"image":"\/ms\/img\/epg\/rb\/5d52-383352464.l.png","hasTstv":false,"seriesNo":6,"episodeNo":10},{"name":"The King of Queens","description":"Dougie Houser: Doug and Carrie have a flashback to when they bought their house 10 years earlier. (S6 Ep12\/24)  [AD,S]","startTime":1729755600,"duration":1800,"svcId":1500,"evtId":47195,"image":"\/ms\/img\/epg\/rb\/5d52-383357339.l.png","hasTstv":false,"seriesNo":6,"episodeNo":12},{"name":"Frasier","description":"Bla-Z-Boy: An accident leaves a mess on Frasier\u0027s carpet and breaks Martin\u0027s chair. Niles gives piano lessons to a talented Roz and a not-so-talented Daphne. (S9 Ep7)  [AD,S]","startTime":1729757400,"duration":1800,"svcId":1500,"evtId":47196,"image":"\/ms\/img\/epg\/rb\/5d52-1510775.l.png","hasTstv":false,"seriesNo":9,"episodeNo":7},{"name":"Frasier","description":"The Two Hundredth Episode: Frasier celebrates his 200th radio broadcast and has tapes of every show except one. But it turns out that an obsessive fan has the missing recording. (S9 Ep8)  [AD,S]","startTime":1729759200,"duration":1800,"svcId":1500,"evtId":47373,"image":"\/ms\/img\/epg\/rb\/5d52-1519946.l.png","hasTstv":false,"seriesNo":9,"episodeNo":8},{"name":"Frasier","description":"Sharing Kirby: Frasier and Niles befriend Kirby when they learn that his girlfriend\u0027s grandfather is a well-known wine connoisseur. (S9 Ep9)  [AD,S]","startTime":1729761000,"duration":1800,"svcId":1500,"evtId":47374,"image":"\/ms\/img\/epg\/rb\/5d52-1528526.l.png","hasTstv":false,"seriesNo":9,"episodeNo":9},{"name":"Frasier","description":"Junior Agent: Now that Frasier\u0027s agent is representing a hot new radio psychiatrist, she passes Frasier off to her assistant. (S9 Ep10)  [AD,S]","startTime":1729762800,"duration":1500,"svcId":1500,"evtId":47375,"image":"\/ms\/img\/epg\/rb\/5d52-1536549.l.png","hasTstv":false,"seriesNo":9,"episodeNo":10},{"name":"Come Dine with Me: The...","description":"...Professionals: In Northern Ireland, there\u0027s a Pavarotti proclamation and salsa splendour as Mourne Seafood Bar take on Top of the Town and Gnostic. (S2 Ep15\/20)  [S]","startTime":1729764300,"duration":3600,"svcId":1500,"evtId":47200,"image":"\/ms\/img\/epg\/rb\/5d52-9428347.l.png","hasTstv":false,"seriesNo":2,"episodeNo":15},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1729767900,"duration":300,"svcId":1500,"evtId":47201,"image":"\/ms\/img\/epg\/rb\/5d52-10055202.l.png","hasTstv":false},{"name":"Renovation Nation","description":"In Shropshire, Alan and Catherine welcome back former residents to Oakhurst Hall. And in Cumbria, Ben and Paul deal with the aftermath of their flood. (Ep14\/20)  [AD,S]","startTime":1729768200,"duration":3600,"svcId":1500,"evtId":47202,"image":"\/ms\/img\/epg\/rb\/5d52-6591467.l.png","hasTstv":false,"seriesNo":1,"episodeNo":14},{"name":"Find It, Fix It, Flog It","description":"Simon O\u0027Brien and Henry Cole head to Norfolk, where Simon converts a trough into a bioethanol patio heater and Henry uncovers a vintage stationary engine. (S7 Ep10)  [AD,S]","startTime":1729771800,"duration":3600,"svcId":1500,"evtId":47203,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":7,"episodeNo":10},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Linford Christie joins Susie Dent in Dictionary Corner.  [S]","startTime":1729775400,"duration":3000,"svcId":1500,"evtId":47204,"image":"\/ms\/img\/epg\/rb\/5d52-10055204.l.png","hasTstv":false},{"name":"A Place in the Sun: What...","description":"...Happened Next?: Lee Juggurnauth sees how Liz and Ian are getting on at their Greek villa. Jasmine Harman revisits Lisa and Paul, who found their dream home in Torrevieja in 2019. (Ep6)  [S]","startTime":1729778400,"duration":3600,"svcId":1500,"evtId":47205,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"The Great House Giveaway","description":"Model Anastasiya and electrician Jamie buy a listed building in Liverpool. It\u0027s full of charm but brings challenges. Can they renovate it in a way that\u0027s sensitive to its history? (S1 Ep14)  [S]","startTime":1729782000,"duration":3600,"svcId":1500,"evtId":47206,"image":"\/ms\/img\/epg\/rb\/5d52-388871255.l.png","hasTstv":false,"seriesNo":1,"episodeNo":14},{"name":"Four in a Bed","description":"The new run continues. The week\u0027s final visit is to Simon and Lana\u0027s lodges in Yorkshire, where the hosts pride themselves on luxury. But one guest compares the place to a caravan park...  [S]","startTime":1729785600,"duration":1800,"svcId":1500,"evtId":47207,"image":"\/ms\/img\/epg\/rb\/5d52-10055209.l.png","hasTstv":false},{"name":"Help! We Bought a Village","description":"A family feel the strain of resurrecting an Italian village. The owners of a French hamlet attempt to save the bakery. A settlement in the Italian hills prepares for a big event. (S2 Ep4)  [S]","startTime":1729787400,"duration":3600,"svcId":1500,"evtId":47208,"image":"\/ms\/img\/epg\/rb\/5d52-8268136.l.png","hasTstv":false,"seriesNo":2,"episodeNo":4},{"name":"The Simpsons","description":"Hail to the Teeth: Marge\u0027s old suitor, Artie Ziff, returns. And he\u0027s engaged. Someone tells Lisa she\u0027d be more popular if she smiled more, so she - reluctantly - tries it out. (S31 Ep11\/22)  [AD,S]","startTime":1729791000,"duration":1800,"svcId":1500,"evtId":47209,"image":"\/ms\/img\/epg\/rb\/5d52-3470934.l.png","hasTstv":false,"seriesNo":31,"episodeNo":11},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1729792800,"duration":3300,"svcId":1500,"evtId":47210,"image":"\/ms\/img\/epg\/rb\/5d52-10055212.l.png","hasTstv":false},{"name":"Hughie\u0027s Story: Stand Up To Cancer","description":"A short film for Stand Up To Cancer. Rosie tells us how she lost her husband Hughie to cancer. His\u00a0journey coincided with the birth and early moments of their youngest\u00a0son\u0027s life.  [AD,S]","startTime":1729796100,"duration":300,"svcId":1500,"evtId":47211,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"New: The Great British Bake...","description":"...Off: An Extra Slice: Jo Brand, Alexander Armstrong, Natalie Cassidy and AJ Odudu turnover Pastry Week. Whose showstopping Paris-Brest was the Paris-Best? (S15 Ep5\/10)  [AD,S]","startTime":1729796400,"duration":3600,"svcId":1500,"evtId":47212,"image":"\/ms\/img\/epg\/rb\/5d52-10055218.l.png","hasTstv":false,"seriesNo":15,"episodeNo":5},{"name":"New: Taskmaster","description":"Rosie Jones feels badly let down by her comedy hero Jack Dee, while Bab\u00e1t\u00fand\u00e9 Al\u00e9sh\u00e9 shouts about a fortune cookie. And Andy Zaltzman predicts the end of the world. (S18 Ep7\/10)  [AD,S]","startTime":1729800000,"duration":3600,"svcId":1500,"evtId":47213,"image":"\/ms\/img\/epg\/rb\/5d52-10055221.l.png","hasTstv":false,"seriesNo":18,"episodeNo":7},{"name":"New: Everyone Else Burns","description":"Comedy with Simon Bird. When the order finds itself without a church, David offers up the Lewis family home. Rachel seeks her parents\u0027 approval, and Maude locks horns with Fiona. (S2 Ep3\/6)  [AD,S]","startTime":1729803600,"duration":1800,"svcId":1500,"evtId":47214,"image":"\/ms\/img\/epg\/rb\/5d52-10055227.l.png","hasTstv":false,"seriesNo":2,"episodeNo":3},{"name":"Gogglebox","description":"The Goggleboxers watched: Sweetpea, Paddy and Chris: Road Tripping, Who Wants to Be a Millionaire?, Solar System, Made in Bondi, Police Interceptors and Roux Back Down the River. (S24 Ep6)  [AD,S,SL]","startTime":1729805400,"duration":3900,"svcId":1500,"evtId":47215,"image":"\/ms\/img\/epg\/rb\/5d52-10025151.l.png","hasTstv":false,"seriesNo":24,"episodeNo":6},{"name":"New: Ramsay\u0027s Kitchen...","description":"...Nightmares USA - Diwan: Gordon helps an Indian restaurant in New York that\u0027s been going for 35 years. But a decline in trade has led to fusion experiments - with mixed results. (S8 Ep10)  [S]","startTime":1729809300,"duration":3000,"svcId":1500,"evtId":47376,"image":"\/ms\/img\/epg\/rb\/5d52-10055230.l.png","hasTstv":false,"seriesNo":8,"episodeNo":10},{"name":"C\u0027mon C\u0027mon","description":"(2021) Touching black-and-white road movie starring Joaquin Phoenix. A journalist travels the US, conducting interviews with young people and connecting with his nephew. Strong language.  [S]","startTime":1729812300,"duration":6600,"svcId":1500,"evtId":47217,"image":"\/ms\/img\/epg\/rb\/5d52-5157455.l.png","hasTstv":false},{"name":"Secret Amazon: Into the Wild ","description":"British explorer Lucy Shepherd embarks on an unprecedented Amazon expedition, crossing virgin jungle territory with an Indigenous team while facing extreme danger at every turn. (Ep1\/2)  [AD,S,SL]","startTime":1729818900,"duration":3300,"svcId":1500,"evtId":47382,"image":"\/ms\/img\/epg\/rb\/5d52-nature.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Secret Amazon: Into the Wild ","description":"Lucy Shepherd and her Indigenous team go deep into the unknown reaches of the Amazon, coming face to face with deadly snakes, hostile giant wasps and caiman-infested rivers. (Ep2\/2)  [AD,S,SL]","startTime":1729822200,"duration":3000,"svcId":1500,"evtId":47219,"image":"\/ms\/img\/epg\/rb\/5d52-nature.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Hughie\u0027s Story: Stand Up To Cancer","description":"A short film for Stand Up To Cancer. Rosie tells us how she lost her husband Hughie to cancer. His\u00a0journey coincided with the birth and early moments of their youngest\u00a0son\u0027s life.  [AD,S,SL]","startTime":1729825200,"duration":300,"svcId":1500,"evtId":47218,"image":"\/ms\/img\/epg\/rb\/5d52-documen.genre.l.png","hasTstv":false},{"name":"Frasier","description":"An Affair to Forget: Frasier gets a call from a woman who believes her husband, a fencing instructor, is having an affair. It\u0027s odd that Maris is now passionate about fencing... (S2 Ep21)  [AD,S]","startTime":1729825500,"duration":1500,"svcId":1500,"evtId":47381,"image":"\/ms\/img\/epg\/rb\/5d52-386468.l.png","hasTstv":false,"seriesNo":2,"episodeNo":21},{"name":"Frasier","description":"Agents in America, Part III: Frasier learns some important new lessons and tactics in the fine art of contract negotiations from his agent Bebe. (S2 Ep22)  [AD,S]","startTime":1729827000,"duration":1500,"svcId":1500,"evtId":47588,"image":"\/ms\/img\/epg\/rb\/5d52-731999.l.png","hasTstv":false,"seriesNo":2,"episodeNo":22},{"name":"Frasier","description":"The Innkeepers: When Frasier learns that one of Seattle\u0027s most famous restaurants is about to close, he visits to say goodbye and, in a moment of madness, offers to buy it. (S2 Ep23)  [AD,S]","startTime":1729828500,"duration":1500,"svcId":1500,"evtId":47589,"image":"\/ms\/img\/epg\/rb\/5d52-388074.l.png","hasTstv":false,"seriesNo":2,"episodeNo":23}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 560: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('395');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('7');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('74');

	/*
	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('5');
	*/

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloads:");
	row
		.append('td')
		.text('79');

	if (+"0" > 0) {
		row = table
			.append('tr');
		row
			.append('td')
			.text("Steam Wishlist:");
		row
			.append('td')
			.text('0');
	}
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'etsXknHtGUs', title: "Surviving A Week in OUR Demonic School PT 2 (WE SPLIT UP)", label: "Surviving A Week in OUR Demonic School PT 2 (WE SPLIT UP) by Sam and Colby 2,302,262 views 20 hours ago 1 hour, 14 minutes" },
{ id: 'SQ7ZjWhR_p0', title: "Hat-Trick Hero Vinicius Junior 🔥 | Real Madrid 5-2 Dortmund | UEFA Champions League Highlights", label: "Hat-Trick Hero Vinicius Junior 🔥 | Real Madrid 5-2 Dortmund | UEFA Champions League Highlights by TNT Sports 1,313,874 views 1 day ago 5 minutes, 59 seconds" },
{ id: 'MXpzW3zTimA', title: "Raphinha Nets Brilliant Hat-Trick 🔥 | Barcelona 4-1 Bayern Munich | UEFA Champions League Highlights", label: "Raphinha Nets Brilliant Hat-Trick 🔥 | Barcelona 4-1 Bayern Munich | UEFA Champions League Highlights by TNT Sports 646,171 views 17 hours ago 4 minutes, 17 seconds" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)">The Turbulent Term of Tyke Tyler (Gene Kemp, 1977)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days (Jules Verne, 1873)">Around the World in 80 Days (Jules Verne, 1873)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm (George Orwell, 1945)">Animal Farm (George Orwell, 1945)</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)">Sherlock Holmes: A Study in Scarlet (Arthur Conan Doyle, 1887)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+Strong Female Character (Fern Brady, 2023)">Strong Female Character (Fern Brady, 2023)</a></li><li><a href="https://www.google.com/search?q=Books+-+Foster (Claire Keegan, 2010)">Foster (Claire Keegan, 2010)</a></li><li><a href="https://www.google.com/search?q=Books+-+Impulse Buy (Jae, 2024)">Impulse Buy (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+Bachelorette Number Twelve (Jae, 2024)">Bachelorette Number Twelve (Jae, 2024)</a></li><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (W.W. Jacobs, 1902)">The Monkey\'s Paw (W.W. Jacobs, 1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (Philip Connors, 2011)">Fire Season (Philip Connors, 2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+Priscilla (2023)">Priscilla (2023)</a></li><li><a href="https://www.google.com/search?q=Films+-+Frozen (2013)">Frozen (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+Women on the Verge of a Nervous Breakdown (1988)">Women on the Verge of a Nervous Breakdown (1988)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Brothers Bloom (2008)">The Brothers Bloom (2008)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Adventurer (1917)">The Adventurer (1917)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Last Exorcism Part II (2013)">The Last Exorcism Part II (2013)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Wonder (2022)">The Wonder (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Au hasard Balthazar (1966)">Au hasard Balthazar (1966)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Nun\'s Story (1959)">The Nun\'s Story (1959)</a></li><li><a href="https://www.google.com/search?q=Films+-+Kamikaze Girls (2004)">Kamikaze Girls (2004)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Seeing Stars (2024)">A Little to the Left: Seeing Stars (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left: Cupboards & Drawers (2023)">A Little to the Left: Cupboards & Drawers (2023)</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left (2022)">A Little to the Left (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+Wilmot\'s Warehouse (2019)">Wilmot\'s Warehouse (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+Taiji (2022)">Taiji (2022)</a></li><li><a href="https://www.google.com/search?q=Games+-+The Witness (2016)">The Witness (2016)</a></li><li><a href="https://www.google.com/search?q=Games+-+Red Dead Redemption 2 (2019)">Red Dead Redemption 2 (2019)</a></li><li><a href="https://www.google.com/search?q=Games+-+20 Small Mazes (2024)">20 Small Mazes (2024)</a></li><li><a href="https://www.google.com/search?q=Games+-+Dishonored: The Brigmore Witches (2013)">Dishonored: The Brigmore Witches (2013)</a></li><li><a href="https://www.google.com/search?q=Games+-+Infra (2016)">Infra (2016)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Ludwig (S1, 2024)">Ludwig (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S5, 2001)">Buffy the Vampire Slayer (S5, 2001)</a></li><li><a href="https://www.google.com/search?q=TV+-+Flowers (S1-2, 2016-2018)">Flowers (S1-2, 2016-2018)</a></li><li><a href="https://www.google.com/search?q=TV+-+House of the Dragon (S2, 2024)">House of the Dragon (S2, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Normal People (S1, 2020)">Normal People (S1, 2020)</a></li><li><a href="https://www.google.com/search?q=TV+-+Derry Girls (S1-3, 2018-2022)">Derry Girls (S1-3, 2018-2022)</a></li><li><a href="https://www.google.com/search?q=TV+-+Lost Boys & Fairies (S1, 2024)">Lost Boys & Fairies (S1, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Extras (S1-2, 2005-2006)">Extras (S1-2, 2005-2006)</a></li><li><a href="https://www.google.com/search?q=TV+-+Inside No. 9 (S9, 2024)">Inside No. 9 (S9, 2024)</a></li><li><a href="https://www.google.com/search?q=TV+-+Atypical (S1-4, 2017-2021)">Atypical (S1-4, 2017-2021)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

console.log('Error in singles module: The remote server returned an error: (403) Forbidden.');

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 220.33, tooltip: "Wed, Oct 23, 2024<br/>£220.33"},
{ number: 221.57, tooltip: "Tue, Oct 22, 2024<br/>£221.57"},
{ number: 221.85, tooltip: "Mon, Oct 21, 2024<br/>£221.85"},
{ number: 222.23, tooltip: "Fri, Oct 18, 2024<br/>£222.23"},
{ number: 221.75, tooltip: "Thu, Oct 17, 2024<br/>£221.75"},
{ number: 221.65, tooltip: "Wed, Oct 16, 2024<br/>£221.65"},
{ number: 219.86, tooltip: "Tue, Oct 15, 2024<br/>£219.86"},
{ number: 221.87, tooltip: "Mon, Oct 14, 2024<br/>£221.87"},
{ number: 220.51, tooltip: "Fri, Oct 11, 2024<br/>£220.51"},
{ number: 219.65, tooltip: "Thu, Oct 10, 2024<br/>£219.65"},
{ number: 219.38, tooltip: "Wed, Oct 09, 2024<br/>£219.38"},
{ number: 218.15, tooltip: "Tue, Oct 08, 2024<br/>£218.15"},
{ number: 218.31, tooltip: "Mon, Oct 07, 2024<br/>£218.31"},
{ number: 218.64, tooltip: "Fri, Oct 04, 2024<br/>£218.64"},
{ number: 217.38, tooltip: "Thu, Oct 03, 2024<br/>£217.38"},
{ number: 215.97, tooltip: "Wed, Oct 02, 2024<br/>£215.97"},
{ number: 215.48, tooltip: "Tue, Oct 01, 2024<br/>£215.48"},
{ number: 214.93, tooltip: "Mon, Sep 30, 2024<br/>£214.93"},
{ number: 215.29, tooltip: "Fri, Sep 27, 2024<br/>£215.29"},
{ number: 214.66, tooltip: "Thu, Sep 26, 2024<br/>£214.66"},
{ number: 213.17, tooltip: "Wed, Sep 25, 2024<br/>£213.17"},
{ number: 213.30, tooltip: "Tue, Sep 24, 2024<br/>£213.30"},
].reverse();

	var vanguardDates = {
		"Latest":      "Wed, Oct 23, 2024",
		"vs Day":      "Tue, Oct 22, 2024",
		"vs Week":     "Wed, Oct 16, 2024",
		"vs Month":    "Tue, Sep 24, 2024",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£220.33/share",
		'vs Day':      "-0.56%",
		'vs Week':     "-0.60%",
		'vs Month':    "+3.30%",
		'vs Year':     "+25.34%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: The remote server returned an error: (429) Too Many Requests.');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '47.4',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waning-crescent.html" title="Waning Crescent on the night between 24 October and 25 October">Waning Crescent</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.474&p=2.853&r=5.975',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '07:48',
		Set:      '17:51',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p>To garnish food or drink is to add decorative and tasty touches to it, such as a spiral of lemon peel. </p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>