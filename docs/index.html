<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:30 13-Apr - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Prince Harry to attend coronation without Meghan</b><br/>Prince Harry will travel to the UK but Meghan will stay in California with their children." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-65255135?at_medium=RSS&amp;at_campaign=KARANGA">Prince Harry to attend coronation without Meghan</a></li><li class="ttt" data-tt="<b>Joe Biden hails Northern Ireland young people on Belfast visit</b><br/>The US president says they are at the &quot;cutting edge&quot; of the future, 25 years on from the 1998 peace deal."><a href="https://www.bbc.co.uk/news/uk-northern-ireland-65208880?at_medium=RSS&amp;at_campaign=KARANGA">Joe Biden hails Northern Ireland young people on Belfast visit</a></li><li class="ttt" data-tt="<b>Study reveals cancer’s ‘infinite’ ability to evolve</b><br/>Scientists say focus should be on cancer prevention, with &quot;universal cures&quot; unlikely at present."><a href="https://www.bbc.co.uk/news/health-65252510?at_medium=RSS&amp;at_campaign=KARANGA">Study reveals cancer’s ‘infinite’ ability to evolve</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-65255135?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/14340/production/_127925728_cea4567990287acdc7215071c17005f9efe32c7a.jpg" class="ttt" data-tt="Meghan Markle and Prince Harry" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>Six things we learned from Elon Musk interview</b><br/>The world\'s second richest man spoke for nearly an hour on a wide range of subjects." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65251160?at_medium=RSS&amp;at_campaign=KARANGA">Six things we learned from Elon Musk interview</a></li><li class="ttt" data-tt="<b>Watch: Elon Musk\'s unexpected BBC interview... in 90 seconds</b><br/>Musk talks about the &quot;pain&quot; of owning Twitter and the BBC\'s objection to being labelled &quot;government funded&quot;."><a href="https://www.bbc.co.uk/news/world-us-canada-65249138?at_medium=RSS&amp;at_campaign=KARANGA">Watch: Elon Musk\'s unexpected BBC interview... in 90 seconds</a></li><li class="ttt" data-tt="<b>Louisville bank gunman\'s mum called police during attack</b><br/>The suspect\'s mother told 911 she had received a tip-off from her son\'s &quot;very concerned&quot; roommate."><a href="https://www.bbc.co.uk/news/world-us-canada-65258107?at_medium=RSS&amp;at_campaign=KARANGA">Louisville bank gunman\'s mum called police during attack</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65251160?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/36A9/production/_129339931_musk_bbc.jpg" class="ttt" data-tt="Elon Musk talks to James Clayton" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>Six things we learned from Elon Musk interview</b><br/>The world\'s second richest man spoke for nearly an hour on a wide range of subjects." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65251160?at_medium=RSS&amp;at_campaign=KARANGA">Six things we learned from Elon Musk interview</a></li><li class="ttt" data-tt="<b>Watch: Elon Musk\'s unexpected BBC interview... in 90 seconds</b><br/>Musk talks about the &quot;pain&quot; of owning Twitter and the BBC\'s objection to being labelled &quot;government funded&quot;."><a href="https://www.bbc.co.uk/news/world-us-canada-65249138?at_medium=RSS&amp;at_campaign=KARANGA">Watch: Elon Musk\'s unexpected BBC interview... in 90 seconds</a></li><li class="ttt" data-tt="<b>Pentagon leaks: US thinks UN head Guterres too accommodating to Moscow, files suggest</b><br/>The leaked files suggest Washington has been closely monitoring Antonio Guterres."><a href="https://www.bbc.co.uk/news/world-us-canada-65257957?at_medium=RSS&amp;at_campaign=KARANGA">Pentagon leaks: US thinks UN head Guterres too accommodating to Moscow, fil...</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65251160?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/36A9/production/_129339931_musk_bbc.jpg" class="ttt" data-tt="Elon Musk talks to James Clayton" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Charles Leclerc: Ferrari driver asks fans to stop gathering outside his home</b><br/>Ferrari driver Charles Leclerc asks fans to respect his privacy and stop turning up outside his Monaco apartment." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65225543?at_medium=RSS&amp;at_campaign=KARANGA">Charles Leclerc: Ferrari driver asks fans to stop gathering outside his home</a></li><li class="ttt" data-tt="<b>Formula 1: Red Bull budget cap penalty \'very light\', says Ferrari\'s Frederic Vasseur</b><br/>Ferrari say Red Bull\'s strong start to the season is partly due to their being given a &quot;very light&quot; punishment for breaking Formula 1\'s budget cap."><a href="https://www.bbc.co.uk/sport/formula1/65209594?at_medium=RSS&amp;at_campaign=KARANGA">Formula 1: Red Bull budget cap penalty \'very light\', says Ferrari\'s Fred...</a></li><li class="ttt" data-tt="<b>Fernando Alonso: How the Spaniard helped Aston Martin leap on to the podium places</b><br/>Fernando Alonso\'s contribution to Aston Martin\'s leap to the podium should not be underestimated, says team principal Mike Krack."><a href="https://www.bbc.co.uk/sport/formula1/65200473?at_medium=RSS&amp;at_campaign=KARANGA">Fernando Alonso: How the Spaniard helped Aston Martin leap on to the podium...</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65225543?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/B7CB/production/_129315074_gettyimages-1474863917.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>Elon Musk: What it\'s like to interview the billionaire Twitter boss</b><br/>The interview covered everything from the challenges of artificial intelligence to Twitter\'s current CEO." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65248502?at_medium=RSS&amp;at_campaign=KARANGA">Elon Musk: What it\'s like to interview the billionaire Twitter boss</a></li><li class="ttt" data-tt="<b>Six things we learned from Elon Musk interview</b><br/>The world\'s second richest man spoke for nearly an hour on a wide range of subjects."><a href="https://www.bbc.co.uk/news/world-us-canada-65251160?at_medium=RSS&amp;at_campaign=KARANGA">Six things we learned from Elon Musk interview</a></li><li class="ttt" data-tt="<b>Elon Musk: Twitter owner changes BBC account\'s \'government funded\' label</b><br/>The Twitter boss agreed to change a description from &quot;government funded media&quot; to &quot;publicly funded&quot;."><a href="https://www.bbc.co.uk/news/entertainment-arts-65248554?at_medium=RSS&amp;at_campaign=KARANGA">Elon Musk: Twitter owner changes BBC account\'s \'government funded\' label</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65248502?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/C263/production/_129336794_whatsappimage2023-04-12at12.56.36am.jpg" class="ttt" data-tt="James Clayton sits next to Elon Musk and they speak" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"°C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"10 Apr – 16 Apr","date":1681344E6,"ts":"Thu, 13","ds":"Thu, 13 Apr","icon":33,"desc":"Passing showers. Cloudy.","temp":11,"templow":5,"cf":7,"wind":16,"wd":270,"hum":56,"pc":62,"rain":3.1 },{"date":16814304E5,"ts":"Fri, 14","ds":"Fri, 14 Apr","icon":18,"desc":"Light rain. Overcast.","temp":11,"templow":3,"cf":8,"wind":9,"wd":178,"hum":67,"pc":47,"rain":2.2 },{"date":16815168E5,"ts":"Sat, 15","ds":"Sat, 15 Apr","icon":33,"desc":"Passing showers. Overcast.","temp":13,"templow":4,"cf":11,"wind":7,"wd":189,"hum":58,"pc":43,"rain":2.6 },{"date":16816032E5,"ts":"Sun, 16","ds":"Sun, 16 Apr","icon":7,"desc":"Overcast.","temp":14,"templow":7,"cf":12,"wind":7,"wd":151,"hum":69,"pc":3},{"hl":true,"hls":"17 Apr – 23 Apr","date":16816896E5,"ts":"Mon, 17","ds":"Mon, 17 Apr","icon":7,"desc":"Overcast.","temp":16,"templow":5,"cf":15,"wind":10,"wd":92,"hum":56,"pc":0},{"date":1681776E6,"ts":"Tue, 18","ds":"Tue, 18 Apr","icon":4,"desc":"Partly cloudy.","temp":12,"templow":3,"cf":10,"wind":14,"wd":70,"hum":58,"pc":0},{"date":16818624E5,"ts":"Wed, 19","ds":"Wed, 19 Apr","icon":33,"desc":"Passing showers. Overcast.","temp":11,"templow":3,"cf":9,"wind":12,"wd":60,"hum":74,"pc":21,"rain":1},{"date":16819488E5,"ts":"Thu, 20","ds":"Thu, 20 Apr","icon":33,"desc":"Passing showers. Overcast.","temp":13,"templow":7,"cf":11,"wind":15,"wd":60,"hum":83,"pc":52,"rain":2.8 },{"date":16820352E5,"ts":"Fri, 21","ds":"Fri, 21 Apr","icon":21,"desc":"Isolated tstorms. Cloudy.","temp":15,"templow":8,"cf":12,"wind":17,"wd":80,"hum":80,"pc":50,"rain":2.5 },{"date":16821216E5,"ts":"Sat, 22","ds":"Sat, 22 Apr","icon":33,"desc":"Passing showers. Breaks of sun late.","temp":16,"templow":9,"cf":14,"wind":10,"wd":170,"hum":63,"pc":51,"rain":1.6 },{"date":1682208E6,"ts":"Sun, 23","ds":"Sun, 23 Apr","icon":21,"desc":"Scattered tstorms late. Cloudy.","temp":16,"templow":10,"cf":15,"wind":9,"wd":90,"hum":83,"pc":59,"rain":6.6 },{"hl":true,"hls":"24 Apr – 30 Apr","date":16822944E5,"ts":"Mon, 24","ds":"Mon, 24 Apr","icon":21,"desc":"Isolated tstorms. Overcast.","temp":16,"templow":10,"cf":16,"wind":7,"wd":180,"hum":84,"pc":60,"rain":5.2 },{"date":16823808E5,"ts":"Tue, 25","ds":"Tue, 25 Apr","icon":33,"desc":"Passing showers. Overcast.","temp":16,"templow":10,"cf":16,"wind":14,"wd":220,"hum":85,"pc":52,"rain":2.9 },{"date":16824672E5,"ts":"Wed, 26","ds":"Wed, 26 Apr","icon":7,"desc":"Overcast.","temp":14,"templow":10,"cf":13,"wind":8,"wd":70,"hum":87,"pc":58,"rain":0.2 },{"date":16825536E5,"ts":"Thu, 27","ds":"Thu, 27 Apr","icon":6,"desc":"Mostly cloudy.","temp":15,"templow":8,"cf":13,"wind":8,"wd":120,"hum":75,"pc":6}],"grid":{"temp":{"low":3,"high":16,"range":13},"prec":{"high":6.6},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/image/2304/Trottier_M31SW_APOD_Re1024.jpg',
		Title:     'NGC 206 and the Star Clouds of Andromeda',
		LinkImage: 'https://apod.nasa.gov/apod/image/2304/Trottier_M31SW_APOD_Re.jpg',
		LinkPage:  'https://apod.nasa.gov/apod/ap230412.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/04/The-Racetrack-By-Tom-Elenbaas.jpeg',
		Title:    'The Racetrack By Tom Elenbaas',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-tom-elenbaas-20/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Spiti_River_Kaza_Himachal_Jun18_D72_7232.jpg/500px-Spiti_River_Kaza_Himachal_Jun18_D72_7232.jpg',
		Title:    'Spiti',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Spiti',
		Description: '    <b><a href="/wiki/Spiti" title="Spiti">Spiti</a></b> is a high-altitude <a href="/wiki/Desert_climate#Cold_desert_climates" title="Desert climate">cold desert</a> in the <a href="/wiki/Western_Himalayas" title="Western Himalayas">Western Himalayas</a> in India.  "Spiti" means "the middle land", between <a href="/wiki/Tibet" title="Tibet">Tibet</a> and India. The region is above the <a href="/wiki/Tree_line" title="Tree line">tree line</a>, with only shrubs and a few scattered stunted trees. In the upper valley, the braided Spiti River flows in narrow channels in a very wide river bed, as seen in this photograph, taken just above <a href="/wiki/Kaza,_Himachal_Pradesh" title="Kaza, Himachal Pradesh">Kaza</a>, the largest town in Spiti. In the lower valley, the river meanders through gorges 10 to 130 metres (33 to 427&#160;ft) deep that it has cut in the <a href="/wiki/Sedimentary_rock" title="Sedimentary rock">sedimentary</a> deposits. The Moravian geologist <a href="/wiki/Ferdinand_Stoliczka" title="Ferdinand Stoliczka">Ferdinand Stoliczka</a> discovered a major geological formation near the village of <a href="/wiki/Mud_village,_Spiti#Geology" title="Mud village, Spiti">Mud</a> in the 1860s, and identified a number of layers or successions. The people of Spiti follow <a href="/wiki/Tibetan_Buddhism" title="Tibetan Buddhism">Tibetan Buddhism</a>, and their culture is similar to those of neighbouring Tibet and Ladakh. The region is known for adventure tourism, trekking and mountaineering.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="/wiki/Timothy_A._Gonsalves" title="Timothy A. Gonsalves">Timothy A. Gonsalves</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1681353300,"duration":10500,"svcId":700,"evtId":6069,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Escape to the Country","description":"40\/55. Briony May Williams has some wonderful property options in Devon and Dorset to show today\u0027s buyer, who wants a new lease of life in a rural home with business potential. [S] [HD]","startTime":1681363800,"duration":2700,"svcId":700,"evtId":6097,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff2fhz.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681224308,"availabilityEnd":1712760308,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001kzpq\u0026ui_id=4.0.0"},"seriesNo":45,"episodeNo":40},{"name":"The Bidding Room","description":"17\/30. Nigel Havers hosts as five dealers bid to buy items brought in by the public, including a 1940s library stand, a racing tricycle, some Sindy toys and a vintage milking machine. [S] [HD]","startTime":1681366500,"duration":2700,"svcId":700,"evtId":6098,"image":"\/ms\/img\/epg\/rb\/8df1-p0cvnczs.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681313399,"availabilityEnd":1713627008,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001kzqb\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":17},{"name":"Between the Covers","description":"1\/6. Sara is joined by Angela Scanlon, DJ Spoony, Rob Rinder and Cerys Matthews. [S,SL] [HD]","startTime":1681369200,"duration":1800,"svcId":700,"evtId":6099,"image":"\/ms\/img\/epg\/rb\/8df1-p0f7nnc1.jpg","hasTstv":false,"seriesNo":6,"episodeNo":1},{"name":"Caught Red Handed","description":"1\/20. A mother has just got home with her newborn baby when masked burglars smash in, and a dashcam reveals a van driver\u0027s criminal behaviour before a crash. [S,AD,SL] [HD]","startTime":1681371000,"duration":1800,"svcId":700,"evtId":6100,"image":"\/ms\/img\/epg\/rb\/8df1-p0f32z8v.jpg","hasTstv":false,"seriesNo":11,"episodeNo":1},{"name":"BBC News","description":"The latest headlines, breaking news and sport from the BBC newsroom. [S] [HD]","startTime":1681372800,"duration":3600,"svcId":700,"evtId":6101,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1681376400,"duration":9900,"svcId":700,"evtId":6102,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Impossible","description":"5\/20. The quiz show where players must avoid the Impossible answer to stay in the competition. 21 people begin the week but how many of them will survive to face the \u00a310,000 Question? [S] [HD]","startTime":1681386300,"duration":2700,"svcId":700,"evtId":6103,"image":"\/ms\/img\/epg\/rb\/8df1-p06q68c1.jpg","hasTstv":false,"seriesNo":5,"episodeNo":5},{"name":"Eggheads","description":"Jeremy Vine hosts a general knowledge quiz featuring the greatest quiz team in Britain. [S] [HD]","startTime":1681389000,"duration":1800,"svcId":700,"evtId":6104,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":20,"episodeNo":72},{"name":"Gymnastics: European Championships","description":"Europe\u0027s best male gymnasts showcase their intricate and explosive acrobatic moves as they bid to be crowned continental all-around champion in Turkey. Introduced by Matt Baker. [S] [HD]","startTime":1681390800,"duration":9900,"svcId":700,"evtId":6105,"image":"\/ms\/img\/epg\/rb\/8df1-p0fdsycm.jpg","hasTstv":false},{"name":"My Unique B\u0026B","description":"14\/15. Simon is in Wiltshire to help primary school teacher Tara create a unique B\u0026B from her second-hand tin shed. However, planning permissions mean that the shed must be moveable. [S,AD] [HD]","startTime":1681400700,"duration":1800,"svcId":700,"evtId":6106,"image":"\/ms\/img\/epg\/rb\/8df1-p0c4t4v8.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1658304000,"availabilityEnd":1689926400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0017775\u0026ui_id=4.0.0"},"episodeNo":14},{"name":"Flog It!","description":"27\/60. At Glemham Hall in Suffolk, James Lewis uncovers a copy of a Raphael painting saved by a refugee from Hitler\u0027s Germany, and David Fletcher spots a rare flintlock pistol. [S] [HD]","startTime":1681402500,"duration":2700,"svcId":700,"evtId":6107,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":16,"episodeNo":27},{"name":"Richard Osman\u0027s House of Games","description":"24\/140. Kaye Adams, Mark Chapman, Philip Glenister and Thanyia Moore test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1681405200,"duration":1800,"svcId":700,"evtId":6108,"image":"\/ms\/img\/epg\/rb\/8df1-p09v6n51.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1631813400,"availabilityEnd":1663349400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m000zr1l\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":24},{"name":"B\u0026B by the Sea","description":"4\/15. Checking into the B\u0026B is Welsh musician, author and radio host Cerys Matthews. Cerys may have travelled the world with her music, but this is her first visit to the Causeway Coast. [S] [HD]","startTime":1681407000,"duration":1800,"svcId":700,"evtId":6109,"image":"\/ms\/img\/epg\/rb\/8df1-p0dnq1g3.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1669406448,"availabilityEnd":1700942448,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=p0df2302\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":4},{"name":"Jay\u0027s Yorkshire Workshop","description":"5\/6. This week, Jay and his workshop make furniture for a veteran who set up a charity to help other ex-forces members and a couple who have fostered 130 children. [S] [HD]","startTime":1681408800,"duration":3600,"svcId":700,"evtId":6110,"image":"\/ms\/img\/epg\/rb\/8df1-p09w0z2t.jpg","hasTstv":false,"episodeNo":5},{"name":"Reunion Hotel","description":"2\/5. A 60s girl band reunite with their favourite boy band, ex-addict Simon meets the man who turned his life around and Ellie thanks a teacher who was her rock after a terror attack. [S,AD] [HD]","startTime":1681412400,"duration":3600,"svcId":700,"evtId":6111,"image":"\/ms\/img\/epg\/rb\/8df1-p0fdrmm6.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Brian Cox: Seven Days on Mars","description":"With unique access to Nasa, Brian Cox follows Perseverance rover\u0027s search for life on Mars during a critical seven-day period as it undertakes an epic journey across the red planet. [S,AD] [HD]","startTime":1681416000,"duration":5400,"svcId":700,"evtId":6112,"image":"\/ms\/img\/epg\/rb\/8df1-p0ccgdbg.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1655501490,"availabilityEnd":1733983140,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0018cd1\u0026ui_id=4.0.0"}},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Victoria Derbyshire. [S] [HD]","startTime":1681421400,"duration":2400,"svcId":700,"evtId":6113,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1681423800,"duration":300,"svcId":700,"evtId":6114,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Last Woman on Earth with Sara...","description":"...Pascoe. 1\/3. Sara Pascoe learns Greece\u0027s endangered jobs, including bell making. Contains some strong language. [S,AD] [HD]","startTime":1681424100,"duration":3600,"svcId":700,"evtId":6115,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff9q7s.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681074163,"availabilityEnd":1684875683,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001kz7q\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":1},{"name":"Saving Lives in Leeds","description":"7\/8. Neurosurgeon Ryan Mathew performs awake brain surgery on a patient with a large tumour. Contains graphic medical scenes. [S,AD] [HD]","startTime":1681427700,"duration":3600,"svcId":700,"evtId":6116,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff94gf.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1681333334,"availabilityEnd":1713560531,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001l0fv\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":7},{"name":"Amanda \u0026 Alan\u0027s Italian Job","description":"7\/8. Amanda and Alan\u0027s plans to create an open-plan living and dining room are jeopardised when they come up against a huge structural wall dividing the two spaces. [S,AD,SL] [HD]","startTime":1681431300,"duration":1800,"svcId":700,"evtId":6117,"image":"\/ms\/img\/chan\/BBCTwoHD-App-Placeholder-1280x720.jpg","hasTstv":false,"seriesNo":1,"episodeNo":7},{"name":"We Need to Talk about Cosby","description":"2\/4. It\u0027s the 1970s, and Bill Cosby is on a circuitous path to becoming an on-screen educator and moral authority - a man thought to be trustworthy. Contains very strong language. [S,SL] [HD]","startTime":1681433100,"duration":3600,"svcId":700,"evtId":6118,"image":"\/ms\/img\/epg\/rb\/8df1-p0f6zhxz.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Becoming Frida Kahlo","description":"2\/3. Now married and living in 1930s America, Frida sees the ugly side of capitalism. Contains scenes which some viewers may find upsetting. [S,AD,SL] [HD]","startTime":1681436700,"duration":3600,"svcId":700,"evtId":6119,"image":"\/ms\/img\/epg\/rb\/8df1-p0fcdkk0.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1681440300,"duration":9900,"svcId":700,"evtId":6120,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":[{"name":"Eagle Eye","description":"(2008) Action-thriller with Shia LaBeouf. A college dropout gets dragged in when his Air Force brother is killed and his apartment filled with terrorist gear. Violence\/some strong language.  [AD,S,SL]","startTime":1681348800,"duration":7200,"svcId":1500,"evtId":18506,"image":"\/ms\/img\/epg\/rb\/5d52-769025.l.png","hasTstv":false},{"name":"Couples Come Dine with Me","description":"In Lincolnshire, former soldier Scott is under his partner Clare\u0027s command. Su and Dylan serve up a pagan ritual and a Gary Barlow tribute. And Adele and Dave recreate an officers\u0027 mess.  [S]","startTime":1681356000,"duration":3300,"svcId":1500,"evtId":18508,"image":"\/ms\/img\/epg\/rb\/5d52-393674282.l.png","hasTstv":false,"seriesNo":3,"episodeNo":90},{"name":"The Dog House","description":"Ten German shepherd puppies descend on Wood Green, ready to be socialised, but how will potential owners pick just one? And Staffordshire bull terrier Casper seeks a home. (S1 Ep3\/8)  [AD,S]","startTime":1681359300,"duration":3300,"svcId":1500,"evtId":18509,"image":"\/ms\/img\/epg\/rb\/5d52-343177948.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Grace Dent joins Susie Dent in Dictionary Corner.  [S]","startTime":1681362600,"duration":2400,"svcId":1500,"evtId":18315,"image":"\/ms\/img\/epg\/rb\/5d52-7467824.l.png","hasTstv":false},{"name":"Cheers","description":"2 Good 2 Be 4 Real: Carla confesses that she\u0027s placed a lonely hearts advert in the personal column of a newspaper but has received no replies, so the gang decide to invent one. (S4 Ep7\/26)  [S]","startTime":1681365000,"duration":1500,"svcId":1500,"evtId":18316,"image":"\/ms\/img\/epg\/rb\/5d52-311314.l.png","hasTstv":false,"seriesNo":4,"episodeNo":7},{"name":"Cheers","description":"Love Thy Neighbor: Diane is incensed by the way that Sam refers to her in a radio interview. Norm is confronted with evidence of his wife\u0027s infidelity by one of his neighbours. (S4 Ep8\/26)  [S]","startTime":1681366500,"duration":1500,"svcId":1500,"evtId":18317,"image":"\/ms\/img\/epg\/rb\/5d52-313010.l.png","hasTstv":false,"seriesNo":4,"episodeNo":8},{"name":"The King of Queens","description":"Present Tense: The Heffernans hate an anniversary gift from the Palmers so much that they stage a robbery to get rid of it. (S8 Ep17\/23)  [AD,S]","startTime":1681368000,"duration":1500,"svcId":1500,"evtId":18318,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":17},{"name":"The King of Queens","description":"Sold-Y Locks: Doug convinces Carrie to sell her hair to a wig-maker so that they can afford to go on a cruise. (S8 Ep18\/23)  [AD,S]","startTime":1681369500,"duration":1800,"svcId":1500,"evtId":18319,"image":"\/ms\/img\/epg\/rb\/5d52-5964679.l.png","hasTstv":false,"seriesNo":8,"episodeNo":18},{"name":"The King of Queens","description":"Emotional Rollercoaster: Doug lies to Carrie at the amusement park so that he can go on the rollercoaster, but his fibs come back to haunt him. (S8 Ep19\/23)  [AD,S]","startTime":1681371300,"duration":1800,"svcId":1500,"evtId":18320,"image":"\/ms\/img\/epg\/rb\/5d52-comedy.genre.l.png","hasTstv":false,"seriesNo":8,"episodeNo":19},{"name":"Frasier","description":"Momma Mia: Niles and Martin get the shock of their lives when they meet Frasier\u0027s new date: she\u0027s the spitting image of his mother. (S7 Ep1)  [AD,S]","startTime":1681373100,"duration":1800,"svcId":1500,"evtId":18321,"image":"\/ms\/img\/epg\/rb\/5d52-309444.l.png","hasTstv":false,"seriesNo":7,"episodeNo":1},{"name":"Frasier","description":"Father of the Bride: Frasier and Martin inadvertently offer to pay for Daphne\u0027s wedding. Meanwhile, Frasier\u0027s meddling drives Daphne crazy. (S7 Ep2)  [AD,S]","startTime":1681374900,"duration":1800,"svcId":1500,"evtId":18322,"image":"\/ms\/img\/epg\/rb\/5d52-889890.l.png","hasTstv":false,"seriesNo":7,"episodeNo":2},{"name":"Frasier","description":"Radio Wars: An unwilling Frasier becomes the butt of pranks by the station\u0027s shock jock. (S7 Ep3)  [AD,S]","startTime":1681376700,"duration":1800,"svcId":1500,"evtId":18323,"image":"\/ms\/img\/epg\/rb\/5d52-891795.l.png","hasTstv":false,"seriesNo":7,"episodeNo":3},{"name":"Emergency Helicopter Medics","description":"The heli-medics help a teen motorcyclist who\u0027s been hit by a car and catapulted into the air. A holiday fitness workout ends in CPR. And a lorry driver is trapped in his cabin. (S4 Ep4)  [AD,S]","startTime":1681378500,"duration":3600,"svcId":1500,"evtId":18324,"image":"\/ms\/img\/epg\/rb\/5d52-6066156.l.png","hasTstv":false,"seriesNo":4,"episodeNo":4},{"name":"Channel 4 News Summary","description":"Channel 4\u0027s midday news summary.  [S]","startTime":1681382100,"duration":300,"svcId":1500,"evtId":18325,"image":"\/ms\/img\/epg\/rb\/5d52-2023374.l.png","hasTstv":false},{"name":"Four in a Bed","description":"John and Elleke Ross welcome their rivals to the Mevagissey Bay Hotel in Cornwall. Catherine and Andrew are dazzled by the decking but puzzled by a mysterious gap around their door.  [S]","startTime":1681382400,"duration":1800,"svcId":1500,"evtId":18326,"image":"\/ms\/img\/epg\/rb\/5d52-363333404.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Jay and Sarah Brewer host at Glebe House Cottages in Devon. At breakfast, their bakery baskets pass the taste test, but the menu leaves the guests wanting more.  [S]","startTime":1681384200,"duration":1800,"svcId":1500,"evtId":18327,"image":"\/ms\/img\/epg\/rb\/5d52-363419067.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Catherine and Andrew Watt host at their converted police station, the Kings Park Hotel in Nottinghamshire. John and Elleke get forensic with the furniture. Sarah feels boxed in by her room.  [S]","startTime":1681386000,"duration":1800,"svcId":1500,"evtId":18328,"image":"\/ms\/img\/epg\/rb\/5d52-363421696.l.png","hasTstv":false},{"name":"Four in a Bed","description":"Sarah Smith welcomes her guests to The Dukes in Bedfordshire, where she\u0027s under pressure to deliver at breakfast, and some of the feedback is hard to stomach.  [S]","startTime":1681387800,"duration":1800,"svcId":1500,"evtId":18329,"image":"\/ms\/img\/epg\/rb\/5d52-363423757.l.png","hasTstv":false},{"name":"Four in a Bed","description":"It\u0027s the day of reckoning for the B\u0026Bers. Whose property will emerge from the thud and blunder of bitter recrimination as the best value for money?  [S]","startTime":1681389600,"duration":1800,"svcId":1500,"evtId":18330,"image":"\/ms\/img\/epg\/rb\/5d52-267423876.l.png","hasTstv":false},{"name":"Countdown","description":"Colin Murray and Rachel Riley host as contestants race against the clock to pit their wits against vowels, consonants and numbers. Grace Dent joins Susie Dent in Dictionary Corner.  [S]","startTime":1681391400,"duration":3000,"svcId":1500,"evtId":18331,"image":"\/ms\/img\/epg\/rb\/5d52-7470956.l.png","hasTstv":false},{"name":"A Place in the Sun","description":"Father and son Michael and Sami want to buy a holiday home with a pool on Spain\u0027s Costa del Sol for \u00a3280k. Will any of Laura Hamilton\u0027s options make a splash?  [S]","startTime":1681394400,"duration":3600,"svcId":1500,"evtId":18332,"image":"\/ms\/img\/epg\/rb\/5d52-5074650.l.png","hasTstv":false},{"name":"A New Life in the Sun","description":"In France, first-time B\u0026B owners welcome their inaugural French guests. In Valencia, a motorbike tour business finally welcomes its first customer after months of renovations. (S7 Ep24)  [S]","startTime":1681398000,"duration":3600,"svcId":1500,"evtId":18333,"image":"\/ms\/img\/epg\/rb\/5d52-5431399.l.png","hasTstv":false,"seriesNo":7,"episodeNo":24},{"name":"Four in a Bed","description":"The week\u0027s final visit is to White Mark Glamping in Watlington, Oxfordshire, where hosts Steph and Martin are certain the B\u0026Bers will love the great outdoors. The guests aren\u0027t so sure...  [S]","startTime":1681401600,"duration":1800,"svcId":1500,"evtId":18334,"image":"\/ms\/img\/epg\/rb\/5d52-6523311.l.png","hasTstv":false},{"name":"Strangers on a Plane","description":"On the fourth day in Porto, culture vulture Shabaz leads a historical tour by tuk-tuk, but will his evening of melancholy music give his fellow holidaymakers the blues? (Ep9\/20)  [S]","startTime":1681403400,"duration":1800,"svcId":1500,"evtId":18335,"image":"\/ms\/img\/epg\/rb\/5d52-reality.genre.l.png","hasTstv":false,"seriesNo":1,"episodeNo":9},{"name":"The Simpsons","description":"Bonfire of the Manatees: Marge meets a handsome marine biologist (guest star Alec Baldwin). Will Marge be wooed by Caleb? Can Homer win her back? (S17 Ep1\/22)  [AD,S]","startTime":1681405200,"duration":1800,"svcId":1500,"evtId":18336,"image":"\/ms\/img\/epg\/rb\/5d52-5585040.l.png","hasTstv":false,"seriesNo":17,"episodeNo":1},{"name":"Hollyoaks","description":"Rayne tries to help Romeo escape his problems. Scott receives some exciting news. And will a raft of revelations be make or break for two couples in the village?  [AD,S]","startTime":1681407000,"duration":1800,"svcId":1500,"evtId":18337,"image":"\/ms\/img\/epg\/rb\/5d52-7470959.l.png","hasTstv":false},{"name":"Channel 4 News","description":"Channel 4\u0027s flagship news programme. Including the weather.  [S]","startTime":1681408800,"duration":3600,"svcId":1500,"evtId":18338,"image":"\/ms\/img\/epg\/rb\/5d52-2023390.l.png","hasTstv":false},{"name":"New: The Dog Academy","description":"Ken is terrified of dogs - including his own 18-month-old cockapoo, Freddie. Can the trainers fix both man and dog and restore harmony to the family home? (Ep3)  [AD,S]","startTime":1681412400,"duration":3600,"svcId":1500,"evtId":18339,"image":"\/ms\/img\/epg\/rb\/5d52-7470960.l.png","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"New: Taskmaster","description":"Things are getting heated between this year\u0027s noble competitors as they bid to impress the Taskmaster. Can they keep it together for the all-important sausage exam? (Ep3\/10)  [AD,S]","startTime":1681416000,"duration":3600,"svcId":1500,"evtId":18340,"image":"\/ms\/img\/epg\/rb\/5d52-7470961.l.png","hasTstv":false,"seriesNo":15,"episodeNo":3},{"name":"New: Rise and Fall: The Final","description":"The power-struggle reaches its climax, as Greg James hosts the grand finale. Only one Ruler can be awarded the prize fund... who will be crowned the winner of Rise and Fall? (Ep18)  [S]","startTime":1681419600,"duration":3900,"svcId":1500,"evtId":18341,"image":"\/ms\/img\/epg\/rb\/5d52-7470962.l.png","hasTstv":false,"seriesNo":1,"episodeNo":18},{"name":"Swingers","description":"With 1.5 million people reportedly on the British swinging scene, this documentary takes an honest look at one of Britain\u0027s most popular swingers\u0027 clubs to find out who attends and why.  [AD,S]","startTime":1681423500,"duration":3600,"svcId":1500,"evtId":18342,"image":"\/ms\/img\/epg\/rb\/5d52-396072775.l.png","hasTstv":false,"seriesNo":11,"episodeNo":10},{"name":"Tempting Fortune","description":"The trekkers are divided, with the prize fund having taken some hits. But will that stop anyone spending more of it on a trip to a cocktail bar? Paddy McGuinness presents. (Ep5\/6)  [AD,S,SL]","startTime":1681427100,"duration":3300,"svcId":1500,"evtId":18343,"image":"\/ms\/img\/epg\/rb\/5d52-7467620.l.png","hasTstv":false,"seriesNo":1,"episodeNo":5},{"name":"Tempting Fortune: The Final","description":"The trekkers enter the final stretch of their journey, and the prize money is tantalisingly close. But a bombshell rule change throws everything up in the air... (Ep6\/6)  [AD,S,SL]","startTime":1681430400,"duration":3300,"svcId":1500,"evtId":18344,"image":"\/ms\/img\/epg\/rb\/5d52-7467741.l.png","hasTstv":false,"seriesNo":1,"episodeNo":6},{"name":"Ramsay\u0027s Kitchen Nightmares USA","description":"In Florida, Gordon Ramsay visits Italian restaurant Anna Vincenzo\u0027s, where owner CeCe has lost her way in the kitchen. But can she take constructive criticism from Gordon? (S3 Ep9)  [S,SL]","startTime":1681433700,"duration":3000,"svcId":1500,"evtId":18345,"image":"\/ms\/img\/epg\/rb\/5d52-1020846.l.png","hasTstv":false,"seriesNo":2,"episodeNo":9},{"name":"Couples Come Dine with Me","description":"In Sheffield, there are first-time hosts, kitchen mishaps and dodgy Mr Bean impressions, as three couples compete to pull off the best dinner party.  [S]","startTime":1681436700,"duration":3000,"svcId":1500,"evtId":18346,"image":"\/ms\/img\/epg\/rb\/5d52-393011237.l.png","hasTstv":false,"seriesNo":3,"episodeNo":98},{"name":"Extraordinary Escapes with...","description":"...Sandi Toksvig: Sandi and Jenny Eclair escape to Wales, where they visit a century-old flatpack house, a converted fruit store, and a hovering home in the Brecon Beacons. (S2 Ep6)  [AD,S,SL]","startTime":1681439700,"duration":3000,"svcId":1500,"evtId":18347,"image":"\/ms\/img\/epg\/rb\/5d52-415094644.l.png","hasTstv":false,"seriesNo":2,"episodeNo":6},{"name":"Food Unwrapped Does Takeaways","description":"With Brits spending a whopping \u00a31 billion a month on takeouts, Food Unwrapped delivers some fascinating takeaway facts on spring rolls, kebabs and ghee - the flavoursome heart of curry.  [AD,S]","startTime":1681442700,"duration":3000,"svcId":1500,"evtId":18348,"image":"\/ms\/img\/epg\/rb\/5d52-4213496.l.png","hasTstv":false}]}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('13')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('361');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('12');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('178');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('2');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('6');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('102');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('58');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'paIPw9ZhpOc', title: "Is our NARROWBOAT home SINKING? | EP 009", label: "Is our NARROWBOAT home SINKING? | EP 009 by Ula and Josh 2 weeks ago 20 minutes 69,677 views" },
{ id: 'RMpAg5bLdyA', title: "24 Hours of Living on a Boat | NARROWBOAT Life | Ep 08", label: "24 Hours of Living on a Boat | NARROWBOAT Life | Ep 08 by Ula and Josh 3 weeks ago 22 minutes 38,023 views" },
{ id: 'SYIyyzcBeXU', title: "Living Off-Grid is HARD! NARROWBOAT LIFE | EP 07", label: "Living Off-Grid is HARD! NARROWBOAT LIFE | EP 07 by Ula and Josh 1 month ago 28 minutes 55,614 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Azerbaijan.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Azerbaijan_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>30 April</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Knives Out (2019)">Knives Out (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li><li><a href="https://www.google.com/search?q=Games+-+Firewatch">Firewatch</a></li><li><a href="https://www.google.com/search?q=Games+-+Sniper Elite 4">Sniper Elite 4</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl… (S1)">How this Blind Girl… (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S1)">Downton Abbey (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Traitors (S1)">The Traitors (S1)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "07 April 2023 -  13 April 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/5138/miley-cyrus/'>miley cyrus</a>", Title: "<a href='https://www.officialcharts.com/search/singles/flowers/'>FLOWERS</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/31iDAcJi6VL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/6692/ed-sheeran/'>ed sheeran</a>", Title: "<a href='https://www.officialcharts.com/search/singles/eyes-closed/'>EYES CLOSED</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/411mB8h9-uL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/63953/libianca/'>libianca</a>", Title: "<a href='https://www.officialcharts.com/search/singles/people/'>PEOPLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/416HTM1LzFL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 173.80, tooltip: "Tue, Apr 11, 2023<br/>£173.80"},
{ number: 172.94, tooltip: "Thu, Apr 06, 2023<br/>£172.94"},
{ number: 172.37, tooltip: "Wed, Apr 05, 2023<br/>£172.37"},
{ number: 172.27, tooltip: "Tue, Apr 04, 2023<br/>£172.27"},
{ number: 174.37, tooltip: "Mon, Apr 03, 2023<br/>£174.37"},
{ number: 174.18, tooltip: "Fri, Mar 31, 2023<br/>£174.18"},
{ number: 172.08, tooltip: "Thu, Mar 30, 2023<br/>£172.08"},
{ number: 171.74, tooltip: "Wed, Mar 29, 2023<br/>£171.74"},
{ number: 169.42, tooltip: "Tue, Mar 28, 2023<br/>£169.42"},
{ number: 169.88, tooltip: "Mon, Mar 27, 2023<br/>£169.88"},
{ number: 170.06, tooltip: "Fri, Mar 24, 2023<br/>£170.06"},
{ number: 169.10, tooltip: "Thu, Mar 23, 2023<br/>£169.10"},
{ number: 169.48, tooltip: "Wed, Mar 22, 2023<br/>£169.48"},
{ number: 171.30, tooltip: "Tue, Mar 21, 2023<br/>£171.30"},
{ number: 168.38, tooltip: "Mon, Mar 20, 2023<br/>£168.38"},
{ number: 168.94, tooltip: "Fri, Mar 17, 2023<br/>£168.94"},
{ number: 170.44, tooltip: "Thu, Mar 16, 2023<br/>£170.44"},
{ number: 169.49, tooltip: "Wed, Mar 15, 2023<br/>£169.49"},
{ number: 169.92, tooltip: "Tue, Mar 14, 2023<br/>£169.92"},
{ number: 168.40, tooltip: "Mon, Mar 13, 2023<br/>£168.40"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, Apr 11, 2023",
		"vs Day":      "Thu, Apr 06, 2023",
		"vs Week":     "Fri, Mar 31, 2023",
		"vs Month":    "Mon, Mar 13, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "£173.80/share",
		'vs Day':      "+0.50%",
		'vs Week':     "-0.22%",
		'vs Month':    "+3.21%",
		'vs Year':     "+0.17%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '54.7',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/third-quarter.html" title="Third Quarter on the night between 12 April and 13 April">Third Quarter</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.547&p=3.753&r=0.590',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '06:14',
		Set:      '20:00',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Vicinity</em> is often used as a synonym of <a href="https://www.merriam-webster.com/dictionary/neighborhood"><em>neighborhood</em></a> meaning "the area around or near a particular place." It can also mean "the quality or state of being near" or "an approximate amount, extent, or degree."</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=%22Reece+James%22">Reece James</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Chilwell">Chilwell</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=%23RMACHE">#RMACHE</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Cucurella">Cucurella</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%23raceacrosstheworld">#raceacrosstheworld</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Cohen">Cohen</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%22Harry+Potter%22">Harry Potter</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Chelsea">Chelsea</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%22HBO+Max%22">HBO Max</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Mia+Goth%22">Mia Goth</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>