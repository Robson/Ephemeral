<!DOCTYPE html>
<html lang="en">
	<head>
		<title>00:47 1-Jun - Ephemeral</title>		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<meta http-equiv="refresh" content="1800">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"> 		
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500&display=swap"> 	
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<div id="container">
		</div>
		<div id="tt" style="display: none">
			<p id="tooltip_text"></p>
		</div>
		<div id="cls">&nbsp;</div>
		<script>

////////////////////////////////////////////////// tooltips

            var tooltip = d3.select('#tt');
            var tt = d3.select('#tt');

            function setTooltip(value) {
				d3.select('#tooltip_text').html(value);
            }

            function createTooltipTriggers() {
                d3.selectAll('.ttt')
                    .on("mouseover", function (d, i) {
                        setTooltip(d3.selectAll('.ttt')[0][i].attributes['data-tt'].value);
                    })
                    .on("mouseout", function () {
                        tt.style('display', 'none');
                    })
					.on("mousemove", function () {
                        if (x <= 0 || y <= 0) {
                            tt.style('display', 'none');
                        } else {
                            tt.style('display', null);
                        }
                        var x = d3.event.pageX - (tt.node().getBoundingClientRect().width / 2);
                        var y = d3.event.pageY - (tt.node().getBoundingClientRect().height + 5);
                        tt.style('left', ~~x + 'px');
                        tt.style('top', ~~y + 'px');

                    });
			}

////////////////////////////////////////////////// charts

            function map(n, a, b, y, z) {
                return (n - a) * (z - y) / (b - a) + y;
			}

			function createLineChart(width, height, element, data, boundary = 0) {
                var svg = element
                    .append('svg')
                    .attr('width', width + 'px')
                    .attr('height', height + 'px');

                var start = Math.min(...data.map(a => a.number));
				var end = Math.max(...data.map(a => a.number));

				switch (boundary) {
					case 1:
						var distance = (end - start) * 0.1;
						start -= distance;
						start = Math.max(0, start);
						end += distance;
						break;
					case 2:
						start = 0;
						break;
				}

				var xs = [];
				var ys = [];

                for (var i = 1; i <= data.length; i++) {
                    var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
					var y1 = map(data[i - 1].number, start, end, height, 6);
					xs.push(x1);
					ys.push(y1);
				}

				var area = d3.svg.area()
					.interpolate('cardinal')
					.x(function (d, i) { return xs[i] })
					.y0(function (d, i) { return height })
					.y1(function (d, i) { return ys[i] });

				svg
					.append('path')
                    .datum(d3.range(data.length).map(function(d, i) { return i }))
					.attr("d", area)
					.attr('fill', '#eee');

                var line = d3.svg.line()
                    .interpolate('cardinal')
                    .x(function (d, i) { return xs[i] })
                    .y(function (d, i) { return ys[i] });

                svg
                    .append('path')
                    .datum(d3.range(data.length).map(function (d, i) { return i }))
                    .attr("d", line)
					.attr('fill', 'transparent')
					.style('stroke-width', 2)
					.style('stroke', '#bbb');

				for (var i = 1; i <= data.length; i++) {
					var x1 = map(i - 1, 0, data.length - 1, 3, width - 3);
                    var x2 = map(i, 0, data.length - 1, 3, width - 3);
                    var y1 = map(data[i - 1].number, start, end, height, 6);
                    var g = svg
                        .append('g')
                        .attr('class', 'group');
                    g
						.append('circle')
						.attr('class', 'highlight')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 1)
						.attr('title', data[i - 1].number);
					g
						.append('rect')
						.attr('class', 'ttt')
						.attr('width', x2 - x1)
						.attr('height', height)
						.attr('x', (x1) - ((x2 - x1) / 2))
						.attr('y', 0)
						.attr('data-tt', data[i - 1].tooltip)
						.attr('style', 'fill:transparent');
                    /*g
                        .append('circle')
                        .attr('class', 'ttt')
                        .attr('cx', x1)
                        .attr('cy', y1 - 0.5)
                        .attr('r', 4)
                        .attr('opacity', '0.01')
                        .attr('z-index', 1000)
                        .attr('data-tt', data[i - 1].tooltip);*/
				}

                svg
                    .append('line')
                    .attr('x1', 3)
                    .attr('y1', height)
                    .attr('x2', width - 3)
                    .attr('y2', height)
                    .style('stroke-width', 2)
                    .style('stroke', '#bbb');
            }

////////////////////////////////////////////////// page
					
			var inside = 210;
			var padding = 8;
			var length = padding + inside + padding;
			var columns;
			var offsetX;
			var offsetY;
			var filled = [,];
			var low = 0;
			var modules = [];
								
			function random(start, end) {
				return start + Math.floor(Math.random() * (end - start));
			}
			
			function makeBox(width, height) {			
				var startX = 0, startY = 0;
				var hasLocation = false;
				for (var a = 0; a + height < filled.length && !hasLocation; a++) {
					for (var b = 0; b + width <= columns && !hasLocation; b++) {					
						var isValid = true;
						for (var c = 0; c < height && isValid; c++) {
							for (var d = 0; d < width && isValid; d++) {
								if (filled[a + c][b + d] > 0) {
									isValid = false;
								}
							}
						}
						if (isValid) {
							hasLocation = true;							
							startX = b;
							startY = a;
						}						
					}
				}				
				if (hasLocation) {
					for (var c = startY; c < startY + height && isValid; c++) {
						for (var d = startX; d < startX + width && isValid; d++) {
							filled[c][d] = 1;
						}
					}
					low = Math.max(low, offsetY + (startY * length) + ((height * length) - (padding * 2)));				
					return d3
						.select('#container')
						.append('div')
						.attr('class', 'box')
						.style('top', offsetY + startY * length + 'px')
						.style('left', offsetX + startX * length + 'px')						
						.style('width', ((width * length) - (padding * 2)) + 'px')
						.style('height', ((height * length) - (padding * 2)) + 'px');
				}
			}
			
			function createPage() {
				low = 0;
				d3.selectAll('.box').remove();
				var docWidth = document.body.clientWidth;		
				columns = ~~((docWidth - 20) / length);
				columns = Math.min(7, columns);
				offsetX = ((docWidth - (columns * length)) / 2) + 5;				
				offsetY = 100;
				for (var a = 0; a < 50; a++) {
					filled[a] = new Array(columns);
					for (var b = 0; b < columns; b++) {
						filled[a][b] = 0;
					}
				}
				for (var func of modules) {
					func();
				}
				d3
					.select('#cls')
					.style('top', (low) + 'px')
					.style('height', ((padding * 2) + offsetY) + 'px');
				createTooltipTriggers();
			}
			
			d3.select(window).on('resize', createPage);

////////////////////////////////////////////////// boxes
			
modules.push(function bbcCombine() {
	var html = '<table style="margin:0 10px"><tr><td style="vertical-align:top"><b>UK</b><br/><ul><li class="ttt" data-tt="<b>Boris Johnson says he has handed over Covid WhatsApps</b><br/>The pandemic inquiry is demanding the government release the unredacted messages by Thursday." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/uk-politics-65770586?at_medium=RSS&amp;at_campaign=KARANGA">Boris Johnson says he has handed over Covid WhatsApps</a></li><li class="ttt" data-tt="<b>Bournemouth: Girl, 12, and boy, 17, die after incident off beach</b><br/>Eight others were treated for injuries and a man has been arrested on suspicion of manslaughter."><a href="https://www.bbc.co.uk/news/uk-england-dorset-65771464?at_medium=RSS&amp;at_campaign=KARANGA">Bournemouth: Girl, 12, and boy, 17, die after incident off beach</a></li><li class="ttt" data-tt="<b>Daniel Knott: Mum\'s heartbreak at online video of son\'s body</b><br/>Daniel Knott\'s mother says her grief has been amplified by a video of his body being shared online."><a href="https://www.bbc.co.uk/news/uk-wales-65727178?at_medium=RSS&amp;at_campaign=KARANGA">Daniel Knott: Mum\'s heartbreak at online video of son\'s body</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/uk-politics-65770586?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/17628/production/_129948759_mediaitem129948758.jpg" class="ttt" data-tt="Boris Johnson" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>US & Canada</b><br/><ul><li class="ttt" data-tt="<b>US actor Danny Masterson found guilty on two rape counts</b><br/>Three women said the actor sexually assaulted them at his Hollywood home between 2001-03." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65772615?at_medium=RSS&amp;at_campaign=KARANGA">US actor Danny Masterson found guilty on two rape counts</a></li><li class="ttt" data-tt="<b>Five revelations from Nasa\'s public UFO meeting</b><br/>Some sightings turn out to be wayward Bart Simpson balloons. Others remain a mystery."><a href="https://www.bbc.co.uk/news/world-us-canada-65729356?at_medium=RSS&amp;at_campaign=KARANGA">Five revelations from Nasa\'s public UFO meeting</a></li><li class="ttt" data-tt="<b>Mike Pence prepares to challenge Trump in 2024 run</b><br/>The former president could face a stiff challenge for his party\'s 2024 presidential nomination."><a href="https://www.bbc.co.uk/news/world-us-canada-63550237?at_medium=RSS&amp;at_campaign=KARANGA">Mike Pence prepares to challenge Trump in 2024 run</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65772615?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/11426/production/_129949607_gettyimages-1258328870.jpg" class="ttt" data-tt="Actor Danny Masterson arrives at Clara Shortridge Foltz Criminal Justice Center in Los Angeles, CA on Wednesday, May 31, 2023 with wife Bijou Phillips" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>World</b><br/><ul><li class="ttt" data-tt="<b>US actor Danny Masterson found guilty on two rape counts</b><br/>Three women said the actor sexually assaulted them at his Hollywood home between 2001-03." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/world-us-canada-65772615?at_medium=RSS&amp;at_campaign=KARANGA">US actor Danny Masterson found guilty on two rape counts</a></li><li class="ttt" data-tt="<b>Argentina allows morning-after pill to be bought over counter</b><br/>The health ministry says making the pill more easily available &quot;removes an important barrier&quot;."><a href="https://www.bbc.co.uk/news/world-latin-america-65772878?at_medium=RSS&amp;at_campaign=KARANGA">Argentina allows morning-after pill to be bought over counter</a></li><li class="ttt" data-tt="<b>Five revelations from Nasa\'s public UFO meeting</b><br/>Some sightings turn out to be wayward Bart Simpson balloons. Others remain a mystery."><a href="https://www.bbc.co.uk/news/world-us-canada-65729356?at_medium=RSS&amp;at_campaign=KARANGA">Five revelations from Nasa\'s public UFO meeting</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/world-us-canada-65772615?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/11426/production/_129949607_gettyimages-1258328870.jpg" class="ttt" data-tt="Actor Danny Masterson arrives at Clara Shortridge Foltz Criminal Justice Center in Los Angeles, CA on Wednesday, May 31, 2023 with wife Bijou Phillips" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Formula 1</b><br/><ul><li class="ttt" data-tt="<b>Ferrari: Team \'far away from expectation\', says principal Frederic Vasseur</b><br/>Team principal Frederic Vasseur says Ferrari are &quot;far away from expectation&quot; as they sit fourth in the constructors\' championships." style="font-weight:bold"><a href="https://www.bbc.co.uk/sport/formula1/65761260?at_medium=RSS&amp;at_campaign=KARANGA">Ferrari: Team \'far away from expectation\', says principal Frederic Vasseur</a></li><li class="ttt" data-tt="<b>Rob Marshall: Senior Red Bull designer to join McLaren as technical director in 2024</b><br/>McLaren recruit senior Red Bull designer Rob Marshall as part of their restructure aiming to turn around their Formula 1 fortunes"><a href="https://www.bbc.co.uk/sport/formula1/65759442?at_medium=RSS&amp;at_campaign=KARANGA">Rob Marshall: Senior Red Bull designer to join McLaren as technical directo...</a></li><li class="ttt" data-tt="<b>Monaco Grand Prix: Max Verstappen beats Fernando Alonso to rain-affected win</b><br/>Red Bull\'s Max Verstappen survives a mid-race downpour to win the Monaco Grand Prix from Aston Martin\'s Fernando Alonso."><a href="https://www.bbc.co.uk/sport/formula1/65739317?at_medium=RSS&amp;at_campaign=KARANGA">Monaco Grand Prix: Max Verstappen beats Fernando Alonso to rain-affected win</a></li></ul></td><td><a href="https://www.bbc.co.uk/sport/formula1/65761260?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/668D/production/_129935262_vasseur_gettyimages-1494353355.jpg"  style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr><tr><td style="vertical-align:top"><b>Technology</b><br/><ul><li class="ttt" data-tt="<b>AI: War crimes evidence erased by social media platforms</b><br/>Footage of potential human rights abuses may be lost after platforms delete it, the BBC has found." style="font-weight:bold"><a href="https://www.bbc.co.uk/news/technology-65755517?at_medium=RSS&amp;at_campaign=KARANGA">AI: War crimes evidence erased by social media platforms</a></li><li class="ttt" data-tt="<b>Music streaming royalties to be discussed by government</b><br/>It will look into claims of unfairness amid reports labels receive the lion\'s share of royalties."><a href="https://www.bbc.co.uk/news/technology-65753759?at_medium=RSS&amp;at_campaign=KARANGA">Music streaming royalties to be discussed by government</a></li><li class="ttt" data-tt="<b>Amazon to pay $30m over Alexa and Ring privacy violations</b><br/>It will also pay out after allowing employees of its Ring doorbell system access to customer recordings."><a href="https://www.bbc.co.uk/news/technology-65772154?at_medium=RSS&amp;at_campaign=KARANGA">Amazon to pay $30m over Alexa and Ring privacy violations</a></li></ul></td><td><a href="https://www.bbc.co.uk/news/technology-65755517?at_medium=RSS&amp;at_campaign=KARANGA"><img src="https://ichef.bbci.co.uk/news/1024/branded_news/16D5E/production/_129943539_still02.jpg" class="ttt" data-tt="BBC" style="height:auto;width:auto;max-height:125px;max-width:125px;"/></a></td></tr></table>';
	var box = makeBox(3, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4F0;<a href="https://www.bbc.co.uk/news">BBC News</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function weather() {
    var weatherLocation = "11609021";

    var data={"copyright":"Contents are strictly for use by timeanddate.com","units":{"temp":"¬∞C","prec":"mm","wind":"mph","baro":"mbar"},"detail":[{"hl":true,"hls":"29 May ‚Äì 4 Jun","date":16855776E5,"ts":"Thu, 1","ds":"Thu, 1 Jun","icon":6,"desc":"Mostly cloudy.","temp":18,"templow":7,"cf":17,"wind":15,"wd":43,"hum":65,"pc":5},{"date":1685664E6,"ts":"Fri, 2","ds":"Fri, 2 Jun","icon":1,"desc":"Sunny.","temp":18,"templow":7,"cf":17,"wind":12,"wd":45,"hum":53,"pc":0},{"date":16857504E5,"ts":"Sat, 3","ds":"Sat, 3 Jun","icon":2,"desc":"Scattered clouds.","temp":19,"templow":6,"cf":18,"wind":14,"wd":39,"hum":53,"pc":0},{"date":16858368E5,"ts":"Sun, 4","ds":"Sun, 4 Jun","icon":2,"desc":"Mostly sunny.","temp":20,"templow":7,"cf":19,"wind":14,"wd":43,"hum":53,"pc":0},{"hl":true,"hls":"5 Jun ‚Äì 11 Jun","date":16859232E5,"ts":"Mon, 5","ds":"Mon, 5 Jun","icon":1,"desc":"Sunny.","temp":20,"templow":8,"cf":19,"wind":18,"wd":46,"hum":49,"pc":0},{"date":16860096E5,"ts":"Tue, 6","ds":"Tue, 6 Jun","icon":6,"desc":"Mostly cloudy.","temp":19,"templow":8,"cf":19,"wind":15,"wd":50,"hum":67,"pc":0},{"date":1686096E6,"ts":"Wed, 7","ds":"Wed, 7 Jun","icon":2,"desc":"Mostly sunny.","temp":19,"templow":8,"cf":19,"wind":16,"wd":60,"hum":57,"pc":0},{"date":16861824E5,"ts":"Thu, 8","ds":"Thu, 8 Jun","icon":6,"desc":"Mostly cloudy.","temp":19,"templow":8,"cf":19,"wind":15,"wd":70,"hum":68,"pc":6},{"date":16862688E5,"ts":"Fri, 9","ds":"Fri, 9 Jun","icon":2,"desc":"Decreasing cloudiness.","temp":21,"templow":11,"cf":20,"wind":6,"wd":50,"hum":76,"pc":6},{"date":16863552E5,"ts":"Sat, 10","ds":"Sat, 10 Jun","icon":33,"desc":"Passing showers. Breaks of sun late.","temp":21,"templow":13,"cf":20,"wind":10,"wd":270,"hum":66,"pc":47,"rain":1},{"date":16864416E5,"ts":"Sun, 11","ds":"Sun, 11 Jun","icon":18,"desc":"Sprinkles late. Mostly cloudy.","temp":21,"templow":13,"cf":20,"wind":10,"wd":20,"hum":68,"pc":39,"rain":0.1 },{"hl":true,"hls":"12 Jun ‚Äì 18 Jun","date":1686528E6,"ts":"Mon, 12","ds":"Mon, 12 Jun","icon":33,"desc":"Showers late. Overcast.","temp":21,"templow":13,"cf":21,"wind":8,"wd":50,"hum":65,"pc":40,"rain":0.2 },{"date":16866144E5,"ts":"Tue, 13","ds":"Tue, 13 Jun","icon":6,"desc":"Mostly cloudy.","temp":19,"templow":11,"cf":18,"wind":6,"wd":50,"hum":54,"pc":5},{"date":16867008E5,"ts":"Wed, 14","ds":"Wed, 14 Jun","icon":6,"desc":"Broken clouds.","temp":20,"templow":10,"cf":20,"wind":4,"wd":30,"hum":49,"pc":6},{"date":16867872E5,"ts":"Thu, 15","ds":"Thu, 15 Jun","icon":4,"desc":"Afternoon clouds.","temp":21,"templow":11,"cf":20,"wind":6,"wd":0,"hum":54,"pc":6}],"grid":{"temp":{"low":6,"high":21,"range":15},"prec":{"high":1},"time":86400000,"sections":15},"conv":{"prec":{"offset":0,"scale":1},"temp":{"offset":0,"scale":1},"wind":{"offset":0,"scale":0.869},"baro":{"offset":0,"scale":1}}};


    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#127746;<a href="https://www.timeanddate.com/weather/@' + weatherLocation + '/ext">Weather</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table');

    for (var day of data.detail.slice(0, 7)) {
        var row = table
            .append('tr');
        row
            .append('td')
            .style('text-align', 'right')
            .style('font-weight', 'bold')
            .html(day.ds.split(',')[0] + ':&nbsp;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.templow + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html('to');
        row
            .append('td')
            .style('text-align', 'right')
            .attr('class', 'code')
            .html(day.temp + '&#xb0;');
        row
            .append('td')
            .style('text-align', 'center')
            .append('img')
            .attr('src', 'https://c.tadst.com/gfx/w/svg/wt-' + day.icon + '.svg')
            .attr('width', '32px')
            .attr('height', '32px');
        row
            .append('td')
            .style('text-align', 'left')
            .html(day.desc)
    }
});

//////////////////////////////////////////////////

modules.push(function astronomy() {
	var imageData = {
		Source:    'https://apod.nasa.gov/apod/',
		Title:     'Simulation: A Disk Galaxy Forms',
		LinkImage: 'https://apod.nasa.gov/apod/',
		LinkPage:  'https://apod.nasa.gov/apod/ap230531.html'
	}

	if (!imageData.Source.endsWith('/')) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F680;<a href="https://apod.nasa.gov/apod/astropix.html">Astronomy Picture of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkImage)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', imageData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', imageData.LinkPage)
			.html(imageData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function nature() {
	var natureData = {
		Source:   'https://cdn2.outdoorphotographer.com/2023/05/Farewell-to-the-Kings-Robert-Henderson.jpeg',
		Title:    'Farewell to the Kings Robert Henderson',
		LinkPage: 'https://www.outdoorphotographer.com/blog/photo-of-the-day-by-robert-henderson-17/'
	}

	if (natureData.Source.length > 0) {
		var box = makeBox(2, 2);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x26FA;<a href="https://www.outdoorphotographer.com/blog/category/photo-of-the-day/">Outdoor Photo of the Day</a>')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', natureData.Source);
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', natureData.LinkPage)
			.html(natureData.Title);
	}
});

//////////////////////////////////////////////////

modules.push(function wikipedia() {
	var pictureData = {
		Source:   'http://upload.wikimedia.org/wikipedia/commons/thumb/2/27/WhereRainbowRises.jpg/300px-WhereRainbowRises.jpg',
		Title:    'Rainbow',
		LinkPage: 'https://en.wikipedia.org/wiki//wiki/Rainbow',
		Description: '    A <b><a href="/wiki/Rainbow" title="Rainbow">rainbow</a></b> is an <a href="/wiki/Optical_phenomenon" title="Optical phenomenon">optical phenomenon</a> that can occur under certain <a href="/wiki/Meteorology" title="Meteorology">meteorological</a> conditions. It is caused by <a href="/wiki/Refraction" title="Refraction">refraction</a>, <a href="/wiki/Total_internal_reflection" title="Total internal reflection">internal reflection</a> and <a href="/wiki/Dispersion_(optics)" title="Dispersion (optics)">dispersion</a> of light in water droplets resulting in a continuous <a href="/wiki/Visible_spectrum" title="Visible spectrum">spectrum</a> of light appearing in the sky. The rainbow takes the form of a multicoloured circular <a href="/wiki/Curve#Differentiable_arc" title="Curve">arc</a>. Although a rainbow spans a continuous spectrum of colours, it is traditionally assigned a discrete sequence, with <a href="/wiki/Red" title="Red">red</a>, <a href="/wiki/Orange_(colour)" title="Orange (colour)">orange</a>, <a href="/wiki/Yellow" title="Yellow">yellow</a>, <a href="/wiki/Green" title="Green">green</a>, <a href="/wiki/Blue" title="Blue">blue</a>, <a href="/wiki/Indigo" title="Indigo">indigo</a>, and <a href="/wiki/Violet_(color)" title="Violet (color)">violet</a> as the most common list. The rainbow inspired the <a href="/wiki/Rainbow_flag_(LGBT)" title="Rainbow flag (LGBT)">rainbow flag</a>, a symbol of <a href="/wiki/LGBT_pride" title="LGBT pride">LGBT pride</a> and <a href="/wiki/Pride_Month" title="Pride Month">Pride Month</a>. This portion of a rainbow, appearing to rise from a lakeside forest, was photographed in 2005 in <a href="/wiki/Jasper_National_Park" title="Jasper National Park">Jasper National Park</a> in <a href="/wiki/Alberta" title="Alberta">Alberta</a>, Canada.<small style="display: block; margin-top: 0.8em;">Photograph credit: <a href="https://commons.wikimedia.org/wiki/User:Wingchi" class="extiw" title="c:User:Wingchi">Wing-Chi Poon</a></small>'
	}

	if (pictureData.Source.length > 0) {
		var box = makeBox(2, 3);
		box
			.append('div')
			.attr('class', 'title')
			.html('&#x1F9E9;Wikipedia Picture of the Day')
		box = box
			.append('div')
			.attr('class', 'inside');
		var inside = box
			.append('div');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.Source)
			.append('img')
			.style('width', 'auto')
			.style('height', 'auto')
			.style('max-width', '400px')
			.style('max-height', '320px')
			.attr('src', pictureData.Source);
		/*
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.append('a')
			.attr('href', pictureData.LinkPage)
			.html(pictureData.Title);
		*/
		inside
			.append('p')
			.html('&nbsp;');
		inside
			.append('p')
			.style('overflow', 'hidden')
			.style('margin', '5px')
			.style('display', '-webkit-box')
			.style('-webkit-line-clamp', '6')
			.style('-webkit-box-orient', 'vertical')
			.html(pictureData.Description);
	}
});

//////////////////////////////////////////////////

modules.push(function tv() {

    var tvData = [{"channelid":505,"offset":1,"event":""},{"channelid":700,"offset":1,"event":[{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1685587200,"duration":8400,"svcId":700,"evtId":7331,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false},{"name":"Great Coastal Railway Journeys","description":"4\/20. Michael Portillo is in Cumbria, enjoying one of the most spectacular coastal railway journeys in Britain. He takes to the lake in Ulverston and hikes up Black Combe. [S,AD] [HD]","startTime":1685595600,"duration":1800,"svcId":700,"evtId":7359,"image":"\/ms\/img\/epg\/rb\/8df1-p0fp31v4.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1684731600,"availabilityEnd":1718168400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001m82d\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":4},{"name":"Garden Rescue","description":"3\/35. Charlie and Chris are in Hereford to create a low\/no-carbon garden for Eleanor, Rob and their two children. [S] [HD]","startTime":1685597400,"duration":2700,"svcId":700,"evtId":7360,"image":"\/ms\/img\/epg\/rb\/8df1-p0frd5cn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685547006,"availabilityEnd":1718465379,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mg40\u0026ui_id=4.0.0"},"seriesNo":8,"episodeNo":3},{"name":"Clean It, Fix It","description":"3\/20. The team are in London to help a single mum of three reclaim her bedroom and get her young daughters back in their own beds. [S] [HD]","startTime":1685600100,"duration":2700,"svcId":700,"evtId":7361,"image":"\/ms\/img\/epg\/rb\/8df1-p0fq42zr.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685549695,"availabilityEnd":1719159196,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mg4j\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":3},{"name":"A Special School","description":"3\/3. A big show, a bigger water fight and prom - the summer term is here in Britain\u0027s biggest special education school. [S,SL] [HD]","startTime":1685602800,"duration":1800,"svcId":700,"evtId":7362,"image":"\/ms\/img\/epg\/rb\/8df1-p0dv2ywv.jpg","hasTstv":false,"episodeNo":3},{"name":"Caught Red Handed","description":"8\/20. A prolific gang stealing expensive catalytic converters pick the wrong street to operate in. Police hunting a fugitive get unexpected help from a herd of cows. [S,AD,SL] [HD]","startTime":1685604600,"duration":1800,"svcId":700,"evtId":7363,"image":"\/ms\/img\/epg\/rb\/8df1-p0f32z8v.jpg","hasTstv":false,"seriesNo":11,"episodeNo":8},{"name":"Nicky Campbell","description":"Nicky Campbell takes your calls on the day\u0027s talking points, hearing views and experiences from across the UK. [S] [HD]","startTime":1685606400,"duration":7200,"svcId":700,"evtId":7364,"image":"\/ms\/img\/epg\/rb\/8df1-p0ff8nw5.jpg","hasTstv":false},{"name":"BBC News","description":"Twenty-four hours a day, the latest national and international stories as they break. [S] [HD]","startTime":1685613600,"duration":7200,"svcId":700,"evtId":7365,"image":"\/ms\/img\/epg\/rb\/8df1-p07jbsw9.jpg","hasTstv":false},{"name":"Impossible","description":"9\/50. Game show presented by Rick Edwards in which players score points by answering questions correctly while avoiding the impossible answers. [S] [HD]","startTime":1685620800,"duration":2700,"svcId":700,"evtId":7366,"image":"\/ms\/img\/epg\/rb\/8df1-p04lwpn2.jpg","hasTstv":false,"seriesNo":6,"episodeNo":9},{"name":"Eggheads","description":"Jeremy Vine hosts the show where every day a new team of challengers take on probably the greatest quiz team in Britain. [S] [HD]","startTime":1685623500,"duration":1800,"svcId":700,"evtId":7367,"image":"\/ms\/img\/epg\/rb\/8df1-p0dm67c3.jpg","hasTstv":false,"seriesNo":20,"episodeNo":95},{"name":"James Martin\u0027s Food Map of Britain","description":"9\/10. James Martin explores regional ingredients found in the British Isles. The plains of Lincolnshire are famed for world-class pork and perfect peas. [S,AD] [HD]","startTime":1685625300,"duration":1800,"svcId":700,"evtId":7368,"image":"\/ms\/img\/epg\/rb\/8df1-p01k11p2.jpg","hasTstv":false,"seriesNo":1,"episodeNo":9},{"name":"A Countryside Summer","description":"9\/15. Arit Anderson gets a tour of landscape designer Dan Pearson\u0027s private garden, and Chris Packham and Megan McCubbin share a special encounter with dolphins. [S,AD] [HD]","startTime":1685627100,"duration":1800,"svcId":700,"evtId":7369,"image":"\/ms\/img\/epg\/rb\/8df1-p0cl6v6k.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1661153399,"availabilityEnd":1693555200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0019ftb\u0026ui_id=4.0.0"},"seriesNo":1,"episodeNo":9},{"name":"What Britain Buys and Sells in...","description":"...a Day. 2\/3. Ed Balls, Ade Adepitan and Cherry Healey look at seafood. [S,AD] [HD]","startTime":1685628900,"duration":3600,"svcId":700,"evtId":7370,"image":"\/ms\/img\/epg\/rb\/8df1-p07pwyhb.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Back in Time for the Corner Shop","description":"4\/6. The Arderns continue their time-travelling journey running a corner shop and enter the 70s. Comedian Sanjeev Kohli visits the family. [S,AD] [HD]","startTime":1685632500,"duration":3600,"svcId":700,"evtId":7371,"image":"\/ms\/img\/epg\/rb\/8df1-p086g8kj.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"Flog It!","description":"Antiques series. Paul Martin presents from Norwich Cathedral. In the great nave, experts Thomas Plant and David Fletcher pick out some choice items to take to auction. [S] [HD]","startTime":1685636100,"duration":2700,"svcId":700,"evtId":7372,"image":"\/ms\/img\/epg\/rb\/8df1-p0483s0c.jpg","hasTstv":false,"seriesNo":14,"episodeNo":14},{"name":"Richard Osman\u0027s House of Games","description":"69\/140. Edith Bowman, Fern Brady, Will Kirk and Martin Lewis test their general knowledge skills on this week\u0027s House of Games. [S] [HD]","startTime":1685638800,"duration":1800,"svcId":700,"evtId":7373,"image":"\/ms\/img\/epg\/rb\/8df1-p0b27ybj.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1637260200,"availabilityEnd":1668796200,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0011pq9\u0026ui_id=4.0.0"},"seriesNo":5,"episodeNo":69},{"name":"Great Coastal Railway Journeys","description":"9\/20. Michael Portillo continues his journey in the pretty seaside resort of Hornsea. [S,AD] [HD]","startTime":1685640600,"duration":1800,"svcId":700,"evtId":7374,"image":"\/ms\/img\/epg\/rb\/8df1-p0fnld29.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685336400,"availabilityEnd":1718168400,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mg6b\u0026ui_id=4.0.0"},"seriesNo":2,"episodeNo":9},{"name":"Today at the Test: England v...","description":"...Ireland. First day highlights of the first Test of 2023 between England and Ireland. [S] [HD]","startTime":1685642400,"duration":3600,"svcId":700,"evtId":7375,"image":"\/ms\/img\/epg\/rb\/8df1-p0fq363r.jpg","hasTstv":false,"seriesNo":7},{"name":"Springwatch","description":"4\/12. Week one of Springwatch wraps up with a deluge of drama. Chris and Michaela provide all the highlights ahead of the weekend. [S] [HD]","startTime":1685646000,"duration":3600,"svcId":700,"evtId":7376,"image":"\/ms\/img\/epg\/rb\/8df1-p0fqlmkh.jpg","hasTstv":false,"seriesNo":34,"episodeNo":4},{"name":"Strike: Inside the Unions","description":"2\/2. Following the escalation of the biggest workers\u0027 movement in a generation. Amazon workers in Coventry are to hold the UK\u0027s first strike for the global business giant. [S,AD] [HD]","startTime":1685649600,"duration":3600,"svcId":700,"evtId":7377,"image":"\/ms\/img\/epg\/rb\/8df1-p0fpxxcy.jpg","hasTstv":false,"seriesNo":1,"episodeNo":2},{"name":"Inside No. 9","description":"2\/6. Alan arrives to teach at a small school in rural Wales but finds himself overshadowed. Contains scenes which some viewers may find disturbing. [S,AD] [HD]","startTime":1685653200,"duration":1800,"svcId":700,"evtId":7378,"image":"\/ms\/img\/epg\/rb\/8df1-p0c25mqt.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1651095150,"availabilityEnd":1828245540,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m0016tzt\u0026ui_id=4.0.0"},"seriesNo":7,"episodeNo":2},{"name":"Newsnight","description":"The day\u0027s important national and international news stories. With Kirsty Wark. [S] [HD]","startTime":1685655000,"duration":2400,"svcId":700,"evtId":7379,"image":"\/ms\/img\/epg\/rb\/8df1-p07m7twy.jpg","hasTstv":false},{"name":"Weather","description":"Weather bulletin. [S] [HD]","startTime":1685657400,"duration":300,"svcId":700,"evtId":7380,"image":"\/ms\/img\/epg\/rb\/8df1-p0dc8npj.jpg","hasTstv":false},{"name":"Forensics: The Real CSI","description":"3\/4. West Midlands Police work with fire investigators to identify who is responsible for a major fire at a factory in Birmingham. [S,AD] [HD]","startTime":1685657700,"duration":3600,"svcId":700,"evtId":7381,"image":"\/ms\/img\/epg\/rb\/8df1-p0fqmgnn.jpg","hasTstv":true,"tstv":{"sid":919,"availabilityStart":1685480497,"availabilityEnd":1717016497,"mediaAvailable":true,"mediaLocation":"channel=919\u0026programmeid=m001mg1l\u0026ui_id=4.0.0"},"seriesNo":3,"episodeNo":3},{"name":"Dr Xand\u0027s Con or Cure","description":"3\/15. The dangers of a dodgy hair transplant, a health crime so shocking a former doctor is serving 20 years in prison, and we ask - do you really feed a cold and starve a fever? [S,SL] [HD]","startTime":1685661300,"duration":2700,"svcId":700,"evtId":7382,"image":"\/ms\/img\/epg\/rb\/8df1-p0fgnyn8.jpg","hasTstv":false,"seriesNo":1,"episodeNo":3},{"name":"Strike: Inside the Unions","description":"1\/2. Charting the start of the historic wave of strikes, which saw more days lost to strike action since the Thatcher era. The RMT and nurses are at the forefront of the movement. [S,AD,SL] [HD]","startTime":1685664000,"duration":3600,"svcId":700,"evtId":7383,"image":"\/ms\/img\/epg\/rb\/8df1-p0fq5mw4.jpg","hasTstv":false,"seriesNo":1,"episodeNo":1},{"name":"Frontline Fightback","description":"2\/10. We see the devastating consequences of a lorry driver scrolling through his mobile phone, and how cameras fitted with artificial intelligence are being used in road safety. [S,SL] [HD]","startTime":1685667600,"duration":2700,"svcId":700,"evtId":7384,"image":"\/ms\/img\/epg\/rb\/8df1-p0fmxww0.jpg","hasTstv":false,"seriesNo":3,"episodeNo":2},{"name":"Iolo\u0027s Borderlands","description":"4\/4. Iolo Williams explores north east Wales and finds threatened moorland birds, discovers amazing wildlife on a fascinating bog and looks for lizards and shorebirds along the coast. [S,AD,SL] [HD]","startTime":1685670300,"duration":1800,"svcId":700,"evtId":7385,"image":"\/ms\/img\/epg\/rb\/8df1-p0fcfqnw.jpg","hasTstv":false,"seriesNo":1,"episodeNo":4},{"name":"This is BBC Two","description":"Highlights of programmes on BBC Two. [HD]","startTime":1685672100,"duration":9900,"svcId":700,"evtId":7386,"image":"\/ms\/img\/epg\/rb\/8df1-p0bvs8dg.jpg","hasTstv":false}]},{"channelid":1500,"offset":1,"event":""}];

    var box = makeBox(2, 3);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FA;<a href="https://www.freesat.co.uk/tv-guide">TV</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div')
        .style('text-align', 'left');

    var channels = { 505: "BBC 1", 700: "BBC 2", 1500: "Channel 4" };

    var today = new Date();
    var primeTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 18, 0, 0);
    var unixStart = (+primeTime) / 1000;
    var unixEnd = unixStart + 60 * 60 * 6;
    var first = true;

    for (var channel of tvData) {
        if (!first) {
            first = false;
        } else {
            inside
                .append('br');
        }

        inside
            .append('p')
            .append('b')
            .text(channels[channel.channelid]);
        var list = inside
            .append('ul');
        for (var event of channel.event) {
            console.log(event);
            if (+event.startTime >= unixStart && +event.startTime < unixEnd) {
                list
                    .append('li')
                    .attr('class', 'ttt')
                    .attr('data-tt', '<img src=\"https://fdp-sv15-image-v1-0.gcprod1.freetime-platform.net/270x180-0' + event.image + '\" /><br/><b>' + event.name + '</b><br/>' + (+event.duration / 60) + ' minutes<br/>' + event.description)
                    .html('<span class="code">' + new Date(+event.startTime * 1000).toLocaleTimeString('en-GB').substr(0, 5) + "</span> - " + event.name);
            }
        }
    }
});

//////////////////////////////////////////////////

modules.push(function backlog() {
	var box = makeBox(1, 2);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4CB;Backlog')
	var table = box
		.append('div')
		.attr('class', 'inside')
		.append('table')
		.style('text-align', 'right');

	var row = table
		.append('tr');
	row
		.append('td')
		.text("Audiobooks:");
	row
		.append('td')
		.text('12')

	row = table
		.append('tr');
	row
		.append('td')
		.text("Books:");
	row
		.append('td')
		.text('14');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Films:");
	row
		.append('td')
		.text('362');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Games:");
	row
		.append('td')
		.text('11');

	row = table
		.append('tr');
	row
		.append('td')
		.text("TV:");
	row
		.append('td')
		.text('177');

	row = table
		.append('tr');
	row
		.append('td')
		.text("YouTube:");
	row
		.append('td')
		.text('3');

	row = table
		.append('tr');
	row
		.append('td')
		.html('&nbsp;');
	row
		.append('td')
		.html('&nbsp;');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Downloaded Files:");
	row
		.append('td')
		.text('27');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Steam Wishlist:");
	row
		.append('td')
		.text('0');

	row = table
		.append('tr');
	row
		.append('td')
		.text("Work Inbox:");
	row
		.append('td')
		.text('26');
});

//////////////////////////////////////////////////

modules.push(function youtube() {

    var data = [
{ id: 'ZMk9-Fq_QiA', title: "The perfect ‚Äôno white cast‚Äô sunscreen!!üòç #skincareroutine @LaRochePosayUSA", label: "The perfect ‚Äôno white cast‚Äô sunscreen!!üòç #skincareroutine @LaRochePosayUSA by JUST MICHELLE 2 weeks ago 30 seconds 11,161 views ‚Äì play Short" },
{ id: 'ZMk9-Fq_QiA', title: "NIGHT-TIME SKINCARE ROUTINE - The correct order ‚ú®üåõ", label: "NIGHT-TIME SKINCARE ROUTINE - The correct order ‚ú®üåõ by JUST MICHELLE 2 weeks ago 10 minutes, 15 seconds 10,443 views" },
{ id: 'd9OA4TftTzU', title: "HOW TO GET RID OF DARK CIRCLES PERMANENTLY!! üëÄ (Fast and Effective)", label: "HOW TO GET RID OF DARK CIRCLES PERMANENTLY!! üëÄ (Fast and Effective) by JUST MICHELLE 2 weeks ago 8 minutes, 37 seconds 6,333 views" },
];

    var box = makeBox(2, 2);
    box
        .append('div')
        .attr('class', 'title')
        .html('&#x1F4FC;<a href="https://www.youtube.com/feed/trending">YouTube Trending</a>')
    box = box
        .append('div')
        .attr('class', 'inside');
    var inside = box
        .append('div');
    var table = inside
        .append('table')
        .style('width', '80%')
        .style('margin', '0 auto');

    var count = 0;
    for (var video of data) {
        var row = table
            .append('tr');
        row
            .append('td')
            .append('a')
            .attr('href', "https://www.youtube.com/watch?v=" + video.id)
            .append('img')
            .attr('src', 'https://i.ytimg.com/vi/' + video.id + '/hqdefault.jpg')
            .style('width', (480 / 4) + 'px')
            .style('height', (360 / 4) + 'px')
            .style('text-align', 'right')
            .attr('title', video.label);
        row
            .append('td')
            .style('text-align', 'left')
            .html(++count + '<br/><a href="https://www.youtube.com/watch?v=' + video.id + '">' + video.title + '</a>');
    }
});

//////////////////////////////////////////////////

modules.push(function f1() {
	var html =  "<a href='https://www.formula1.com/en/racing/2023/Spain.html'><img src='https://www.formula1.com/content/dam/fom-website/races/2023/Spanish_Grand_Prix.png' style='height:auto;width:auto;max-height:180px;max-width:180px;' /></a><br/><span style='font-size:85%'>4 June</span>";
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3C1;<a href="https://www.formula1.com/en/racing/2023.html">Next F1 Race</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function media() {
	var html = '<p style="font-weight:bold;padding:10px 0 0 0">Audiobooks</p><ul><li><a href="https://www.google.com/search?q=Audiobooks+-+The Turbulent Term of Tyke Tyler">The Turbulent Term of Tyke Tyler</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Around the World in 80 Days">Around the World in 80 Days</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Animal Farm">Animal Farm</a></li><li><a href="https://www.google.com/search?q=Audiobooks+-+Sherlock Holmes: A Study in Scarlet">Sherlock Holmes: A Study in Scarlet</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Books</p><ul><li><a href="https://www.google.com/search?q=Books+-+The Monkey\'s Paw (1902)">The Monkey\'s Paw (1902)</a></li><li><a href="https://www.google.com/search?q=Books+-+Fire Season (2011)">Fire Season (2011)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Films</p><ul><li><a href="https://www.google.com/search?q=Films+-+John Wick (2014)">John Wick (2014)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Whale (2022)">The Whale (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Gosford Park (2001)">Gosford Park (2001)</a></li><li><a href="https://www.google.com/search?q=Films+-+Dead Poets Society (1989)">Dead Poets Society (1989)</a></li><li><a href="https://www.google.com/search?q=Films+-+Sleepy Hollow (1999)">Sleepy Hollow (1999)</a></li><li><a href="https://www.google.com/search?q=Films+-+The Shawshank Redemption (1994)">The Shawshank Redemption (1994)</a></li><li><a href="https://www.google.com/search?q=Films+-+Glass Onion (2022)">Glass Onion (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Mean Creek (2004)">Mean Creek (2004)</a></li><li><a href="https://www.google.com/search?q=Films+-+Triangle of Sadness (2022)">Triangle of Sadness (2022)</a></li><li><a href="https://www.google.com/search?q=Films+-+Knives Out (2019)">Knives Out (2019)</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">Games</p><ul><li><a href="https://www.google.com/search?q=Games+-+Dishonored: Knife of Dunwall">Dishonored: Knife of Dunwall</a></li><li><a href="https://www.google.com/search?q=Games+-+A Little to the Left">A Little to the Left</a></li><li><a href="https://www.google.com/search?q=Games+-+Black Mesa">Black Mesa</a></li><li><a href="https://www.google.com/search?q=Games+-+Cyberpunk 2077">Cyberpunk 2077</a></li><li><a href="https://www.google.com/search?q=Games+-+Prison Architect">Prison Architect</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman WoA: Freelancer">Hitman WoA: Freelancer</a></li><li><a href="https://www.google.com/search?q=Games+-+Command & Conquer: Red Alert">Command & Conquer: Red Alert</a></li><li><a href="https://www.google.com/search?q=Games+-+100 Hidden Frogs">100 Hidden Frogs</a></li><li><a href="https://www.google.com/search?q=Games+-+Return to Monkey Island">Return to Monkey Island</a></li><li><a href="https://www.google.com/search?q=Games+-+Hitman 3">Hitman 3</a></li></ul><p style="font-weight:bold;padding:10px 0 0 0">TV</p><ul><li><a href="https://www.google.com/search?q=TV+-+Buffy the Vampire Slayer (S2)">Buffy the Vampire Slayer (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Rise & Fall (S1)">Rise & Fall (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+The Cleaner (S2)">The Cleaner (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+Clarkson\'s Farm (S2)">Clarkson\'s Farm (S2)</a></li><li><a href="https://www.google.com/search?q=TV+-+How this Blind Girl‚Ä¶ (S1)">How this Blind Girl‚Ä¶ (S1)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S6)">Downton Abbey (S6)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S5)">Downton Abbey (S5)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S4)">Downton Abbey (S4)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S3)">Downton Abbey (S3)</a></li><li><a href="https://www.google.com/search?q=TV+-+Downton Abbey (S2)">Downton Abbey (S2)</a></li></ul>';
	var box = makeBox(2, 4);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F3AC;Recently Completed Media')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function singles() {

	function encode(text) {
		text = text.toLowerCase();
		text = text.replace(/&#39;/g, "'");
		text = text.replace(/&amp;/g, "and");
		return text;
    }

	var when = "26 May 2023 -  01 June 2023"
	var singlesData = {
		1: { Artist: "<a href='https://www.officialcharts.com/artist/28097/calvin-harris-ellie-goulding/'>calvin harris/ellie goulding</a>", Title: "<a href='https://www.officialcharts.com/search/singles/miracle/'>MIRACLE</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41c-MdW3tfL._SL75_.jpg" },
2: { Artist: "<a href='https://www.officialcharts.com/artist/61748/david-kushner/'>david kushner</a>", Title: "<a href='https://www.officialcharts.com/search/singles/daylight/'>DAYLIGHT</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/51xqm8tKwsL._SL75_.jpg" },
3: { Artist: "<a href='https://www.officialcharts.com/artist/51369/lewis-capaldi/'>lewis capaldi</a>", Title: "<a href='https://www.officialcharts.com/search/singles/wish-you-the-best/'>WISH YOU THE BEST</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/316-f167OmL._SL75_.jpg" },
4: { Artist: "<a href='https://www.officialcharts.com/artist/7456/loreen/'>loreen</a>", Title: "<a href='https://www.officialcharts.com/search/singles/tattoo/'>TATTOO</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/519kqkYHsHL._SL75_.jpg" },
5: { Artist: "<a href='https://www.officialcharts.com/artist/58181/rema/'>rema</a>", Title: "<a href='https://www.officialcharts.com/search/singles/calm-down/'>CALM DOWN</a>", Image: "https://d35iaml2i6ojwd.cloudfront.net/img/small?url=https://m.media-amazon.com/images/I/41BGcu-vUtL._SL75_.jpg" },

	};

	var box = makeBox(2, 2);
	box
		.append('div')
		.attr('class', 'title')
		.append('a')
		.attr('href', 'https://www.officialcharts.com/charts/singles-chart/')
		.html('&#x1F3B5;UK Singles Chart')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');
	inside
		.append('p')
		.html(when + '<br/>&nbsp;');
	var table = inside
		.append('table');
	var position = 0;
	for (var item of Object.keys(singlesData)) {
		var title = encode(singlesData[item].Title.match(/>([^<]+)</)[1]);
		var artist = encode(singlesData[item].Artist.match(/>([^<]+)</)[1]);
		var row = table
			.append('tr');
		row
			.append('td')
			.html(++position);
		row
			.append('td')
			.append('a')
			.attr('href', 'https://www.youtube.com/results?search_query=' + artist + ' - ' + title)
			.append('img')
			.attr('src', singlesData[item].Image);
		row = row
			.append('td')
			.style('text-align', 'left')
		row
			.append('a')
			.attr('href', 'https://google.com/search?q=' + singlesData[item].Title + ' - ' + singlesData[item].Artist)
			.html(singlesData[item].Title)
		row
			.append('span')
			.html('<br/>' + singlesData[item].Artist);
	}
});

//////////////////////////////////////////////////

modules.push(function vanguard() {

	var data = [{ number: 175.34, tooltip: "Tue, May 30, 2023<br/>¬£175.34"},
{ number: 176.55, tooltip: "Fri, May 26, 2023<br/>¬£176.55"},
{ number: 174.73, tooltip: "Thu, May 25, 2023<br/>¬£174.73"},
{ number: 174.12, tooltip: "Wed, May 24, 2023<br/>¬£174.12"},
{ number: 175.07, tooltip: "Tue, May 23, 2023<br/>¬£175.07"},
{ number: 176.72, tooltip: "Mon, May 22, 2023<br/>¬£176.72"},
{ number: 176.08, tooltip: "Fri, May 19, 2023<br/>¬£176.08"},
{ number: 176.41, tooltip: "Thu, May 18, 2023<br/>¬£176.41"},
{ number: 174.51, tooltip: "Wed, May 17, 2023<br/>¬£174.51"},
{ number: 173.09, tooltip: "Tue, May 16, 2023<br/>¬£173.09"},
{ number: 173.84, tooltip: "Mon, May 15, 2023<br/>¬£173.84"},
{ number: 173.64, tooltip: "Fri, May 12, 2023<br/>¬£173.64"},
{ number: 173.28, tooltip: "Thu, May 11, 2023<br/>¬£173.28"},
{ number: 172.48, tooltip: "Wed, May 10, 2023<br/>¬£172.48"},
{ number: 172.15, tooltip: "Tue, May 09, 2023<br/>¬£172.15"},
{ number: 172.44, tooltip: "Fri, May 05, 2023<br/>¬£172.44"},
{ number: 170.62, tooltip: "Thu, May 04, 2023<br/>¬£170.62"},
{ number: 171.92, tooltip: "Wed, May 03, 2023<br/>¬£171.92"},
{ number: 173.27, tooltip: "Tue, May 02, 2023<br/>¬£173.27"},
].reverse();

	var vanguardDates = {
		"Latest":      "Tue, May 30, 2023",
		"vs Day":      "Fri, May 26, 2023",
		"vs Week":     "Mon, May 22, 2023",
		"vs Month":    "Tue, May 02, 2023",
		"vs Year":     ""
	}

	var vanguardValues = {
		"Latest":      "¬£175.34/share",
		'vs Day':      "-0.69%",
		'vs Week':     "-0.78%",
		'vs Month':    "+1.19%",
		'vs Year':     "+2.77%"
	};

	var box = makeBox(3, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128200;<a href="https://www.vanguardinvestor.co.uk">Vanguard</a>')
	box = box
		.append('div')
		.attr('class', 'inside');		
	var insideLeft = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('left', 0)
		.style('width', '37%');
	insideLeft
		.append('p')
		.append('a')
		.attr('href', 'https://www.vanguardinvestor.co.uk/investments/vanguard-ftse-global-all-cap-index-fund-gbp-acc')
		.html('FTSE Global All Cap<br/>Index Fund - Acc');
	insideLeft
		.append('p')
		.html('&nbsp;');
	var table = insideLeft
		.append('table');	
	
	for (var item of Object.keys(vanguardValues)) {
		var row = table
			.append('tr')
			.style('font-weight', item.startsWith("Latest") ? "bold" : "normal");
		if (vanguardDates[item].length > 0) {
			row
				.attr('class', 'ttt')
				.attr('data-tt', vanguardDates[item])
        }
		row
			.append('td')
			.style('text-align', 'left')
			.html(item + ':&nbsp;');
		row
			.append('td')
			.style('text-align', 'right')
			.attr('class', 'code')
			.html(vanguardValues[item]);
	}

	var insideRight = box
		.append('div')
		.style('display', 'inline')
		.style('position', 'absolute')
		.style('right', 0)
		.style('width', '66%');
	var chart = createLineChart(400, 150, insideRight, data, 2);
});

//////////////////////////////////////////////////

console.log('Error in crypto module: Sequence contains no elements');

//////////////////////////////////////////////////

modules.push(function moon() {
	var moonData = {
		Percent:  '88.2',
		Type:     '<a href="https://www.timeanddate.com/astronomy/moon/waxing-gibbous.html" title="Waxing Gibbous on the night between 31 May and 1 June">Waxing Gibbous</a>',
		Image:    'https://www.timeanddate.com/scripts/moon.php?i=0.882&p=6.253&r=6.221',
		Location: '11609021'
	}

	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#127769;<a href="https://www.timeanddate.com/moon/@' + moonData.Location + '">Moon</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('img')
		.attr('src', moonData.Image)
		.attr('width', '75%')
		.attr('height', '75%');		
	inside
		.append('p')
		.html(moonData.Type + ' (' + moonData.Percent + '%)');	
});

//////////////////////////////////////////////////

modules.push(function sun() {
	var sunData = {
		Rise:     '04:50',
		Set:      '21:17',
		Location: '11609021'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#128262;<a href="https://www.timeanddate.com/sun/@' + sunData.Location + '">Sun</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div');	
	var table = inside
		.append('table')
		.style('width', '150px');
	var row = table
		.append('tr')
		.style('font-size', '300%');
	row
		.append('td')
		.html('&#127748;')
	row
		.append('td')
		.html('&#127751;')
	var row = table
		.append('tr');
	row
		.append('td')
		.html('Rise')
	row
		.append('td')
		.html('Set')
var row = table
		.append('tr');
	row
		.append('td')
		.html(sunData.Rise)
	row
		.append('td')
		.html(sunData.Set)
});

//////////////////////////////////////////////////

modules.push(function word() {
	var wordData = {
		Word:       '',
		Definition: '<p><em>Enthrall</em> means ‚Äúto hold the attention of someone by being very exciting, interesting, or beautiful,‚Äù or in other words, ‚Äúto charm.‚Äù It is often used in its <a href="https://www.merriam-webster.com/dictionary/past%20participle">past participle</a> form, as in ‚ÄúI was <em>enthralled</em> by the beauty of the landscape.‚Äù</p>'
	}

	var clean = wordData.Definition.replace(/<[^>]+>/g, '');

	var box = makeBox(clean.length > 250 ? 2 : 1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F4DC;<a href="https://www.merriam-webster.com/word-of-the-day">Word of the Day</a>')
	box = box
		.append('div')
		.attr('class', 'inside');	
	var inside = box
		.append('div');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.append('a')
		.attr('href', 'https://www.merriam-webster.com/dictionary/' + wordData.Word)
		.text(wordData.Word);
	inside
		.append('div')
		.style('padding', '5px')
		.html(wordData.Definition);	
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Sevilla">Sevilla</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=Sevilla">Sevilla</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Mourinho">Mourinho</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=%23UELfinal">#UELfinal</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=%22Anthony+Taylor%22">Anthony Taylor</a></td></tr></table>';
	var title = 'United Kingdom';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function twitter() {
	var html =  '<table><tr><td style="text-align: right">1</td><td><a href="https://twitter.com/search?q=Sevilla">Sevilla</a></td></tr><tr><td style="text-align: right">2</td><td><a href="https://twitter.com/search?q=%23KermitTheCoin">#KermitTheCoin</a></td></tr><tr><td style="text-align: right">3</td><td><a href="https://twitter.com/search?q=Mourinho">Mourinho</a></td></tr><tr><td style="text-align: right">4</td><td><a href="https://twitter.com/search?q=Montiel">Montiel</a></td></tr><tr><td style="text-align: right">5</td><td><a href="https://twitter.com/search?q=Cardi">Cardi</a></td></tr></table>';
	var title = 'United States';
	var box = makeBox(1, 1);
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F426;<a href="https://twitter.com/explore/tabs/trending">Twitter Trending</a>')
	box = box
		.append('div')
		.attr('class', 'inside');
	var inside = box
		.append('div')
		.attr('class', 'condensed')
		.style('text-align', 'left');
	inside
		.append('p')
		.style('font-weight', 'bold')
		.style('text-align', 'center')
		.html(title);
	inside
		.append('div')
		.style('text-align', 'left')
		.html(html);
});

//////////////////////////////////////////////////

modules.push(function astronauts() {
	var astronautsData = {
		Amount:      '10',
		CountryHtml: '<table><tr><td><img class="flag ttt" data-tt="usa" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-usa.jpg" /></td><td><img class="flag ttt" data-tt="russia" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-russia.jpg" /></td><td><img class="flag ttt" data-tt="china" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-china.jpg" /></td><td><img class="flag ttt" data-tt="germany" src="https://www.howmanypeopleareinspacerightnow.com/app/flags/flag-germany.jpg" /></td></tr><tr style="vertical-align:top"><td>3</td><td>3</td><td>3</td><td>1</td></tr></table>'
	};

	var box = makeBox(1, 1);	
	box
		.append('div')
		.attr('class', 'title')
		.html('&#x1F469;&#x200D;&#x1F680;<a href="https://www.howmanypeopleareinspacerightnow.com/">Astronauts</a>')
	box = box
		.append('div')
		.attr('class', 'inside')
		.append('div')
		.html("<p style='font-size:200%;font-weight:bold'>" + astronautsData.Amount + "</p><p>people are in space now.</p><p>&nbsp;</p>" + astronautsData.CountryHtml)
});

//////////////////////////////////////////////////



			createPage();

		</script>
	</body>
</html>